var Cq=Object.defineProperty;var _q=(e,t,n)=>t in e?Cq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var on=(e,t,n)=>(_q(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Ka(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var NU={exports:{}},O5={},GU={exports:{}},Io={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Symbol.for("react.element"),bq=Symbol.for("react.portal"),xq=Symbol.for("react.fragment"),wq=Symbol.for("react.strict_mode"),Mq=Symbol.for("react.profiler"),Sq=Symbol.for("react.provider"),Eq=Symbol.for("react.context"),Oq=Symbol.for("react.forward_ref"),Bq=Symbol.for("react.suspense"),Iq=Symbol.for("react.memo"),kq=Symbol.for("react.lazy"),R9=Symbol.iterator;function Tq(e){return e===null||typeof e!="object"?null:(e=R9&&e[R9]||e["@@iterator"],typeof e=="function"?e:null)}var WU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QU=Object.assign,$U={};function xv(e,t,n){this.props=e,this.context=t,this.refs=$U,this.updater=n||WU}xv.prototype.isReactComponent={};xv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YU(){}YU.prototype=xv.prototype;function NB(e,t,n){this.props=e,this.context=t,this.refs=$U,this.updater=n||WU}var GB=NB.prototype=new YU;GB.constructor=NB;QU(GB,xv.prototype);GB.isPureReactComponent=!0;var z9=Array.isArray,qU=Object.prototype.hasOwnProperty,WB={current:null},HU={key:!0,ref:!0,__self:!0,__source:!0};function VU(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)qU.call(t,r)&&!HU.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var h=Array(s),m=0;m<s;m++)h[m]=arguments[m+2];i.children=h}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Mb,type:e,key:o,ref:a,props:i,_owner:WB.current}}function Kq(e,t){return{$$typeof:Mb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QB(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mb}function Pq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var j9=/\/+/g;function RM(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pq(""+e.key):t.toString(36)}function Xx(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Mb:case bq:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+RM(a,0):r,z9(i)?(n="",e!=null&&(n=e.replace(j9,"$&/")+"/"),Xx(i,t,n,"",function(m){return m})):i!=null&&(QB(i)&&(i=Kq(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(j9,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",z9(e))for(var s=0;s<e.length;s++){o=e[s];var h=r+RM(o,s);a+=Xx(o,t,n,h,i)}else if(h=Tq(e),typeof h=="function")for(e=h.call(e),s=0;!(o=e.next()).done;)o=o.value,h=r+RM(o,s++),a+=Xx(o,t,n,h,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function X2(e,t,n){if(e==null)return e;var r=[],i=0;return Xx(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Dq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $A={current:null},Jx={transition:null},Uq={ReactCurrentDispatcher:$A,ReactCurrentBatchConfig:Jx,ReactCurrentOwner:WB};Io.Children={map:X2,forEach:function(e,t,n){X2(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return X2(e,function(){t++}),t},toArray:function(e){return X2(e,function(t){return t})||[]},only:function(e){if(!QB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Io.Component=xv;Io.Fragment=xq;Io.Profiler=Mq;Io.PureComponent=NB;Io.StrictMode=wq;Io.Suspense=Bq;Io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uq;Io.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=QU({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=WB.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(h in t)qU.call(t,h)&&!HU.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&s!==void 0?s[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){s=Array(h);for(var m=0;m<h;m++)s[m]=arguments[m+2];r.children=s}return{$$typeof:Mb,type:e.type,key:i,ref:o,props:r,_owner:a}};Io.createContext=function(e){return e={$$typeof:Eq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sq,_context:e},e.Consumer=e};Io.createElement=VU;Io.createFactory=function(e){var t=VU.bind(null,e);return t.type=e,t};Io.createRef=function(){return{current:null}};Io.forwardRef=function(e){return{$$typeof:Oq,render:e}};Io.isValidElement=QB;Io.lazy=function(e){return{$$typeof:kq,_payload:{_status:-1,_result:e},_init:Dq}};Io.memo=function(e,t){return{$$typeof:Iq,type:e,compare:t===void 0?null:t}};Io.startTransition=function(e){var t=Jx.transition;Jx.transition={};try{e()}finally{Jx.transition=t}};Io.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Io.useCallback=function(e,t){return $A.current.useCallback(e,t)};Io.useContext=function(e){return $A.current.useContext(e)};Io.useDebugValue=function(){};Io.useDeferredValue=function(e){return $A.current.useDeferredValue(e)};Io.useEffect=function(e,t){return $A.current.useEffect(e,t)};Io.useId=function(){return $A.current.useId()};Io.useImperativeHandle=function(e,t,n){return $A.current.useImperativeHandle(e,t,n)};Io.useInsertionEffect=function(e,t){return $A.current.useInsertionEffect(e,t)};Io.useLayoutEffect=function(e,t){return $A.current.useLayoutEffect(e,t)};Io.useMemo=function(e,t){return $A.current.useMemo(e,t)};Io.useReducer=function(e,t,n){return $A.current.useReducer(e,t,n)};Io.useRef=function(e){return $A.current.useRef(e)};Io.useState=function(e){return $A.current.useState(e)};Io.useSyncExternalStore=function(e,t,n){return $A.current.useSyncExternalStore(e,t,n)};Io.useTransition=function(){return $A.current.useTransition()};Io.version="18.2.0";GU.exports=Io;var ar=GU.exports;const Mn=Ka(ar);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fq=ar,Lq=Symbol.for("react.element"),Rq=Symbol.for("react.fragment"),zq=Object.prototype.hasOwnProperty,jq=Fq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nq={key:!0,ref:!0,__self:!0,__source:!0};function ZU(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)zq.call(t,r)&&!Nq.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Lq,type:e,key:o,ref:a,props:i,_owner:jq.current}}O5.Fragment=Rq;O5.jsx=ZU;O5.jsxs=ZU;NU.exports=O5;var W=NU.exports,XU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G6=Mn.createContext&&Mn.createContext(XU),Gq=["attr","size","title"];function Wq(e,t){if(e==null)return{};var n=Qq(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function M3(){return M3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M3.apply(this,arguments)}function N9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N9(Object(n),!0).forEach(function(r){$q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $q(e,t,n){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yq(e){var t=qq(e,"string");return typeof t=="symbol"?t:String(t)}function qq(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JU(e){return e&&e.map((t,n)=>Mn.createElement(t.tag,S3({key:n},t.attr),JU(t.child)))}function Ml(e){return t=>Mn.createElement(Hq,M3({attr:S3({},e.attr)},t),JU(e.child))}function Hq(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=Wq(e,Gq),s=i||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),Mn.createElement("svg",M3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:h,style:S3(S3({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&Mn.createElement("title",null,o),e.children)};return G6!==void 0?Mn.createElement(G6.Consumer,null,n=>t(n)):t(XU)}var eF={exports:{}},ld={},tF={exports:{}},nF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(st,mt){var ze=st.length;st.push(mt);e:for(;0<ze;){var He=ze-1>>>1,Ve=st[He];if(0<i(Ve,mt))st[He]=mt,st[ze]=Ve,ze=He;else break e}}function n(st){return st.length===0?null:st[0]}function r(st){if(st.length===0)return null;var mt=st[0],ze=st.pop();if(ze!==mt){st[0]=ze;e:for(var He=0,Ve=st.length,Vt=Ve>>>1;He<Vt;){var Yt=2*(He+1)-1,vt=st[Yt],Qt=Yt+1,$t=st[Qt];if(0>i(vt,ze))Qt<Ve&&0>i($t,vt)?(st[He]=$t,st[Qt]=ze,He=Qt):(st[He]=vt,st[Yt]=ze,He=Yt);else if(Qt<Ve&&0>i($t,ze))st[He]=$t,st[Qt]=ze,He=Qt;else break e}}return mt}function i(st,mt){var ze=st.sortIndex-mt.sortIndex;return ze!==0?ze:st.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var h=[],m=[],C=1,E=null,O=3,P=!1,D=!1,$=!1,ee=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(st){for(var mt=n(m);mt!==null;){if(mt.callback===null)r(m);else if(mt.startTime<=st)r(m),mt.sortIndex=mt.expirationTime,t(h,mt);else break;mt=n(m)}}function ue(st){if($=!1,Z(st),!D)if(n(h)!==null)D=!0,yt(ye);else{var mt=n(m);mt!==null&&wt(ue,mt.startTime-st)}}function ye(st,mt){D=!1,$&&($=!1,H(se),se=-1),P=!0;var ze=O;try{for(Z(mt),E=n(h);E!==null&&(!(E.expirationTime>mt)||st&&!De());){var He=E.callback;if(typeof He=="function"){E.callback=null,O=E.priorityLevel;var Ve=He(E.expirationTime<=mt);mt=e.unstable_now(),typeof Ve=="function"?E.callback=Ve:E===n(h)&&r(h),Z(mt)}else r(h);E=n(h)}if(E!==null)var Vt=!0;else{var Yt=n(m);Yt!==null&&wt(ue,Yt.startTime-mt),Vt=!1}return Vt}finally{E=null,O=ze,P=!1}}var be=!1,X=null,se=-1,we=5,xe=-1;function De(){return!(e.unstable_now()-xe<we)}function Ue(){if(X!==null){var st=e.unstable_now();xe=st;var mt=!0;try{mt=X(!0,st)}finally{mt?he():(be=!1,X=null)}}else be=!1}var he;if(typeof G=="function")he=function(){G(Ue)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,ge=$e.port2;$e.port1.onmessage=Ue,he=function(){ge.postMessage(null)}}else he=function(){ee(Ue,0)};function yt(st){X=st,be||(be=!0,he())}function wt(st,mt){se=ee(function(){st(e.unstable_now())},mt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(st){st.callback=null},e.unstable_continueExecution=function(){D||P||(D=!0,yt(ye))},e.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<st?Math.floor(1e3/st):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(st){switch(O){case 1:case 2:case 3:var mt=3;break;default:mt=O}var ze=O;O=mt;try{return st()}finally{O=ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(st,mt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var ze=O;O=st;try{return mt()}finally{O=ze}},e.unstable_scheduleCallback=function(st,mt,ze){var He=e.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?He+ze:He):ze=He,st){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ze+Ve,st={id:C++,callback:mt,priorityLevel:st,startTime:ze,expirationTime:Ve,sortIndex:-1},ze>He?(st.sortIndex=ze,t(m,st),n(h)===null&&st===n(m)&&($?(H(se),se=-1):$=!0,wt(ue,ze-He))):(st.sortIndex=Ve,t(h,st),D||P||(D=!0,yt(ye))),st},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(st){var mt=O;return function(){var ze=O;O=mt;try{return st.apply(this,arguments)}finally{O=ze}}}})(nF);tF.exports=nF;var Vq=tF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rF=ar,ad=Vq;function Qn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iF=new Set,K_={};function Y1(e,t){iv(e,t),iv(e+"Capture",t)}function iv(e,t){for(K_[e]=t,e=0;e<t.length;e++)iF.add(t[e])}var Xp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W6=Object.prototype.hasOwnProperty,Zq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G9={},W9={};function Xq(e){return W6.call(W9,e)?!0:W6.call(G9,e)?!1:Zq.test(e)?W9[e]=!0:(G9[e]=!0,!1)}function Jq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eH(e,t,n,r){if(t===null||typeof t>"u"||Jq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function YA(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Qu={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qu[e]=new YA(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qu[t]=new YA(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qu[e]=new YA(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qu[e]=new YA(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qu[e]=new YA(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qu[e]=new YA(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qu[e]=new YA(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qu[e]=new YA(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qu[e]=new YA(e,5,!1,e.toLowerCase(),null,!1,!1)});var $B=/[\-:]([a-z])/g;function YB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($B,YB);Qu[t]=new YA(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($B,YB);Qu[t]=new YA(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($B,YB);Qu[t]=new YA(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qu[e]=new YA(e,1,!1,e.toLowerCase(),null,!1,!1)});Qu.xlinkHref=new YA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qu[e]=new YA(e,1,!1,e.toLowerCase(),null,!0,!0)});function qB(e,t,n,r){var i=Qu.hasOwnProperty(t)?Qu[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eH(t,n,i,r)&&(n=null),r||i===null?Xq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nm=rF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J2=Symbol.for("react.element"),ly=Symbol.for("react.portal"),uy=Symbol.for("react.fragment"),HB=Symbol.for("react.strict_mode"),Q6=Symbol.for("react.profiler"),oF=Symbol.for("react.provider"),aF=Symbol.for("react.context"),VB=Symbol.for("react.forward_ref"),$6=Symbol.for("react.suspense"),Y6=Symbol.for("react.suspense_list"),ZB=Symbol.for("react.memo"),Pm=Symbol.for("react.lazy"),sF=Symbol.for("react.offscreen"),Q9=Symbol.iterator;function vC(e){return e===null||typeof e!="object"?null:(e=Q9&&e[Q9]||e["@@iterator"],typeof e=="function"?e:null)}var el=Object.assign,zM;function GC(e){if(zM===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zM=t&&t[1]||""}return`
`+zM+e}var jM=!1;function NM(e,t){if(!e||jM)return"";jM=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var h=`
`+i[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=s);break}}}finally{jM=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?GC(e):""}function tH(e){switch(e.tag){case 5:return GC(e.type);case 16:return GC("Lazy");case 13:return GC("Suspense");case 19:return GC("SuspenseList");case 0:case 2:case 15:return e=NM(e.type,!1),e;case 11:return e=NM(e.type.render,!1),e;case 1:return e=NM(e.type,!0),e;default:return""}}function q6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uy:return"Fragment";case ly:return"Portal";case Q6:return"Profiler";case HB:return"StrictMode";case $6:return"Suspense";case Y6:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aF:return(e.displayName||"Context")+".Consumer";case oF:return(e._context.displayName||"Context")+".Provider";case VB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ZB:return t=e.displayName||null,t!==null?t:q6(e.type)||"Memo";case Pm:t=e._payload,e=e._init;try{return q6(e(t))}catch{}}return null}function nH(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q6(t);case 8:return t===HB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function f0(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rH(e){var t=lF(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ex(e){e._valueTracker||(e._valueTracker=rH(e))}function uF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lF(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function E3(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function H6(e,t){var n=t.checked;return el({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $9(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=f0(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AF(e,t){t=t.checked,t!=null&&qB(e,"checked",t,!1)}function V6(e,t){AF(e,t);var n=f0(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Z6(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z6(e,t.type,f0(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Y9(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Z6(e,t,n){(t!=="number"||E3(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var WC=Array.isArray;function Ty(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+f0(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function X6(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Qn(91));return el({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function q9(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Qn(92));if(WC(n)){if(1<n.length)throw Error(Qn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:f0(n)}}function cF(e,t){var n=f0(t.value),r=f0(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function H9(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J6(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tx,hF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tx=tx||document.createElement("div"),tx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function P_(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iH=["Webkit","ms","Moz","O"];Object.keys(i_).forEach(function(e){iH.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),i_[t]=i_[e]})});function fF(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||i_.hasOwnProperty(e)&&i_[e]?(""+t).trim():t+"px"}function pF(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fF(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var oH=el({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eE(e,t){if(t){if(oH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Qn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Qn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Qn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Qn(62))}}function tE(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nE=null;function XB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rE=null,Ky=null,Py=null;function V9(e){if(e=Ob(e)){if(typeof rE!="function")throw Error(Qn(280));var t=e.stateNode;t&&(t=K5(t),rE(e.stateNode,e.type,t))}}function mF(e){Ky?Py?Py.push(e):Py=[e]:Ky=e}function gF(){if(Ky){var e=Ky,t=Py;if(Py=Ky=null,V9(e),t)for(e=0;e<t.length;e++)V9(t[e])}}function yF(e,t){return e(t)}function vF(){}var GM=!1;function CF(e,t,n){if(GM)return e(t,n);GM=!0;try{return yF(e,t,n)}finally{GM=!1,(Ky!==null||Py!==null)&&(vF(),gF())}}function D_(e,t){var n=e.stateNode;if(n===null)return null;var r=K5(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Qn(231,t,typeof n));return n}var iE=!1;if(Xp)try{var CC={};Object.defineProperty(CC,"passive",{get:function(){iE=!0}}),window.addEventListener("test",CC,CC),window.removeEventListener("test",CC,CC)}catch{iE=!1}function aH(e,t,n,r,i,o,a,s,h){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(C){this.onError(C)}}var o_=!1,O3=null,B3=!1,oE=null,sH={onError:function(e){o_=!0,O3=e}};function lH(e,t,n,r,i,o,a,s,h){o_=!1,O3=null,aH.apply(sH,arguments)}function uH(e,t,n,r,i,o,a,s,h){if(lH.apply(this,arguments),o_){if(o_){var m=O3;o_=!1,O3=null}else throw Error(Qn(198));B3||(B3=!0,oE=m)}}function q1(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _F(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z9(e){if(q1(e)!==e)throw Error(Qn(188))}function AH(e){var t=e.alternate;if(!t){if(t=q1(e),t===null)throw Error(Qn(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Z9(i),e;if(o===r)return Z9(i),t;o=o.sibling}throw Error(Qn(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Qn(189))}}if(n.alternate!==r)throw Error(Qn(190))}if(n.tag!==3)throw Error(Qn(188));return n.stateNode.current===n?e:t}function bF(e){return e=AH(e),e!==null?xF(e):null}function xF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xF(e);if(t!==null)return t;e=e.sibling}return null}var wF=ad.unstable_scheduleCallback,X9=ad.unstable_cancelCallback,cH=ad.unstable_shouldYield,dH=ad.unstable_requestPaint,_l=ad.unstable_now,hH=ad.unstable_getCurrentPriorityLevel,JB=ad.unstable_ImmediatePriority,MF=ad.unstable_UserBlockingPriority,I3=ad.unstable_NormalPriority,fH=ad.unstable_LowPriority,SF=ad.unstable_IdlePriority,B5=null,jf=null;function pH(e){if(jf&&typeof jf.onCommitFiberRoot=="function")try{jf.onCommitFiberRoot(B5,e,void 0,(e.current.flags&128)===128)}catch{}}var Dh=Math.clz32?Math.clz32:yH,mH=Math.log,gH=Math.LN2;function yH(e){return e>>>=0,e===0?32:31-(mH(e)/gH|0)|0}var nx=64,rx=4194304;function QC(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function k3(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=QC(s):(o&=a,o!==0&&(r=QC(o)))}else a=n&~i,a!==0?r=QC(a):o!==0&&(r=QC(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dh(t),i=1<<n,r|=e[n],t&=~i;return r}function vH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CH(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Dh(o),s=1<<a,h=i[a];h===-1?(!(s&n)||s&r)&&(i[a]=vH(s,t)):h<=t&&(e.expiredLanes|=s),o&=~s}}function aE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EF(){var e=nx;return nx<<=1,!(nx&4194240)&&(nx=64),e}function WM(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dh(t),e[t]=n}function _H(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Dh(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function e8(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dh(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ka=0;function OF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var BF,t8,IF,kF,TF,sE=!1,ix=[],e0=null,t0=null,n0=null,U_=new Map,F_=new Map,Nm=[],bH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J9(e,t){switch(e){case"focusin":case"focusout":e0=null;break;case"dragenter":case"dragleave":t0=null;break;case"mouseover":case"mouseout":n0=null;break;case"pointerover":case"pointerout":U_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":F_.delete(t.pointerId)}}function _C(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ob(t),t!==null&&t8(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xH(e,t,n,r,i){switch(t){case"focusin":return e0=_C(e0,e,t,n,r,i),!0;case"dragenter":return t0=_C(t0,e,t,n,r,i),!0;case"mouseover":return n0=_C(n0,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return U_.set(o,_C(U_.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,F_.set(o,_C(F_.get(o)||null,e,t,n,r,i)),!0}return!1}function KF(e){var t=f1(e.target);if(t!==null){var n=q1(t);if(n!==null){if(t=n.tag,t===13){if(t=_F(n),t!==null){e.blockedOn=t,TF(e.priority,function(){IF(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function e3(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nE=r,n.target.dispatchEvent(r),nE=null}else return t=Ob(n),t!==null&&t8(t),e.blockedOn=n,!1;t.shift()}return!0}function ek(e,t,n){e3(e)&&n.delete(t)}function wH(){sE=!1,e0!==null&&e3(e0)&&(e0=null),t0!==null&&e3(t0)&&(t0=null),n0!==null&&e3(n0)&&(n0=null),U_.forEach(ek),F_.forEach(ek)}function bC(e,t){e.blockedOn===t&&(e.blockedOn=null,sE||(sE=!0,ad.unstable_scheduleCallback(ad.unstable_NormalPriority,wH)))}function L_(e){function t(i){return bC(i,e)}if(0<ix.length){bC(ix[0],e);for(var n=1;n<ix.length;n++){var r=ix[n];r.blockedOn===e&&(r.blockedOn=null)}}for(e0!==null&&bC(e0,e),t0!==null&&bC(t0,e),n0!==null&&bC(n0,e),U_.forEach(t),F_.forEach(t),n=0;n<Nm.length;n++)r=Nm[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nm.length&&(n=Nm[0],n.blockedOn===null);)KF(n),n.blockedOn===null&&Nm.shift()}var Dy=nm.ReactCurrentBatchConfig,T3=!0;function MH(e,t,n,r){var i=ka,o=Dy.transition;Dy.transition=null;try{ka=1,n8(e,t,n,r)}finally{ka=i,Dy.transition=o}}function SH(e,t,n,r){var i=ka,o=Dy.transition;Dy.transition=null;try{ka=4,n8(e,t,n,r)}finally{ka=i,Dy.transition=o}}function n8(e,t,n,r){if(T3){var i=lE(e,t,n,r);if(i===null)eS(e,t,r,K3,n),J9(e,r);else if(xH(i,e,t,n,r))r.stopPropagation();else if(J9(e,r),t&4&&-1<bH.indexOf(e)){for(;i!==null;){var o=Ob(i);if(o!==null&&BF(o),o=lE(e,t,n,r),o===null&&eS(e,t,r,K3,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else eS(e,t,r,null,n)}}var K3=null;function lE(e,t,n,r){if(K3=null,e=XB(r),e=f1(e),e!==null)if(t=q1(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_F(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return K3=e,null}function PF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hH()){case JB:return 1;case MF:return 4;case I3:case fH:return 16;case SF:return 536870912;default:return 16}default:return 16}}var $m=null,r8=null,t3=null;function DF(){if(t3)return t3;var e,t=r8,n=t.length,r,i="value"in $m?$m.value:$m.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return t3=i.slice(e,1<r?1-r:void 0)}function n3(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ox(){return!0}function tk(){return!1}function ud(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ox:tk,this.isPropagationStopped=tk,this}return el(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ox)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ox)},persist:function(){},isPersistent:ox}),t}var wv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i8=ud(wv),Eb=el({},wv,{view:0,detail:0}),EH=ud(Eb),QM,$M,xC,I5=el({},Eb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xC&&(xC&&e.type==="mousemove"?(QM=e.screenX-xC.screenX,$M=e.screenY-xC.screenY):$M=QM=0,xC=e),QM)},movementY:function(e){return"movementY"in e?e.movementY:$M}}),nk=ud(I5),OH=el({},I5,{dataTransfer:0}),BH=ud(OH),IH=el({},Eb,{relatedTarget:0}),YM=ud(IH),kH=el({},wv,{animationName:0,elapsedTime:0,pseudoElement:0}),TH=ud(kH),KH=el({},wv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PH=ud(KH),DH=el({},wv,{data:0}),rk=ud(DH),UH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LH[e])?!!t[e]:!1}function o8(){return RH}var zH=el({},Eb,{key:function(e){if(e.key){var t=UH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=n3(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o8,charCode:function(e){return e.type==="keypress"?n3(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?n3(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jH=ud(zH),NH=el({},I5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ik=ud(NH),GH=el({},Eb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o8}),WH=ud(GH),QH=el({},wv,{propertyName:0,elapsedTime:0,pseudoElement:0}),$H=ud(QH),YH=el({},I5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qH=ud(YH),HH=[9,13,27,32],a8=Xp&&"CompositionEvent"in window,a_=null;Xp&&"documentMode"in document&&(a_=document.documentMode);var VH=Xp&&"TextEvent"in window&&!a_,UF=Xp&&(!a8||a_&&8<a_&&11>=a_),ok=" ",ak=!1;function FF(e,t){switch(e){case"keyup":return HH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ay=!1;function ZH(e,t){switch(e){case"compositionend":return LF(t);case"keypress":return t.which!==32?null:(ak=!0,ok);case"textInput":return e=t.data,e===ok&&ak?null:e;default:return null}}function XH(e,t){if(Ay)return e==="compositionend"||!a8&&FF(e,t)?(e=DF(),t3=r8=$m=null,Ay=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return UF&&t.locale!=="ko"?null:t.data;default:return null}}var JH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JH[e.type]:t==="textarea"}function RF(e,t,n,r){mF(r),t=P3(t,"onChange"),0<t.length&&(n=new i8("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var s_=null,R_=null;function eV(e){VF(e,0)}function k5(e){var t=hy(e);if(uF(t))return e}function tV(e,t){if(e==="change")return t}var zF=!1;if(Xp){var qM;if(Xp){var HM="oninput"in document;if(!HM){var lk=document.createElement("div");lk.setAttribute("oninput","return;"),HM=typeof lk.oninput=="function"}qM=HM}else qM=!1;zF=qM&&(!document.documentMode||9<document.documentMode)}function uk(){s_&&(s_.detachEvent("onpropertychange",jF),R_=s_=null)}function jF(e){if(e.propertyName==="value"&&k5(R_)){var t=[];RF(t,R_,e,XB(e)),CF(eV,t)}}function nV(e,t,n){e==="focusin"?(uk(),s_=t,R_=n,s_.attachEvent("onpropertychange",jF)):e==="focusout"&&uk()}function rV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return k5(R_)}function iV(e,t){if(e==="click")return k5(t)}function oV(e,t){if(e==="input"||e==="change")return k5(t)}function aV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lh=typeof Object.is=="function"?Object.is:aV;function z_(e,t){if(Lh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!W6.call(t,i)||!Lh(e[i],t[i]))return!1}return!0}function Ak(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ck(e,t){var n=Ak(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ak(n)}}function NF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GF(){for(var e=window,t=E3();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=E3(e.document)}return t}function s8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sV(e){var t=GF(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&NF(n.ownerDocument.documentElement,n)){if(r!==null&&s8(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ck(n,o);var a=ck(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lV=Xp&&"documentMode"in document&&11>=document.documentMode,cy=null,uE=null,l_=null,AE=!1;function dk(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;AE||cy==null||cy!==E3(r)||(r=cy,"selectionStart"in r&&s8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),l_&&z_(l_,r)||(l_=r,r=P3(uE,"onSelect"),0<r.length&&(t=new i8("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cy)))}function ax(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dy={animationend:ax("Animation","AnimationEnd"),animationiteration:ax("Animation","AnimationIteration"),animationstart:ax("Animation","AnimationStart"),transitionend:ax("Transition","TransitionEnd")},VM={},WF={};Xp&&(WF=document.createElement("div").style,"AnimationEvent"in window||(delete dy.animationend.animation,delete dy.animationiteration.animation,delete dy.animationstart.animation),"TransitionEvent"in window||delete dy.transitionend.transition);function T5(e){if(VM[e])return VM[e];if(!dy[e])return e;var t=dy[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in WF)return VM[e]=t[n];return e}var QF=T5("animationend"),$F=T5("animationiteration"),YF=T5("animationstart"),qF=T5("transitionend"),HF=new Map,hk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function v0(e,t){HF.set(e,t),Y1(t,[e])}for(var ZM=0;ZM<hk.length;ZM++){var XM=hk[ZM],uV=XM.toLowerCase(),AV=XM[0].toUpperCase()+XM.slice(1);v0(uV,"on"+AV)}v0(QF,"onAnimationEnd");v0($F,"onAnimationIteration");v0(YF,"onAnimationStart");v0("dblclick","onDoubleClick");v0("focusin","onFocus");v0("focusout","onBlur");v0(qF,"onTransitionEnd");iv("onMouseEnter",["mouseout","mouseover"]);iv("onMouseLeave",["mouseout","mouseover"]);iv("onPointerEnter",["pointerout","pointerover"]);iv("onPointerLeave",["pointerout","pointerover"]);Y1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Y1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Y1("onBeforeInput",["compositionend","keypress","textInput","paste"]);Y1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Y1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Y1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $C="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cV=new Set("cancel close invalid load scroll toggle".split(" ").concat($C));function fk(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uH(r,t,void 0,e),e.currentTarget=null}function VF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],h=s.instance,m=s.currentTarget;if(s=s.listener,h!==o&&i.isPropagationStopped())break e;fk(i,s,m),o=h}else for(a=0;a<r.length;a++){if(s=r[a],h=s.instance,m=s.currentTarget,s=s.listener,h!==o&&i.isPropagationStopped())break e;fk(i,s,m),o=h}}}if(B3)throw e=oE,B3=!1,oE=null,e}function ys(e,t){var n=t[pE];n===void 0&&(n=t[pE]=new Set);var r=e+"__bubble";n.has(r)||(ZF(t,e,2,!1),n.add(r))}function JM(e,t,n){var r=0;t&&(r|=4),ZF(n,e,r,t)}var sx="_reactListening"+Math.random().toString(36).slice(2);function j_(e){if(!e[sx]){e[sx]=!0,iF.forEach(function(n){n!=="selectionchange"&&(cV.has(n)||JM(n,!1,e),JM(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sx]||(t[sx]=!0,JM("selectionchange",!1,t))}}function ZF(e,t,n,r){switch(PF(t)){case 1:var i=MH;break;case 4:i=SH;break;default:i=n8}n=i.bind(null,t,n,e),i=void 0,!iE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function eS(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;s!==null;){if(a=f1(s),a===null)return;if(h=a.tag,h===5||h===6){r=o=a;continue e}s=s.parentNode}}r=r.return}CF(function(){var m=o,C=XB(n),E=[];e:{var O=HF.get(e);if(O!==void 0){var P=i8,D=e;switch(e){case"keypress":if(n3(n)===0)break e;case"keydown":case"keyup":P=jH;break;case"focusin":D="focus",P=YM;break;case"focusout":D="blur",P=YM;break;case"beforeblur":case"afterblur":P=YM;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=nk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=BH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=WH;break;case QF:case $F:case YF:P=TH;break;case qF:P=$H;break;case"scroll":P=EH;break;case"wheel":P=qH;break;case"copy":case"cut":case"paste":P=PH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=ik}var $=(t&4)!==0,ee=!$&&e==="scroll",H=$?O!==null?O+"Capture":null:O;$=[];for(var G=m,Z;G!==null;){Z=G;var ue=Z.stateNode;if(Z.tag===5&&ue!==null&&(Z=ue,H!==null&&(ue=D_(G,H),ue!=null&&$.push(N_(G,ue,Z)))),ee)break;G=G.return}0<$.length&&(O=new P(O,D,null,n,C),E.push({event:O,listeners:$}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",O&&n!==nE&&(D=n.relatedTarget||n.fromElement)&&(f1(D)||D[Jp]))break e;if((P||O)&&(O=C.window===C?C:(O=C.ownerDocument)?O.defaultView||O.parentWindow:window,P?(D=n.relatedTarget||n.toElement,P=m,D=D?f1(D):null,D!==null&&(ee=q1(D),D!==ee||D.tag!==5&&D.tag!==6)&&(D=null)):(P=null,D=m),P!==D)){if($=nk,ue="onMouseLeave",H="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&($=ik,ue="onPointerLeave",H="onPointerEnter",G="pointer"),ee=P==null?O:hy(P),Z=D==null?O:hy(D),O=new $(ue,G+"leave",P,n,C),O.target=ee,O.relatedTarget=Z,ue=null,f1(C)===m&&($=new $(H,G+"enter",D,n,C),$.target=Z,$.relatedTarget=ee,ue=$),ee=ue,P&&D)t:{for($=P,H=D,G=0,Z=$;Z;Z=Dg(Z))G++;for(Z=0,ue=H;ue;ue=Dg(ue))Z++;for(;0<G-Z;)$=Dg($),G--;for(;0<Z-G;)H=Dg(H),Z--;for(;G--;){if($===H||H!==null&&$===H.alternate)break t;$=Dg($),H=Dg(H)}$=null}else $=null;P!==null&&pk(E,O,P,$,!1),D!==null&&ee!==null&&pk(E,ee,D,$,!0)}}e:{if(O=m?hy(m):window,P=O.nodeName&&O.nodeName.toLowerCase(),P==="select"||P==="input"&&O.type==="file")var ye=tV;else if(sk(O))if(zF)ye=oV;else{ye=rV;var be=nV}else(P=O.nodeName)&&P.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(ye=iV);if(ye&&(ye=ye(e,m))){RF(E,ye,n,C);break e}be&&be(e,O,m),e==="focusout"&&(be=O._wrapperState)&&be.controlled&&O.type==="number"&&Z6(O,"number",O.value)}switch(be=m?hy(m):window,e){case"focusin":(sk(be)||be.contentEditable==="true")&&(cy=be,uE=m,l_=null);break;case"focusout":l_=uE=cy=null;break;case"mousedown":AE=!0;break;case"contextmenu":case"mouseup":case"dragend":AE=!1,dk(E,n,C);break;case"selectionchange":if(lV)break;case"keydown":case"keyup":dk(E,n,C)}var X;if(a8)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Ay?FF(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(UF&&n.locale!=="ko"&&(Ay||se!=="onCompositionStart"?se==="onCompositionEnd"&&Ay&&(X=DF()):($m=C,r8="value"in $m?$m.value:$m.textContent,Ay=!0)),be=P3(m,se),0<be.length&&(se=new rk(se,e,null,n,C),E.push({event:se,listeners:be}),X?se.data=X:(X=LF(n),X!==null&&(se.data=X)))),(X=VH?ZH(e,n):XH(e,n))&&(m=P3(m,"onBeforeInput"),0<m.length&&(C=new rk("onBeforeInput","beforeinput",null,n,C),E.push({event:C,listeners:m}),C.data=X))}VF(E,t)})}function N_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function P3(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=D_(e,n),o!=null&&r.unshift(N_(e,o,i)),o=D_(e,t),o!=null&&r.push(N_(e,o,i))),e=e.return}return r}function Dg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pk(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,h=s.alternate,m=s.stateNode;if(h!==null&&h===r)break;s.tag===5&&m!==null&&(s=m,i?(h=D_(n,o),h!=null&&a.unshift(N_(n,h,s))):i||(h=D_(n,o),h!=null&&a.push(N_(n,h,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var dV=/\r\n?/g,hV=/\u0000|\uFFFD/g;function mk(e){return(typeof e=="string"?e:""+e).replace(dV,`
`).replace(hV,"")}function lx(e,t,n){if(t=mk(t),mk(e)!==t&&n)throw Error(Qn(425))}function D3(){}var cE=null,dE=null;function hE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fE=typeof setTimeout=="function"?setTimeout:void 0,fV=typeof clearTimeout=="function"?clearTimeout:void 0,gk=typeof Promise=="function"?Promise:void 0,pV=typeof queueMicrotask=="function"?queueMicrotask:typeof gk<"u"?function(e){return gk.resolve(null).then(e).catch(mV)}:fE;function mV(e){setTimeout(function(){throw e})}function tS(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),L_(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);L_(t)}function r0(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mv=Math.random().toString(36).slice(2),Df="__reactFiber$"+Mv,G_="__reactProps$"+Mv,Jp="__reactContainer$"+Mv,pE="__reactEvents$"+Mv,gV="__reactListeners$"+Mv,yV="__reactHandles$"+Mv;function f1(e){var t=e[Df];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jp]||n[Df]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yk(e);e!==null;){if(n=e[Df])return n;e=yk(e)}return t}e=n,n=e.parentNode}return null}function Ob(e){return e=e[Df]||e[Jp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hy(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Qn(33))}function K5(e){return e[G_]||null}var mE=[],fy=-1;function C0(e){return{current:e}}function ws(e){0>fy||(e.current=mE[fy],mE[fy]=null,fy--)}function as(e,t){fy++,mE[fy]=e.current,e.current=t}var p0={},vA=C0(p0),Mc=C0(!1),T1=p0;function ov(e,t){var n=e.type.contextTypes;if(!n)return p0;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Sc(e){return e=e.childContextTypes,e!=null}function U3(){ws(Mc),ws(vA)}function vk(e,t,n){if(vA.current!==p0)throw Error(Qn(168));as(vA,t),as(Mc,n)}function XF(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Qn(108,nH(e)||"Unknown",i));return el({},n,r)}function F3(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||p0,T1=vA.current,as(vA,e),as(Mc,Mc.current),!0}function Ck(e,t,n){var r=e.stateNode;if(!r)throw Error(Qn(169));n?(e=XF(e,t,T1),r.__reactInternalMemoizedMergedChildContext=e,ws(Mc),ws(vA),as(vA,e)):ws(Mc),as(Mc,n)}var Lp=null,P5=!1,nS=!1;function JF(e){Lp===null?Lp=[e]:Lp.push(e)}function vV(e){P5=!0,JF(e)}function _0(){if(!nS&&Lp!==null){nS=!0;var e=0,t=ka;try{var n=Lp;for(ka=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lp=null,P5=!1}catch(i){throw Lp!==null&&(Lp=Lp.slice(e+1)),wF(JB,_0),i}finally{ka=t,nS=!1}}return null}var py=[],my=0,L3=null,R3=0,Ld=[],Rd=0,K1=null,Wp=1,Qp="";function t1(e,t){py[my++]=R3,py[my++]=L3,L3=e,R3=t}function eL(e,t,n){Ld[Rd++]=Wp,Ld[Rd++]=Qp,Ld[Rd++]=K1,K1=e;var r=Wp;e=Qp;var i=32-Dh(r)-1;r&=~(1<<i),n+=1;var o=32-Dh(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wp=1<<32-Dh(t)+i|n<<i|r,Qp=o+e}else Wp=1<<o|n<<i|r,Qp=e}function l8(e){e.return!==null&&(t1(e,1),eL(e,1,0))}function u8(e){for(;e===L3;)L3=py[--my],py[my]=null,R3=py[--my],py[my]=null;for(;e===K1;)K1=Ld[--Rd],Ld[Rd]=null,Qp=Ld[--Rd],Ld[Rd]=null,Wp=Ld[--Rd],Ld[Rd]=null}var id=null,td=null,Us=!1,Kh=null;function tL(e,t){var n=jd(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _k(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,id=e,td=r0(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,id=e,td=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=K1!==null?{id:Wp,overflow:Qp}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jd(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,id=e,td=null,!0):!1;default:return!1}}function gE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yE(e){if(Us){var t=td;if(t){var n=t;if(!_k(e,t)){if(gE(e))throw Error(Qn(418));t=r0(n.nextSibling);var r=id;t&&_k(e,t)?tL(r,n):(e.flags=e.flags&-4097|2,Us=!1,id=e)}}else{if(gE(e))throw Error(Qn(418));e.flags=e.flags&-4097|2,Us=!1,id=e}}}function bk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;id=e}function ux(e){if(e!==id)return!1;if(!Us)return bk(e),Us=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hE(e.type,e.memoizedProps)),t&&(t=td)){if(gE(e))throw nL(),Error(Qn(418));for(;t;)tL(e,t),t=r0(t.nextSibling)}if(bk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Qn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){td=r0(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}td=null}}else td=id?r0(e.stateNode.nextSibling):null;return!0}function nL(){for(var e=td;e;)e=r0(e.nextSibling)}function av(){td=id=null,Us=!1}function A8(e){Kh===null?Kh=[e]:Kh.push(e)}var CV=nm.ReactCurrentBatchConfig;function Ih(e,t){if(e&&e.defaultProps){t=el({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var z3=C0(null),j3=null,gy=null,c8=null;function d8(){c8=gy=j3=null}function h8(e){var t=z3.current;ws(z3),e._currentValue=t}function vE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uy(e,t){j3=e,c8=gy=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wc=!0),e.firstContext=null)}function Yd(e){var t=e._currentValue;if(c8!==e)if(e={context:e,memoizedValue:t,next:null},gy===null){if(j3===null)throw Error(Qn(308));gy=e,j3.dependencies={lanes:0,firstContext:e}}else gy=gy.next=e;return t}var p1=null;function f8(e){p1===null?p1=[e]:p1.push(e)}function rL(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,f8(t)):(n.next=i.next,i.next=n),t.interleaved=n,em(e,r)}function em(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dm=!1;function p8(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $p(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i0(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Vo&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,em(e,n)}return i=r.interleaved,i===null?(t.next=t,f8(r)):(t.next=i.next,i.next=t),r.interleaved=t,em(e,n)}function r3(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,e8(e,n)}}function xk(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function N3(e,t,n,r){var i=e.updateQueue;Dm=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var h=s,m=h.next;h.next=null,a===null?o=m:a.next=m,a=h;var C=e.alternate;C!==null&&(C=C.updateQueue,s=C.lastBaseUpdate,s!==a&&(s===null?C.firstBaseUpdate=m:s.next=m,C.lastBaseUpdate=h))}if(o!==null){var E=i.baseState;a=0,C=m=h=null,s=o;do{var O=s.lane,P=s.eventTime;if((r&O)===O){C!==null&&(C=C.next={eventTime:P,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var D=e,$=s;switch(O=t,P=n,$.tag){case 1:if(D=$.payload,typeof D=="function"){E=D.call(P,E,O);break e}E=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=$.payload,O=typeof D=="function"?D.call(P,E,O):D,O==null)break e;E=el({},E,O);break e;case 2:Dm=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,O=i.effects,O===null?i.effects=[s]:O.push(s))}else P={eventTime:P,lane:O,tag:s.tag,payload:s.payload,callback:s.callback,next:null},C===null?(m=C=P,h=E):C=C.next=P,a|=O;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;O=s,s=O.next,O.next=null,i.lastBaseUpdate=O,i.shared.pending=null}}while(!0);if(C===null&&(h=E),i.baseState=h,i.firstBaseUpdate=m,i.lastBaseUpdate=C,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);D1|=a,e.lanes=a,e.memoizedState=E}}function wk(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qn(191,i));i.call(r)}}}var oL=new rF.Component().refs;function CE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:el({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var D5={isMounted:function(e){return(e=e._reactInternals)?q1(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=WA(),i=a0(e),o=$p(r,i);o.payload=t,n!=null&&(o.callback=n),t=i0(e,o,i),t!==null&&(Uh(t,e,i,r),r3(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=WA(),i=a0(e),o=$p(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=i0(e,o,i),t!==null&&(Uh(t,e,i,r),r3(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=WA(),r=a0(e),i=$p(n,r);i.tag=2,t!=null&&(i.callback=t),t=i0(e,i,r),t!==null&&(Uh(t,e,r,n),r3(t,e,r))}};function Mk(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!z_(n,r)||!z_(i,o):!0}function aL(e,t,n){var r=!1,i=p0,o=t.contextType;return typeof o=="object"&&o!==null?o=Yd(o):(i=Sc(t)?T1:vA.current,r=t.contextTypes,o=(r=r!=null)?ov(e,i):p0),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=D5,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Sk(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&D5.enqueueReplaceState(t,t.state,null)}function _E(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=oL,p8(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Yd(o):(o=Sc(t)?T1:vA.current,i.context=ov(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(CE(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&D5.enqueueReplaceState(i,i.state,null),N3(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wC(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qn(309));var r=n.stateNode}if(!r)throw Error(Qn(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===oL&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Qn(284));if(!n._owner)throw Error(Qn(290,e))}return e}function Ax(e,t){throw e=Object.prototype.toString.call(t),Error(Qn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ek(e){var t=e._init;return t(e._payload)}function sL(e){function t(H,G){if(e){var Z=H.deletions;Z===null?(H.deletions=[G],H.flags|=16):Z.push(G)}}function n(H,G){if(!e)return null;for(;G!==null;)t(H,G),G=G.sibling;return null}function r(H,G){for(H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function i(H,G){return H=s0(H,G),H.index=0,H.sibling=null,H}function o(H,G,Z){return H.index=Z,e?(Z=H.alternate,Z!==null?(Z=Z.index,Z<G?(H.flags|=2,G):Z):(H.flags|=2,G)):(H.flags|=1048576,G)}function a(H){return e&&H.alternate===null&&(H.flags|=2),H}function s(H,G,Z,ue){return G===null||G.tag!==6?(G=uS(Z,H.mode,ue),G.return=H,G):(G=i(G,Z),G.return=H,G)}function h(H,G,Z,ue){var ye=Z.type;return ye===uy?C(H,G,Z.props.children,ue,Z.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Pm&&Ek(ye)===G.type)?(ue=i(G,Z.props),ue.ref=wC(H,G,Z),ue.return=H,ue):(ue=u3(Z.type,Z.key,Z.props,null,H.mode,ue),ue.ref=wC(H,G,Z),ue.return=H,ue)}function m(H,G,Z,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=AS(Z,H.mode,ue),G.return=H,G):(G=i(G,Z.children||[]),G.return=H,G)}function C(H,G,Z,ue,ye){return G===null||G.tag!==7?(G=w1(Z,H.mode,ue,ye),G.return=H,G):(G=i(G,Z),G.return=H,G)}function E(H,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number")return G=uS(""+G,H.mode,Z),G.return=H,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case J2:return Z=u3(G.type,G.key,G.props,null,H.mode,Z),Z.ref=wC(H,null,G),Z.return=H,Z;case ly:return G=AS(G,H.mode,Z),G.return=H,G;case Pm:var ue=G._init;return E(H,ue(G._payload),Z)}if(WC(G)||vC(G))return G=w1(G,H.mode,Z,null),G.return=H,G;Ax(H,G)}return null}function O(H,G,Z,ue){var ye=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return ye!==null?null:s(H,G,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case J2:return Z.key===ye?h(H,G,Z,ue):null;case ly:return Z.key===ye?m(H,G,Z,ue):null;case Pm:return ye=Z._init,O(H,G,ye(Z._payload),ue)}if(WC(Z)||vC(Z))return ye!==null?null:C(H,G,Z,ue,null);Ax(H,Z)}return null}function P(H,G,Z,ue,ye){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(Z)||null,s(G,H,""+ue,ye);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case J2:return H=H.get(ue.key===null?Z:ue.key)||null,h(G,H,ue,ye);case ly:return H=H.get(ue.key===null?Z:ue.key)||null,m(G,H,ue,ye);case Pm:var be=ue._init;return P(H,G,Z,be(ue._payload),ye)}if(WC(ue)||vC(ue))return H=H.get(Z)||null,C(G,H,ue,ye,null);Ax(G,ue)}return null}function D(H,G,Z,ue){for(var ye=null,be=null,X=G,se=G=0,we=null;X!==null&&se<Z.length;se++){X.index>se?(we=X,X=null):we=X.sibling;var xe=O(H,X,Z[se],ue);if(xe===null){X===null&&(X=we);break}e&&X&&xe.alternate===null&&t(H,X),G=o(xe,G,se),be===null?ye=xe:be.sibling=xe,be=xe,X=we}if(se===Z.length)return n(H,X),Us&&t1(H,se),ye;if(X===null){for(;se<Z.length;se++)X=E(H,Z[se],ue),X!==null&&(G=o(X,G,se),be===null?ye=X:be.sibling=X,be=X);return Us&&t1(H,se),ye}for(X=r(H,X);se<Z.length;se++)we=P(X,H,se,Z[se],ue),we!==null&&(e&&we.alternate!==null&&X.delete(we.key===null?se:we.key),G=o(we,G,se),be===null?ye=we:be.sibling=we,be=we);return e&&X.forEach(function(De){return t(H,De)}),Us&&t1(H,se),ye}function $(H,G,Z,ue){var ye=vC(Z);if(typeof ye!="function")throw Error(Qn(150));if(Z=ye.call(Z),Z==null)throw Error(Qn(151));for(var be=ye=null,X=G,se=G=0,we=null,xe=Z.next();X!==null&&!xe.done;se++,xe=Z.next()){X.index>se?(we=X,X=null):we=X.sibling;var De=O(H,X,xe.value,ue);if(De===null){X===null&&(X=we);break}e&&X&&De.alternate===null&&t(H,X),G=o(De,G,se),be===null?ye=De:be.sibling=De,be=De,X=we}if(xe.done)return n(H,X),Us&&t1(H,se),ye;if(X===null){for(;!xe.done;se++,xe=Z.next())xe=E(H,xe.value,ue),xe!==null&&(G=o(xe,G,se),be===null?ye=xe:be.sibling=xe,be=xe);return Us&&t1(H,se),ye}for(X=r(H,X);!xe.done;se++,xe=Z.next())xe=P(X,H,se,xe.value,ue),xe!==null&&(e&&xe.alternate!==null&&X.delete(xe.key===null?se:xe.key),G=o(xe,G,se),be===null?ye=xe:be.sibling=xe,be=xe);return e&&X.forEach(function(Ue){return t(H,Ue)}),Us&&t1(H,se),ye}function ee(H,G,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===uy&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case J2:e:{for(var ye=Z.key,be=G;be!==null;){if(be.key===ye){if(ye=Z.type,ye===uy){if(be.tag===7){n(H,be.sibling),G=i(be,Z.props.children),G.return=H,H=G;break e}}else if(be.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Pm&&Ek(ye)===be.type){n(H,be.sibling),G=i(be,Z.props),G.ref=wC(H,be,Z),G.return=H,H=G;break e}n(H,be);break}else t(H,be);be=be.sibling}Z.type===uy?(G=w1(Z.props.children,H.mode,ue,Z.key),G.return=H,H=G):(ue=u3(Z.type,Z.key,Z.props,null,H.mode,ue),ue.ref=wC(H,G,Z),ue.return=H,H=ue)}return a(H);case ly:e:{for(be=Z.key;G!==null;){if(G.key===be)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){n(H,G.sibling),G=i(G,Z.children||[]),G.return=H,H=G;break e}else{n(H,G);break}else t(H,G);G=G.sibling}G=AS(Z,H.mode,ue),G.return=H,H=G}return a(H);case Pm:return be=Z._init,ee(H,G,be(Z._payload),ue)}if(WC(Z))return D(H,G,Z,ue);if(vC(Z))return $(H,G,Z,ue);Ax(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,G!==null&&G.tag===6?(n(H,G.sibling),G=i(G,Z),G.return=H,H=G):(n(H,G),G=uS(Z,H.mode,ue),G.return=H,H=G),a(H)):n(H,G)}return ee}var sv=sL(!0),lL=sL(!1),Bb={},Nf=C0(Bb),W_=C0(Bb),Q_=C0(Bb);function m1(e){if(e===Bb)throw Error(Qn(174));return e}function m8(e,t){switch(as(Q_,t),as(W_,e),as(Nf,Bb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:J6(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=J6(t,e)}ws(Nf),as(Nf,t)}function lv(){ws(Nf),ws(W_),ws(Q_)}function uL(e){m1(Q_.current);var t=m1(Nf.current),n=J6(t,e.type);t!==n&&(as(W_,e),as(Nf,n))}function g8(e){W_.current===e&&(ws(Nf),ws(W_))}var Vs=C0(0);function G3(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rS=[];function y8(){for(var e=0;e<rS.length;e++)rS[e]._workInProgressVersionPrimary=null;rS.length=0}var i3=nm.ReactCurrentDispatcher,iS=nm.ReactCurrentBatchConfig,P1=0,Js=null,Xl=null,bu=null,W3=!1,u_=!1,$_=0,_V=0;function fA(){throw Error(Qn(321))}function v8(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lh(e[n],t[n]))return!1;return!0}function C8(e,t,n,r,i,o){if(P1=o,Js=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,i3.current=e===null||e.memoizedState===null?MV:SV,e=n(r,i),u_){o=0;do{if(u_=!1,$_=0,25<=o)throw Error(Qn(301));o+=1,bu=Xl=null,t.updateQueue=null,i3.current=EV,e=n(r,i)}while(u_)}if(i3.current=Q3,t=Xl!==null&&Xl.next!==null,P1=0,bu=Xl=Js=null,W3=!1,t)throw Error(Qn(300));return e}function _8(){var e=$_!==0;return $_=0,e}function Ef(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bu===null?Js.memoizedState=bu=e:bu=bu.next=e,bu}function qd(){if(Xl===null){var e=Js.alternate;e=e!==null?e.memoizedState:null}else e=Xl.next;var t=bu===null?Js.memoizedState:bu.next;if(t!==null)bu=t,Xl=e;else{if(e===null)throw Error(Qn(310));Xl=e,e={memoizedState:Xl.memoizedState,baseState:Xl.baseState,baseQueue:Xl.baseQueue,queue:Xl.queue,next:null},bu===null?Js.memoizedState=bu=e:bu=bu.next=e}return bu}function Y_(e,t){return typeof t=="function"?t(e):t}function oS(e){var t=qd(),n=t.queue;if(n===null)throw Error(Qn(311));n.lastRenderedReducer=e;var r=Xl,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,h=null,m=o;do{var C=m.lane;if((P1&C)===C)h!==null&&(h=h.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var E={lane:C,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};h===null?(s=h=E,a=r):h=h.next=E,Js.lanes|=C,D1|=C}m=m.next}while(m!==null&&m!==o);h===null?a=r:h.next=s,Lh(r,t.memoizedState)||(wc=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Js.lanes|=o,D1|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aS(e){var t=qd(),n=t.queue;if(n===null)throw Error(Qn(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Lh(o,t.memoizedState)||(wc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function AL(){}function cL(e,t){var n=Js,r=qd(),i=t(),o=!Lh(r.memoizedState,i);if(o&&(r.memoizedState=i,wc=!0),r=r.queue,b8(fL.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||bu!==null&&bu.memoizedState.tag&1){if(n.flags|=2048,q_(9,hL.bind(null,n,r,i,t),void 0,null),Mu===null)throw Error(Qn(349));P1&30||dL(n,t,i)}return i}function dL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Js.updateQueue,t===null?(t={lastEffect:null,stores:null},Js.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hL(e,t,n,r){t.value=n,t.getSnapshot=r,pL(t)&&mL(e)}function fL(e,t,n){return n(function(){pL(t)&&mL(e)})}function pL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lh(e,n)}catch{return!0}}function mL(e){var t=em(e,1);t!==null&&Uh(t,e,1,-1)}function Ok(e){var t=Ef();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Y_,lastRenderedState:e},t.queue=e,e=e.dispatch=wV.bind(null,Js,e),[t.memoizedState,e]}function q_(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Js.updateQueue,t===null?(t={lastEffect:null,stores:null},Js.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gL(){return qd().memoizedState}function o3(e,t,n,r){var i=Ef();Js.flags|=e,i.memoizedState=q_(1|t,n,void 0,r===void 0?null:r)}function U5(e,t,n,r){var i=qd();r=r===void 0?null:r;var o=void 0;if(Xl!==null){var a=Xl.memoizedState;if(o=a.destroy,r!==null&&v8(r,a.deps)){i.memoizedState=q_(t,n,o,r);return}}Js.flags|=e,i.memoizedState=q_(1|t,n,o,r)}function Bk(e,t){return o3(8390656,8,e,t)}function b8(e,t){return U5(2048,8,e,t)}function yL(e,t){return U5(4,2,e,t)}function vL(e,t){return U5(4,4,e,t)}function CL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _L(e,t,n){return n=n!=null?n.concat([e]):null,U5(4,4,CL.bind(null,t,e),n)}function x8(){}function bL(e,t){var n=qd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&v8(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xL(e,t){var n=qd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&v8(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wL(e,t,n){return P1&21?(Lh(n,t)||(n=EF(),Js.lanes|=n,D1|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wc=!0),e.memoizedState=n)}function bV(e,t){var n=ka;ka=n!==0&&4>n?n:4,e(!0);var r=iS.transition;iS.transition={};try{e(!1),t()}finally{ka=n,iS.transition=r}}function ML(){return qd().memoizedState}function xV(e,t,n){var r=a0(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SL(e))EL(t,n);else if(n=rL(e,t,n,r),n!==null){var i=WA();Uh(n,e,r,i),OL(n,t,r)}}function wV(e,t,n){var r=a0(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SL(e))EL(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Lh(s,a)){var h=t.interleaved;h===null?(i.next=i,f8(t)):(i.next=h.next,h.next=i),t.interleaved=i;return}}catch{}finally{}n=rL(e,t,i,r),n!==null&&(i=WA(),Uh(n,e,r,i),OL(n,t,r))}}function SL(e){var t=e.alternate;return e===Js||t!==null&&t===Js}function EL(e,t){u_=W3=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function OL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,e8(e,n)}}var Q3={readContext:Yd,useCallback:fA,useContext:fA,useEffect:fA,useImperativeHandle:fA,useInsertionEffect:fA,useLayoutEffect:fA,useMemo:fA,useReducer:fA,useRef:fA,useState:fA,useDebugValue:fA,useDeferredValue:fA,useTransition:fA,useMutableSource:fA,useSyncExternalStore:fA,useId:fA,unstable_isNewReconciler:!1},MV={readContext:Yd,useCallback:function(e,t){return Ef().memoizedState=[e,t===void 0?null:t],e},useContext:Yd,useEffect:Bk,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,o3(4194308,4,CL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return o3(4194308,4,e,t)},useInsertionEffect:function(e,t){return o3(4,2,e,t)},useMemo:function(e,t){var n=Ef();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ef();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xV.bind(null,Js,e),[r.memoizedState,e]},useRef:function(e){var t=Ef();return e={current:e},t.memoizedState=e},useState:Ok,useDebugValue:x8,useDeferredValue:function(e){return Ef().memoizedState=e},useTransition:function(){var e=Ok(!1),t=e[0];return e=bV.bind(null,e[1]),Ef().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Js,i=Ef();if(Us){if(n===void 0)throw Error(Qn(407));n=n()}else{if(n=t(),Mu===null)throw Error(Qn(349));P1&30||dL(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bk(fL.bind(null,r,o,e),[e]),r.flags|=2048,q_(9,hL.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ef(),t=Mu.identifierPrefix;if(Us){var n=Qp,r=Wp;n=(r&~(1<<32-Dh(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$_++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_V++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SV={readContext:Yd,useCallback:bL,useContext:Yd,useEffect:b8,useImperativeHandle:_L,useInsertionEffect:yL,useLayoutEffect:vL,useMemo:xL,useReducer:oS,useRef:gL,useState:function(){return oS(Y_)},useDebugValue:x8,useDeferredValue:function(e){var t=qd();return wL(t,Xl.memoizedState,e)},useTransition:function(){var e=oS(Y_)[0],t=qd().memoizedState;return[e,t]},useMutableSource:AL,useSyncExternalStore:cL,useId:ML,unstable_isNewReconciler:!1},EV={readContext:Yd,useCallback:bL,useContext:Yd,useEffect:b8,useImperativeHandle:_L,useInsertionEffect:yL,useLayoutEffect:vL,useMemo:xL,useReducer:aS,useRef:gL,useState:function(){return aS(Y_)},useDebugValue:x8,useDeferredValue:function(e){var t=qd();return Xl===null?t.memoizedState=e:wL(t,Xl.memoizedState,e)},useTransition:function(){var e=aS(Y_)[0],t=qd().memoizedState;return[e,t]},useMutableSource:AL,useSyncExternalStore:cL,useId:ML,unstable_isNewReconciler:!1};function uv(e,t){try{var n="",r=t;do n+=tH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function sS(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var OV=typeof WeakMap=="function"?WeakMap:Map;function BL(e,t,n){n=$p(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Y3||(Y3=!0,TE=r),bE(e,t)},n}function IL(e,t,n){n=$p(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){bE(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bE(e,t),typeof r!="function"&&(o0===null?o0=new Set([this]):o0.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ik(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new OV;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=NV.bind(null,e,t,n),t.then(e,e))}function kk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tk(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$p(-1,1),t.tag=2,i0(n,t,1))),n.lanes|=1),e)}var BV=nm.ReactCurrentOwner,wc=!1;function zA(e,t,n,r){t.child=e===null?lL(t,null,n,r):sv(t,e.child,n,r)}function Kk(e,t,n,r,i){n=n.render;var o=t.ref;return Uy(t,i),r=C8(e,t,n,r,o,i),n=_8(),e!==null&&!wc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tm(e,t,i)):(Us&&n&&l8(t),t.flags|=1,zA(e,t,r,i),t.child)}function Pk(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!k8(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,kL(e,t,o,r,i)):(e=u3(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:z_,n(a,r)&&e.ref===t.ref)return tm(e,t,i)}return t.flags|=1,e=s0(o,r),e.ref=t.ref,e.return=t,t.child=e}function kL(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(z_(o,r)&&e.ref===t.ref)if(wc=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(wc=!0);else return t.lanes=e.lanes,tm(e,t,i)}return xE(e,t,n,r,i)}function TL(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},as(vy,qc),qc|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,as(vy,qc),qc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,as(vy,qc),qc|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,as(vy,qc),qc|=r;return zA(e,t,i,n),t.child}function KL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xE(e,t,n,r,i){var o=Sc(n)?T1:vA.current;return o=ov(t,o),Uy(t,i),n=C8(e,t,n,r,o,i),r=_8(),e!==null&&!wc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tm(e,t,i)):(Us&&r&&l8(t),t.flags|=1,zA(e,t,n,i),t.child)}function Dk(e,t,n,r,i){if(Sc(n)){var o=!0;F3(t)}else o=!1;if(Uy(t,i),t.stateNode===null)a3(e,t),aL(t,n,r),_E(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var h=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=Yd(m):(m=Sc(n)?T1:vA.current,m=ov(t,m));var C=n.getDerivedStateFromProps,E=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function";E||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||h!==m)&&Sk(t,a,r,m),Dm=!1;var O=t.memoizedState;a.state=O,N3(t,r,a,i),h=t.memoizedState,s!==r||O!==h||Mc.current||Dm?(typeof C=="function"&&(CE(t,n,C,r),h=t.memoizedState),(s=Dm||Mk(t,n,s,r,O,h,m))?(E||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=m,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,iL(e,t),s=t.memoizedProps,m=t.type===t.elementType?s:Ih(t.type,s),a.props=m,E=t.pendingProps,O=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Yd(h):(h=Sc(n)?T1:vA.current,h=ov(t,h));var P=n.getDerivedStateFromProps;(C=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==E||O!==h)&&Sk(t,a,r,h),Dm=!1,O=t.memoizedState,a.state=O,N3(t,r,a,i);var D=t.memoizedState;s!==E||O!==D||Mc.current||Dm?(typeof P=="function"&&(CE(t,n,P,r),D=t.memoizedState),(m=Dm||Mk(t,n,m,r,O,D,h)||!1)?(C||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,D,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,D,h)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),a.props=r,a.state=D,a.context=h,r=m):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return wE(e,t,n,r,o,i)}function wE(e,t,n,r,i,o){KL(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ck(t,n,!1),tm(e,t,o);r=t.stateNode,BV.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=sv(t,e.child,null,o),t.child=sv(t,null,s,o)):zA(e,t,s,o),t.memoizedState=r.state,i&&Ck(t,n,!0),t.child}function PL(e){var t=e.stateNode;t.pendingContext?vk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vk(e,t.context,!1),m8(e,t.containerInfo)}function Uk(e,t,n,r,i){return av(),A8(i),t.flags|=256,zA(e,t,n,r),t.child}var ME={dehydrated:null,treeContext:null,retryLane:0};function SE(e){return{baseLanes:e,cachePool:null,transitions:null}}function DL(e,t,n){var r=t.pendingProps,i=Vs.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),as(Vs,i&1),e===null)return yE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=R5(a,r,0,null),e=w1(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=SE(n),t.memoizedState=ME,e):w8(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return IV(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=s0(i,h),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=s0(s,o):(o=w1(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?SE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=ME,r}return o=e.child,e=o.sibling,r=s0(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function w8(e,t){return t=R5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cx(e,t,n,r){return r!==null&&A8(r),sv(t,e.child,null,n),e=w8(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IV(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=sS(Error(Qn(422))),cx(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=R5({mode:"visible",children:r.children},i,0,null),o=w1(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&sv(t,e.child,null,a),t.child.memoizedState=SE(a),t.memoizedState=ME,o);if(!(t.mode&1))return cx(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Qn(419)),r=sS(o,r,void 0),cx(e,t,a,r)}if(s=(a&e.childLanes)!==0,wc||s){if(r=Mu,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,em(e,i),Uh(r,e,i,-1))}return I8(),r=sS(Error(Qn(421))),cx(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=GV.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,td=r0(i.nextSibling),id=t,Us=!0,Kh=null,e!==null&&(Ld[Rd++]=Wp,Ld[Rd++]=Qp,Ld[Rd++]=K1,Wp=e.id,Qp=e.overflow,K1=t),t=w8(t,r.children),t.flags|=4096,t)}function Fk(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vE(e.return,t,n)}function lS(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function UL(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(zA(e,t,r.children,n),r=Vs.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fk(e,n,t);else if(e.tag===19)Fk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(as(Vs,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&G3(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lS(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&G3(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lS(t,!0,n,null,o);break;case"together":lS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function a3(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tm(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),D1|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Qn(153));if(t.child!==null){for(e=t.child,n=s0(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=s0(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kV(e,t,n){switch(t.tag){case 3:PL(t),av();break;case 5:uL(t);break;case 1:Sc(t.type)&&F3(t);break;case 4:m8(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;as(z3,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(as(Vs,Vs.current&1),t.flags|=128,null):n&t.child.childLanes?DL(e,t,n):(as(Vs,Vs.current&1),e=tm(e,t,n),e!==null?e.sibling:null);as(Vs,Vs.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return UL(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),as(Vs,Vs.current),r)break;return null;case 22:case 23:return t.lanes=0,TL(e,t,n)}return tm(e,t,n)}var FL,EE,LL,RL;FL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};EE=function(){};LL=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,m1(Nf.current);var o=null;switch(n){case"input":i=H6(e,i),r=H6(e,r),o=[];break;case"select":i=el({},i,{value:void 0}),r=el({},r,{value:void 0}),o=[];break;case"textarea":i=X6(e,i),r=X6(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=D3)}eE(n,r);var a;n=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var s=i[m];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(K_.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var h=r[m];if(s=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&h!==s&&(h!=null||s!=null))if(m==="style")if(s){for(a in s)!s.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&s[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(m,n)),n=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,s=s?s.__html:void 0,h!=null&&s!==h&&(o=o||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(K_.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&ys("scroll",e),o||s===h||(o=[])):(o=o||[]).push(m,h))}n&&(o=o||[]).push("style",n);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};RL=function(e,t,n,r){n!==r&&(t.flags|=4)};function MC(e,t){if(!Us)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pA(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TV(e,t,n){var r=t.pendingProps;switch(u8(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pA(t),null;case 1:return Sc(t.type)&&U3(),pA(t),null;case 3:return r=t.stateNode,lv(),ws(Mc),ws(vA),y8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ux(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kh!==null&&(DE(Kh),Kh=null))),EE(e,t),pA(t),null;case 5:g8(t);var i=m1(Q_.current);if(n=t.type,e!==null&&t.stateNode!=null)LL(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Qn(166));return pA(t),null}if(e=m1(Nf.current),ux(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Df]=t,r[G_]=o,e=(t.mode&1)!==0,n){case"dialog":ys("cancel",r),ys("close",r);break;case"iframe":case"object":case"embed":ys("load",r);break;case"video":case"audio":for(i=0;i<$C.length;i++)ys($C[i],r);break;case"source":ys("error",r);break;case"img":case"image":case"link":ys("error",r),ys("load",r);break;case"details":ys("toggle",r);break;case"input":$9(r,o),ys("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ys("invalid",r);break;case"textarea":q9(r,o),ys("invalid",r)}eE(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&lx(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&lx(r.textContent,s,e),i=["children",""+s]):K_.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ys("scroll",r)}switch(n){case"input":ex(r),Y9(r,o,!0);break;case"textarea":ex(r),H9(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=D3)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dF(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Df]=t,e[G_]=r,FL(e,t,!1,!1),t.stateNode=e;e:{switch(a=tE(n,r),n){case"dialog":ys("cancel",e),ys("close",e),i=r;break;case"iframe":case"object":case"embed":ys("load",e),i=r;break;case"video":case"audio":for(i=0;i<$C.length;i++)ys($C[i],e);i=r;break;case"source":ys("error",e),i=r;break;case"img":case"image":case"link":ys("error",e),ys("load",e),i=r;break;case"details":ys("toggle",e),i=r;break;case"input":$9(e,r),i=H6(e,r),ys("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=el({},r,{value:void 0}),ys("invalid",e);break;case"textarea":q9(e,r),i=X6(e,r),ys("invalid",e);break;default:i=r}eE(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var h=s[o];o==="style"?pF(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&hF(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&P_(e,h):typeof h=="number"&&P_(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(K_.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ys("scroll",e):h!=null&&qB(e,o,h,a))}switch(n){case"input":ex(e),Y9(e,r,!1);break;case"textarea":ex(e),H9(e);break;case"option":r.value!=null&&e.setAttribute("value",""+f0(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ty(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ty(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=D3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pA(t),null;case 6:if(e&&t.stateNode!=null)RL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Qn(166));if(n=m1(Q_.current),m1(Nf.current),ux(t)){if(r=t.stateNode,n=t.memoizedProps,r[Df]=t,(o=r.nodeValue!==n)&&(e=id,e!==null))switch(e.tag){case 3:lx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lx(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Df]=t,t.stateNode=r}return pA(t),null;case 13:if(ws(Vs),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Us&&td!==null&&t.mode&1&&!(t.flags&128))nL(),av(),t.flags|=98560,o=!1;else if(o=ux(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Qn(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Qn(317));o[Df]=t}else av(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pA(t),o=!1}else Kh!==null&&(DE(Kh),Kh=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Vs.current&1?Jl===0&&(Jl=3):I8())),t.updateQueue!==null&&(t.flags|=4),pA(t),null);case 4:return lv(),EE(e,t),e===null&&j_(t.stateNode.containerInfo),pA(t),null;case 10:return h8(t.type._context),pA(t),null;case 17:return Sc(t.type)&&U3(),pA(t),null;case 19:if(ws(Vs),o=t.memoizedState,o===null)return pA(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)MC(o,!1);else{if(Jl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=G3(e),a!==null){for(t.flags|=128,MC(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return as(Vs,Vs.current&1|2),t.child}e=e.sibling}o.tail!==null&&_l()>Av&&(t.flags|=128,r=!0,MC(o,!1),t.lanes=4194304)}else{if(!r)if(e=G3(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),MC(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Us)return pA(t),null}else 2*_l()-o.renderingStartTime>Av&&n!==1073741824&&(t.flags|=128,r=!0,MC(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_l(),t.sibling=null,n=Vs.current,as(Vs,r?n&1|2:n&1),t):(pA(t),null);case 22:case 23:return B8(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qc&1073741824&&(pA(t),t.subtreeFlags&6&&(t.flags|=8192)):pA(t),null;case 24:return null;case 25:return null}throw Error(Qn(156,t.tag))}function KV(e,t){switch(u8(t),t.tag){case 1:return Sc(t.type)&&U3(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lv(),ws(Mc),ws(vA),y8(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g8(t),null;case 13:if(ws(Vs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Qn(340));av()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ws(Vs),null;case 4:return lv(),null;case 10:return h8(t.type._context),null;case 22:case 23:return B8(),null;case 24:return null;default:return null}}var dx=!1,yA=!1,PV=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function yy(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sl(e,t,r)}else n.current=null}function OE(e,t,n){try{n()}catch(r){sl(e,t,r)}}var Lk=!1;function DV(e,t){if(cE=T3,e=GF(),s8(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,h=-1,m=0,C=0,E=e,O=null;t:for(;;){for(var P;E!==n||i!==0&&E.nodeType!==3||(s=a+i),E!==o||r!==0&&E.nodeType!==3||(h=a+r),E.nodeType===3&&(a+=E.nodeValue.length),(P=E.firstChild)!==null;)O=E,E=P;for(;;){if(E===e)break t;if(O===n&&++m===i&&(s=a),O===o&&++C===r&&(h=a),(P=E.nextSibling)!==null)break;E=O,O=E.parentNode}E=P}n=s===-1||h===-1?null:{start:s,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(dE={focusedElem:e,selectionRange:n},T3=!1,Kr=t;Kr!==null;)if(t=Kr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Kr=e;else for(;Kr!==null;){t=Kr;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var $=D.memoizedProps,ee=D.memoizedState,H=t.stateNode,G=H.getSnapshotBeforeUpdate(t.elementType===t.type?$:Ih(t.type,$),ee);H.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Z=t.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qn(163))}}catch(ue){sl(t,t.return,ue)}if(e=t.sibling,e!==null){e.return=t.return,Kr=e;break}Kr=t.return}return D=Lk,Lk=!1,D}function A_(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&OE(t,n,o)}i=i.next}while(i!==r)}}function F5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function BE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zL(e){var t=e.alternate;t!==null&&(e.alternate=null,zL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Df],delete t[G_],delete t[pE],delete t[gV],delete t[yV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jL(e){return e.tag===5||e.tag===3||e.tag===4}function Rk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function IE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=D3));else if(r!==4&&(e=e.child,e!==null))for(IE(e,t,n),e=e.sibling;e!==null;)IE(e,t,n),e=e.sibling}function kE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kE(e,t,n),e=e.sibling;e!==null;)kE(e,t,n),e=e.sibling}var ju=null,kh=!1;function Mm(e,t,n){for(n=n.child;n!==null;)NL(e,t,n),n=n.sibling}function NL(e,t,n){if(jf&&typeof jf.onCommitFiberUnmount=="function")try{jf.onCommitFiberUnmount(B5,n)}catch{}switch(n.tag){case 5:yA||yy(n,t);case 6:var r=ju,i=kh;ju=null,Mm(e,t,n),ju=r,kh=i,ju!==null&&(kh?(e=ju,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ju.removeChild(n.stateNode));break;case 18:ju!==null&&(kh?(e=ju,n=n.stateNode,e.nodeType===8?tS(e.parentNode,n):e.nodeType===1&&tS(e,n),L_(e)):tS(ju,n.stateNode));break;case 4:r=ju,i=kh,ju=n.stateNode.containerInfo,kh=!0,Mm(e,t,n),ju=r,kh=i;break;case 0:case 11:case 14:case 15:if(!yA&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&OE(n,t,a),i=i.next}while(i!==r)}Mm(e,t,n);break;case 1:if(!yA&&(yy(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){sl(n,t,s)}Mm(e,t,n);break;case 21:Mm(e,t,n);break;case 22:n.mode&1?(yA=(r=yA)||n.memoizedState!==null,Mm(e,t,n),yA=r):Mm(e,t,n);break;default:Mm(e,t,n)}}function zk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new PV),t.forEach(function(r){var i=WV.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wh(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:ju=s.stateNode,kh=!1;break e;case 3:ju=s.stateNode.containerInfo,kh=!0;break e;case 4:ju=s.stateNode.containerInfo,kh=!0;break e}s=s.return}if(ju===null)throw Error(Qn(160));NL(o,a,i),ju=null,kh=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(m){sl(i,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GL(t,e),t=t.sibling}function GL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wh(t,e),Mf(e),r&4){try{A_(3,e,e.return),F5(3,e)}catch($){sl(e,e.return,$)}try{A_(5,e,e.return)}catch($){sl(e,e.return,$)}}break;case 1:wh(t,e),Mf(e),r&512&&n!==null&&yy(n,n.return);break;case 5:if(wh(t,e),Mf(e),r&512&&n!==null&&yy(n,n.return),e.flags&32){var i=e.stateNode;try{P_(i,"")}catch($){sl(e,e.return,$)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&AF(i,o),tE(s,a);var m=tE(s,o);for(a=0;a<h.length;a+=2){var C=h[a],E=h[a+1];C==="style"?pF(i,E):C==="dangerouslySetInnerHTML"?hF(i,E):C==="children"?P_(i,E):qB(i,C,E,m)}switch(s){case"input":V6(i,o);break;case"textarea":cF(i,o);break;case"select":var O=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?Ty(i,!!o.multiple,P,!1):O!==!!o.multiple&&(o.defaultValue!=null?Ty(i,!!o.multiple,o.defaultValue,!0):Ty(i,!!o.multiple,o.multiple?[]:"",!1))}i[G_]=o}catch($){sl(e,e.return,$)}}break;case 6:if(wh(t,e),Mf(e),r&4){if(e.stateNode===null)throw Error(Qn(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch($){sl(e,e.return,$)}}break;case 3:if(wh(t,e),Mf(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{L_(t.containerInfo)}catch($){sl(e,e.return,$)}break;case 4:wh(t,e),Mf(e);break;case 13:wh(t,e),Mf(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(E8=_l())),r&4&&zk(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(yA=(m=yA)||C,wh(t,e),yA=m):wh(t,e),Mf(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!C&&e.mode&1)for(Kr=e,C=e.child;C!==null;){for(E=Kr=C;Kr!==null;){switch(O=Kr,P=O.child,O.tag){case 0:case 11:case 14:case 15:A_(4,O,O.return);break;case 1:yy(O,O.return);var D=O.stateNode;if(typeof D.componentWillUnmount=="function"){r=O,n=O.return;try{t=r,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch($){sl(r,n,$)}}break;case 5:yy(O,O.return);break;case 22:if(O.memoizedState!==null){Nk(E);continue}}P!==null?(P.return=O,Kr=P):Nk(E)}C=C.sibling}e:for(C=null,E=e;;){if(E.tag===5){if(C===null){C=E;try{i=E.stateNode,m?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=E.stateNode,h=E.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,s.style.display=fF("display",a))}catch($){sl(e,e.return,$)}}}else if(E.tag===6){if(C===null)try{E.stateNode.nodeValue=m?"":E.memoizedProps}catch($){sl(e,e.return,$)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;C===E&&(C=null),E=E.return}C===E&&(C=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:wh(t,e),Mf(e),r&4&&zk(e);break;case 21:break;default:wh(t,e),Mf(e)}}function Mf(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jL(n)){var r=n;break e}n=n.return}throw Error(Qn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(P_(i,""),r.flags&=-33);var o=Rk(e);kE(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Rk(e);IE(e,s,a);break;default:throw Error(Qn(161))}}catch(h){sl(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UV(e,t,n){Kr=e,WL(e)}function WL(e,t,n){for(var r=(e.mode&1)!==0;Kr!==null;){var i=Kr,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||dx;if(!a){var s=i.alternate,h=s!==null&&s.memoizedState!==null||yA;s=dx;var m=yA;if(dx=a,(yA=h)&&!m)for(Kr=i;Kr!==null;)a=Kr,h=a.child,a.tag===22&&a.memoizedState!==null?Gk(i):h!==null?(h.return=a,Kr=h):Gk(i);for(;o!==null;)Kr=o,WL(o),o=o.sibling;Kr=i,dx=s,yA=m}jk(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Kr=o):jk(e)}}function jk(e){for(;Kr!==null;){var t=Kr;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yA||F5(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yA)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ih(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wk(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wk(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var C=m.memoizedState;if(C!==null){var E=C.dehydrated;E!==null&&L_(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qn(163))}yA||t.flags&512&&BE(t)}catch(O){sl(t,t.return,O)}}if(t===e){Kr=null;break}if(n=t.sibling,n!==null){n.return=t.return,Kr=n;break}Kr=t.return}}function Nk(e){for(;Kr!==null;){var t=Kr;if(t===e){Kr=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Kr=n;break}Kr=t.return}}function Gk(e){for(;Kr!==null;){var t=Kr;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{F5(4,t)}catch(h){sl(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(h){sl(t,i,h)}}var o=t.return;try{BE(t)}catch(h){sl(t,o,h)}break;case 5:var a=t.return;try{BE(t)}catch(h){sl(t,a,h)}}}catch(h){sl(t,t.return,h)}if(t===e){Kr=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Kr=s;break}Kr=t.return}}var FV=Math.ceil,$3=nm.ReactCurrentDispatcher,M8=nm.ReactCurrentOwner,Wd=nm.ReactCurrentBatchConfig,Vo=0,Mu=null,Ul=null,Gu=0,qc=0,vy=C0(0),Jl=0,H_=null,D1=0,L5=0,S8=0,c_=null,bc=null,E8=0,Av=1/0,Kp=null,Y3=!1,TE=null,o0=null,hx=!1,Ym=null,q3=0,d_=0,KE=null,s3=-1,l3=0;function WA(){return Vo&6?_l():s3!==-1?s3:s3=_l()}function a0(e){return e.mode&1?Vo&2&&Gu!==0?Gu&-Gu:CV.transition!==null?(l3===0&&(l3=EF()),l3):(e=ka,e!==0||(e=window.event,e=e===void 0?16:PF(e.type)),e):1}function Uh(e,t,n,r){if(50<d_)throw d_=0,KE=null,Error(Qn(185));Sb(e,n,r),(!(Vo&2)||e!==Mu)&&(e===Mu&&(!(Vo&2)&&(L5|=n),Jl===4&&Gm(e,Gu)),Ec(e,r),n===1&&Vo===0&&!(t.mode&1)&&(Av=_l()+500,P5&&_0()))}function Ec(e,t){var n=e.callbackNode;CH(e,t);var r=k3(e,e===Mu?Gu:0);if(r===0)n!==null&&X9(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&X9(n),t===1)e.tag===0?vV(Wk.bind(null,e)):JF(Wk.bind(null,e)),pV(function(){!(Vo&6)&&_0()}),n=null;else{switch(OF(r)){case 1:n=JB;break;case 4:n=MF;break;case 16:n=I3;break;case 536870912:n=SF;break;default:n=I3}n=XL(n,QL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function QL(e,t){if(s3=-1,l3=0,Vo&6)throw Error(Qn(327));var n=e.callbackNode;if(Fy()&&e.callbackNode!==n)return null;var r=k3(e,e===Mu?Gu:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=H3(e,r);else{t=r;var i=Vo;Vo|=2;var o=YL();(Mu!==e||Gu!==t)&&(Kp=null,Av=_l()+500,x1(e,t));do try{zV();break}catch(s){$L(e,s)}while(!0);d8(),$3.current=o,Vo=i,Ul!==null?t=0:(Mu=null,Gu=0,t=Jl)}if(t!==0){if(t===2&&(i=aE(e),i!==0&&(r=i,t=PE(e,i))),t===1)throw n=H_,x1(e,0),Gm(e,r),Ec(e,_l()),n;if(t===6)Gm(e,r);else{if(i=e.current.alternate,!(r&30)&&!LV(i)&&(t=H3(e,r),t===2&&(o=aE(e),o!==0&&(r=o,t=PE(e,o))),t===1))throw n=H_,x1(e,0),Gm(e,r),Ec(e,_l()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Qn(345));case 2:n1(e,bc,Kp);break;case 3:if(Gm(e,r),(r&130023424)===r&&(t=E8+500-_l(),10<t)){if(k3(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){WA(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fE(n1.bind(null,e,bc,Kp),t);break}n1(e,bc,Kp);break;case 4:if(Gm(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Dh(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=_l()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FV(r/1960))-r,10<r){e.timeoutHandle=fE(n1.bind(null,e,bc,Kp),r);break}n1(e,bc,Kp);break;case 5:n1(e,bc,Kp);break;default:throw Error(Qn(329))}}}return Ec(e,_l()),e.callbackNode===n?QL.bind(null,e):null}function PE(e,t){var n=c_;return e.current.memoizedState.isDehydrated&&(x1(e,t).flags|=256),e=H3(e,t),e!==2&&(t=bc,bc=n,t!==null&&DE(t)),e}function DE(e){bc===null?bc=e:bc.push.apply(bc,e)}function LV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lh(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gm(e,t){for(t&=~S8,t&=~L5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dh(t),r=1<<n;e[n]=-1,t&=~r}}function Wk(e){if(Vo&6)throw Error(Qn(327));Fy();var t=k3(e,0);if(!(t&1))return Ec(e,_l()),null;var n=H3(e,t);if(e.tag!==0&&n===2){var r=aE(e);r!==0&&(t=r,n=PE(e,r))}if(n===1)throw n=H_,x1(e,0),Gm(e,t),Ec(e,_l()),n;if(n===6)throw Error(Qn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,n1(e,bc,Kp),Ec(e,_l()),null}function O8(e,t){var n=Vo;Vo|=1;try{return e(t)}finally{Vo=n,Vo===0&&(Av=_l()+500,P5&&_0())}}function U1(e){Ym!==null&&Ym.tag===0&&!(Vo&6)&&Fy();var t=Vo;Vo|=1;var n=Wd.transition,r=ka;try{if(Wd.transition=null,ka=1,e)return e()}finally{ka=r,Wd.transition=n,Vo=t,!(Vo&6)&&_0()}}function B8(){qc=vy.current,ws(vy)}function x1(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fV(n)),Ul!==null)for(n=Ul.return;n!==null;){var r=n;switch(u8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&U3();break;case 3:lv(),ws(Mc),ws(vA),y8();break;case 5:g8(r);break;case 4:lv();break;case 13:ws(Vs);break;case 19:ws(Vs);break;case 10:h8(r.type._context);break;case 22:case 23:B8()}n=n.return}if(Mu=e,Ul=e=s0(e.current,null),Gu=qc=t,Jl=0,H_=null,S8=L5=D1=0,bc=c_=null,p1!==null){for(t=0;t<p1.length;t++)if(n=p1[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}p1=null}return e}function $L(e,t){do{var n=Ul;try{if(d8(),i3.current=Q3,W3){for(var r=Js.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}W3=!1}if(P1=0,bu=Xl=Js=null,u_=!1,$_=0,M8.current=null,n===null||n.return===null){Jl=1,H_=t,Ul=null;break}e:{var o=e,a=n.return,s=n,h=t;if(t=Gu,s.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h,C=s,E=C.tag;if(!(C.mode&1)&&(E===0||E===11||E===15)){var O=C.alternate;O?(C.updateQueue=O.updateQueue,C.memoizedState=O.memoizedState,C.lanes=O.lanes):(C.updateQueue=null,C.memoizedState=null)}var P=kk(a);if(P!==null){P.flags&=-257,Tk(P,a,s,o,t),P.mode&1&&Ik(o,m,t),t=P,h=m;var D=t.updateQueue;if(D===null){var $=new Set;$.add(h),t.updateQueue=$}else D.add(h);break e}else{if(!(t&1)){Ik(o,m,t),I8();break e}h=Error(Qn(426))}}else if(Us&&s.mode&1){var ee=kk(a);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),Tk(ee,a,s,o,t),A8(uv(h,s));break e}}o=h=uv(h,s),Jl!==4&&(Jl=2),c_===null?c_=[o]:c_.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var H=BL(o,h,t);xk(o,H);break e;case 1:s=h;var G=o.type,Z=o.stateNode;if(!(o.flags&128)&&(typeof G.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(o0===null||!o0.has(Z)))){o.flags|=65536,t&=-t,o.lanes|=t;var ue=IL(o,s,t);xk(o,ue);break e}}o=o.return}while(o!==null)}HL(n)}catch(ye){t=ye,Ul===n&&n!==null&&(Ul=n=n.return);continue}break}while(!0)}function YL(){var e=$3.current;return $3.current=Q3,e===null?Q3:e}function I8(){(Jl===0||Jl===3||Jl===2)&&(Jl=4),Mu===null||!(D1&268435455)&&!(L5&268435455)||Gm(Mu,Gu)}function H3(e,t){var n=Vo;Vo|=2;var r=YL();(Mu!==e||Gu!==t)&&(Kp=null,x1(e,t));do try{RV();break}catch(i){$L(e,i)}while(!0);if(d8(),Vo=n,$3.current=r,Ul!==null)throw Error(Qn(261));return Mu=null,Gu=0,Jl}function RV(){for(;Ul!==null;)qL(Ul)}function zV(){for(;Ul!==null&&!cH();)qL(Ul)}function qL(e){var t=ZL(e.alternate,e,qc);e.memoizedProps=e.pendingProps,t===null?HL(e):Ul=t,M8.current=null}function HL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=KV(n,t),n!==null){n.flags&=32767,Ul=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jl=6,Ul=null;return}}else if(n=TV(n,t,qc),n!==null){Ul=n;return}if(t=t.sibling,t!==null){Ul=t;return}Ul=t=e}while(t!==null);Jl===0&&(Jl=5)}function n1(e,t,n){var r=ka,i=Wd.transition;try{Wd.transition=null,ka=1,jV(e,t,n,r)}finally{Wd.transition=i,ka=r}return null}function jV(e,t,n,r){do Fy();while(Ym!==null);if(Vo&6)throw Error(Qn(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Qn(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(_H(e,o),e===Mu&&(Ul=Mu=null,Gu=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hx||(hx=!0,XL(I3,function(){return Fy(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wd.transition,Wd.transition=null;var a=ka;ka=1;var s=Vo;Vo|=4,M8.current=null,DV(e,n),GL(n,e),sV(dE),T3=!!cE,dE=cE=null,e.current=n,UV(n),dH(),Vo=s,ka=a,Wd.transition=o}else e.current=n;if(hx&&(hx=!1,Ym=e,q3=i),o=e.pendingLanes,o===0&&(o0=null),pH(n.stateNode),Ec(e,_l()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Y3)throw Y3=!1,e=TE,TE=null,e;return q3&1&&e.tag!==0&&Fy(),o=e.pendingLanes,o&1?e===KE?d_++:(d_=0,KE=e):d_=0,_0(),null}function Fy(){if(Ym!==null){var e=OF(q3),t=Wd.transition,n=ka;try{if(Wd.transition=null,ka=16>e?16:e,Ym===null)var r=!1;else{if(e=Ym,Ym=null,q3=0,Vo&6)throw Error(Qn(331));var i=Vo;for(Vo|=4,Kr=e.current;Kr!==null;){var o=Kr,a=o.child;if(Kr.flags&16){var s=o.deletions;if(s!==null){for(var h=0;h<s.length;h++){var m=s[h];for(Kr=m;Kr!==null;){var C=Kr;switch(C.tag){case 0:case 11:case 15:A_(8,C,o)}var E=C.child;if(E!==null)E.return=C,Kr=E;else for(;Kr!==null;){C=Kr;var O=C.sibling,P=C.return;if(zL(C),C===m){Kr=null;break}if(O!==null){O.return=P,Kr=O;break}Kr=P}}}var D=o.alternate;if(D!==null){var $=D.child;if($!==null){D.child=null;do{var ee=$.sibling;$.sibling=null,$=ee}while($!==null)}}Kr=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Kr=a;else e:for(;Kr!==null;){if(o=Kr,o.flags&2048)switch(o.tag){case 0:case 11:case 15:A_(9,o,o.return)}var H=o.sibling;if(H!==null){H.return=o.return,Kr=H;break e}Kr=o.return}}var G=e.current;for(Kr=G;Kr!==null;){a=Kr;var Z=a.child;if(a.subtreeFlags&2064&&Z!==null)Z.return=a,Kr=Z;else e:for(a=G;Kr!==null;){if(s=Kr,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:F5(9,s)}}catch(ye){sl(s,s.return,ye)}if(s===a){Kr=null;break e}var ue=s.sibling;if(ue!==null){ue.return=s.return,Kr=ue;break e}Kr=s.return}}if(Vo=i,_0(),jf&&typeof jf.onPostCommitFiberRoot=="function")try{jf.onPostCommitFiberRoot(B5,e)}catch{}r=!0}return r}finally{ka=n,Wd.transition=t}}return!1}function Qk(e,t,n){t=uv(n,t),t=BL(e,t,1),e=i0(e,t,1),t=WA(),e!==null&&(Sb(e,1,t),Ec(e,t))}function sl(e,t,n){if(e.tag===3)Qk(e,e,n);else for(;t!==null;){if(t.tag===3){Qk(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(o0===null||!o0.has(r))){e=uv(n,e),e=IL(t,e,1),t=i0(t,e,1),e=WA(),t!==null&&(Sb(t,1,e),Ec(t,e));break}}t=t.return}}function NV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=WA(),e.pingedLanes|=e.suspendedLanes&n,Mu===e&&(Gu&n)===n&&(Jl===4||Jl===3&&(Gu&130023424)===Gu&&500>_l()-E8?x1(e,0):S8|=n),Ec(e,t)}function VL(e,t){t===0&&(e.mode&1?(t=rx,rx<<=1,!(rx&130023424)&&(rx=4194304)):t=1);var n=WA();e=em(e,t),e!==null&&(Sb(e,t,n),Ec(e,n))}function GV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VL(e,n)}function WV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Qn(314))}r!==null&&r.delete(t),VL(e,n)}var ZL;ZL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mc.current)wc=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wc=!1,kV(e,t,n);wc=!!(e.flags&131072)}else wc=!1,Us&&t.flags&1048576&&eL(t,R3,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;a3(e,t),e=t.pendingProps;var i=ov(t,vA.current);Uy(t,n),i=C8(null,t,r,e,i,n);var o=_8();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sc(r)?(o=!0,F3(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p8(t),i.updater=D5,t.stateNode=i,i._reactInternals=t,_E(t,r,e,n),t=wE(null,t,r,!0,o,n)):(t.tag=0,Us&&o&&l8(t),zA(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(a3(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$V(r),e=Ih(r,e),i){case 0:t=xE(null,t,r,e,n);break e;case 1:t=Dk(null,t,r,e,n);break e;case 11:t=Kk(null,t,r,e,n);break e;case 14:t=Pk(null,t,r,Ih(r.type,e),n);break e}throw Error(Qn(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ih(r,i),xE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ih(r,i),Dk(e,t,r,i,n);case 3:e:{if(PL(t),e===null)throw Error(Qn(387));r=t.pendingProps,o=t.memoizedState,i=o.element,iL(e,t),N3(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=uv(Error(Qn(423)),t),t=Uk(e,t,r,n,i);break e}else if(r!==i){i=uv(Error(Qn(424)),t),t=Uk(e,t,r,n,i);break e}else for(td=r0(t.stateNode.containerInfo.firstChild),id=t,Us=!0,Kh=null,n=lL(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(av(),r===i){t=tm(e,t,n);break e}zA(e,t,r,n)}t=t.child}return t;case 5:return uL(t),e===null&&yE(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,hE(r,i)?a=null:o!==null&&hE(r,o)&&(t.flags|=32),KL(e,t),zA(e,t,a,n),t.child;case 6:return e===null&&yE(t),null;case 13:return DL(e,t,n);case 4:return m8(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sv(t,null,r,n):zA(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ih(r,i),Kk(e,t,r,i,n);case 7:return zA(e,t,t.pendingProps,n),t.child;case 8:return zA(e,t,t.pendingProps.children,n),t.child;case 12:return zA(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,as(z3,r._currentValue),r._currentValue=a,o!==null)if(Lh(o.value,a)){if(o.children===i.children&&!Mc.current){t=tm(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var h=s.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=$p(-1,n&-n),h.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var C=m.pending;C===null?h.next=h:(h.next=C.next,C.next=h),m.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),vE(o.return,n,t),s.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Qn(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),vE(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}zA(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Uy(t,n),i=Yd(i),r=r(i),t.flags|=1,zA(e,t,r,n),t.child;case 14:return r=t.type,i=Ih(r,t.pendingProps),i=Ih(r.type,i),Pk(e,t,r,i,n);case 15:return kL(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ih(r,i),a3(e,t),t.tag=1,Sc(r)?(e=!0,F3(t)):e=!1,Uy(t,n),aL(t,r,i),_E(t,r,i,n),wE(null,t,r,!0,e,n);case 19:return UL(e,t,n);case 22:return TL(e,t,n)}throw Error(Qn(156,t.tag))};function XL(e,t){return wF(e,t)}function QV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jd(e,t,n,r){return new QV(e,t,n,r)}function k8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $V(e){if(typeof e=="function")return k8(e)?1:0;if(e!=null){if(e=e.$$typeof,e===VB)return 11;if(e===ZB)return 14}return 2}function s0(e,t){var n=e.alternate;return n===null?(n=jd(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function u3(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")k8(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case uy:return w1(n.children,i,o,t);case HB:a=8,i|=8;break;case Q6:return e=jd(12,n,t,i|2),e.elementType=Q6,e.lanes=o,e;case $6:return e=jd(13,n,t,i),e.elementType=$6,e.lanes=o,e;case Y6:return e=jd(19,n,t,i),e.elementType=Y6,e.lanes=o,e;case sF:return R5(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oF:a=10;break e;case aF:a=9;break e;case VB:a=11;break e;case ZB:a=14;break e;case Pm:a=16,r=null;break e}throw Error(Qn(130,e==null?e:typeof e,""))}return t=jd(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function w1(e,t,n,r){return e=jd(7,e,r,t),e.lanes=n,e}function R5(e,t,n,r){return e=jd(22,e,r,t),e.elementType=sF,e.lanes=n,e.stateNode={isHidden:!1},e}function uS(e,t,n){return e=jd(6,e,null,t),e.lanes=n,e}function AS(e,t,n){return t=jd(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YV(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=WM(0),this.expirationTimes=WM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WM(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T8(e,t,n,r,i,o,a,s,h){return e=new YV(e,t,n,s,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jd(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p8(o),e}function qV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ly,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function JL(e){if(!e)return p0;e=e._reactInternals;e:{if(q1(e)!==e||e.tag!==1)throw Error(Qn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sc(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Qn(171))}if(e.tag===1){var n=e.type;if(Sc(n))return XF(e,n,t)}return t}function eR(e,t,n,r,i,o,a,s,h){return e=T8(n,r,!0,e,i,o,a,s,h),e.context=JL(null),n=e.current,r=WA(),i=a0(n),o=$p(r,i),o.callback=t??null,i0(n,o,i),e.current.lanes=i,Sb(e,i,r),Ec(e,r),e}function z5(e,t,n,r){var i=t.current,o=WA(),a=a0(i);return n=JL(n),t.context===null?t.context=n:t.pendingContext=n,t=$p(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=i0(i,t,a),e!==null&&(Uh(e,i,a,o),r3(e,i,a)),a}function V3(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $k(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function K8(e,t){$k(e,t),(e=e.alternate)&&$k(e,t)}function HV(){return null}var tR=typeof reportError=="function"?reportError:function(e){console.error(e)};function P8(e){this._internalRoot=e}j5.prototype.render=P8.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Qn(409));z5(e,t,null,null)};j5.prototype.unmount=P8.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;U1(function(){z5(null,e,null,null)}),t[Jp]=null}};function j5(e){this._internalRoot=e}j5.prototype.unstable_scheduleHydration=function(e){if(e){var t=kF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nm.length&&t!==0&&t<Nm[n].priority;n++);Nm.splice(n,0,e),n===0&&KF(e)}};function D8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function N5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yk(){}function VV(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var m=V3(a);o.call(m)}}var a=eR(t,r,e,0,null,!1,!1,"",Yk);return e._reactRootContainer=a,e[Jp]=a.current,j_(e.nodeType===8?e.parentNode:e),U1(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var m=V3(h);s.call(m)}}var h=T8(e,0,!1,null,null,!1,!1,"",Yk);return e._reactRootContainer=h,e[Jp]=h.current,j_(e.nodeType===8?e.parentNode:e),U1(function(){z5(t,h,n,r)}),h}function G5(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var h=V3(a);s.call(h)}}z5(t,a,e,i)}else a=VV(n,t,e,i,r);return V3(a)}BF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=QC(t.pendingLanes);n!==0&&(e8(t,n|1),Ec(t,_l()),!(Vo&6)&&(Av=_l()+500,_0()))}break;case 13:U1(function(){var r=em(e,1);if(r!==null){var i=WA();Uh(r,e,1,i)}}),K8(e,1)}};t8=function(e){if(e.tag===13){var t=em(e,134217728);if(t!==null){var n=WA();Uh(t,e,134217728,n)}K8(e,134217728)}};IF=function(e){if(e.tag===13){var t=a0(e),n=em(e,t);if(n!==null){var r=WA();Uh(n,e,t,r)}K8(e,t)}};kF=function(){return ka};TF=function(e,t){var n=ka;try{return ka=e,t()}finally{ka=n}};rE=function(e,t,n){switch(t){case"input":if(V6(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=K5(r);if(!i)throw Error(Qn(90));uF(r),V6(r,i)}}}break;case"textarea":cF(e,n);break;case"select":t=n.value,t!=null&&Ty(e,!!n.multiple,t,!1)}};yF=O8;vF=U1;var ZV={usingClientEntryPoint:!1,Events:[Ob,hy,K5,mF,gF,O8]},SC={findFiberByHostInstance:f1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XV={bundleType:SC.bundleType,version:SC.version,rendererPackageName:SC.rendererPackageName,rendererConfig:SC.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nm.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bF(e),e===null?null:e.stateNode},findFiberByHostInstance:SC.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fx.isDisabled&&fx.supportsFiber)try{B5=fx.inject(XV),jf=fx}catch{}}ld.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZV;ld.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D8(t))throw Error(Qn(200));return qV(e,t,null,n)};ld.createRoot=function(e,t){if(!D8(e))throw Error(Qn(299));var n=!1,r="",i=tR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=T8(e,1,!1,null,null,n,!1,r,i),e[Jp]=t.current,j_(e.nodeType===8?e.parentNode:e),new P8(t)};ld.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Qn(188)):(e=Object.keys(e).join(","),Error(Qn(268,e)));return e=bF(t),e=e===null?null:e.stateNode,e};ld.flushSync=function(e){return U1(e)};ld.hydrate=function(e,t,n){if(!N5(t))throw Error(Qn(200));return G5(null,e,t,!0,n)};ld.hydrateRoot=function(e,t,n){if(!D8(e))throw Error(Qn(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=tR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=eR(t,null,e,1,n??null,i,!1,o,a),e[Jp]=t.current,j_(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new j5(t)};ld.render=function(e,t,n){if(!N5(t))throw Error(Qn(200));return G5(null,e,t,!1,n)};ld.unmountComponentAtNode=function(e){if(!N5(e))throw Error(Qn(40));return e._reactRootContainer?(U1(function(){G5(null,null,e,!1,function(){e._reactRootContainer=null,e[Jp]=null})}),!0):!1};ld.unstable_batchedUpdates=O8;ld.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!N5(n))throw Error(Qn(200));if(e==null||e._reactInternals===void 0)throw Error(Qn(38));return G5(e,t,n,!1,r)};ld.version="18.2.0-next-9e3b772b8-20220608";function nR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nR)}catch(e){console.error(e)}}nR(),eF.exports=ld;var b0=eF.exports;const JV=Ka(b0);var rR,qk=b0;rR=qk.createRoot,qk.hydrateRoot;var UE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(a){if(a===void 0){console.error("Autobind error: No context provided.");return}var s=Object.getPrototypeOf(a);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(s),r.forEach(function(h){var m=Object.getOwnPropertyDescriptor(s,h);if(m===void 0){console.warn('Autobind: "'+h+'" method not found in class.');return}n.indexOf(h)!==-1||typeof m.value!="function"||Object.defineProperty(s,h,o(s,h,m))})}function o(a,s,h){var m=h.value;return{configurable:!0,get:function(){if(this===a||this.hasOwnProperty(s))return m;var E=m.bind(this);return Object.defineProperty(this,s,{value:E,configurable:!0,writable:!0}),E}}}e.exports=t.default})(UE,UE.exports);var eZ=UE.exports,tZ=eZ;const nZ=Ka(tZ);var Z3={exports:{}};Z3.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",h="[object Date]",m="[object Error]",C="[object Function]",E="[object GeneratorFunction]",O="[object Map]",P="[object Number]",D="[object Object]",$="[object Promise]",ee="[object RegExp]",H="[object Set]",G="[object String]",Z="[object Symbol]",ue="[object WeakMap]",ye="[object ArrayBuffer]",be="[object DataView]",X="[object Float32Array]",se="[object Float64Array]",we="[object Int8Array]",xe="[object Int16Array]",De="[object Int32Array]",Ue="[object Uint8Array]",he="[object Uint8ClampedArray]",$e="[object Uint16Array]",ge="[object Uint32Array]",yt=/[\\^$.*+?()[\]{}|]/g,wt=/\w*$/,st=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,ze={};ze[o]=ze[a]=ze[ye]=ze[be]=ze[s]=ze[h]=ze[X]=ze[se]=ze[we]=ze[xe]=ze[De]=ze[O]=ze[P]=ze[D]=ze[ee]=ze[H]=ze[G]=ze[Z]=ze[Ue]=ze[he]=ze[$e]=ze[ge]=!0,ze[m]=ze[C]=ze[ue]=!1;var He=typeof window=="object"&&window&&window.Object===Object&&window,Ve=typeof self=="object"&&self&&self.Object===Object&&self,Vt=He||Ve||Function("return this")(),Yt=t&&!t.nodeType&&t,vt=Yt&&!0&&e&&!e.nodeType&&e,Qt=vt&&vt.exports===Yt;function $t(z,ae){return z.set(ae[0],ae[1]),z}function ke(z,ae){return z.add(ae),z}function pe(z,ae){for(var Le=-1,gt=z?z.length:0;++Le<gt&&ae(z[Le],Le,z)!==!1;);return z}function Se(z,ae){for(var Le=-1,gt=ae.length,Gn=z.length;++Le<gt;)z[Gn+Le]=ae[Le];return z}function Re(z,ae,Le,gt){var Gn=-1,vn=z?z.length:0;for(gt&&vn&&(Le=z[++Gn]);++Gn<vn;)Le=ae(Le,z[Gn],Gn,z);return Le}function it(z,ae){for(var Le=-1,gt=Array(z);++Le<z;)gt[Le]=ae(Le);return gt}function ot(z,ae){return z==null?void 0:z[ae]}function St(z){var ae=!1;if(z!=null&&typeof z.toString!="function")try{ae=!!(z+"")}catch{}return ae}function Rt(z){var ae=-1,Le=Array(z.size);return z.forEach(function(gt,Gn){Le[++ae]=[Gn,gt]}),Le}function zt(z,ae){return function(Le){return z(ae(Le))}}function pt(z){var ae=-1,Le=Array(z.size);return z.forEach(function(gt){Le[++ae]=gt}),Le}var ir=Array.prototype,gn=Function.prototype,yn=Object.prototype,er=Vt["__core-js_shared__"],cr=function(){var z=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Sr=gn.toString,Gr=yn.hasOwnProperty,yr=yn.toString,_i=RegExp("^"+Sr.call(Gr).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=Qt?Vt.Buffer:void 0,J=Vt.Symbol,q=Vt.Uint8Array,Te=zt(Object.getPrototypeOf,Object),At=Object.create,Bt=yn.propertyIsEnumerable,kt=ir.splice,Ut=Object.getOwnPropertySymbols,fn=Ee?Ee.isBuffer:void 0,Pn=zt(Object.keys,Object),On=na(Vt,"DataView"),g=na(Vt,"Map"),Kt=na(Vt,"Promise"),Pr=na(Vt,"Set"),nr=na(Vt,"WeakMap"),Pe=na(Object,"create"),ce=Wo(On),_e=Wo(g),Ie=Wo(Kt),je=Wo(Pr),rt=Wo(nr),lt=J?J.prototype:void 0,ft=lt?lt.valueOf:void 0;function et(z){var ae=-1,Le=z?z.length:0;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function Mt(){this.__data__=Pe?Pe(null):{}}function tn(z){return this.has(z)&&delete this.__data__[z]}function Ht(z){var ae=this.__data__;if(Pe){var Le=ae[z];return Le===r?void 0:Le}return Gr.call(ae,z)?ae[z]:void 0}function en(z){var ae=this.__data__;return Pe?ae[z]!==void 0:Gr.call(ae,z)}function Dn(z,ae){var Le=this.__data__;return Le[z]=Pe&&ae===void 0?r:ae,this}et.prototype.clear=Mt,et.prototype.delete=tn,et.prototype.get=Ht,et.prototype.has=en,et.prototype.set=Dn;function Bn(z){var ae=-1,Le=z?z.length:0;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function qn(){this.__data__=[]}function Er(z){var ae=this.__data__,Le=oo(ae,z);if(Le<0)return!1;var gt=ae.length-1;return Le==gt?ae.pop():kt.call(ae,Le,1),!0}function ur(z){var ae=this.__data__,Le=oo(ae,z);return Le<0?void 0:ae[Le][1]}function Yr(z){return oo(this.__data__,z)>-1}function Br(z,ae){var Le=this.__data__,gt=oo(Le,z);return gt<0?Le.push([z,ae]):Le[gt][1]=ae,this}Bn.prototype.clear=qn,Bn.prototype.delete=Er,Bn.prototype.get=ur,Bn.prototype.has=Yr,Bn.prototype.set=Br;function Fr(z){var ae=-1,Le=z?z.length:0;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function or(){this.__data__={hash:new et,map:new(g||Bn),string:new et}}function di(z){return us(this,z).delete(z)}function Ri(z){return us(this,z).get(z)}function ro(z){return us(this,z).has(z)}function po(z,ae){return us(this,z).set(z,ae),this}Fr.prototype.clear=or,Fr.prototype.delete=di,Fr.prototype.get=Ri,Fr.prototype.has=ro,Fr.prototype.set=po;function si(z){this.__data__=new Bn(z)}function mo(){this.__data__=new Bn}function Qa(z){return this.__data__.delete(z)}function Pa(z){return this.__data__.get(z)}function Ei(z){return this.__data__.has(z)}function ls(z,ae){var Le=this.__data__;if(Le instanceof Bn){var gt=Le.__data__;if(!g||gt.length<n-1)return gt.push([z,ae]),this;Le=this.__data__=new Fr(gt)}return Le.set(z,ae),this}si.prototype.clear=mo,si.prototype.delete=Qa,si.prototype.get=Pa,si.prototype.has=Ei,si.prototype.set=ls;function yi(z,ae){var Le=Al(z)||As(z)?it(z.length,String):[],gt=Le.length,Gn=!!gt;for(var vn in z)(ae||Gr.call(z,vn))&&!(Gn&&(vn=="length"||$u(vn,gt)))&&Le.push(vn);return Le}function Nn(z,ae,Le){var gt=z[ae];(!(Gr.call(z,ae)&&ru(gt,Le))||Le===void 0&&!(ae in z))&&(z[ae]=Le)}function oo(z,ae){for(var Le=z.length;Le--;)if(ru(z[Le][0],ae))return Le;return-1}function bo(z,ae){return z&&Ya(ae,wA(ae),z)}function zi(z,ae,Le,gt,Gn,vn,Kn){var Lr;if(gt&&(Lr=vn?gt(z,Gn,vn,Kn):gt(z)),Lr!==void 0)return Lr;if(!Aa(z))return z;var vr=Al(z);if(vr){if(Lr=Eu(z),!ae)return vi(z,Lr)}else{var kr=Ms(z),Ti=kr==C||kr==E;if(cl(z))return wn(z,ae);if(kr==D||kr==o||Ti&&!vn){if(St(z))return vn?z:{};if(Lr=ya(Ti?{}:z),!ae)return ta(z,bo(Lr,z))}else{if(!ze[kr])return vn?z:{};Lr=bA(z,kr,zi,ae)}}Kn||(Kn=new si);var go=Kn.get(z);if(go)return go;if(Kn.set(z,Lr),!vr)var Oi=Le?Su(z):wA(z);return pe(Oi||z,function(Xr,Zi){Oi&&(Zi=Xr,Xr=z[Zi]),Nn(Lr,Zi,zi(Xr,ae,Le,gt,Zi,z,Kn))}),Lr}function ve(z){return Aa(z)?At(z):{}}function Je(z,ae,Le){var gt=ae(z);return Al(z)?gt:Se(gt,Le(z))}function Zt(z){return yr.call(z)}function sn(z){if(!Aa(z)||Ou(z))return!1;var ae=Sl(z)||St(z)?_i:st;return ae.test(Wo(z))}function Ft(z){if(!Yu(z))return Pn(z);var ae=[];for(var Le in Object(z))Gr.call(z,Le)&&Le!="constructor"&&ae.push(Le);return ae}function wn(z,ae){if(ae)return z.slice();var Le=new z.constructor(z.length);return z.copy(Le),Le}function hr(z){var ae=new z.constructor(z.byteLength);return new q(ae).set(new q(z)),ae}function ii(z,ae){var Le=ae?hr(z.buffer):z.buffer;return new z.constructor(Le,z.byteOffset,z.byteLength)}function li(z,ae,Le){var gt=ae?Le(Rt(z),!0):Rt(z);return Re(gt,$t,new z.constructor)}function ea(z){var ae=new z.constructor(z.source,wt.exec(z));return ae.lastIndex=z.lastIndex,ae}function Fa(z,ae,Le){var gt=ae?Le(pt(z),!0):pt(z);return Re(gt,ke,new z.constructor)}function Dr(z){return ft?Object(ft.call(z)):{}}function $a(z,ae){var Le=ae?hr(z.buffer):z.buffer;return new z.constructor(Le,z.byteOffset,z.length)}function vi(z,ae){var Le=-1,gt=z.length;for(ae||(ae=Array(gt));++Le<gt;)ae[Le]=z[Le];return ae}function Ya(z,ae,Le,gt){Le||(Le={});for(var Gn=-1,vn=ae.length;++Gn<vn;){var Kn=ae[Gn],Lr=gt?gt(Le[Kn],z[Kn],Kn,Le,z):void 0;Nn(Le,Kn,Lr===void 0?z[Kn]:Lr)}return Le}function ta(z,ae){return Ya(z,ra(z),ae)}function Su(z){return Je(z,wA,ra)}function us(z,ae){var Le=z.__data__;return xA(ae)?Le[typeof ae=="string"?"string":"hash"]:Le.map}function na(z,ae){var Le=ot(z,ae);return sn(Le)?Le:void 0}var ra=Ut?zt(Ut,Object):_o,Ms=Zt;(On&&Ms(new On(new ArrayBuffer(1)))!=be||g&&Ms(new g)!=O||Kt&&Ms(Kt.resolve())!=$||Pr&&Ms(new Pr)!=H||nr&&Ms(new nr)!=ue)&&(Ms=function(z){var ae=yr.call(z),Le=ae==D?z.constructor:void 0,gt=Le?Wo(Le):void 0;if(gt)switch(gt){case ce:return be;case _e:return O;case Ie:return $;case je:return H;case rt:return ue}return ae});function Eu(z){var ae=z.length,Le=z.constructor(ae);return ae&&typeof z[0]=="string"&&Gr.call(z,"index")&&(Le.index=z.index,Le.input=z.input),Le}function ya(z){return typeof z.constructor=="function"&&!Yu(z)?ve(Te(z)):{}}function bA(z,ae,Le,gt){var Gn=z.constructor;switch(ae){case ye:return hr(z);case s:case h:return new Gn(+z);case be:return ii(z,gt);case X:case se:case we:case xe:case De:case Ue:case he:case $e:case ge:return $a(z,gt);case O:return li(z,gt,Le);case P:case G:return new Gn(z);case ee:return ea(z);case H:return Fa(z,gt,Le);case Z:return Dr(z)}}function $u(z,ae){return ae=ae??i,!!ae&&(typeof z=="number"||mt.test(z))&&z>-1&&z%1==0&&z<ae}function xA(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function Ou(z){return!!cr&&cr in z}function Yu(z){var ae=z&&z.constructor,Le=typeof ae=="function"&&ae.prototype||yn;return z===Le}function Wo(z){if(z!=null){try{return Sr.call(z)}catch{}try{return z+""}catch{}}return""}function Ss(z){return zi(z,!0,!0)}function ru(z,ae){return z===ae||z!==z&&ae!==ae}function As(z){return Bu(z)&&Gr.call(z,"callee")&&(!Bt.call(z,"callee")||yr.call(z)==o)}var Al=Array.isArray;function Qo(z){return z!=null&&iu(z.length)&&!Sl(z)}function Bu(z){return dl(z)&&Qo(z)}var cl=fn||ao;function Sl(z){var ae=Aa(z)?yr.call(z):"";return ae==C||ae==E}function iu(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=i}function Aa(z){var ae=typeof z;return!!z&&(ae=="object"||ae=="function")}function dl(z){return!!z&&typeof z=="object"}function wA(z){return Qo(z)?yi(z):Ft(z)}function _o(){return[]}function ao(){return!1}e.exports=Ss})(Z3,Z3.exports);var rZ=Z3.exports;const Hk=Ka(rZ);var Vk=NaN,iZ="[object Symbol]",oZ=/^\s+|\s+$/g,aZ=/^[-+]0x[0-9a-f]+$/i,sZ=/^0b[01]+$/i,lZ=/^0o[0-7]+$/i,uZ=parseInt,AZ=Object.prototype,cZ=AZ.toString;function dZ(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function Zk(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function hZ(e){return!!e&&typeof e=="object"}function fZ(e){return typeof e=="symbol"||hZ(e)&&cZ.call(e)==iZ}function cS(e){if(typeof e=="number")return e;if(fZ(e))return Vk;if(Zk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Zk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(oZ,"");var n=sZ.test(e);return n||lZ.test(e)?uZ(e.slice(2),n?2:8):aZ.test(e)?Vk:+e}function pZ(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=cS(n),n=n===n?n:0),t!==void 0&&(t=cS(t),t=t===t?t:0),dZ(cS(e),t,n)}var mZ=pZ;const Xk=Ka(mZ);var iR={},W5={};W5.byteLength=vZ;W5.toByteArray=_Z;W5.fromByteArray=wZ;var Uf=[],Ud=[],gZ=typeof Uint8Array<"u"?Uint8Array:Array,dS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ug=0,yZ=dS.length;Ug<yZ;++Ug)Uf[Ug]=dS[Ug],Ud[dS.charCodeAt(Ug)]=Ug;Ud[45]=62;Ud[95]=63;function oR(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function vZ(e){var t=oR(e),n=t[0],r=t[1];return(n+r)*3/4-r}function CZ(e,t,n){return(t+n)*3/4-n}function _Z(e){var t,n=oR(e),r=n[0],i=n[1],o=new gZ(CZ(e,r,i)),a=0,s=i>0?r-4:r,h;for(h=0;h<s;h+=4)t=Ud[e.charCodeAt(h)]<<18|Ud[e.charCodeAt(h+1)]<<12|Ud[e.charCodeAt(h+2)]<<6|Ud[e.charCodeAt(h+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=Ud[e.charCodeAt(h)]<<2|Ud[e.charCodeAt(h+1)]>>4,o[a++]=t&255),i===1&&(t=Ud[e.charCodeAt(h)]<<10|Ud[e.charCodeAt(h+1)]<<4|Ud[e.charCodeAt(h+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function bZ(e){return Uf[e>>18&63]+Uf[e>>12&63]+Uf[e>>6&63]+Uf[e&63]}function xZ(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(bZ(r));return i.join("")}function wZ(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(xZ(e,a,a+o>s?s:a+o));return r===1?(t=e[n-1],i.push(Uf[t>>2]+Uf[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Uf[t>>10]+Uf[t>>4&63]+Uf[t<<2&63]+"=")),i.join("")}var Q5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Q5.read=function(e,t,n,r,i){var o,a,s=i*8-r-1,h=(1<<s)-1,m=h>>1,C=-7,E=n?i-1:0,O=n?-1:1,P=e[t+E];for(E+=O,o=P&(1<<-C)-1,P>>=-C,C+=s;C>0;o=o*256+e[t+E],E+=O,C-=8);for(a=o&(1<<-C)-1,o>>=-C,C+=r;C>0;a=a*256+e[t+E],E+=O,C-=8);if(o===0)o=1-m;else{if(o===h)return a?NaN:(P?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-m}return(P?-1:1)*a*Math.pow(2,o-r)};Q5.write=function(e,t,n,r,i,o){var a,s,h,m=o*8-i-1,C=(1<<m)-1,E=C>>1,O=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=r?0:o-1,D=r?1:-1,$=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=C):(a=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-a))<1&&(a--,h*=2),a+E>=1?t+=O/h:t+=O*Math.pow(2,1-E),t*h>=2&&(a++,h/=2),a+E>=C?(s=0,a=C):a+E>=1?(s=(t*h-1)*Math.pow(2,i),a=a+E):(s=t*Math.pow(2,E-1)*Math.pow(2,i),a=0));i>=8;e[n+P]=s&255,P+=D,s/=256,i-=8);for(a=a<<i|s,m+=i;m>0;e[n+P]=a&255,P+=D,a/=256,m-=8);e[n+P-D]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=W5,n=Q5,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const Ee=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(Ee,J),Ee.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(Ee){if(Ee>i)throw new RangeError('The value "'+Ee+'" is invalid for option "size"');const J=new Uint8Array(Ee);return Object.setPrototypeOf(J,s.prototype),J}function s(Ee,J,q){if(typeof Ee=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(Ee)}return h(Ee,J,q)}s.poolSize=8192;function h(Ee,J,q){if(typeof Ee=="string")return O(Ee,J);if(ArrayBuffer.isView(Ee))return D(Ee);if(Ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee);if(cr(Ee,ArrayBuffer)||Ee&&cr(Ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(cr(Ee,SharedArrayBuffer)||Ee&&cr(Ee.buffer,SharedArrayBuffer)))return $(Ee,J,q);if(typeof Ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Te=Ee.valueOf&&Ee.valueOf();if(Te!=null&&Te!==Ee)return s.from(Te,J,q);const At=ee(Ee);if(At)return At;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ee[Symbol.toPrimitive]=="function")return s.from(Ee[Symbol.toPrimitive]("string"),J,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee)}s.from=function(Ee,J,q){return h(Ee,J,q)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function m(Ee){if(typeof Ee!="number")throw new TypeError('"size" argument must be of type number');if(Ee<0)throw new RangeError('The value "'+Ee+'" is invalid for option "size"')}function C(Ee,J,q){return m(Ee),Ee<=0?a(Ee):J!==void 0?typeof q=="string"?a(Ee).fill(J,q):a(Ee).fill(J):a(Ee)}s.alloc=function(Ee,J,q){return C(Ee,J,q)};function E(Ee){return m(Ee),a(Ee<0?0:H(Ee)|0)}s.allocUnsafe=function(Ee){return E(Ee)},s.allocUnsafeSlow=function(Ee){return E(Ee)};function O(Ee,J){if((typeof J!="string"||J==="")&&(J="utf8"),!s.isEncoding(J))throw new TypeError("Unknown encoding: "+J);const q=Z(Ee,J)|0;let Te=a(q);const At=Te.write(Ee,J);return At!==q&&(Te=Te.slice(0,At)),Te}function P(Ee){const J=Ee.length<0?0:H(Ee.length)|0,q=a(J);for(let Te=0;Te<J;Te+=1)q[Te]=Ee[Te]&255;return q}function D(Ee){if(cr(Ee,Uint8Array)){const J=new Uint8Array(Ee);return $(J.buffer,J.byteOffset,J.byteLength)}return P(Ee)}function $(Ee,J,q){if(J<0||Ee.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(Ee.byteLength<J+(q||0))throw new RangeError('"length" is outside of buffer bounds');let Te;return J===void 0&&q===void 0?Te=new Uint8Array(Ee):q===void 0?Te=new Uint8Array(Ee,J):Te=new Uint8Array(Ee,J,q),Object.setPrototypeOf(Te,s.prototype),Te}function ee(Ee){if(s.isBuffer(Ee)){const J=H(Ee.length)|0,q=a(J);return q.length===0||Ee.copy(q,0,0,J),q}if(Ee.length!==void 0)return typeof Ee.length!="number"||Sr(Ee.length)?a(0):P(Ee);if(Ee.type==="Buffer"&&Array.isArray(Ee.data))return P(Ee.data)}function H(Ee){if(Ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Ee|0}function G(Ee){return+Ee!=Ee&&(Ee=0),s.alloc(+Ee)}s.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==s.prototype},s.compare=function(J,q){if(cr(J,Uint8Array)&&(J=s.from(J,J.offset,J.byteLength)),cr(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),!s.isBuffer(J)||!s.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===q)return 0;let Te=J.length,At=q.length;for(let Bt=0,kt=Math.min(Te,At);Bt<kt;++Bt)if(J[Bt]!==q[Bt]){Te=J[Bt],At=q[Bt];break}return Te<At?-1:At<Te?1:0},s.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(J,q){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return s.alloc(0);let Te;if(q===void 0)for(q=0,Te=0;Te<J.length;++Te)q+=J[Te].length;const At=s.allocUnsafe(q);let Bt=0;for(Te=0;Te<J.length;++Te){let kt=J[Te];if(cr(kt,Uint8Array))Bt+kt.length>At.length?(s.isBuffer(kt)||(kt=s.from(kt)),kt.copy(At,Bt)):Uint8Array.prototype.set.call(At,kt,Bt);else if(s.isBuffer(kt))kt.copy(At,Bt);else throw new TypeError('"list" argument must be an Array of Buffers');Bt+=kt.length}return At};function Z(Ee,J){if(s.isBuffer(Ee))return Ee.length;if(ArrayBuffer.isView(Ee)||cr(Ee,ArrayBuffer))return Ee.byteLength;if(typeof Ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ee);const q=Ee.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&q===0)return 0;let At=!1;for(;;)switch(J){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return pt(Ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return yn(Ee).length;default:if(At)return Te?-1:pt(Ee).length;J=(""+J).toLowerCase(),At=!0}}s.byteLength=Z;function ue(Ee,J,q){let Te=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,J>>>=0,q<=J))return"";for(Ee||(Ee="utf8");;)switch(Ee){case"hex":return mt(this,J,q);case"utf8":case"utf-8":return $e(this,J,q);case"ascii":return wt(this,J,q);case"latin1":case"binary":return st(this,J,q);case"base64":return he(this,J,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ze(this,J,q);default:if(Te)throw new TypeError("Unknown encoding: "+Ee);Ee=(Ee+"").toLowerCase(),Te=!0}}s.prototype._isBuffer=!0;function ye(Ee,J,q){const Te=Ee[J];Ee[J]=Ee[q],Ee[q]=Te}s.prototype.swap16=function(){const J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<J;q+=2)ye(this,q,q+1);return this},s.prototype.swap32=function(){const J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<J;q+=4)ye(this,q,q+3),ye(this,q+1,q+2);return this},s.prototype.swap64=function(){const J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<J;q+=8)ye(this,q,q+7),ye(this,q+1,q+6),ye(this,q+2,q+5),ye(this,q+3,q+4);return this},s.prototype.toString=function(){const J=this.length;return J===0?"":arguments.length===0?$e(this,0,J):ue.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(J){if(!s.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:s.compare(this,J)===0},s.prototype.inspect=function(){let J="";const q=e.INSPECT_MAX_BYTES;return J=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(J+=" ... "),"<Buffer "+J+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(J,q,Te,At,Bt){if(cr(J,Uint8Array)&&(J=s.from(J,J.offset,J.byteLength)),!s.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(q===void 0&&(q=0),Te===void 0&&(Te=J?J.length:0),At===void 0&&(At=0),Bt===void 0&&(Bt=this.length),q<0||Te>J.length||At<0||Bt>this.length)throw new RangeError("out of range index");if(At>=Bt&&q>=Te)return 0;if(At>=Bt)return-1;if(q>=Te)return 1;if(q>>>=0,Te>>>=0,At>>>=0,Bt>>>=0,this===J)return 0;let kt=Bt-At,Ut=Te-q;const fn=Math.min(kt,Ut),Pn=this.slice(At,Bt),On=J.slice(q,Te);for(let g=0;g<fn;++g)if(Pn[g]!==On[g]){kt=Pn[g],Ut=On[g];break}return kt<Ut?-1:Ut<kt?1:0};function be(Ee,J,q,Te,At){if(Ee.length===0)return-1;if(typeof q=="string"?(Te=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Sr(q)&&(q=At?0:Ee.length-1),q<0&&(q=Ee.length+q),q>=Ee.length){if(At)return-1;q=Ee.length-1}else if(q<0)if(At)q=0;else return-1;if(typeof J=="string"&&(J=s.from(J,Te)),s.isBuffer(J))return J.length===0?-1:X(Ee,J,q,Te,At);if(typeof J=="number")return J=J&255,typeof Uint8Array.prototype.indexOf=="function"?At?Uint8Array.prototype.indexOf.call(Ee,J,q):Uint8Array.prototype.lastIndexOf.call(Ee,J,q):X(Ee,[J],q,Te,At);throw new TypeError("val must be string, number or Buffer")}function X(Ee,J,q,Te,At){let Bt=1,kt=Ee.length,Ut=J.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(Ee.length<2||J.length<2)return-1;Bt=2,kt/=2,Ut/=2,q/=2}function fn(On,g){return Bt===1?On[g]:On.readUInt16BE(g*Bt)}let Pn;if(At){let On=-1;for(Pn=q;Pn<kt;Pn++)if(fn(Ee,Pn)===fn(J,On===-1?0:Pn-On)){if(On===-1&&(On=Pn),Pn-On+1===Ut)return On*Bt}else On!==-1&&(Pn-=Pn-On),On=-1}else for(q+Ut>kt&&(q=kt-Ut),Pn=q;Pn>=0;Pn--){let On=!0;for(let g=0;g<Ut;g++)if(fn(Ee,Pn+g)!==fn(J,g)){On=!1;break}if(On)return Pn}return-1}s.prototype.includes=function(J,q,Te){return this.indexOf(J,q,Te)!==-1},s.prototype.indexOf=function(J,q,Te){return be(this,J,q,Te,!0)},s.prototype.lastIndexOf=function(J,q,Te){return be(this,J,q,Te,!1)};function se(Ee,J,q,Te){q=Number(q)||0;const At=Ee.length-q;Te?(Te=Number(Te),Te>At&&(Te=At)):Te=At;const Bt=J.length;Te>Bt/2&&(Te=Bt/2);let kt;for(kt=0;kt<Te;++kt){const Ut=parseInt(J.substr(kt*2,2),16);if(Sr(Ut))return kt;Ee[q+kt]=Ut}return kt}function we(Ee,J,q,Te){return er(pt(J,Ee.length-q),Ee,q,Te)}function xe(Ee,J,q,Te){return er(ir(J),Ee,q,Te)}function De(Ee,J,q,Te){return er(yn(J),Ee,q,Te)}function Ue(Ee,J,q,Te){return er(gn(J,Ee.length-q),Ee,q,Te)}s.prototype.write=function(J,q,Te,At){if(q===void 0)At="utf8",Te=this.length,q=0;else if(Te===void 0&&typeof q=="string")At=q,Te=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(Te)?(Te=Te>>>0,At===void 0&&(At="utf8")):(At=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Bt=this.length-q;if((Te===void 0||Te>Bt)&&(Te=Bt),J.length>0&&(Te<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");At||(At="utf8");let kt=!1;for(;;)switch(At){case"hex":return se(this,J,q,Te);case"utf8":case"utf-8":return we(this,J,q,Te);case"ascii":case"latin1":case"binary":return xe(this,J,q,Te);case"base64":return De(this,J,q,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,J,q,Te);default:if(kt)throw new TypeError("Unknown encoding: "+At);At=(""+At).toLowerCase(),kt=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(Ee,J,q){return J===0&&q===Ee.length?t.fromByteArray(Ee):t.fromByteArray(Ee.slice(J,q))}function $e(Ee,J,q){q=Math.min(Ee.length,q);const Te=[];let At=J;for(;At<q;){const Bt=Ee[At];let kt=null,Ut=Bt>239?4:Bt>223?3:Bt>191?2:1;if(At+Ut<=q){let fn,Pn,On,g;switch(Ut){case 1:Bt<128&&(kt=Bt);break;case 2:fn=Ee[At+1],(fn&192)===128&&(g=(Bt&31)<<6|fn&63,g>127&&(kt=g));break;case 3:fn=Ee[At+1],Pn=Ee[At+2],(fn&192)===128&&(Pn&192)===128&&(g=(Bt&15)<<12|(fn&63)<<6|Pn&63,g>2047&&(g<55296||g>57343)&&(kt=g));break;case 4:fn=Ee[At+1],Pn=Ee[At+2],On=Ee[At+3],(fn&192)===128&&(Pn&192)===128&&(On&192)===128&&(g=(Bt&15)<<18|(fn&63)<<12|(Pn&63)<<6|On&63,g>65535&&g<1114112&&(kt=g))}}kt===null?(kt=65533,Ut=1):kt>65535&&(kt-=65536,Te.push(kt>>>10&1023|55296),kt=56320|kt&1023),Te.push(kt),At+=Ut}return yt(Te)}const ge=4096;function yt(Ee){const J=Ee.length;if(J<=ge)return String.fromCharCode.apply(String,Ee);let q="",Te=0;for(;Te<J;)q+=String.fromCharCode.apply(String,Ee.slice(Te,Te+=ge));return q}function wt(Ee,J,q){let Te="";q=Math.min(Ee.length,q);for(let At=J;At<q;++At)Te+=String.fromCharCode(Ee[At]&127);return Te}function st(Ee,J,q){let Te="";q=Math.min(Ee.length,q);for(let At=J;At<q;++At)Te+=String.fromCharCode(Ee[At]);return Te}function mt(Ee,J,q){const Te=Ee.length;(!J||J<0)&&(J=0),(!q||q<0||q>Te)&&(q=Te);let At="";for(let Bt=J;Bt<q;++Bt)At+=Gr[Ee[Bt]];return At}function ze(Ee,J,q){const Te=Ee.slice(J,q);let At="";for(let Bt=0;Bt<Te.length-1;Bt+=2)At+=String.fromCharCode(Te[Bt]+Te[Bt+1]*256);return At}s.prototype.slice=function(J,q){const Te=this.length;J=~~J,q=q===void 0?Te:~~q,J<0?(J+=Te,J<0&&(J=0)):J>Te&&(J=Te),q<0?(q+=Te,q<0&&(q=0)):q>Te&&(q=Te),q<J&&(q=J);const At=this.subarray(J,q);return Object.setPrototypeOf(At,s.prototype),At};function He(Ee,J,q){if(Ee%1!==0||Ee<0)throw new RangeError("offset is not uint");if(Ee+J>q)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=this[J],Bt=1,kt=0;for(;++kt<q&&(Bt*=256);)At+=this[J+kt]*Bt;return At},s.prototype.readUintBE=s.prototype.readUIntBE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=this[J+--q],Bt=1;for(;q>0&&(Bt*=256);)At+=this[J+--q]*Bt;return At},s.prototype.readUint8=s.prototype.readUInt8=function(J,q){return J=J>>>0,q||He(J,1,this.length),this[J]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(J,q){return J=J>>>0,q||He(J,2,this.length),this[J]|this[J+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(J,q){return J=J>>>0,q||He(J,2,this.length),this[J]<<8|this[J+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(J,q){return J=J>>>0,q||He(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(J,q){return J=J>>>0,q||He(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},s.prototype.readBigUInt64LE=yr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=q+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24,Bt=this[++J]+this[++J]*2**8+this[++J]*2**16+Te*2**24;return BigInt(At)+(BigInt(Bt)<<BigInt(32))}),s.prototype.readBigUInt64BE=yr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=q*2**24+this[++J]*2**16+this[++J]*2**8+this[++J],Bt=this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+Te;return(BigInt(At)<<BigInt(32))+BigInt(Bt)}),s.prototype.readIntLE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=this[J],Bt=1,kt=0;for(;++kt<q&&(Bt*=256);)At+=this[J+kt]*Bt;return Bt*=128,At>=Bt&&(At-=Math.pow(2,8*q)),At},s.prototype.readIntBE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=q,Bt=1,kt=this[J+--At];for(;At>0&&(Bt*=256);)kt+=this[J+--At]*Bt;return Bt*=128,kt>=Bt&&(kt-=Math.pow(2,8*q)),kt},s.prototype.readInt8=function(J,q){return J=J>>>0,q||He(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},s.prototype.readInt16LE=function(J,q){J=J>>>0,q||He(J,2,this.length);const Te=this[J]|this[J+1]<<8;return Te&32768?Te|4294901760:Te},s.prototype.readInt16BE=function(J,q){J=J>>>0,q||He(J,2,this.length);const Te=this[J+1]|this[J]<<8;return Te&32768?Te|4294901760:Te},s.prototype.readInt32LE=function(J,q){return J=J>>>0,q||He(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},s.prototype.readInt32BE=function(J,q){return J=J>>>0,q||He(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},s.prototype.readBigInt64LE=yr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=this[J+4]+this[J+5]*2**8+this[J+6]*2**16+(Te<<24);return(BigInt(At)<<BigInt(32))+BigInt(q+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24)}),s.prototype.readBigInt64BE=yr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=(q<<24)+this[++J]*2**16+this[++J]*2**8+this[++J];return(BigInt(At)<<BigInt(32))+BigInt(this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+Te)}),s.prototype.readFloatLE=function(J,q){return J=J>>>0,q||He(J,4,this.length),n.read(this,J,!0,23,4)},s.prototype.readFloatBE=function(J,q){return J=J>>>0,q||He(J,4,this.length),n.read(this,J,!1,23,4)},s.prototype.readDoubleLE=function(J,q){return J=J>>>0,q||He(J,8,this.length),n.read(this,J,!0,52,8)},s.prototype.readDoubleBE=function(J,q){return J=J>>>0,q||He(J,8,this.length),n.read(this,J,!1,52,8)};function Ve(Ee,J,q,Te,At,Bt){if(!s.isBuffer(Ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>At||J<Bt)throw new RangeError('"value" argument is out of bounds');if(q+Te>Ee.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(J,q,Te,At){if(J=+J,q=q>>>0,Te=Te>>>0,!At){const Ut=Math.pow(2,8*Te)-1;Ve(this,J,q,Te,Ut,0)}let Bt=1,kt=0;for(this[q]=J&255;++kt<Te&&(Bt*=256);)this[q+kt]=J/Bt&255;return q+Te},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(J,q,Te,At){if(J=+J,q=q>>>0,Te=Te>>>0,!At){const Ut=Math.pow(2,8*Te)-1;Ve(this,J,q,Te,Ut,0)}let Bt=Te-1,kt=1;for(this[q+Bt]=J&255;--Bt>=0&&(kt*=256);)this[q+Bt]=J/kt&255;return q+Te},s.prototype.writeUint8=s.prototype.writeUInt8=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,1,255,0),this[q]=J&255,q+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,65535,0),this[q]=J&255,this[q+1]=J>>>8,q+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,65535,0),this[q]=J>>>8,this[q+1]=J&255,q+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,4294967295,0),this[q+3]=J>>>24,this[q+2]=J>>>16,this[q+1]=J>>>8,this[q]=J&255,q+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,4294967295,0),this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=J&255,q+4};function Vt(Ee,J,q,Te,At){it(J,Te,At,Ee,q,7);let Bt=Number(J&BigInt(4294967295));Ee[q++]=Bt,Bt=Bt>>8,Ee[q++]=Bt,Bt=Bt>>8,Ee[q++]=Bt,Bt=Bt>>8,Ee[q++]=Bt;let kt=Number(J>>BigInt(32)&BigInt(4294967295));return Ee[q++]=kt,kt=kt>>8,Ee[q++]=kt,kt=kt>>8,Ee[q++]=kt,kt=kt>>8,Ee[q++]=kt,q}function Yt(Ee,J,q,Te,At){it(J,Te,At,Ee,q,7);let Bt=Number(J&BigInt(4294967295));Ee[q+7]=Bt,Bt=Bt>>8,Ee[q+6]=Bt,Bt=Bt>>8,Ee[q+5]=Bt,Bt=Bt>>8,Ee[q+4]=Bt;let kt=Number(J>>BigInt(32)&BigInt(4294967295));return Ee[q+3]=kt,kt=kt>>8,Ee[q+2]=kt,kt=kt>>8,Ee[q+1]=kt,kt=kt>>8,Ee[q]=kt,q+8}s.prototype.writeBigUInt64LE=yr(function(J,q=0){return Vt(this,J,q,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=yr(function(J,q=0){return Yt(this,J,q,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(J,q,Te,At){if(J=+J,q=q>>>0,!At){const fn=Math.pow(2,8*Te-1);Ve(this,J,q,Te,fn-1,-fn)}let Bt=0,kt=1,Ut=0;for(this[q]=J&255;++Bt<Te&&(kt*=256);)J<0&&Ut===0&&this[q+Bt-1]!==0&&(Ut=1),this[q+Bt]=(J/kt>>0)-Ut&255;return q+Te},s.prototype.writeIntBE=function(J,q,Te,At){if(J=+J,q=q>>>0,!At){const fn=Math.pow(2,8*Te-1);Ve(this,J,q,Te,fn-1,-fn)}let Bt=Te-1,kt=1,Ut=0;for(this[q+Bt]=J&255;--Bt>=0&&(kt*=256);)J<0&&Ut===0&&this[q+Bt+1]!==0&&(Ut=1),this[q+Bt]=(J/kt>>0)-Ut&255;return q+Te},s.prototype.writeInt8=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,1,127,-128),J<0&&(J=255+J+1),this[q]=J&255,q+1},s.prototype.writeInt16LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,32767,-32768),this[q]=J&255,this[q+1]=J>>>8,q+2},s.prototype.writeInt16BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,32767,-32768),this[q]=J>>>8,this[q+1]=J&255,q+2},s.prototype.writeInt32LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,2147483647,-2147483648),this[q]=J&255,this[q+1]=J>>>8,this[q+2]=J>>>16,this[q+3]=J>>>24,q+4},s.prototype.writeInt32BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=J&255,q+4},s.prototype.writeBigInt64LE=yr(function(J,q=0){return Vt(this,J,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=yr(function(J,q=0){return Yt(this,J,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function vt(Ee,J,q,Te,At,Bt){if(q+Te>Ee.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Qt(Ee,J,q,Te,At){return J=+J,q=q>>>0,At||vt(Ee,J,q,4),n.write(Ee,J,q,Te,23,4),q+4}s.prototype.writeFloatLE=function(J,q,Te){return Qt(this,J,q,!0,Te)},s.prototype.writeFloatBE=function(J,q,Te){return Qt(this,J,q,!1,Te)};function $t(Ee,J,q,Te,At){return J=+J,q=q>>>0,At||vt(Ee,J,q,8),n.write(Ee,J,q,Te,52,8),q+8}s.prototype.writeDoubleLE=function(J,q,Te){return $t(this,J,q,!0,Te)},s.prototype.writeDoubleBE=function(J,q,Te){return $t(this,J,q,!1,Te)},s.prototype.copy=function(J,q,Te,At){if(!s.isBuffer(J))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!At&&At!==0&&(At=this.length),q>=J.length&&(q=J.length),q||(q=0),At>0&&At<Te&&(At=Te),At===Te||J.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(At<0)throw new RangeError("sourceEnd out of bounds");At>this.length&&(At=this.length),J.length-q<At-Te&&(At=J.length-q+Te);const Bt=At-Te;return this===J&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(q,Te,At):Uint8Array.prototype.set.call(J,this.subarray(Te,At),q),Bt},s.prototype.fill=function(J,q,Te,At){if(typeof J=="string"){if(typeof q=="string"?(At=q,q=0,Te=this.length):typeof Te=="string"&&(At=Te,Te=this.length),At!==void 0&&typeof At!="string")throw new TypeError("encoding must be a string");if(typeof At=="string"&&!s.isEncoding(At))throw new TypeError("Unknown encoding: "+At);if(J.length===1){const kt=J.charCodeAt(0);(At==="utf8"&&kt<128||At==="latin1")&&(J=kt)}}else typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=Number(J));if(q<0||this.length<q||this.length<Te)throw new RangeError("Out of range index");if(Te<=q)return this;q=q>>>0,Te=Te===void 0?this.length:Te>>>0,J||(J=0);let Bt;if(typeof J=="number")for(Bt=q;Bt<Te;++Bt)this[Bt]=J;else{const kt=s.isBuffer(J)?J:s.from(J,At),Ut=kt.length;if(Ut===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(Bt=0;Bt<Te-q;++Bt)this[Bt+q]=kt[Bt%Ut]}return this};const ke={};function pe(Ee,J,q){ke[Ee]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:J.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ee}]`,this.stack,delete this.name}get code(){return Ee}set code(At){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:At,writable:!0})}toString(){return`${this.name} [${Ee}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(Ee){return Ee?`${Ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(Ee,J){return`The "${Ee}" argument must be of type number. Received type ${typeof J}`},TypeError),pe("ERR_OUT_OF_RANGE",function(Ee,J,q){let Te=`The value of "${Ee}" is out of range.`,At=q;return Number.isInteger(q)&&Math.abs(q)>2**32?At=Se(String(q)):typeof q=="bigint"&&(At=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(At=Se(At)),At+="n"),Te+=` It must be ${J}. Received ${At}`,Te},RangeError);function Se(Ee){let J="",q=Ee.length;const Te=Ee[0]==="-"?1:0;for(;q>=Te+4;q-=3)J=`_${Ee.slice(q-3,q)}${J}`;return`${Ee.slice(0,q)}${J}`}function Re(Ee,J,q){ot(J,"offset"),(Ee[J]===void 0||Ee[J+q]===void 0)&&St(J,Ee.length-(q+1))}function it(Ee,J,q,Te,At,Bt){if(Ee>q||Ee<J){const kt=typeof J=="bigint"?"n":"";let Ut;throw Bt>3?J===0||J===BigInt(0)?Ut=`>= 0${kt} and < 2${kt} ** ${(Bt+1)*8}${kt}`:Ut=`>= -(2${kt} ** ${(Bt+1)*8-1}${kt}) and < 2 ** ${(Bt+1)*8-1}${kt}`:Ut=`>= ${J}${kt} and <= ${q}${kt}`,new ke.ERR_OUT_OF_RANGE("value",Ut,Ee)}Re(Te,At,Bt)}function ot(Ee,J){if(typeof Ee!="number")throw new ke.ERR_INVALID_ARG_TYPE(J,"number",Ee)}function St(Ee,J,q){throw Math.floor(Ee)!==Ee?(ot(Ee,q),new ke.ERR_OUT_OF_RANGE(q||"offset","an integer",Ee)):J<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${J}`,Ee)}const Rt=/[^+/0-9A-Za-z-_]/g;function zt(Ee){if(Ee=Ee.split("=")[0],Ee=Ee.trim().replace(Rt,""),Ee.length<2)return"";for(;Ee.length%4!==0;)Ee=Ee+"=";return Ee}function pt(Ee,J){J=J||1/0;let q;const Te=Ee.length;let At=null;const Bt=[];for(let kt=0;kt<Te;++kt){if(q=Ee.charCodeAt(kt),q>55295&&q<57344){if(!At){if(q>56319){(J-=3)>-1&&Bt.push(239,191,189);continue}else if(kt+1===Te){(J-=3)>-1&&Bt.push(239,191,189);continue}At=q;continue}if(q<56320){(J-=3)>-1&&Bt.push(239,191,189),At=q;continue}q=(At-55296<<10|q-56320)+65536}else At&&(J-=3)>-1&&Bt.push(239,191,189);if(At=null,q<128){if((J-=1)<0)break;Bt.push(q)}else if(q<2048){if((J-=2)<0)break;Bt.push(q>>6|192,q&63|128)}else if(q<65536){if((J-=3)<0)break;Bt.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((J-=4)<0)break;Bt.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return Bt}function ir(Ee){const J=[];for(let q=0;q<Ee.length;++q)J.push(Ee.charCodeAt(q)&255);return J}function gn(Ee,J){let q,Te,At;const Bt=[];for(let kt=0;kt<Ee.length&&!((J-=2)<0);++kt)q=Ee.charCodeAt(kt),Te=q>>8,At=q%256,Bt.push(At),Bt.push(Te);return Bt}function yn(Ee){return t.toByteArray(zt(Ee))}function er(Ee,J,q,Te){let At;for(At=0;At<Te&&!(At+q>=J.length||At>=Ee.length);++At)J[At+q]=Ee[At];return At}function cr(Ee,J){return Ee instanceof J||Ee!=null&&Ee.constructor!=null&&Ee.constructor.name!=null&&Ee.constructor.name===J.name}function Sr(Ee){return Ee!==Ee}const Gr=function(){const Ee="0123456789abcdef",J=new Array(256);for(let q=0;q<16;++q){const Te=q*16;for(let At=0;At<16;++At)J[Te+At]=Ee[q]+Ee[At]}return J}();function yr(Ee){return typeof BigInt>"u"?_i:Ee}function _i(){throw new Error("BigInt not supported")}})(iR);const MZ=Ka(iR);var SZ="Expected a function",aR="__lodash_hash_undefined__",sR=1/0,EZ="[object Function]",OZ="[object GeneratorFunction]",BZ="[object Symbol]",IZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kZ=/^\w*$/,TZ=/^\./,KZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PZ=/[\\^$.*+?()[\]{}|]/g,DZ=/\\(\\)?/g,UZ=/^\[object .+?Constructor\]$/,FZ=typeof window=="object"&&window&&window.Object===Object&&window,LZ=typeof self=="object"&&self&&self.Object===Object&&self,U8=FZ||LZ||Function("return this")();function RZ(e,t){return e==null?void 0:e[t]}function zZ(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var jZ=Array.prototype,NZ=Function.prototype,lR=Object.prototype,hS=U8["__core-js_shared__"],Jk=function(){var e=/[^.]+$/.exec(hS&&hS.keys&&hS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),uR=NZ.toString,F8=lR.hasOwnProperty,AR=lR.toString,GZ=RegExp("^"+uR.call(F8).replace(PZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eT=U8.Symbol,WZ=jZ.splice,QZ=cR(U8,"Map"),V_=cR(Object,"create"),tT=eT?eT.prototype:void 0,nT=tT?tT.toString:void 0;function F1(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $Z(){this.__data__=V_?V_(null):{}}function YZ(e){return this.has(e)&&delete this.__data__[e]}function qZ(e){var t=this.__data__;if(V_){var n=t[e];return n===aR?void 0:n}return F8.call(t,e)?t[e]:void 0}function HZ(e){var t=this.__data__;return V_?t[e]!==void 0:F8.call(t,e)}function VZ(e,t){var n=this.__data__;return n[e]=V_&&t===void 0?aR:t,this}F1.prototype.clear=$Z;F1.prototype.delete=YZ;F1.prototype.get=qZ;F1.prototype.has=HZ;F1.prototype.set=VZ;function Sv(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ZZ(){this.__data__=[]}function XZ(e){var t=this.__data__,n=$5(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():WZ.call(t,n,1),!0}function JZ(e){var t=this.__data__,n=$5(t,e);return n<0?void 0:t[n][1]}function eX(e){return $5(this.__data__,e)>-1}function tX(e,t){var n=this.__data__,r=$5(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Sv.prototype.clear=ZZ;Sv.prototype.delete=XZ;Sv.prototype.get=JZ;Sv.prototype.has=eX;Sv.prototype.set=tX;function H1(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nX(){this.__data__={hash:new F1,map:new(QZ||Sv),string:new F1}}function rX(e){return Y5(this,e).delete(e)}function iX(e){return Y5(this,e).get(e)}function oX(e){return Y5(this,e).has(e)}function aX(e,t){return Y5(this,e).set(e,t),this}H1.prototype.clear=nX;H1.prototype.delete=rX;H1.prototype.get=iX;H1.prototype.has=oX;H1.prototype.set=aX;function $5(e,t){for(var n=e.length;n--;)if(gX(e[n][0],t))return n;return-1}function sX(e,t){t=cX(t,e)?[t]:AX(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[pX(t[n++])];return n&&n==r?e:void 0}function lX(e){if(!hR(e)||hX(e))return!1;var t=yX(e)||zZ(e)?GZ:UZ;return t.test(mX(e))}function uX(e){if(typeof e=="string")return e;if(R8(e))return nT?nT.call(e):"";var t=e+"";return t=="0"&&1/e==-sR?"-0":t}function AX(e){return dR(e)?e:fX(e)}function Y5(e,t){var n=e.__data__;return dX(t)?n[typeof t=="string"?"string":"hash"]:n.map}function cR(e,t){var n=RZ(e,t);return lX(n)?n:void 0}function cX(e,t){if(dR(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||R8(e)?!0:kZ.test(e)||!IZ.test(e)||t!=null&&e in Object(t)}function dX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function hX(e){return!!Jk&&Jk in e}var fX=L8(function(e){e=CX(e);var t=[];return TZ.test(e)&&t.push(""),e.replace(KZ,function(n,r,i,o){t.push(i?o.replace(DZ,"$1"):r||n)}),t});function pX(e){if(typeof e=="string"||R8(e))return e;var t=e+"";return t=="0"&&1/e==-sR?"-0":t}function mX(e){if(e!=null){try{return uR.call(e)}catch{}try{return e+""}catch{}}return""}function L8(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(SZ);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(L8.Cache||H1),n}L8.Cache=H1;function gX(e,t){return e===t||e!==e&&t!==t}var dR=Array.isArray;function yX(e){var t=hR(e)?AR.call(e):"";return t==EZ||t==OZ}function hR(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function vX(e){return!!e&&typeof e=="object"}function R8(e){return typeof e=="symbol"||vX(e)&&AR.call(e)==BZ}function CX(e){return e==null?"":uX(e)}function _X(e,t,n){var r=e==null?void 0:sX(e,t);return r===void 0?n:r}var bX=_X;const xX=Ka(bX);var X3={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */X3.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",m=500,C="__lodash_placeholder__",E=1,O=2,P=4,D=1,$=2,ee=1,H=2,G=4,Z=8,ue=16,ye=32,be=64,X=128,se=256,we=512,xe=30,De="...",Ue=800,he=16,$e=1,ge=2,yt=3,wt=1/0,st=9007199254740991,mt=17976931348623157e292,ze=NaN,He=4294967295,Ve=He-1,Vt=He>>>1,Yt=[["ary",X],["bind",ee],["bindKey",H],["curry",Z],["curryRight",ue],["flip",we],["partial",ye],["partialRight",be],["rearg",se]],vt="[object Arguments]",Qt="[object Array]",$t="[object AsyncFunction]",ke="[object Boolean]",pe="[object Date]",Se="[object DOMException]",Re="[object Error]",it="[object Function]",ot="[object GeneratorFunction]",St="[object Map]",Rt="[object Number]",zt="[object Null]",pt="[object Object]",ir="[object Promise]",gn="[object Proxy]",yn="[object RegExp]",er="[object Set]",cr="[object String]",Sr="[object Symbol]",Gr="[object Undefined]",yr="[object WeakMap]",_i="[object WeakSet]",Ee="[object ArrayBuffer]",J="[object DataView]",q="[object Float32Array]",Te="[object Float64Array]",At="[object Int8Array]",Bt="[object Int16Array]",kt="[object Int32Array]",Ut="[object Uint8Array]",fn="[object Uint8ClampedArray]",Pn="[object Uint16Array]",On="[object Uint32Array]",g=/\b__p \+= '';/g,Kt=/\b(__p \+=) '' \+/g,Pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nr=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,ce=RegExp(nr.source),_e=RegExp(Pe.source),Ie=/<%-([\s\S]+?)%>/g,je=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,tn=RegExp(Mt.source),Ht=/^\s+/,en=/\s/,Dn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bn=/\{\n\/\* \[wrapped with (.+)\] \*/,qn=/,? & /,Er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ur=/[()=,{}\[\]\/\s]/,Yr=/\\(\\)?/g,Br=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fr=/\w*$/,or=/^[-+]0x[0-9a-f]+$/i,di=/^0b[01]+$/i,Ri=/^\[object .+?Constructor\]$/,ro=/^0o[0-7]+$/i,po=/^(?:0|[1-9]\d*)$/,si=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mo=/($^)/,Qa=/['\n\r\u2028\u2029\\]/g,Pa="\\ud800-\\udfff",Ei="\\u0300-\\u036f",ls="\\ufe20-\\ufe2f",yi="\\u20d0-\\u20ff",Nn=Ei+ls+yi,oo="\\u2700-\\u27bf",bo="a-z\\xdf-\\xf6\\xf8-\\xff",zi="\\xac\\xb1\\xd7\\xf7",ve="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Je="\\u2000-\\u206f",Zt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sn="A-Z\\xc0-\\xd6\\xd8-\\xde",Ft="\\ufe0e\\ufe0f",wn=zi+ve+Je+Zt,hr="[']",ii="["+Pa+"]",li="["+wn+"]",ea="["+Nn+"]",Fa="\\d+",Dr="["+oo+"]",$a="["+bo+"]",vi="[^"+Pa+wn+Fa+oo+bo+sn+"]",Ya="\\ud83c[\\udffb-\\udfff]",ta="(?:"+ea+"|"+Ya+")",Su="[^"+Pa+"]",us="(?:\\ud83c[\\udde6-\\uddff]){2}",na="[\\ud800-\\udbff][\\udc00-\\udfff]",ra="["+sn+"]",Ms="\\u200d",Eu="(?:"+$a+"|"+vi+")",ya="(?:"+ra+"|"+vi+")",bA="(?:"+hr+"(?:d|ll|m|re|s|t|ve))?",$u="(?:"+hr+"(?:D|LL|M|RE|S|T|VE))?",xA=ta+"?",Ou="["+Ft+"]?",Yu="(?:"+Ms+"(?:"+[Su,us,na].join("|")+")"+Ou+xA+")*",Wo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ss="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ru=Ou+xA+Yu,As="(?:"+[Dr,us,na].join("|")+")"+ru,Al="(?:"+[Su+ea+"?",ea,us,na,ii].join("|")+")",Qo=RegExp(hr,"g"),Bu=RegExp(ea,"g"),cl=RegExp(Ya+"(?="+Ya+")|"+Al+ru,"g"),Sl=RegExp([ra+"?"+$a+"+"+bA+"(?="+[li,ra,"$"].join("|")+")",ya+"+"+$u+"(?="+[li,ra+Eu,"$"].join("|")+")",ra+"?"+Eu+"+"+bA,ra+"+"+$u,Ss,Wo,Fa,As].join("|"),"g"),iu=RegExp("["+Ms+Pa+Nn+Ft+"]"),Aa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wA=-1,_o={};_o[q]=_o[Te]=_o[At]=_o[Bt]=_o[kt]=_o[Ut]=_o[fn]=_o[Pn]=_o[On]=!0,_o[vt]=_o[Qt]=_o[Ee]=_o[ke]=_o[J]=_o[pe]=_o[Re]=_o[it]=_o[St]=_o[Rt]=_o[pt]=_o[yn]=_o[er]=_o[cr]=_o[yr]=!1;var ao={};ao[vt]=ao[Qt]=ao[Ee]=ao[J]=ao[ke]=ao[pe]=ao[q]=ao[Te]=ao[At]=ao[Bt]=ao[kt]=ao[St]=ao[Rt]=ao[pt]=ao[yn]=ao[er]=ao[cr]=ao[Sr]=ao[Ut]=ao[fn]=ao[Pn]=ao[On]=!0,ao[Re]=ao[it]=ao[yr]=!1;var z={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Le={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gn=parseFloat,vn=parseInt,Kn=typeof window=="object"&&window&&window.Object===Object&&window,Lr=typeof self=="object"&&self&&self.Object===Object&&self,vr=Kn||Lr||Function("return this")(),kr=t&&!t.nodeType&&t,Ti=kr&&!0&&e&&!e.nodeType&&e,go=Ti&&Ti.exports===kr,Oi=go&&Kn.process,Xr=function(){try{var Et=Ti&&Ti.require&&Ti.require("util").types;return Et||Oi&&Oi.binding&&Oi.binding("util")}catch{}}(),Zi=Xr&&Xr.isArrayBuffer,ko=Xr&&Xr.isDate,Mo=Xr&&Xr.isMap,qa=Xr&&Xr.isRegExp,Ll=Xr&&Xr.isSet,ou=Xr&&Xr.isTypedArray;function va(Et,an,jt){switch(jt.length){case 0:return Et.call(an);case 1:return Et.call(an,jt[0]);case 2:return Et.call(an,jt[0],jt[1]);case 3:return Et.call(an,jt[0],jt[1],jt[2])}return Et.apply(an,jt)}function M0(Et,an,jt,fr){for(var ui=-1,so=Et==null?0:Et.length;++ui<so;){var La=Et[ui];an(fr,La,jt(La),Et)}return fr}function au(Et,an){for(var jt=-1,fr=Et==null?0:Et.length;++jt<fr&&an(Et[jt],jt,Et)!==!1;);return Et}function Gh(Et,an){for(var jt=Et==null?0:Et.length;jt--&&an(Et[jt],jt,Et)!==!1;);return Et}function dd(Et,an){for(var jt=-1,fr=Et==null?0:Et.length;++jt<fr;)if(!an(Et[jt],jt,Et))return!1;return!0}function qu(Et,an){for(var jt=-1,fr=Et==null?0:Et.length,ui=0,so=[];++jt<fr;){var La=Et[jt];an(La,jt,Et)&&(so[ui++]=La)}return so}function hd(Et,an){var jt=Et==null?0:Et.length;return!!jt&&To(Et,an,0)>-1}function qA(Et,an,jt){for(var fr=-1,ui=Et==null?0:Et.length;++fr<ui;)if(jt(an,Et[fr]))return!0;return!1}function ia(Et,an){for(var jt=-1,fr=Et==null?0:Et.length,ui=Array(fr);++jt<fr;)ui[jt]=an(Et[jt],jt,Et);return ui}function Hu(Et,an){for(var jt=-1,fr=an.length,ui=Et.length;++jt<fr;)Et[ui+jt]=an[jt];return Et}function Xd(Et,an,jt,fr){var ui=-1,so=Et==null?0:Et.length;for(fr&&so&&(jt=Et[++ui]);++ui<so;)jt=an(jt,Et[ui],ui,Et);return jt}function HA(Et,an,jt,fr){var ui=Et==null?0:Et.length;for(fr&&ui&&(jt=Et[--ui]);ui--;)jt=an(jt,Et[ui],ui,Et);return jt}function Tc(Et,an){for(var jt=-1,fr=Et==null?0:Et.length;++jt<fr;)if(an(Et[jt],jt,Et))return!0;return!1}var Iu=tp("length");function fd(Et){return Et.split("")}function om(Et){return Et.match(Er)||[]}function Wh(Et,an,jt){var fr;return jt(Et,function(ui,so,La){if(an(ui,so,La))return fr=so,!1}),fr}function Ki(Et,an,jt,fr){for(var ui=Et.length,so=jt+(fr?1:-1);fr?so--:++so<ui;)if(an(Et[so],so,Et))return so;return-1}function To(Et,an,jt){return an===an?SA(Et,an,jt):Ki(Et,Qh,jt)}function S0(Et,an,jt,fr){for(var ui=jt-1,so=Et.length;++ui<so;)if(fr(Et[ui],an))return ui;return-1}function Qh(Et){return Et!==Et}function Vu(Et,an){var jt=Et==null?0:Et.length;return jt?VA(Et,an)/jt:ze}function tp(Et){return function(an){return an==null?n:an[Et]}}function ca(Et){return function(an){return Et==null?n:Et[an]}}function np(Et,an,jt,fr,ui){return ui(Et,function(so,La,Po){jt=fr?(fr=!1,so):an(jt,so,La,Po)}),jt}function Wi(Et,an){var jt=Et.length;for(Et.sort(an);jt--;)Et[jt]=Et[jt].value;return Et}function VA(Et,an){for(var jt,fr=-1,ui=Et.length;++fr<ui;){var so=an(Et[fr]);so!==n&&(jt=jt===n?so:jt+so)}return jt}function Ko(Et,an){for(var jt=-1,fr=Array(Et);++jt<Et;)fr[jt]=an(jt);return fr}function Lo(Et,an){return ia(an,function(jt){return[jt,Et[jt]]})}function ZA(Et){return Et&&Et.slice(0,eh(Et)+1).replace(Ht,"")}function js(Et){return function(an){return Et(an)}}function $h(Et,an){return ia(an,function(jt){return Et[jt]})}function su(Et,an){return Et.has(an)}function Rl(Et,an){for(var jt=-1,fr=Et.length;++jt<fr&&To(an,Et[jt],0)>-1;);return jt}function Kc(Et,an){for(var jt=Et.length;jt--&&To(an,Et[jt],0)>-1;);return jt}function Yh(Et,an){for(var jt=Et.length,fr=0;jt--;)Et[jt]===an&&++fr;return fr}var Jd=ca(z),ku=ca(ae);function MA(Et){return"\\"+gt[Et]}function XA(Et,an){return Et==null?n:Et[an]}function JA(Et){return iu.test(Et)}function rp(Et){return Aa.test(Et)}function am(Et){for(var an,jt=[];!(an=Et.next()).done;)jt.push(an.value);return jt}function Pc(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(fr,ui){jt[++an]=[ui,fr]}),jt}function pd(Et,an){return function(jt){return Et(an(jt))}}function zl(Et,an){for(var jt=-1,fr=Et.length,ui=0,so=[];++jt<fr;){var La=Et[jt];(La===an||La===C)&&(Et[jt]=C,so[ui++]=jt)}return so}function El(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(fr){jt[++an]=fr}),jt}function Ca(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(fr){jt[++an]=[fr,fr]}),jt}function SA(Et,an,jt){for(var fr=jt-1,ui=Et.length;++fr<ui;)if(Et[fr]===an)return fr;return-1}function jl(Et,an,jt){for(var fr=jt+1;fr--;)if(Et[fr]===an)return fr;return fr}function Tu(Et){return JA(Et)?Ku(Et):Iu(Et)}function Nl(Et){return JA(Et)?Uc(Et):fd(Et)}function eh(Et){for(var an=Et.length;an--&&en.test(Et.charAt(an)););return an}var Dc=ca(Le);function Ku(Et){for(var an=cl.lastIndex=0;cl.test(Et);)++an;return an}function Uc(Et){return Et.match(cl)||[]}function md(Et){return Et.match(Sl)||[]}var th=function Et(an){an=an==null?vr:lu.defaults(vr.Object(),an,lu.pick(vr,dl));var jt=an.Array,fr=an.Date,ui=an.Error,so=an.Function,La=an.Math,Po=an.Object,EA=an.RegExp,nh=an.String,Do=an.TypeError,OA=jt.prototype,Es=so.prototype,Ha=Po.prototype,Zu=an["__core-js_shared__"],cs=Es.toString,Xi=Ha.hasOwnProperty,qh=0,Hh=function(){var v=/[^.]+$/.exec(Zu&&Zu.keys&&Zu.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),uu=Ha.toString,ec=cs.call(Po),_a=vr._,hl=EA("^"+cs.call(Xi).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wn=go?an.Buffer:n,Gl=an.Symbol,Xu=an.Uint8Array,tc=Wn?Wn.allocUnsafe:n,Ju=pd(Po.getPrototypeOf,Po),Vn=Po.create,nc=Ha.propertyIsEnumerable,eA=OA.splice,ip=Gl?Gl.isConcatSpreadable:n,tA=Gl?Gl.iterator:n,nA=Gl?Gl.toStringTag:n,rc=function(){try{var v=Id(Po,"defineProperty");return v({},"",{}),v}catch{}}(),rh=an.clearTimeout!==vr.clearTimeout&&an.clearTimeout,Fc=fr&&fr.now!==vr.Date.now&&fr.now,rA=an.setTimeout!==vr.setTimeout&&an.setTimeout,So=La.ceil,iA=La.floor,gd=Po.getOwnPropertySymbols,op=Wn?Wn.isBuffer:n,Vh=an.isFinite,Zh=OA.join,ap=pd(Po.keys,Po),lo=La.max,da=La.min,xr=fr.now,Ir=an.parseInt,BA=La.random,Lc=OA.reverse,ic=Id(an,"DataView"),ha=Id(an,"Map"),oc=Id(an,"Promise"),Da=Id(an,"Set"),oA=Id(an,"WeakMap"),fl=Id(Po,"create"),$o=oA&&new oA,Yo={},sp=hs(ic),ih=hs(ha),aA=hs(oc),Ol=hs(Da),lp=hs(oA),yd=Gl?Gl.prototype:n,IA=yd?yd.valueOf:n,Xh=yd?yd.toString:n;function Fe(v){if(mn(v)&&!re(v)&&!(v instanceof qr)){if(v instanceof Yi)return v;if(Xi.call(v,"__wrapped__"))return Bl(v)}return new Yi(v)}var ac=function(){function v(){}return function(S){if(!xn(S))return{};if(Vn)return Vn(S);v.prototype=S;var U=new v;return v.prototype=n,U}}();function ds(){}function Yi(v,S){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}Fe.templateSettings={escape:Ie,evaluate:je,interpolate:rt,variable:"",imports:{_:Fe}},Fe.prototype=ds.prototype,Fe.prototype.constructor=Fe,Yi.prototype=ac(ds.prototype),Yi.prototype.constructor=Yi;function qr(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=He,this.__views__=[]}function ba(){var v=new qr(this.__wrapped__);return v.__actions__=nl(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=nl(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=nl(this.__views__),v}function sc(){if(this.__filtered__){var v=new qr(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function vd(){var v=this.__wrapped__.value(),S=this.__dir__,U=re(v),te=S<0,Me=U?v.length:0,Ge=qv(0,Me,this.__views__),ut=Ge.start,_t=Ge.end,Tt=_t-ut,Cn=te?_t:ut-1,_n=this.__iteratees__,Tn=_n.length,pr=0,Zr=da(Tt,this.__takeCount__);if(!U||!te&&Me==Tt&&Zr==Tt)return lf(v,this.__actions__);var bi=[];e:for(;Tt--&&pr<Zr;){Cn+=S;for(var Ao=-1,xi=v[Cn];++Ao<Tn;){var wo=_n[Ao],Uo=wo.iteratee,Qc=wo.type,LA=Uo(xi);if(Qc==ge)xi=LA;else if(!LA){if(Qc==$e)continue e;break e}}bi[pr++]=xi}return bi}qr.prototype=ac(ds.prototype),qr.prototype.constructor=qr;function Au(v){var S=-1,U=v==null?0:v.length;for(this.clear();++S<U;){var te=v[S];this.set(te[0],te[1])}}function Cd(){this.__data__=fl?fl(null):{},this.size=0}function lc(v){var S=this.has(v)&&delete this.__data__[v];return this.size-=S?1:0,S}function up(v){var S=this.__data__;if(fl){var U=S[v];return U===h?n:U}return Xi.call(S,v)?S[v]:n}function _d(v){var S=this.__data__;return fl?S[v]!==n:Xi.call(S,v)}function uc(v,S){var U=this.__data__;return this.size+=this.has(v)?0:1,U[v]=fl&&S===n?h:S,this}Au.prototype.clear=Cd,Au.prototype.delete=lc,Au.prototype.get=up,Au.prototype.has=_d,Au.prototype.set=uc;function Wl(v){var S=-1,U=v==null?0:v.length;for(this.clear();++S<U;){var te=v[S];this.set(te[0],te[1])}}function Ap(){this.__data__=[],this.size=0}function oh(v){var S=this.__data__,U=Xt(S,v);if(U<0)return!1;var te=S.length-1;return U==te?S.pop():eA.call(S,U,1),--this.size,!0}function Jh(v){var S=this.__data__,U=Xt(S,v);return U<0?n:S[U][1]}function I(v){return Xt(this.__data__,v)>-1}function u(v,S){var U=this.__data__,te=Xt(U,v);return te<0?(++this.size,U.push([v,S])):U[te][1]=S,this}Wl.prototype.clear=Ap,Wl.prototype.delete=oh,Wl.prototype.get=Jh,Wl.prototype.has=I,Wl.prototype.set=u;function p(v){var S=-1,U=v==null?0:v.length;for(this.clear();++S<U;){var te=v[S];this.set(te[0],te[1])}}function _(){this.size=0,this.__data__={hash:new Au,map:new(ha||Wl),string:new Au}}function w(v){var S=yf(this,v).delete(v);return this.size-=S?1:0,S}function k(v){return yf(this,v).get(v)}function R(v){return yf(this,v).has(v)}function j(v,S){var U=yf(this,v),te=U.size;return U.set(v,S),this.size+=U.size==te?0:1,this}p.prototype.clear=_,p.prototype.delete=w,p.prototype.get=k,p.prototype.has=R,p.prototype.set=j;function Q(v){var S=-1,U=v==null?0:v.length;for(this.__data__=new p;++S<U;)this.add(v[S])}function ie(v){return this.__data__.set(v,h),this}function de(v){return this.__data__.has(v)}Q.prototype.add=Q.prototype.push=ie,Q.prototype.has=de;function fe(v){var S=this.__data__=new Wl(v);this.size=S.size}function Oe(){this.__data__=new Wl,this.size=0}function qe(v){var S=this.__data__,U=S.delete(v);return this.size=S.size,U}function Ye(v){return this.__data__.get(v)}function Ze(v){return this.__data__.has(v)}function Ne(v,S){var U=this.__data__;if(U instanceof Wl){var te=U.__data__;if(!ha||te.length<i-1)return te.push([v,S]),this.size=++U.size,this;U=this.__data__=new p(te)}return U.set(v,S),this.size=U.size,this}fe.prototype.clear=Oe,fe.prototype.delete=qe,fe.prototype.get=Ye,fe.prototype.has=Ze,fe.prototype.set=Ne;function ht(v,S){var U=re(v),te=!U&&V(v),Me=!U&&!te&&We(v),Ge=!U&&!te&&!Me&&Ys(v),ut=U||te||Me||Ge,_t=ut?Ko(v.length,nh):[],Tt=_t.length;for(var Cn in v)(S||Xi.call(v,Cn))&&!(ut&&(Cn=="length"||Me&&(Cn=="offset"||Cn=="parent")||Ge&&(Cn=="buffer"||Cn=="byteLength"||Cn=="byteOffset")||x(Cn,Tt)))&&_t.push(Cn);return _t}function Dt(v){var S=v.length;return S?v[lm(0,S-1)]:n}function tt(v,S){return Za(nl(v),In(S,0,v.length))}function bt(v){return Za(nl(v))}function Pt(v,S,U){(U!==n&&!K(v[S],U)||U===n&&!(S in v))&&$n(v,S,U)}function Lt(v,S,U){var te=v[S];(!(Xi.call(v,S)&&K(te,U))||U===n&&!(S in v))&&$n(v,S,U)}function Xt(v,S){for(var U=v.length;U--;)if(K(v[U][0],S))return U;return-1}function dn(v,S,U,te){return Wr(v,function(Me,Ge,ut){S(te,Me,U(Me),ut)}),te}function un(v,S){return v&&AA(S,Kl(S),v)}function pn(v,S){return v&&AA(S,Ja(S),v)}function $n(v,S,U){S=="__proto__"&&rc?rc(v,S,{configurable:!0,enumerable:!0,value:U,writable:!0}):v[S]=U}function Hr(v,S){for(var U=-1,te=S.length,Me=jt(te),Ge=v==null;++U<te;)Me[U]=Ge?n:gC(v,S[U]);return Me}function In(v,S,U){return v===v&&(U!==n&&(v=v<=U?v:U),S!==n&&(v=v>=S?v:S)),v}function Cr(v,S,U,te,Me,Ge){var ut,_t=S&E,Tt=S&O,Cn=S&P;if(U&&(ut=Me?U(v,te,Me,Ge):U(v)),ut!==n)return ut;if(!xn(v))return v;var _n=re(v);if(_n){if(ut=Hv(v),!_t)return nl(v,ut)}else{var Tn=Gs(v),pr=Tn==it||Tn==ot;if(We(v))return K0(v,_t);if(Tn==pt||Tn==vt||pr&&!Me){if(ut=Tt||pr?{}:L0(v),!_t)return Tt?yp(v,pn(ut,v)):P0(v,un(ut,v))}else{if(!ao[Tn])return Me?v:{};ut=vf(v,Tn,_t)}}Ge||(Ge=new fe);var Zr=Ge.get(v);if(Zr)return Zr;Ge.set(v,ut),ms(v)?v.forEach(function(xi){ut.add(Cr(xi,S,U,xi,v,Ge))}):lr(v)&&v.forEach(function(xi,wo){ut.set(wo,Cr(xi,S,U,wo,v,Ge))});var bi=Cn?Tt?mf:ym:Tt?Ja:Kl,Ao=_n?n:bi(v);return au(Ao||v,function(xi,wo){Ao&&(wo=xi,xi=v[wo]),Lt(ut,wo,Cr(xi,S,U,wo,v,Ge))}),ut}function hi(v){var S=Kl(v);return function(U){return Pi(U,v,S)}}function Pi(v,S,U){var te=U.length;if(v==null)return!te;for(v=Po(v);te--;){var Me=U[te],Ge=S[Me],ut=v[Me];if(ut===n&&!(Me in v)||!Ge(ut))return!1}return!0}function Vr(v,S,U){if(typeof v!="function")throw new Do(a);return Tr(function(){v.apply(n,U)},S)}function ti(v,S,U,te){var Me=-1,Ge=hd,ut=!0,_t=v.length,Tt=[],Cn=S.length;if(!_t)return Tt;U&&(S=ia(S,js(U))),te?(Ge=qA,ut=!1):S.length>=i&&(Ge=su,ut=!1,S=new Q(S));e:for(;++Me<_t;){var _n=v[Me],Tn=U==null?_n:U(_n);if(_n=te||_n!==0?_n:0,ut&&Tn===Tn){for(var pr=Cn;pr--;)if(S[pr]===Tn)continue e;Tt.push(_n)}else Ge(S,Tn,te)||Tt.push(_n)}return Tt}var Wr=ch(Os),Zo=ch(sA,!0);function Ro(v,S){var U=!0;return Wr(v,function(te,Me,Ge){return U=!!S(te,Me,Ge),U}),U}function Ns(v,S,U){for(var te=-1,Me=v.length;++te<Me;){var Ge=v[te],ut=S(Ge);if(ut!=null&&(_t===n?ut===ut&&!Jo(ut):U(ut,_t)))var _t=ut,Tt=Ge}return Tt}function Ra(v,S,U,te){var Me=v.length;for(U=ei(U),U<0&&(U=-U>Me?0:Me+U),te=te===n||te>Me?Me:ei(te),te<0&&(te+=Me),te=U>te?0:Ds(te);U<te;)v[U++]=S;return v}function yo(v,S){var U=[];return Wr(v,function(te,Me,Ge){S(te,Me,Ge)&&U.push(te)}),U}function uo(v,S,U,te,Me){var Ge=-1,ut=v.length;for(U||(U=f),Me||(Me=[]);++Ge<ut;){var _t=v[Ge];S>0&&U(_t)?S>1?uo(_t,S-1,U,te,Me):Hu(Me,_t):te||(Me[Me.length]=_t)}return Me}var tl=Ag(),cu=Ag(!0);function Os(v,S){return v&&tl(v,S,Kl)}function sA(v,S){return v&&cu(v,S,Kl)}function Ql(v,S){return qu(S,function(U){return Ln(v[U])})}function Bs(v,S){S=Ed(S,v);for(var U=0,te=S.length;v!=null&&U<te;)v=v[ja(S[U++])];return U&&U==te?v:n}function ji(v,S,U){var te=S(v);return re(v)?te:Hu(te,U(v))}function Bi(v){return v==null?v===n?Gr:zt:nA&&nA in Po(v)?_p(v):cn(v)}function oa(v,S){return v>S}function Rc(v,S){return v!=null&&Xi.call(v,S)}function Xo(v,S){return v!=null&&S in Po(v)}function xa(v,S,U){return v>=da(S,U)&&v<lo(S,U)}function Is(v,S,U){for(var te=U?qA:hd,Me=v[0].length,Ge=v.length,ut=Ge,_t=jt(Ge),Tt=1/0,Cn=[];ut--;){var _n=v[ut];ut&&S&&(_n=ia(_n,js(S))),Tt=da(_n.length,Tt),_t[ut]=!U&&(S||Me>=120&&_n.length>=120)?new Q(ut&&_n):n}_n=v[0];var Tn=-1,pr=_t[0];e:for(;++Tn<Me&&Cn.length<Tt;){var Zr=_n[Tn],bi=S?S(Zr):Zr;if(Zr=U||Zr!==0?Zr:0,!(pr?su(pr,bi):te(Cn,bi,U))){for(ut=Ge;--ut;){var Ao=_t[ut];if(!(Ao?su(Ao,bi):te(v[ut],bi,U)))continue e}pr&&pr.push(bi),Cn.push(Zr)}}return Cn}function Di(v,S,U,te){return Os(v,function(Me,Ge,ut){S(te,U(Me),Ge,ut)}),te}function Ac(v,S,U){S=Ed(S,v),v=Yn(v,S);var te=v==null?v:v[ja(PA(S))];return te==null?n:va(te,v,U)}function ef(v){return mn(v)&&Bi(v)==vt}function du(v){return mn(v)&&Bi(v)==Ee}function cc(v){return mn(v)&&Bi(v)==pe}function Pu(v,S,U,te,Me){return v===S?!0:v==null||S==null||!mn(v)&&!mn(S)?v!==v&&S!==S:tf(v,S,U,te,Pu,Me)}function tf(v,S,U,te,Me,Ge){var ut=re(v),_t=re(S),Tt=ut?Qt:Gs(v),Cn=_t?Qt:Gs(S);Tt=Tt==vt?pt:Tt,Cn=Cn==vt?pt:Cn;var _n=Tt==pt,Tn=Cn==pt,pr=Tt==Cn;if(pr&&We(v)){if(!We(S))return!1;ut=!0,_n=!1}if(pr&&!_n)return Ge||(Ge=new fe),ut||Ys(v)?Lu(v,S,U,te,Me,Ge):gm(v,S,Tt,U,te,Me,Ge);if(!(U&D)){var Zr=_n&&Xi.call(v,"__wrapped__"),bi=Tn&&Xi.call(S,"__wrapped__");if(Zr||bi){var Ao=Zr?v.value():v,xi=bi?S.value():S;return Ge||(Ge=new fe),Me(Ao,xi,U,te,Ge)}}return pr?(Ge||(Ge=new fe),F0(v,S,U,te,Me,Ge)):!1}function Du(v){return mn(v)&&Gs(v)==St}function nf(v,S,U,te){var Me=U.length,Ge=Me,ut=!te;if(v==null)return!Ge;for(v=Po(v);Me--;){var _t=U[Me];if(ut&&_t[2]?_t[1]!==v[_t[0]]:!(_t[0]in v))return!1}for(;++Me<Ge;){_t=U[Me];var Tt=_t[0],Cn=v[Tt],_n=_t[1];if(ut&&_t[2]){if(Cn===n&&!(Tt in v))return!1}else{var Tn=new fe;if(te)var pr=te(Cn,_n,Tt,v,S,Tn);if(!(pr===n?Pu(_n,Cn,D|$,te,Tn):pr))return!1}}return!0}function kA(v){if(!xn(v)||ne(v))return!1;var S=Ln(v)?hl:Ri;return S.test(hs(v))}function cp(v){return mn(v)&&Bi(v)==yn}function bd(v){return mn(v)&&Gs(v)==er}function dp(v){return mn(v)&&Hn(v.length)&&!!_o[Bi(v)]}function lA(v){return typeof v=="function"?v:v==null?vc:typeof v=="object"?re(v)?af(v[0],v[1]):of(v):F9(v)}function xd(v){if(!me(v))return ap(v);var S=[];for(var U in Po(v))Xi.call(v,U)&&U!="constructor"&&S.push(U);return S}function rf(v){if(!xn(v))return Nt(v);var S=me(v),U=[];for(var te in v)te=="constructor"&&(S||!Xi.call(v,te))||U.push(te);return U}function uA(v,S){return v<S}function E0(v,S){var U=-1,te=Ce(v)?jt(v.length):[];return Wr(v,function(Me,Ge,ut){te[++U]=S(Me,Ge,ut)}),te}function of(v){var S=Eo(v);return S.length==1&&S[0][2]?nt(S[0][0],S[0][1]):function(U){return U===v||nf(U,v,S)}}function af(v,S){return B(v)&&Qe(S)?nt(ja(v),S):function(U){var te=gC(U,v);return te===n&&te===S?yC(U,v):Pu(S,te,D|$)}}function hu(v,S,U,te,Me){v!==S&&tl(S,function(Ge,ut){if(Me||(Me=new fe),xn(Ge))ah(v,S,ut,U,hu,te,Me);else{var _t=te?te(Fn(v,ut),Ge,ut+"",v,S,Me):n;_t===n&&(_t=Ge),Pt(v,ut,_t)}},Ja)}function ah(v,S,U,te,Me,Ge,ut){var _t=Fn(v,U),Tt=Fn(S,U),Cn=ut.get(Tt);if(Cn){Pt(v,U,Cn);return}var _n=Ge?Ge(_t,Tt,U+"",v,S,ut):n,Tn=_n===n;if(Tn){var pr=re(Tt),Zr=!pr&&We(Tt),bi=!pr&&!Zr&&Ys(Tt);_n=Tt,pr||Zr||bi?re(_t)?_n=_t:Be(_t)?_n=nl(_t):Zr?(Tn=!1,_n=K0(Tt,!0)):bi?(Tn=!1,_n=wa(Tt,!0)):_n=[]:Na(Tt)||V(Tt)?(_n=_t,V(_t)?_n=kl(_t):(!xn(_t)||Ln(_t))&&(_n=L0(Tt))):Tn=!1}Tn&&(ut.set(Tt,_n),Me(_n,Tt,te,Ge,ut),ut.delete(Tt)),Pt(v,U,_n)}function sh(v,S){var U=v.length;if(U)return S+=S<0?U:0,x(S,U)?v[S]:n}function og(v,S,U){S.length?S=ia(S,function(Ge){return re(Ge)?function(ut){return Bs(ut,Ge.length===1?Ge[0]:Ge)}:Ge}):S=[vc];var te=-1;S=ia(S,js(Jr()));var Me=E0(v,function(Ge,ut,_t){var Tt=ia(S,function(Cn){return Cn(Ge)});return{criteria:Tt,index:++te,value:Ge}});return Wi(Me,function(Ge,ut){return ug(Ge,ut,U)})}function pl(v,S){return lh(v,S,function(U,te){return yC(v,te)})}function lh(v,S,U){for(var te=-1,Me=S.length,Ge={};++te<Me;){var ut=S[te],_t=Bs(v,ut);U(_t,ut)&&sf(Ge,Ed(ut,v),_t)}return Ge}function O0(v){return function(S){return Bs(S,v)}}function sm(v,S,U,te){var Me=te?S0:To,Ge=-1,ut=S.length,_t=v;for(v===S&&(S=nl(S)),U&&(_t=ia(v,js(U)));++Ge<ut;)for(var Tt=0,Cn=S[Ge],_n=U?U(Cn):Cn;(Tt=Me(_t,_n,Tt,te))>-1;)_t!==v&&eA.call(_t,Tt,1),eA.call(v,Tt,1);return v}function ks(v,S){for(var U=v?S.length:0,te=U-1;U--;){var Me=S[U];if(U==te||Me!==Ge){var Ge=Me;x(Me)?eA.call(v,Me,1):cm(v,Me)}}return v}function lm(v,S){return v+iA(BA()*(S-v+1))}function um(v,S,U,te){for(var Me=-1,Ge=lo(So((S-v)/(U||1)),0),ut=jt(Ge);Ge--;)ut[te?Ge:++Me]=v,v+=U;return ut}function B0(v,S){var U="";if(!v||S<1||S>st)return U;do S%2&&(U+=v),S=iA(S/2),S&&(v+=v);while(S);return U}function qi(v,S){return _r(kn(v,S,vc),v+"")}function I0(v){return Dt(Pg(v))}function k0(v,S){var U=Pg(v);return Za(U,In(S,0,U.length))}function sf(v,S,U,te){if(!xn(v))return v;S=Ed(S,v);for(var Me=-1,Ge=S.length,ut=Ge-1,_t=v;_t!=null&&++Me<Ge;){var Tt=ja(S[Me]),Cn=U;if(Tt==="__proto__"||Tt==="constructor"||Tt==="prototype")return v;if(Me!=ut){var _n=_t[Tt];Cn=te?te(_n,Tt,_t):n,Cn===n&&(Cn=xn(_n)?_n:x(S[Me+1])?[]:{})}Lt(_t,Tt,Cn),_t=_t[Tt]}return v}var Am=$o?function(v,S){return $o.set(v,S),v}:vc,ag=rc?function(v,S){return rc(v,"toString",{configurable:!0,enumerable:!1,value:KM(S),writable:!0})}:vc;function T0(v){return Za(Pg(v))}function za(v,S,U){var te=-1,Me=v.length;S<0&&(S=-S>Me?0:Me+S),U=U>Me?Me:U,U<0&&(U+=Me),Me=S>U?0:U-S>>>0,S>>>=0;for(var Ge=jt(Me);++te<Me;)Ge[te]=v[te+S];return Ge}function ml(v,S){var U;return Wr(v,function(te,Me,Ge){return U=S(te,Me,Ge),!U}),!!U}function wd(v,S,U){var te=0,Me=v==null?te:v.length;if(typeof S=="number"&&S===S&&Me<=Vt){for(;te<Me;){var Ge=te+Me>>>1,ut=v[Ge];ut!==null&&!Jo(ut)&&(U?ut<=S:ut<S)?te=Ge+1:Me=Ge}return Me}return uh(v,S,vc,U)}function uh(v,S,U,te){var Me=0,Ge=v==null?0:v.length;if(Ge===0)return 0;S=U(S);for(var ut=S!==S,_t=S===null,Tt=Jo(S),Cn=S===n;Me<Ge;){var _n=iA((Me+Ge)/2),Tn=U(v[_n]),pr=Tn!==n,Zr=Tn===null,bi=Tn===Tn,Ao=Jo(Tn);if(ut)var xi=te||bi;else Cn?xi=bi&&(te||pr):_t?xi=bi&&pr&&(te||!Zr):Tt?xi=bi&&pr&&!Zr&&(te||!Ao):Zr||Ao?xi=!1:xi=te?Tn<=S:Tn<S;xi?Me=_n+1:Ge=_n}return da(Ge,Ve)}function TA(v,S){for(var U=-1,te=v.length,Me=0,Ge=[];++U<te;){var ut=v[U],_t=S?S(ut):ut;if(!U||!K(_t,Tt)){var Tt=_t;Ge[Me++]=ut===0?0:ut}}return Ge}function sg(v){return typeof v=="number"?v:Jo(v)?ze:+v}function Uu(v){if(typeof v=="string")return v;if(re(v))return ia(v,Uu)+"";if(Jo(v))return Xh?Xh.call(v):"";var S=v+"";return S=="0"&&1/v==-wt?"-0":S}function Fu(v,S,U){var te=-1,Me=hd,Ge=v.length,ut=!0,_t=[],Tt=_t;if(U)ut=!1,Me=qA;else if(Ge>=i){var Cn=S?null:dg(v);if(Cn)return El(Cn);ut=!1,Me=su,Tt=new Q}else Tt=S?[]:_t;e:for(;++te<Ge;){var _n=v[te],Tn=S?S(_n):_n;if(_n=U||_n!==0?_n:0,ut&&Tn===Tn){for(var pr=Tt.length;pr--;)if(Tt[pr]===Tn)continue e;S&&Tt.push(Tn),_t.push(_n)}else Me(Tt,Tn,U)||(Tt!==_t&&Tt.push(Tn),_t.push(_n))}return _t}function cm(v,S){return S=Ed(S,v),v=Yn(v,S),v==null||delete v[ja(PA(S))]}function hp(v,S,U,te){return sf(v,S,U(Bs(v,S)),te)}function Md(v,S,U,te){for(var Me=v.length,Ge=te?Me:-1;(te?Ge--:++Ge<Me)&&S(v[Ge],Ge,v););return U?za(v,te?0:Ge,te?Ge+1:Me):za(v,te?Ge+1:0,te?Me:Ge)}function lf(v,S){var U=v;return U instanceof qr&&(U=U.value()),Xd(S,function(te,Me){return Me.func.apply(Me.thisArg,Hu([te],Me.args))},U)}function fu(v,S,U){var te=v.length;if(te<2)return te?Fu(v[0]):[];for(var Me=-1,Ge=jt(te);++Me<te;)for(var ut=v[Me],_t=-1;++_t<te;)_t!=Me&&(Ge[Me]=ti(Ge[Me]||ut,v[_t],S,U));return Fu(uo(Ge,1),S,U)}function Sd(v,S,U){for(var te=-1,Me=v.length,Ge=S.length,ut={};++te<Me;){var _t=te<Ge?S[te]:n;U(ut,v[te],_t)}return ut}function fp(v){return Be(v)?v:[]}function pp(v){return typeof v=="function"?v:vc}function Ed(v,S){return re(v)?v:B(v,S)?[v]:Ma(pi(v))}var mp=qi;function zc(v,S,U){var te=v.length;return U=U===n?te:U,!S&&U>=te?v:za(v,S,U)}var lg=rh||function(v){return vr.clearTimeout(v)};function K0(v,S){if(S)return v.slice();var U=v.length,te=tc?tc(U):new v.constructor(U);return v.copy(te),te}function Od(v){var S=new v.constructor(v.byteLength);return new Xu(S).set(new Xu(v)),S}function $v(v,S){var U=S?Od(v.buffer):v.buffer;return new v.constructor(U,v.byteOffset,v.byteLength)}function uf(v){var S=new v.constructor(v.source,Fr.exec(v));return S.lastIndex=v.lastIndex,S}function gp(v){return IA?Po(IA.call(v)):{}}function wa(v,S){var U=S?Od(v.buffer):v.buffer;return new v.constructor(U,v.byteOffset,v.length)}function Af(v,S){if(v!==S){var U=v!==n,te=v===null,Me=v===v,Ge=Jo(v),ut=S!==n,_t=S===null,Tt=S===S,Cn=Jo(S);if(!_t&&!Cn&&!Ge&&v>S||Ge&&ut&&Tt&&!_t&&!Cn||te&&ut&&Tt||!U&&Tt||!Me)return 1;if(!te&&!Ge&&!Cn&&v<S||Cn&&U&&Me&&!te&&!Ge||_t&&U&&Me||!ut&&Me||!Tt)return-1}return 0}function ug(v,S,U){for(var te=-1,Me=v.criteria,Ge=S.criteria,ut=Me.length,_t=U.length;++te<ut;){var Tt=Af(Me[te],Ge[te]);if(Tt){if(te>=_t)return Tt;var Cn=U[te];return Tt*(Cn=="desc"?-1:1)}}return v.index-S.index}function Ah(v,S,U,te){for(var Me=-1,Ge=v.length,ut=U.length,_t=-1,Tt=S.length,Cn=lo(Ge-ut,0),_n=jt(Tt+Cn),Tn=!te;++_t<Tt;)_n[_t]=S[_t];for(;++Me<ut;)(Tn||Me<Ge)&&(_n[U[Me]]=v[Me]);for(;Cn--;)_n[_t++]=v[Me++];return _n}function cf(v,S,U,te){for(var Me=-1,Ge=v.length,ut=-1,_t=U.length,Tt=-1,Cn=S.length,_n=lo(Ge-_t,0),Tn=jt(_n+Cn),pr=!te;++Me<_n;)Tn[Me]=v[Me];for(var Zr=Me;++Tt<Cn;)Tn[Zr+Tt]=S[Tt];for(;++ut<_t;)(pr||Me<Ge)&&(Tn[Zr+U[ut]]=v[Me++]);return Tn}function nl(v,S){var U=-1,te=v.length;for(S||(S=jt(te));++U<te;)S[U]=v[U];return S}function AA(v,S,U,te){var Me=!U;U||(U={});for(var Ge=-1,ut=S.length;++Ge<ut;){var _t=S[Ge],Tt=te?te(U[_t],v[_t],_t,U,v):n;Tt===n&&(Tt=v[_t]),Me?$n(U,_t,Tt):Lt(U,_t,Tt)}return U}function P0(v,S){return AA(v,Nc(v),S)}function yp(v,S){return AA(v,fg(v),S)}function Bd(v,S){return function(U,te){var Me=re(U)?M0:dn,Ge=S?S():{};return Me(U,v,Jr(te,2),Ge)}}function cA(v){return qi(function(S,U){var te=-1,Me=U.length,Ge=Me>1?U[Me-1]:n,ut=Me>2?U[2]:n;for(Ge=v.length>3&&typeof Ge=="function"?(Me--,Ge):n,ut&&b(U[0],U[1],ut)&&(Ge=Me<3?n:Ge,Me=1),S=Po(S);++te<Me;){var _t=U[te];_t&&v(S,_t,te,Ge)}return S})}function ch(v,S){return function(U,te){if(U==null)return U;if(!Ce(U))return v(U,te);for(var Me=U.length,Ge=S?Me:-1,ut=Po(U);(S?Ge--:++Ge<Me)&&te(ut[Ge],Ge,ut)!==!1;);return U}}function Ag(v){return function(S,U,te){for(var Me=-1,Ge=Po(S),ut=te(S),_t=ut.length;_t--;){var Tt=ut[v?_t:++Me];if(U(Ge[Tt],Tt,Ge)===!1)break}return S}}function D0(v,S,U){var te=S&ee,Me=dh(v);function Ge(){var ut=this&&this!==vr&&this instanceof Ge?Me:v;return ut.apply(te?U:this,arguments)}return Ge}function df(v){return function(S){S=pi(S);var U=JA(S)?Nl(S):n,te=U?U[0]:S.charAt(0),Me=U?zc(U,1).join(""):S.slice(1);return te[v]()+Me}}function hf(v){return function(S){return Xd(D9(P9(S).replace(Qo,"")),v,"")}}function dh(v){return function(){var S=arguments;switch(S.length){case 0:return new v;case 1:return new v(S[0]);case 2:return new v(S[0],S[1]);case 3:return new v(S[0],S[1],S[2]);case 4:return new v(S[0],S[1],S[2],S[3]);case 5:return new v(S[0],S[1],S[2],S[3],S[4]);case 6:return new v(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new v(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var U=ac(v.prototype),te=v.apply(U,S);return xn(te)?te:U}}function Yv(v,S,U){var te=dh(v);function Me(){for(var Ge=arguments.length,ut=jt(Ge),_t=Ge,Tt=gf(Me);_t--;)ut[_t]=arguments[_t];var Cn=Ge<3&&ut[0]!==Tt&&ut[Ge-1]!==Tt?[]:zl(ut,Tt);if(Ge-=Cn.length,Ge<U)return dA(v,S,ff,Me.placeholder,n,ut,Cn,n,n,U-Ge);var _n=this&&this!==vr&&this instanceof Me?te:v;return va(_n,this,ut)}return Me}function vp(v){return function(S,U,te){var Me=Po(S);if(!Ce(S)){var Ge=Jr(U,3);S=Kl(S),U=function(_t){return Ge(Me[_t],_t,Me)}}var ut=v(S,U,te);return ut>-1?Me[Ge?S[ut]:ut]:n}}function dm(v){return dc(function(S){var U=S.length,te=U,Me=Yi.prototype.thru;for(v&&S.reverse();te--;){var Ge=S[te];if(typeof Ge!="function")throw new Do(a);if(Me&&!ut&&mh(Ge)=="wrapper")var ut=new Yi([],!0)}for(te=ut?te:U;++te<U;){Ge=S[te];var _t=mh(Ge),Tt=_t=="wrapper"?jc(Ge):n;Tt&&Y(Tt[0])&&Tt[1]==(X|Z|ye|se)&&!Tt[4].length&&Tt[9]==1?ut=ut[mh(Tt[0])].apply(ut,Tt[3]):ut=Ge.length==1&&Y(Ge)?ut[_t]():ut.thru(Ge)}return function(){var Cn=arguments,_n=Cn[0];if(ut&&Cn.length==1&&re(_n))return ut.plant(_n).value();for(var Tn=0,pr=U?S[Tn].apply(this,Cn):_n;++Tn<U;)pr=S[Tn].call(this,pr);return pr}})}function ff(v,S,U,te,Me,Ge,ut,_t,Tt,Cn){var _n=S&X,Tn=S&ee,pr=S&H,Zr=S&(Z|ue),bi=S&we,Ao=pr?n:dh(v);function xi(){for(var wo=arguments.length,Uo=jt(wo),Qc=wo;Qc--;)Uo[Qc]=arguments[Qc];if(Zr)var LA=gf(xi),$c=Yh(Uo,LA);if(te&&(Uo=Ah(Uo,te,Me,Zr)),Ge&&(Uo=cf(Uo,Ge,ut,Zr)),wo-=$c,Zr&&wo<Cn){var gl=zl(Uo,LA);return dA(v,S,ff,xi.placeholder,U,Uo,gl,_t,Tt,Cn-wo)}var xh=Tn?U:this,wp=pr?xh[v]:v;return wo=Uo.length,_t?Uo=bn(Uo,_t):bi&&wo>1&&Uo.reverse(),_n&&Tt<wo&&(Uo.length=Tt),this&&this!==vr&&this instanceof xi&&(wp=Ao||dh(wp)),wp.apply(xh,Uo)}return xi}function hm(v,S){return function(U,te){return Di(U,v,S(te),{})}}function hh(v,S){return function(U,te){var Me;if(U===n&&te===n)return S;if(U!==n&&(Me=U),te!==n){if(Me===n)return te;typeof U=="string"||typeof te=="string"?(U=Uu(U),te=Uu(te)):(U=sg(U),te=sg(te)),Me=v(U,te)}return Me}}function fm(v){return dc(function(S){return S=ia(S,js(Jr())),qi(function(U){var te=this;return v(S,function(Me){return va(Me,te,U)})})})}function pm(v,S){S=S===n?" ":Uu(S);var U=S.length;if(U<2)return U?B0(S,v):S;var te=B0(S,So(v/Tu(S)));return JA(S)?zc(Nl(te),0,v).join(""):te.slice(0,v)}function cg(v,S,U,te){var Me=S&ee,Ge=dh(v);function ut(){for(var _t=-1,Tt=arguments.length,Cn=-1,_n=te.length,Tn=jt(_n+Tt),pr=this&&this!==vr&&this instanceof ut?Ge:v;++Cn<_n;)Tn[Cn]=te[Cn];for(;Tt--;)Tn[Cn++]=arguments[++_t];return va(pr,Me?U:this,Tn)}return ut}function fh(v){return function(S,U,te){return te&&typeof te!="number"&&b(S,U,te)&&(U=te=n),S=gs(S),U===n?(U=S,S=0):U=gs(U),te=te===n?S<U?1:-1:gs(te),um(S,U,te,v)}}function Cp(v){return function(S,U){return typeof S=="string"&&typeof U=="string"||(S=oi(S),U=oi(U)),v(S,U)}}function dA(v,S,U,te,Me,Ge,ut,_t,Tt,Cn){var _n=S&Z,Tn=_n?ut:n,pr=_n?n:ut,Zr=_n?Ge:n,bi=_n?n:Ge;S|=_n?ye:be,S&=~(_n?be:ye),S&G||(S&=~(ee|H));var Ao=[v,S,Me,Zr,Tn,bi,pr,_t,Tt,Cn],xi=U.apply(n,Ao);return Y(v)&&sr(xi,Ao),xi.placeholder=te,fi(xi,v,S)}function U0(v){var S=La[v];return function(U,te){if(U=oi(U),te=te==null?0:da(ei(te),292),te&&Vh(U)){var Me=(pi(U)+"e").split("e"),Ge=S(Me[0]+"e"+(+Me[1]+te));return Me=(pi(Ge)+"e").split("e"),+(Me[0]+"e"+(+Me[1]-te))}return S(U)}}var dg=Da&&1/El(new Da([,-0]))[1]==wt?function(v){return new Da(v)}:UM;function ph(v){return function(S){var U=Gs(S);return U==St?Pc(S):U==er?Ca(S):Lo(S,v(S))}}function xo(v,S,U,te,Me,Ge,ut,_t){var Tt=S&H;if(!Tt&&typeof v!="function")throw new Do(a);var Cn=te?te.length:0;if(Cn||(S&=~(ye|be),te=Me=n),ut=ut===n?ut:lo(ei(ut),0),_t=_t===n?_t:ei(_t),Cn-=Me?Me.length:0,S&be){var _n=te,Tn=Me;te=Me=n}var pr=Tt?n:jc(v),Zr=[v,S,U,te,Me,_n,Tn,Ge,ut,_t];if(pr&&Ct(Zr,pr),v=Zr[0],S=Zr[1],U=Zr[2],te=Zr[3],Me=Zr[4],_t=Zr[9]=Zr[9]===n?Tt?0:v.length:lo(Zr[9]-Cn,0),!_t&&S&(Z|ue)&&(S&=~(Z|ue)),!S||S==ee)var bi=D0(v,S,U);else S==Z||S==ue?bi=Yv(v,S,_t):(S==ye||S==(ee|ye))&&!Me.length?bi=cg(v,S,U,te):bi=ff.apply(n,Zr);var Ao=pr?Am:sr;return fi(Ao(bi,Zr),v,S)}function hg(v,S,U,te){return v===n||K(v,Ha[U])&&!Xi.call(te,U)?S:v}function mm(v,S,U,te,Me,Ge){return xn(v)&&xn(S)&&(Ge.set(S,v),hu(v,S,n,mm,Ge),Ge.delete(S)),v}function pf(v){return Na(v)?n:v}function Lu(v,S,U,te,Me,Ge){var ut=U&D,_t=v.length,Tt=S.length;if(_t!=Tt&&!(ut&&Tt>_t))return!1;var Cn=Ge.get(v),_n=Ge.get(S);if(Cn&&_n)return Cn==S&&_n==v;var Tn=-1,pr=!0,Zr=U&$?new Q:n;for(Ge.set(v,S),Ge.set(S,v);++Tn<_t;){var bi=v[Tn],Ao=S[Tn];if(te)var xi=ut?te(Ao,bi,Tn,S,v,Ge):te(bi,Ao,Tn,v,S,Ge);if(xi!==n){if(xi)continue;pr=!1;break}if(Zr){if(!Tc(S,function(wo,Uo){if(!su(Zr,Uo)&&(bi===wo||Me(bi,wo,U,te,Ge)))return Zr.push(Uo)})){pr=!1;break}}else if(!(bi===Ao||Me(bi,Ao,U,te,Ge))){pr=!1;break}}return Ge.delete(v),Ge.delete(S),pr}function gm(v,S,U,te,Me,Ge,ut){switch(U){case J:if(v.byteLength!=S.byteLength||v.byteOffset!=S.byteOffset)return!1;v=v.buffer,S=S.buffer;case Ee:return!(v.byteLength!=S.byteLength||!Ge(new Xu(v),new Xu(S)));case ke:case pe:case Rt:return K(+v,+S);case Re:return v.name==S.name&&v.message==S.message;case yn:case cr:return v==S+"";case St:var _t=Pc;case er:var Tt=te&D;if(_t||(_t=El),v.size!=S.size&&!Tt)return!1;var Cn=ut.get(v);if(Cn)return Cn==S;te|=$,ut.set(v,S);var _n=Lu(_t(v),_t(S),te,Me,Ge,ut);return ut.delete(v),_n;case Sr:if(IA)return IA.call(v)==IA.call(S)}return!1}function F0(v,S,U,te,Me,Ge){var ut=U&D,_t=ym(v),Tt=_t.length,Cn=ym(S),_n=Cn.length;if(Tt!=_n&&!ut)return!1;for(var Tn=Tt;Tn--;){var pr=_t[Tn];if(!(ut?pr in S:Xi.call(S,pr)))return!1}var Zr=Ge.get(v),bi=Ge.get(S);if(Zr&&bi)return Zr==S&&bi==v;var Ao=!0;Ge.set(v,S),Ge.set(S,v);for(var xi=ut;++Tn<Tt;){pr=_t[Tn];var wo=v[pr],Uo=S[pr];if(te)var Qc=ut?te(Uo,wo,pr,S,v,Ge):te(wo,Uo,pr,v,S,Ge);if(!(Qc===n?wo===Uo||Me(wo,Uo,U,te,Ge):Qc)){Ao=!1;break}xi||(xi=pr=="constructor")}if(Ao&&!xi){var LA=v.constructor,$c=S.constructor;LA!=$c&&"constructor"in v&&"constructor"in S&&!(typeof LA=="function"&&LA instanceof LA&&typeof $c=="function"&&$c instanceof $c)&&(Ao=!1)}return Ge.delete(v),Ge.delete(S),Ao}function dc(v){return _r(kn(v,n,Xa),v+"")}function ym(v){return ji(v,Kl,Nc)}function mf(v){return ji(v,Ja,fg)}var jc=$o?function(v){return $o.get(v)}:UM;function mh(v){for(var S=v.name+"",U=Yo[S],te=Xi.call(Yo,S)?U.length:0;te--;){var Me=U[te],Ge=Me.func;if(Ge==null||Ge==v)return Me.name}return S}function gf(v){var S=Xi.call(Fe,"placeholder")?Fe:v;return S.placeholder}function Jr(){var v=Fe.iteratee||PM;return v=v===PM?lA:v,arguments.length?v(arguments[0],arguments[1]):v}function yf(v,S){var U=v.__data__;return L(S)?U[typeof S=="string"?"string":"hash"]:U.map}function Eo(v){for(var S=Kl(v),U=S.length;U--;){var te=S[U],Me=v[te];S[U]=[te,Me,Qe(Me)]}return S}function Id(v,S){var U=XA(v,S);return kA(U)?U:n}function _p(v){var S=Xi.call(v,nA),U=v[nA];try{v[nA]=n;var te=!0}catch{}var Me=uu.call(v);return te&&(S?v[nA]=U:delete v[nA]),Me}var Nc=gd?function(v){return v==null?[]:(v=Po(v),qu(gd(v),function(S){return nc.call(v,S)}))}:FM,fg=gd?function(v){for(var S=[];v;)Hu(S,Nc(v)),v=Ju(v);return S}:FM,Gs=Bi;(ic&&Gs(new ic(new ArrayBuffer(1)))!=J||ha&&Gs(new ha)!=St||oc&&Gs(oc.resolve())!=ir||Da&&Gs(new Da)!=er||oA&&Gs(new oA)!=yr)&&(Gs=function(v){var S=Bi(v),U=S==pt?v.constructor:n,te=U?hs(U):"";if(te)switch(te){case sp:return J;case ih:return St;case aA:return ir;case Ol:return er;case lp:return yr}return S});function qv(v,S,U){for(var te=-1,Me=U.length;++te<Me;){var Ge=U[te],ut=Ge.size;switch(Ge.type){case"drop":v+=ut;break;case"dropRight":S-=ut;break;case"take":S=da(S,v+ut);break;case"takeRight":v=lo(v,S-ut);break}}return{start:v,end:S}}function Va(v){var S=v.match(Bn);return S?S[1].split(qn):[]}function pg(v,S,U){S=Ed(S,v);for(var te=-1,Me=S.length,Ge=!1;++te<Me;){var ut=ja(S[te]);if(!(Ge=v!=null&&U(v,ut)))break;v=v[ut]}return Ge||++te!=Me?Ge:(Me=v==null?0:v.length,!!Me&&Hn(Me)&&x(ut,Me)&&(re(v)||V(v)))}function Hv(v){var S=v.length,U=new v.constructor(S);return S&&typeof v[0]=="string"&&Xi.call(v,"index")&&(U.index=v.index,U.input=v.input),U}function L0(v){return typeof v.constructor=="function"&&!me(v)?ac(Ju(v)):{}}function vf(v,S,U){var te=v.constructor;switch(S){case Ee:return Od(v);case ke:case pe:return new te(+v);case J:return $v(v,U);case q:case Te:case At:case Bt:case kt:case Ut:case fn:case Pn:case On:return wa(v,U);case St:return new te;case Rt:case cr:return new te(v);case yn:return uf(v);case er:return new te;case Sr:return gp(v)}}function A(v,S){var U=S.length;if(!U)return v;var te=U-1;return S[te]=(U>1?"& ":"")+S[te],S=S.join(U>2?", ":" "),v.replace(Dn,`{
/* [wrapped with `+S+`] */
`)}function f(v){return re(v)||V(v)||!!(ip&&v&&v[ip])}function x(v,S){var U=typeof v;return S=S??st,!!S&&(U=="number"||U!="symbol"&&po.test(v))&&v>-1&&v%1==0&&v<S}function b(v,S,U){if(!xn(U))return!1;var te=typeof S;return(te=="number"?Ce(U)&&x(S,U.length):te=="string"&&S in U)?K(U[S],v):!1}function B(v,S){if(re(v))return!1;var U=typeof v;return U=="number"||U=="symbol"||U=="boolean"||v==null||Jo(v)?!0:ft.test(v)||!lt.test(v)||S!=null&&v in Po(S)}function L(v){var S=typeof v;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?v!=="__proto__":v===null}function Y(v){var S=mh(v),U=Fe[S];if(typeof U!="function"||!(S in qr.prototype))return!1;if(v===U)return!0;var te=jc(U);return!!te&&v===te[0]}function ne(v){return!!Hh&&Hh in v}var le=Zu?Ln:LM;function me(v){var S=v&&v.constructor,U=typeof S=="function"&&S.prototype||Ha;return v===U}function Qe(v){return v===v&&!xn(v)}function nt(v,S){return function(U){return U==null?!1:U[v]===S&&(S!==n||v in Po(U))}}function Ot(v){var S=wm(v,function(te){return U.size===m&&U.clear(),te}),U=S.cache;return S}function Ct(v,S){var U=v[1],te=S[1],Me=U|te,Ge=Me<(ee|H|X),ut=te==X&&U==Z||te==X&&U==se&&v[7].length<=S[8]||te==(X|se)&&S[7].length<=S[8]&&U==Z;if(!(Ge||ut))return v;te&ee&&(v[2]=S[2],Me|=U&ee?0:G);var _t=S[3];if(_t){var Tt=v[3];v[3]=Tt?Ah(Tt,_t,S[4]):_t,v[4]=Tt?zl(v[3],C):S[4]}return _t=S[5],_t&&(Tt=v[5],v[5]=Tt?cf(Tt,_t,S[6]):_t,v[6]=Tt?zl(v[5],C):S[6]),_t=S[7],_t&&(v[7]=_t),te&X&&(v[8]=v[8]==null?S[8]:da(v[8],S[8])),v[9]==null&&(v[9]=S[9]),v[0]=S[0],v[1]=Me,v}function Nt(v){var S=[];if(v!=null)for(var U in Po(v))S.push(U);return S}function cn(v){return uu.call(v)}function kn(v,S,U){return S=lo(S===n?v.length-1:S,0),function(){for(var te=arguments,Me=-1,Ge=lo(te.length-S,0),ut=jt(Ge);++Me<Ge;)ut[Me]=te[S+Me];Me=-1;for(var _t=jt(S+1);++Me<S;)_t[Me]=te[Me];return _t[S]=U(ut),va(v,this,_t)}}function Yn(v,S){return S.length<2?v:Bs(v,za(S,0,-1))}function bn(v,S){for(var U=v.length,te=da(S.length,U),Me=nl(v);te--;){var Ge=S[te];v[te]=x(Ge,U)?Me[Ge]:n}return v}function Fn(v,S){if(!(S==="constructor"&&typeof v[S]=="function")&&S!="__proto__")return v[S]}var sr=zo(Am),Tr=rA||function(v,S){return vr.setTimeout(v,S)},_r=zo(ag);function fi(v,S,U){var te=S+"";return _r(v,A(te,fs(Va(te),U)))}function zo(v){var S=0,U=0;return function(){var te=xr(),Me=he-(te-U);if(U=te,Me>0){if(++S>=Ue)return arguments[0]}else S=0;return v.apply(n,arguments)}}function Za(v,S){var U=-1,te=v.length,Me=te-1;for(S=S===n?te:S;++U<S;){var Ge=lm(U,Me),ut=v[Ge];v[Ge]=v[U],v[U]=ut}return v.length=S,v}var Ma=Ot(function(v){var S=[];return v.charCodeAt(0)===46&&S.push(""),v.replace(et,function(U,te,Me,Ge){S.push(Me?Ge.replace(Yr,"$1"):te||U)}),S});function ja(v){if(typeof v=="string"||Jo(v))return v;var S=v+"";return S=="0"&&1/v==-wt?"-0":S}function hs(v){if(v!=null){try{return cs.call(v)}catch{}try{return v+""}catch{}}return""}function fs(v,S){return au(Yt,function(U){var te="_."+U[0];S&U[1]&&!hd(v,te)&&v.push(te)}),v.sort()}function Bl(v){if(v instanceof qr)return v.clone();var S=new Yi(v.__wrapped__,v.__chain__);return S.__actions__=nl(v.__actions__),S.__index__=v.__index__,S.__values__=v.__values__,S}function rl(v,S,U){(U?b(v,S,U):S===n)?S=1:S=lo(ei(S),0);var te=v==null?0:v.length;if(!te||S<1)return[];for(var Me=0,Ge=0,ut=jt(So(te/S));Me<te;)ut[Ge++]=za(v,Me,Me+=S);return ut}function Ts(v){for(var S=-1,U=v==null?0:v.length,te=0,Me=[];++S<U;){var Ge=v[S];Ge&&(Me[te++]=Ge)}return Me}function ps(){var v=arguments.length;if(!v)return[];for(var S=jt(v-1),U=arguments[0],te=v;te--;)S[te-1]=arguments[te];return Hu(re(U)?nl(U):[U],uo(S,1))}var fa=qi(function(v,S){return Be(v)?ti(v,uo(S,1,Be,!0)):[]}),Ks=qi(function(v,S){var U=PA(S);return Be(U)&&(U=n),Be(v)?ti(v,uo(S,1,Be,!0),Jr(U,2)):[]}),gh=qi(function(v,S){var U=PA(S);return Be(U)&&(U=n),Be(v)?ti(v,uo(S,1,Be,!0),n,U):[]});function hc(v,S,U){var te=v==null?0:v.length;return te?(S=U||S===n?1:ei(S),za(v,S<0?0:S,te)):[]}function Ws(v,S,U){var te=v==null?0:v.length;return te?(S=U||S===n?1:ei(S),S=te-S,za(v,0,S<0?0:S)):[]}function fc(v,S){return v&&v.length?Md(v,Jr(S,3),!0,!0):[]}function Qs(v,S){return v&&v.length?Md(v,Jr(S,3),!0):[]}function R0(v,S,U,te){var Me=v==null?0:v.length;return Me?(U&&typeof U!="number"&&b(v,S,U)&&(U=0,te=Me),Ra(v,S,U,te)):[]}function KA(v,S,U){var te=v==null?0:v.length;if(!te)return-1;var Me=U==null?0:ei(U);return Me<0&&(Me=lo(te+Me,0)),Ki(v,Jr(S,3),Me)}function Gc(v,S,U){var te=v==null?0:v.length;if(!te)return-1;var Me=te-1;return U!==n&&(Me=ei(U),Me=U<0?lo(te+Me,0):da(Me,te-1)),Ki(v,Jr(S,3),Me,!0)}function Xa(v){var S=v==null?0:v.length;return S?uo(v,1):[]}function il(v){var S=v==null?0:v.length;return S?uo(v,wt):[]}function yh(v,S){var U=v==null?0:v.length;return U?(S=S===n?1:ei(S),uo(v,S)):[]}function pc(v){for(var S=-1,U=v==null?0:v.length,te={};++S<U;){var Me=v[S];te[Me[0]]=Me[1]}return te}function vm(v){return v&&v.length?v[0]:n}function z0(v,S,U){var te=v==null?0:v.length;if(!te)return-1;var Me=U==null?0:ei(U);return Me<0&&(Me=lo(te+Me,0)),To(v,S,Me)}function Cm(v){var S=v==null?0:v.length;return S?za(v,0,-1):[]}var mg=qi(function(v){var S=ia(v,fp);return S.length&&S[0]===v[0]?Is(S):[]}),gg=qi(function(v){var S=PA(v),U=ia(v,fp);return S===PA(U)?S=n:U.pop(),U.length&&U[0]===v[0]?Is(U,Jr(S,2)):[]}),iM=qi(function(v){var S=PA(v),U=ia(v,fp);return S=typeof S=="function"?S:n,S&&U.pop(),U.length&&U[0]===v[0]?Is(U,n,S):[]});function g2(v,S){return v==null?"":Zh.call(v,S)}function PA(v){var S=v==null?0:v.length;return S?v[S-1]:n}function oM(v,S,U){var te=v==null?0:v.length;if(!te)return-1;var Me=te;return U!==n&&(Me=ei(U),Me=Me<0?lo(te+Me,0):da(Me,te-1)),S===S?jl(v,S,Me):Ki(v,Qh,Me,!0)}function y2(v,S){return v&&v.length?sh(v,ei(S)):n}var v2=qi(yg);function yg(v,S){return v&&v.length&&S&&S.length?sm(v,S):v}function Vv(v,S,U){return v&&v.length&&S&&S.length?sm(v,S,Jr(U,2)):v}function aM(v,S,U){return v&&v.length&&S&&S.length?sm(v,S,n,U):v}var sM=dc(function(v,S){var U=v==null?0:v.length,te=Hr(v,S);return ks(v,ia(S,function(Me){return x(Me,U)?+Me:Me}).sort(Af)),te});function C2(v,S){var U=[];if(!(v&&v.length))return U;var te=-1,Me=[],Ge=v.length;for(S=Jr(S,3);++te<Ge;){var ut=v[te];S(ut,te,v)&&(U.push(ut),Me.push(te))}return ks(v,Me),U}function bp(v){return v==null?v:Lc.call(v)}function kd(v,S,U){var te=v==null?0:v.length;return te?(U&&typeof U!="number"&&b(v,S,U)?(S=0,U=te):(S=S==null?0:ei(S),U=U===n?te:ei(U)),za(v,S,U)):[]}function Cf(v,S){return wd(v,S)}function _2(v,S,U){return uh(v,S,Jr(U,2))}function Zv(v,S){var U=v==null?0:v.length;if(U){var te=wd(v,S);if(te<U&&K(v[te],S))return te}return-1}function lM(v,S){return wd(v,S,!0)}function uM(v,S,U){return uh(v,S,Jr(U,2),!0)}function vg(v,S){var U=v==null?0:v.length;if(U){var te=wd(v,S,!0)-1;if(K(v[te],S))return te}return-1}function Xv(v){return v&&v.length?TA(v):[]}function AM(v,S){return v&&v.length?TA(v,Jr(S,2)):[]}function Jv(v){var S=v==null?0:v.length;return S?za(v,1,S):[]}function eC(v,S,U){return v&&v.length?(S=U||S===n?1:ei(S),za(v,0,S<0?0:S)):[]}function _m(v,S,U){var te=v==null?0:v.length;return te?(S=U||S===n?1:ei(S),S=te-S,za(v,S<0?0:S,te)):[]}function b2(v,S){return v&&v.length?Md(v,Jr(S,3),!1,!0):[]}function x2(v,S){return v&&v.length?Md(v,Jr(S,3)):[]}var tC=qi(function(v){return Fu(uo(v,1,Be,!0))}),w2=qi(function(v){var S=PA(v);return Be(S)&&(S=n),Fu(uo(v,1,Be,!0),Jr(S,2))}),Cg=qi(function(v){var S=PA(v);return S=typeof S=="function"?S:n,Fu(uo(v,1,Be,!0),n,S)});function M2(v){return v&&v.length?Fu(v):[]}function cM(v,S){return v&&v.length?Fu(v,Jr(S,2)):[]}function dM(v,S){return S=typeof S=="function"?S:n,v&&v.length?Fu(v,n,S):[]}function _g(v){if(!(v&&v.length))return[];var S=0;return v=qu(v,function(U){if(Be(U))return S=lo(U.length,S),!0}),Ko(S,function(U){return ia(v,tp(U))})}function S2(v,S){if(!(v&&v.length))return[];var U=_g(v);return S==null?U:ia(U,function(te){return va(S,n,te)})}var hM=qi(function(v,S){return Be(v)?ti(v,S):[]}),fM=qi(function(v){return fu(qu(v,Be))}),pM=qi(function(v){var S=PA(v);return Be(S)&&(S=n),fu(qu(v,Be),Jr(S,2))}),nC=qi(function(v){var S=PA(v);return S=typeof S=="function"?S:n,fu(qu(v,Be),n,S)}),_f=qi(_g);function E2(v,S){return Sd(v||[],S||[],Lt)}function O2(v,S){return Sd(v||[],S||[],sf)}var B2=qi(function(v){var S=v.length,U=S>1?v[S-1]:n;return U=typeof U=="function"?(v.pop(),U):n,S2(v,U)});function rC(v){var S=Fe(v);return S.__chain__=!0,S}function I2(v,S){return S(v),v}function bm(v,S){return S(v)}var bg=dc(function(v){var S=v.length,U=S?v[0]:0,te=this.__wrapped__,Me=function(Ge){return Hr(Ge,v)};return S>1||this.__actions__.length||!(te instanceof qr)||!x(U)?this.thru(Me):(te=te.slice(U,+U+(S?1:0)),te.__actions__.push({func:bm,args:[Me],thisArg:n}),new Yi(te,this.__chain__).thru(function(Ge){return S&&!Ge.length&&Ge.push(n),Ge}))});function k2(){return rC(this)}function iC(){return new Yi(this.value(),this.__chain__)}function T2(){this.__values__===n&&(this.__values__=Il(this.value()));var v=this.__index__>=this.__values__.length,S=v?n:this.__values__[this.__index__++];return{done:v,value:S}}function DA(){return this}function j0(v){for(var S,U=this;U instanceof ds;){var te=Bl(U);te.__index__=0,te.__values__=n,S?Me.__wrapped__=te:S=te;var Me=te;U=U.__wrapped__}return Me.__wrapped__=v,S}function K2(){var v=this.__wrapped__;if(v instanceof qr){var S=v;return this.__actions__.length&&(S=new qr(this)),S=S.reverse(),S.__actions__.push({func:bm,args:[bp],thisArg:n}),new Yi(S,this.__chain__)}return this.thru(bp)}function P2(){return lf(this.__wrapped__,this.__actions__)}var D2=Bd(function(v,S,U){Xi.call(v,U)?++v[U]:$n(v,U,1)});function U2(v,S,U){var te=re(v)?dd:Ro;return U&&b(v,S,U)&&(S=n),te(v,Jr(S,3))}function F2(v,S){var U=re(v)?qu:yo;return U(v,Jr(S,3))}var L2=vp(KA),mM=vp(Gc);function R2(v,S){return uo(vh(v,S),1)}function bf(v,S){return uo(vh(v,S),wt)}function z2(v,S,U){return U=U===n?1:ei(U),uo(vh(v,S),U)}function oC(v,S){var U=re(v)?au:Wr;return U(v,Jr(S,3))}function aC(v,S){var U=re(v)?Gh:Zo;return U(v,Jr(S,3))}var j2=Bd(function(v,S,U){Xi.call(v,U)?v[U].push(S):$n(v,U,[S])});function gM(v,S,U,te){v=Ce(v)?v:Pg(v),U=U&&!te?ei(U):0;var Me=v.length;return U<0&&(U=lo(Me+U,0)),Ps(v)?U<=Me&&v.indexOf(S,U)>-1:!!Me&&To(v,S,U)>-1}var yM=qi(function(v,S,U){var te=-1,Me=typeof S=="function",Ge=Ce(v)?jt(v.length):[];return Wr(v,function(ut){Ge[++te]=Me?va(S,ut,U):Ac(ut,S,U)}),Ge}),N2=Bd(function(v,S,U){$n(v,U,S)});function vh(v,S){var U=re(v)?ia:E0;return U(v,Jr(S,3))}function G2(v,S,U,te){return v==null?[]:(re(S)||(S=S==null?[]:[S]),U=te?n:U,re(U)||(U=U==null?[]:[U]),og(v,S,U))}var xg=Bd(function(v,S,U){v[U?0:1].push(S)},function(){return[[],[]]});function W2(v,S,U){var te=re(v)?Xd:np,Me=arguments.length<3;return te(v,Jr(S,4),U,Me,Wr)}function wg(v,S,U){var te=re(v)?HA:np,Me=arguments.length<3;return te(v,Jr(S,4),U,Me,Zo)}function Mg(v,S){var U=re(v)?qu:yo;return U(v,N0(Jr(S,3)))}function Sg(v){var S=re(v)?Dt:I0;return S(v)}function vM(v,S,U){(U?b(v,S,U):S===n)?S=1:S=ei(S);var te=re(v)?tt:k0;return te(v,S)}function CM(v){var S=re(v)?bt:T0;return S(v)}function _M(v){if(v==null)return 0;if(Ce(v))return Ps(v)?Tu(v):v.length;var S=Gs(v);return S==St||S==er?v.size:xd(v).length}function bM(v,S,U){var te=re(v)?Tc:ml;return U&&b(v,S,U)&&(S=n),te(v,Jr(S,3))}var xm=qi(function(v,S){if(v==null)return[];var U=S.length;return U>1&&b(v,S[0],S[1])?S=[]:U>2&&b(S[0],S[1],S[2])&&(S=[S[0]]),og(v,uo(S,1),[])}),$s=Fc||function(){return vr.Date.now()};function xf(v,S){if(typeof S!="function")throw new Do(a);return v=ei(v),function(){if(--v<1)return S.apply(this,arguments)}}function Eg(v,S,U){return S=U?n:S,S=v&&S==null?v.length:S,xo(v,X,n,n,n,n,S)}function sC(v,S){var U;if(typeof S!="function")throw new Do(a);return v=ei(v),function(){return--v>0&&(U=S.apply(this,arguments)),v<=1&&(S=n),U}}var Og=qi(function(v,S,U){var te=ee;if(U.length){var Me=zl(U,gf(Og));te|=ye}return xo(v,te,S,U,Me)}),Bg=qi(function(v,S,U){var te=ee|H;if(U.length){var Me=zl(U,gf(Bg));te|=ye}return xo(S,te,v,U,Me)});function Q2(v,S,U){S=U?n:S;var te=xo(v,Z,n,n,n,n,n,S);return te.placeholder=Q2.placeholder,te}function lC(v,S,U){S=U?n:S;var te=xo(v,ue,n,n,n,n,n,S);return te.placeholder=lC.placeholder,te}function uC(v,S,U){var te,Me,Ge,ut,_t,Tt,Cn=0,_n=!1,Tn=!1,pr=!0;if(typeof v!="function")throw new Do(a);S=oi(S)||0,xn(U)&&(_n=!!U.leading,Tn="maxWait"in U,Ge=Tn?lo(oi(U.maxWait)||0,S):Ge,pr="trailing"in U?!!U.trailing:pr);function Zr(gl){var xh=te,wp=Me;return te=Me=n,Cn=gl,ut=v.apply(wp,xh),ut}function bi(gl){return Cn=gl,_t=Tr(wo,S),_n?Zr(gl):ut}function Ao(gl){var xh=gl-Tt,wp=gl-Cn,L9=S-xh;return Tn?da(L9,Ge-wp):L9}function xi(gl){var xh=gl-Tt,wp=gl-Cn;return Tt===n||xh>=S||xh<0||Tn&&wp>=Ge}function wo(){var gl=$s();if(xi(gl))return Uo(gl);_t=Tr(wo,Ao(gl))}function Uo(gl){return _t=n,pr&&te?Zr(gl):(te=Me=n,ut)}function Qc(){_t!==n&&lg(_t),Cn=0,te=Tt=Me=_t=n}function LA(){return _t===n?ut:Uo($s())}function $c(){var gl=$s(),xh=xi(gl);if(te=arguments,Me=this,Tt=gl,xh){if(_t===n)return bi(Tt);if(Tn)return lg(_t),_t=Tr(wo,S),Zr(Tt)}return _t===n&&(_t=Tr(wo,S)),ut}return $c.cancel=Qc,$c.flush=LA,$c}var xM=qi(function(v,S){return Vr(v,1,S)}),$2=qi(function(v,S,U){return Vr(v,oi(S)||0,U)});function AC(v){return xo(v,we)}function wm(v,S){if(typeof v!="function"||S!=null&&typeof S!="function")throw new Do(a);var U=function(){var te=arguments,Me=S?S.apply(this,te):te[0],Ge=U.cache;if(Ge.has(Me))return Ge.get(Me);var ut=v.apply(this,te);return U.cache=Ge.set(Me,ut)||Ge,ut};return U.cache=new(wm.Cache||p),U}wm.Cache=p;function N0(v){if(typeof v!="function")throw new Do(a);return function(){var S=arguments;switch(S.length){case 0:return!v.call(this);case 1:return!v.call(this,S[0]);case 2:return!v.call(this,S[0],S[1]);case 3:return!v.call(this,S[0],S[1],S[2])}return!v.apply(this,S)}}function G0(v){return sC(2,v)}var cC=mp(function(v,S){S=S.length==1&&re(S[0])?ia(S[0],js(Jr())):ia(uo(S,1),js(Jr()));var U=S.length;return qi(function(te){for(var Me=-1,Ge=da(te.length,U);++Me<Ge;)te[Me]=S[Me].call(this,te[Me]);return va(v,this,te)})}),Ig=qi(function(v,S){var U=zl(S,gf(Ig));return xo(v,ye,n,S,U)}),kg=qi(function(v,S){var U=zl(S,gf(kg));return xo(v,be,n,S,U)}),Tg=dc(function(v,S){return xo(v,se,n,n,n,S)});function W0(v,S){if(typeof v!="function")throw new Do(a);return S=S===n?S:ei(S),qi(v,S)}function dC(v,S){if(typeof v!="function")throw new Do(a);return S=S==null?0:lo(ei(S),0),qi(function(U){var te=U[S],Me=zc(U,0,S);return te&&Hu(Me,te),va(v,this,Me)})}function hC(v,S,U){var te=!0,Me=!0;if(typeof v!="function")throw new Do(a);return xn(U)&&(te="leading"in U?!!U.leading:te,Me="trailing"in U?!!U.trailing:Me),uC(v,S,{leading:te,maxWait:S,trailing:Me})}function fC(v){return Eg(v,1)}function wM(v,S){return Ig(pp(S),v)}function c(){if(!arguments.length)return[];var v=arguments[0];return re(v)?v:[v]}function l(v){return Cr(v,P)}function d(v,S){return S=typeof S=="function"?S:n,Cr(v,P,S)}function y(v){return Cr(v,E|P)}function M(v,S){return S=typeof S=="function"?S:n,Cr(v,E|P,S)}function T(v,S){return S==null||Pi(v,S,Kl(S))}function K(v,S){return v===S||v!==v&&S!==S}var F=Cp(oa),N=Cp(function(v,S){return v>=S}),V=ef(function(){return arguments}())?ef:function(v){return mn(v)&&Xi.call(v,"callee")&&!nc.call(v,"callee")},re=jt.isArray,Ae=Zi?js(Zi):du;function Ce(v){return v!=null&&Hn(v.length)&&!Ln(v)}function Be(v){return mn(v)&&Ce(v)}function Ke(v){return v===!0||v===!1||mn(v)&&Bi(v)==ke}var We=op||LM,Xe=ko?js(ko):cc;function at(v){return mn(v)&&v.nodeType===1&&!Na(v)}function It(v){if(v==null)return!0;if(Ce(v)&&(re(v)||typeof v=="string"||typeof v.splice=="function"||We(v)||Ys(v)||V(v)))return!v.length;var S=Gs(v);if(S==St||S==er)return!v.size;if(me(v))return!xd(v).length;for(var U in v)if(Xi.call(v,U))return!1;return!0}function ct(v,S){return Pu(v,S)}function xt(v,S,U){U=typeof U=="function"?U:n;var te=U?U(v,S):n;return te===n?Pu(v,S,n,U):!!te}function rn(v){if(!mn(v))return!1;var S=Bi(v);return S==Re||S==Se||typeof v.message=="string"&&typeof v.name=="string"&&!Na(v)}function An(v){return typeof v=="number"&&Vh(v)}function Ln(v){if(!xn(v))return!1;var S=Bi(v);return S==it||S==ot||S==$t||S==gn}function br(v){return typeof v=="number"&&v==ei(v)}function Hn(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=st}function xn(v){var S=typeof v;return v!=null&&(S=="object"||S=="function")}function mn(v){return v!=null&&typeof v=="object"}var lr=Mo?js(Mo):Du;function Rn(v,S){return v===S||nf(v,S,Eo(S))}function Sn(v,S,U){return U=typeof U=="function"?U:n,nf(v,S,Eo(S),U)}function Ur(v){return ma(v)&&v!=+v}function Mr(v){if(le(v))throw new ui(o);return kA(v)}function Ni(v){return v===null}function pa(v){return v==null}function ma(v){return typeof v=="number"||mn(v)&&Bi(v)==Rt}function Na(v){if(!mn(v)||Bi(v)!=pt)return!1;var S=Ju(v);if(S===null)return!0;var U=Xi.call(S,"constructor")&&S.constructor;return typeof U=="function"&&U instanceof U&&cs.call(U)==ec}var pu=qa?js(qa):cp;function mu(v){return br(v)&&v>=-st&&v<=st}var ms=Ll?js(Ll):bd;function Ps(v){return typeof v=="string"||!re(v)&&mn(v)&&Bi(v)==cr}function Jo(v){return typeof v=="symbol"||mn(v)&&Bi(v)==Sr}var Ys=ou?js(ou):dp;function gu(v){return v===n}function qs(v){return mn(v)&&Gs(v)==yr}function Hs(v){return mn(v)&&Bi(v)==_i}var $l=Cp(uA),yu=Cp(function(v,S){return v<=S});function Il(v){if(!v)return[];if(Ce(v))return Ps(v)?Nl(v):nl(v);if(tA&&v[tA])return am(v[tA]());var S=Gs(v),U=S==St?Pc:S==er?El:Pg;return U(v)}function gs(v){if(!v)return v===0?v:0;if(v=oi(v),v===wt||v===-wt){var S=v<0?-1:1;return S*mt}return v===v?v:0}function ei(v){var S=gs(v),U=S%1;return S===S?U?S-U:S:0}function Ds(v){return v?In(ei(v),0,He):0}function oi(v){if(typeof v=="number")return v;if(Jo(v))return ze;if(xn(v)){var S=typeof v.valueOf=="function"?v.valueOf():v;v=xn(S)?S+"":S}if(typeof v!="string")return v===0?v:+v;v=ZA(v);var U=di.test(v);return U||ro.test(v)?vn(v.slice(2),U?2:8):or.test(v)?ze:+v}function kl(v){return AA(v,Ja(v))}function Tl(v){return v?In(ei(v),-st,st):v===0?v:0}function pi(v){return v==null?"":Uu(v)}var mc=cA(function(v,S){if(me(S)||Ce(S)){AA(S,Kl(S),v);return}for(var U in S)Xi.call(S,U)&&Lt(v,U,S[U])}),gc=cA(function(v,S){AA(S,Ja(S),v)}),hA=cA(function(v,S,U,te){AA(S,Ja(S),v,te)}),Ch=cA(function(v,S,U,te){AA(S,Kl(S),v,te)}),yc=dc(Hr);function UA(v,S){var U=ac(v);return S==null?U:un(U,S)}var Ru=qi(function(v,S){v=Po(v);var U=-1,te=S.length,Me=te>2?S[2]:n;for(Me&&b(S[0],S[1],Me)&&(te=1);++U<te;)for(var Ge=S[U],ut=Ja(Ge),_t=-1,Tt=ut.length;++_t<Tt;){var Cn=ut[_t],_n=v[Cn];(_n===n||K(_n,Ha[Cn])&&!Xi.call(v,Cn))&&(v[Cn]=Ge[Cn])}return v}),_h=qi(function(v){return v.push(n,mm),va(Z2,n,v)});function Q0(v,S){return Wh(v,Jr(S,3),Os)}function Y2(v,S){return Wh(v,Jr(S,3),sA)}function pC(v,S){return v==null?v:tl(v,Jr(S,3),Ja)}function mC(v,S){return v==null?v:cu(v,Jr(S,3),Ja)}function bh(v,S){return v&&Os(v,Jr(S,3))}function q2(v,S){return v&&sA(v,Jr(S,3))}function H2(v){return v==null?[]:Ql(v,Kl(v))}function MM(v){return v==null?[]:Ql(v,Ja(v))}function gC(v,S,U){var te=v==null?n:Bs(v,S);return te===n?U:te}function SM(v,S){return v!=null&&pg(v,S,Rc)}function yC(v,S){return v!=null&&pg(v,S,Xo)}var EM=hm(function(v,S,U){S!=null&&typeof S.toString!="function"&&(S=uu.call(S)),v[S]=U},KM(vc)),OM=hm(function(v,S,U){S!=null&&typeof S.toString!="function"&&(S=uu.call(S)),Xi.call(v,S)?v[S].push(U):v[S]=[U]},Jr),BM=qi(Ac);function Kl(v){return Ce(v)?ht(v):xd(v)}function Ja(v){return Ce(v)?ht(v,!0):rf(v)}function Kg(v,S){var U={};return S=Jr(S,3),Os(v,function(te,Me,Ge){$n(U,S(te,Me,Ge),te)}),U}function V2(v,S){var U={};return S=Jr(S,3),Os(v,function(te,Me,Ge){$n(U,Me,S(te,Me,Ge))}),U}var IM=cA(function(v,S,U){hu(v,S,U)}),Z2=cA(function(v,S,U,te){hu(v,S,U,te)}),kM=dc(function(v,S){var U={};if(v==null)return U;var te=!1;S=ia(S,function(Ge){return Ge=Ed(Ge,v),te||(te=Ge.length>1),Ge}),AA(v,mf(v),U),te&&(U=Cr(U,E|O|P,pf));for(var Me=S.length;Me--;)cm(U,S[Me]);return U});function Yl(v,S){return wf(v,N0(Jr(S)))}var FA=dc(function(v,S){return v==null?{}:pl(v,S)});function wf(v,S){if(v==null)return{};var U=ia(mf(v),function(te){return[te]});return S=Jr(S),lh(v,U,function(te,Me){return S(te,Me[0])})}function Wc(v,S,U){S=Ed(S,v);var te=-1,Me=S.length;for(Me||(Me=1,v=n);++te<Me;){var Ge=v==null?n:v[ja(S[te])];Ge===n&&(te=Me,Ge=U),v=Ln(Ge)?Ge.call(v):Ge}return v}function xp(v,S,U){return v==null?v:sf(v,S,U)}function Td(v,S,U,te){return te=typeof te=="function"?te:n,v==null?v:sf(v,S,U,te)}var k9=ph(Kl),T9=ph(Ja);function tY(v,S,U){var te=re(v),Me=te||We(v)||Ys(v);if(S=Jr(S,4),U==null){var Ge=v&&v.constructor;Me?U=te?new Ge:[]:xn(v)?U=Ln(Ge)?ac(Ju(v)):{}:U={}}return(Me?au:Os)(v,function(ut,_t,Tt){return S(U,ut,_t,Tt)}),U}function nY(v,S){return v==null?!0:cm(v,S)}function rY(v,S,U){return v==null?v:hp(v,S,pp(U))}function iY(v,S,U,te){return te=typeof te=="function"?te:n,v==null?v:hp(v,S,pp(U),te)}function Pg(v){return v==null?[]:$h(v,Kl(v))}function oY(v){return v==null?[]:$h(v,Ja(v))}function aY(v,S,U){return U===n&&(U=S,S=n),U!==n&&(U=oi(U),U=U===U?U:0),S!==n&&(S=oi(S),S=S===S?S:0),In(oi(v),S,U)}function sY(v,S,U){return S=gs(S),U===n?(U=S,S=0):U=gs(U),v=oi(v),xa(v,S,U)}function lY(v,S,U){if(U&&typeof U!="boolean"&&b(v,S,U)&&(S=U=n),U===n&&(typeof S=="boolean"?(U=S,S=n):typeof v=="boolean"&&(U=v,v=n)),v===n&&S===n?(v=0,S=1):(v=gs(v),S===n?(S=v,v=0):S=gs(S)),v>S){var te=v;v=S,S=te}if(U||v%1||S%1){var Me=BA();return da(v+Me*(S-v+Gn("1e-"+((Me+"").length-1))),S)}return lm(v,S)}var uY=hf(function(v,S,U){return S=S.toLowerCase(),v+(U?K9(S):S)});function K9(v){return TM(pi(v).toLowerCase())}function P9(v){return v=pi(v),v&&v.replace(si,Jd).replace(Bu,"")}function AY(v,S,U){v=pi(v),S=Uu(S);var te=v.length;U=U===n?te:In(ei(U),0,te);var Me=U;return U-=S.length,U>=0&&v.slice(U,Me)==S}function cY(v){return v=pi(v),v&&_e.test(v)?v.replace(Pe,ku):v}function dY(v){return v=pi(v),v&&tn.test(v)?v.replace(Mt,"\\$&"):v}var hY=hf(function(v,S,U){return v+(U?"-":"")+S.toLowerCase()}),fY=hf(function(v,S,U){return v+(U?" ":"")+S.toLowerCase()}),pY=df("toLowerCase");function mY(v,S,U){v=pi(v),S=ei(S);var te=S?Tu(v):0;if(!S||te>=S)return v;var Me=(S-te)/2;return pm(iA(Me),U)+v+pm(So(Me),U)}function gY(v,S,U){v=pi(v),S=ei(S);var te=S?Tu(v):0;return S&&te<S?v+pm(S-te,U):v}function yY(v,S,U){v=pi(v),S=ei(S);var te=S?Tu(v):0;return S&&te<S?pm(S-te,U)+v:v}function vY(v,S,U){return U||S==null?S=0:S&&(S=+S),Ir(pi(v).replace(Ht,""),S||0)}function CY(v,S,U){return(U?b(v,S,U):S===n)?S=1:S=ei(S),B0(pi(v),S)}function _Y(){var v=arguments,S=pi(v[0]);return v.length<3?S:S.replace(v[1],v[2])}var bY=hf(function(v,S,U){return v+(U?"_":"")+S.toLowerCase()});function xY(v,S,U){return U&&typeof U!="number"&&b(v,S,U)&&(S=U=n),U=U===n?He:U>>>0,U?(v=pi(v),v&&(typeof S=="string"||S!=null&&!pu(S))&&(S=Uu(S),!S&&JA(v))?zc(Nl(v),0,U):v.split(S,U)):[]}var wY=hf(function(v,S,U){return v+(U?" ":"")+TM(S)});function MY(v,S,U){return v=pi(v),U=U==null?0:In(ei(U),0,v.length),S=Uu(S),v.slice(U,U+S.length)==S}function SY(v,S,U){var te=Fe.templateSettings;U&&b(v,S,U)&&(S=n),v=pi(v),S=hA({},S,te,hg);var Me=hA({},S.imports,te.imports,hg),Ge=Kl(Me),ut=$h(Me,Ge),_t,Tt,Cn=0,_n=S.interpolate||mo,Tn="__p += '",pr=EA((S.escape||mo).source+"|"+_n.source+"|"+(_n===rt?Br:mo).source+"|"+(S.evaluate||mo).source+"|$","g"),Zr="//# sourceURL="+(Xi.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wA+"]")+`
`;v.replace(pr,function(xi,wo,Uo,Qc,LA,$c){return Uo||(Uo=Qc),Tn+=v.slice(Cn,$c).replace(Qa,MA),wo&&(_t=!0,Tn+=`' +
__e(`+wo+`) +
'`),LA&&(Tt=!0,Tn+=`';
`+LA+`;
__p += '`),Uo&&(Tn+=`' +
((__t = (`+Uo+`)) == null ? '' : __t) +
'`),Cn=$c+xi.length,xi}),Tn+=`';
`;var bi=Xi.call(S,"variable")&&S.variable;if(!bi)Tn=`with (obj) {
`+Tn+`
}
`;else if(ur.test(bi))throw new ui(s);Tn=(Tt?Tn.replace(g,""):Tn).replace(Kt,"$1").replace(Pr,"$1;"),Tn="function("+(bi||"obj")+`) {
`+(bi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_t?", __e = _.escape":"")+(Tt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Tn+`return __p
}`;var Ao=U9(function(){return so(Ge,Zr+"return "+Tn).apply(n,ut)});if(Ao.source=Tn,rn(Ao))throw Ao;return Ao}function EY(v){return pi(v).toLowerCase()}function OY(v){return pi(v).toUpperCase()}function BY(v,S,U){if(v=pi(v),v&&(U||S===n))return ZA(v);if(!v||!(S=Uu(S)))return v;var te=Nl(v),Me=Nl(S),Ge=Rl(te,Me),ut=Kc(te,Me)+1;return zc(te,Ge,ut).join("")}function IY(v,S,U){if(v=pi(v),v&&(U||S===n))return v.slice(0,eh(v)+1);if(!v||!(S=Uu(S)))return v;var te=Nl(v),Me=Kc(te,Nl(S))+1;return zc(te,0,Me).join("")}function kY(v,S,U){if(v=pi(v),v&&(U||S===n))return v.replace(Ht,"");if(!v||!(S=Uu(S)))return v;var te=Nl(v),Me=Rl(te,Nl(S));return zc(te,Me).join("")}function TY(v,S){var U=xe,te=De;if(xn(S)){var Me="separator"in S?S.separator:Me;U="length"in S?ei(S.length):U,te="omission"in S?Uu(S.omission):te}v=pi(v);var Ge=v.length;if(JA(v)){var ut=Nl(v);Ge=ut.length}if(U>=Ge)return v;var _t=U-Tu(te);if(_t<1)return te;var Tt=ut?zc(ut,0,_t).join(""):v.slice(0,_t);if(Me===n)return Tt+te;if(ut&&(_t+=Tt.length-_t),pu(Me)){if(v.slice(_t).search(Me)){var Cn,_n=Tt;for(Me.global||(Me=EA(Me.source,pi(Fr.exec(Me))+"g")),Me.lastIndex=0;Cn=Me.exec(_n);)var Tn=Cn.index;Tt=Tt.slice(0,Tn===n?_t:Tn)}}else if(v.indexOf(Uu(Me),_t)!=_t){var pr=Tt.lastIndexOf(Me);pr>-1&&(Tt=Tt.slice(0,pr))}return Tt+te}function KY(v){return v=pi(v),v&&ce.test(v)?v.replace(nr,Dc):v}var PY=hf(function(v,S,U){return v+(U?" ":"")+S.toUpperCase()}),TM=df("toUpperCase");function D9(v,S,U){return v=pi(v),S=U?n:S,S===n?rp(v)?md(v):om(v):v.match(S)||[]}var U9=qi(function(v,S){try{return va(v,n,S)}catch(U){return rn(U)?U:new ui(U)}}),DY=dc(function(v,S){return au(S,function(U){U=ja(U),$n(v,U,Og(v[U],v))}),v});function UY(v){var S=v==null?0:v.length,U=Jr();return v=S?ia(v,function(te){if(typeof te[1]!="function")throw new Do(a);return[U(te[0]),te[1]]}):[],qi(function(te){for(var Me=-1;++Me<S;){var Ge=v[Me];if(va(Ge[0],this,te))return va(Ge[1],this,te)}})}function FY(v){return hi(Cr(v,E))}function KM(v){return function(){return v}}function LY(v,S){return v==null||v!==v?S:v}var RY=dm(),zY=dm(!0);function vc(v){return v}function PM(v){return lA(typeof v=="function"?v:Cr(v,E))}function jY(v){return of(Cr(v,E))}function NY(v,S){return af(v,Cr(S,E))}var GY=qi(function(v,S){return function(U){return Ac(U,v,S)}}),WY=qi(function(v,S){return function(U){return Ac(v,U,S)}});function DM(v,S,U){var te=Kl(S),Me=Ql(S,te);U==null&&!(xn(S)&&(Me.length||!te.length))&&(U=S,S=v,v=this,Me=Ql(S,Kl(S)));var Ge=!(xn(U)&&"chain"in U)||!!U.chain,ut=Ln(v);return au(Me,function(_t){var Tt=S[_t];v[_t]=Tt,ut&&(v.prototype[_t]=function(){var Cn=this.__chain__;if(Ge||Cn){var _n=v(this.__wrapped__),Tn=_n.__actions__=nl(this.__actions__);return Tn.push({func:Tt,args:arguments,thisArg:v}),_n.__chain__=Cn,_n}return Tt.apply(v,Hu([this.value()],arguments))})}),v}function QY(){return vr._===this&&(vr._=_a),this}function UM(){}function $Y(v){return v=ei(v),qi(function(S){return sh(S,v)})}var YY=fm(ia),qY=fm(dd),HY=fm(Tc);function F9(v){return B(v)?tp(ja(v)):O0(v)}function VY(v){return function(S){return v==null?n:Bs(v,S)}}var ZY=fh(),XY=fh(!0);function FM(){return[]}function LM(){return!1}function JY(){return{}}function eq(){return""}function tq(){return!0}function nq(v,S){if(v=ei(v),v<1||v>st)return[];var U=He,te=da(v,He);S=Jr(S),v-=He;for(var Me=Ko(te,S);++U<v;)S(U);return Me}function rq(v){return re(v)?ia(v,ja):Jo(v)?[v]:nl(Ma(pi(v)))}function iq(v){var S=++qh;return pi(v)+S}var oq=hh(function(v,S){return v+S},0),aq=U0("ceil"),sq=hh(function(v,S){return v/S},1),lq=U0("floor");function uq(v){return v&&v.length?Ns(v,vc,oa):n}function Aq(v,S){return v&&v.length?Ns(v,Jr(S,2),oa):n}function cq(v){return Vu(v,vc)}function dq(v,S){return Vu(v,Jr(S,2))}function hq(v){return v&&v.length?Ns(v,vc,uA):n}function fq(v,S){return v&&v.length?Ns(v,Jr(S,2),uA):n}var pq=hh(function(v,S){return v*S},1),mq=U0("round"),gq=hh(function(v,S){return v-S},0);function yq(v){return v&&v.length?VA(v,vc):0}function vq(v,S){return v&&v.length?VA(v,Jr(S,2)):0}return Fe.after=xf,Fe.ary=Eg,Fe.assign=mc,Fe.assignIn=gc,Fe.assignInWith=hA,Fe.assignWith=Ch,Fe.at=yc,Fe.before=sC,Fe.bind=Og,Fe.bindAll=DY,Fe.bindKey=Bg,Fe.castArray=c,Fe.chain=rC,Fe.chunk=rl,Fe.compact=Ts,Fe.concat=ps,Fe.cond=UY,Fe.conforms=FY,Fe.constant=KM,Fe.countBy=D2,Fe.create=UA,Fe.curry=Q2,Fe.curryRight=lC,Fe.debounce=uC,Fe.defaults=Ru,Fe.defaultsDeep=_h,Fe.defer=xM,Fe.delay=$2,Fe.difference=fa,Fe.differenceBy=Ks,Fe.differenceWith=gh,Fe.drop=hc,Fe.dropRight=Ws,Fe.dropRightWhile=fc,Fe.dropWhile=Qs,Fe.fill=R0,Fe.filter=F2,Fe.flatMap=R2,Fe.flatMapDeep=bf,Fe.flatMapDepth=z2,Fe.flatten=Xa,Fe.flattenDeep=il,Fe.flattenDepth=yh,Fe.flip=AC,Fe.flow=RY,Fe.flowRight=zY,Fe.fromPairs=pc,Fe.functions=H2,Fe.functionsIn=MM,Fe.groupBy=j2,Fe.initial=Cm,Fe.intersection=mg,Fe.intersectionBy=gg,Fe.intersectionWith=iM,Fe.invert=EM,Fe.invertBy=OM,Fe.invokeMap=yM,Fe.iteratee=PM,Fe.keyBy=N2,Fe.keys=Kl,Fe.keysIn=Ja,Fe.map=vh,Fe.mapKeys=Kg,Fe.mapValues=V2,Fe.matches=jY,Fe.matchesProperty=NY,Fe.memoize=wm,Fe.merge=IM,Fe.mergeWith=Z2,Fe.method=GY,Fe.methodOf=WY,Fe.mixin=DM,Fe.negate=N0,Fe.nthArg=$Y,Fe.omit=kM,Fe.omitBy=Yl,Fe.once=G0,Fe.orderBy=G2,Fe.over=YY,Fe.overArgs=cC,Fe.overEvery=qY,Fe.overSome=HY,Fe.partial=Ig,Fe.partialRight=kg,Fe.partition=xg,Fe.pick=FA,Fe.pickBy=wf,Fe.property=F9,Fe.propertyOf=VY,Fe.pull=v2,Fe.pullAll=yg,Fe.pullAllBy=Vv,Fe.pullAllWith=aM,Fe.pullAt=sM,Fe.range=ZY,Fe.rangeRight=XY,Fe.rearg=Tg,Fe.reject=Mg,Fe.remove=C2,Fe.rest=W0,Fe.reverse=bp,Fe.sampleSize=vM,Fe.set=xp,Fe.setWith=Td,Fe.shuffle=CM,Fe.slice=kd,Fe.sortBy=xm,Fe.sortedUniq=Xv,Fe.sortedUniqBy=AM,Fe.split=xY,Fe.spread=dC,Fe.tail=Jv,Fe.take=eC,Fe.takeRight=_m,Fe.takeRightWhile=b2,Fe.takeWhile=x2,Fe.tap=I2,Fe.throttle=hC,Fe.thru=bm,Fe.toArray=Il,Fe.toPairs=k9,Fe.toPairsIn=T9,Fe.toPath=rq,Fe.toPlainObject=kl,Fe.transform=tY,Fe.unary=fC,Fe.union=tC,Fe.unionBy=w2,Fe.unionWith=Cg,Fe.uniq=M2,Fe.uniqBy=cM,Fe.uniqWith=dM,Fe.unset=nY,Fe.unzip=_g,Fe.unzipWith=S2,Fe.update=rY,Fe.updateWith=iY,Fe.values=Pg,Fe.valuesIn=oY,Fe.without=hM,Fe.words=D9,Fe.wrap=wM,Fe.xor=fM,Fe.xorBy=pM,Fe.xorWith=nC,Fe.zip=_f,Fe.zipObject=E2,Fe.zipObjectDeep=O2,Fe.zipWith=B2,Fe.entries=k9,Fe.entriesIn=T9,Fe.extend=gc,Fe.extendWith=hA,DM(Fe,Fe),Fe.add=oq,Fe.attempt=U9,Fe.camelCase=uY,Fe.capitalize=K9,Fe.ceil=aq,Fe.clamp=aY,Fe.clone=l,Fe.cloneDeep=y,Fe.cloneDeepWith=M,Fe.cloneWith=d,Fe.conformsTo=T,Fe.deburr=P9,Fe.defaultTo=LY,Fe.divide=sq,Fe.endsWith=AY,Fe.eq=K,Fe.escape=cY,Fe.escapeRegExp=dY,Fe.every=U2,Fe.find=L2,Fe.findIndex=KA,Fe.findKey=Q0,Fe.findLast=mM,Fe.findLastIndex=Gc,Fe.findLastKey=Y2,Fe.floor=lq,Fe.forEach=oC,Fe.forEachRight=aC,Fe.forIn=pC,Fe.forInRight=mC,Fe.forOwn=bh,Fe.forOwnRight=q2,Fe.get=gC,Fe.gt=F,Fe.gte=N,Fe.has=SM,Fe.hasIn=yC,Fe.head=vm,Fe.identity=vc,Fe.includes=gM,Fe.indexOf=z0,Fe.inRange=sY,Fe.invoke=BM,Fe.isArguments=V,Fe.isArray=re,Fe.isArrayBuffer=Ae,Fe.isArrayLike=Ce,Fe.isArrayLikeObject=Be,Fe.isBoolean=Ke,Fe.isBuffer=We,Fe.isDate=Xe,Fe.isElement=at,Fe.isEmpty=It,Fe.isEqual=ct,Fe.isEqualWith=xt,Fe.isError=rn,Fe.isFinite=An,Fe.isFunction=Ln,Fe.isInteger=br,Fe.isLength=Hn,Fe.isMap=lr,Fe.isMatch=Rn,Fe.isMatchWith=Sn,Fe.isNaN=Ur,Fe.isNative=Mr,Fe.isNil=pa,Fe.isNull=Ni,Fe.isNumber=ma,Fe.isObject=xn,Fe.isObjectLike=mn,Fe.isPlainObject=Na,Fe.isRegExp=pu,Fe.isSafeInteger=mu,Fe.isSet=ms,Fe.isString=Ps,Fe.isSymbol=Jo,Fe.isTypedArray=Ys,Fe.isUndefined=gu,Fe.isWeakMap=qs,Fe.isWeakSet=Hs,Fe.join=g2,Fe.kebabCase=hY,Fe.last=PA,Fe.lastIndexOf=oM,Fe.lowerCase=fY,Fe.lowerFirst=pY,Fe.lt=$l,Fe.lte=yu,Fe.max=uq,Fe.maxBy=Aq,Fe.mean=cq,Fe.meanBy=dq,Fe.min=hq,Fe.minBy=fq,Fe.stubArray=FM,Fe.stubFalse=LM,Fe.stubObject=JY,Fe.stubString=eq,Fe.stubTrue=tq,Fe.multiply=pq,Fe.nth=y2,Fe.noConflict=QY,Fe.noop=UM,Fe.now=$s,Fe.pad=mY,Fe.padEnd=gY,Fe.padStart=yY,Fe.parseInt=vY,Fe.random=lY,Fe.reduce=W2,Fe.reduceRight=wg,Fe.repeat=CY,Fe.replace=_Y,Fe.result=Wc,Fe.round=mq,Fe.runInContext=Et,Fe.sample=Sg,Fe.size=_M,Fe.snakeCase=bY,Fe.some=bM,Fe.sortedIndex=Cf,Fe.sortedIndexBy=_2,Fe.sortedIndexOf=Zv,Fe.sortedLastIndex=lM,Fe.sortedLastIndexBy=uM,Fe.sortedLastIndexOf=vg,Fe.startCase=wY,Fe.startsWith=MY,Fe.subtract=gq,Fe.sum=yq,Fe.sumBy=vq,Fe.template=SY,Fe.times=nq,Fe.toFinite=gs,Fe.toInteger=ei,Fe.toLength=Ds,Fe.toLower=EY,Fe.toNumber=oi,Fe.toSafeInteger=Tl,Fe.toString=pi,Fe.toUpper=OY,Fe.trim=BY,Fe.trimEnd=IY,Fe.trimStart=kY,Fe.truncate=TY,Fe.unescape=KY,Fe.uniqueId=iq,Fe.upperCase=PY,Fe.upperFirst=TM,Fe.each=oC,Fe.eachRight=aC,Fe.first=vm,DM(Fe,function(){var v={};return Os(Fe,function(S,U){Xi.call(Fe.prototype,U)||(v[U]=S)}),v}(),{chain:!1}),Fe.VERSION=r,au(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){Fe[v].placeholder=Fe}),au(["drop","take"],function(v,S){qr.prototype[v]=function(U){U=U===n?1:lo(ei(U),0);var te=this.__filtered__&&!S?new qr(this):this.clone();return te.__filtered__?te.__takeCount__=da(U,te.__takeCount__):te.__views__.push({size:da(U,He),type:v+(te.__dir__<0?"Right":"")}),te},qr.prototype[v+"Right"]=function(U){return this.reverse()[v](U).reverse()}}),au(["filter","map","takeWhile"],function(v,S){var U=S+1,te=U==$e||U==yt;qr.prototype[v]=function(Me){var Ge=this.clone();return Ge.__iteratees__.push({iteratee:Jr(Me,3),type:U}),Ge.__filtered__=Ge.__filtered__||te,Ge}}),au(["head","last"],function(v,S){var U="take"+(S?"Right":"");qr.prototype[v]=function(){return this[U](1).value()[0]}}),au(["initial","tail"],function(v,S){var U="drop"+(S?"":"Right");qr.prototype[v]=function(){return this.__filtered__?new qr(this):this[U](1)}}),qr.prototype.compact=function(){return this.filter(vc)},qr.prototype.find=function(v){return this.filter(v).head()},qr.prototype.findLast=function(v){return this.reverse().find(v)},qr.prototype.invokeMap=qi(function(v,S){return typeof v=="function"?new qr(this):this.map(function(U){return Ac(U,v,S)})}),qr.prototype.reject=function(v){return this.filter(N0(Jr(v)))},qr.prototype.slice=function(v,S){v=ei(v);var U=this;return U.__filtered__&&(v>0||S<0)?new qr(U):(v<0?U=U.takeRight(-v):v&&(U=U.drop(v)),S!==n&&(S=ei(S),U=S<0?U.dropRight(-S):U.take(S-v)),U)},qr.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},qr.prototype.toArray=function(){return this.take(He)},Os(qr.prototype,function(v,S){var U=/^(?:filter|find|map|reject)|While$/.test(S),te=/^(?:head|last)$/.test(S),Me=Fe[te?"take"+(S=="last"?"Right":""):S],Ge=te||/^find/.test(S);Me&&(Fe.prototype[S]=function(){var ut=this.__wrapped__,_t=te?[1]:arguments,Tt=ut instanceof qr,Cn=_t[0],_n=Tt||re(ut),Tn=function(wo){var Uo=Me.apply(Fe,Hu([wo],_t));return te&&pr?Uo[0]:Uo};_n&&U&&typeof Cn=="function"&&Cn.length!=1&&(Tt=_n=!1);var pr=this.__chain__,Zr=!!this.__actions__.length,bi=Ge&&!pr,Ao=Tt&&!Zr;if(!Ge&&_n){ut=Ao?ut:new qr(this);var xi=v.apply(ut,_t);return xi.__actions__.push({func:bm,args:[Tn],thisArg:n}),new Yi(xi,pr)}return bi&&Ao?v.apply(this,_t):(xi=this.thru(Tn),bi?te?xi.value()[0]:xi.value():xi)})}),au(["pop","push","shift","sort","splice","unshift"],function(v){var S=OA[v],U=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",te=/^(?:pop|shift)$/.test(v);Fe.prototype[v]=function(){var Me=arguments;if(te&&!this.__chain__){var Ge=this.value();return S.apply(re(Ge)?Ge:[],Me)}return this[U](function(ut){return S.apply(re(ut)?ut:[],Me)})}}),Os(qr.prototype,function(v,S){var U=Fe[S];if(U){var te=U.name+"";Xi.call(Yo,te)||(Yo[te]=[]),Yo[te].push({name:S,func:U})}}),Yo[ff(n,H).name]=[{name:"wrapper",func:n}],qr.prototype.clone=ba,qr.prototype.reverse=sc,qr.prototype.value=vd,Fe.prototype.at=bg,Fe.prototype.chain=k2,Fe.prototype.commit=iC,Fe.prototype.next=T2,Fe.prototype.plant=j0,Fe.prototype.reverse=K2,Fe.prototype.toJSON=Fe.prototype.valueOf=Fe.prototype.value=P2,Fe.prototype.first=Fe.prototype.head,tA&&(Fe.prototype[tA]=DA),Fe},lu=th();Ti?((Ti.exports=lu)._=lu,kr._=lu):vr._=lu}).call(Rh)})(X3,X3.exports);var q5=X3.exports;const FE=Ka(q5);function wX(e,t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const i=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(i,0,o)}}function MX(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var SX=MX;const rT=Ka(SX);var EX=8,OX={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},BX={"*":{type:"source"}},IX=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],kX={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},TX={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},KX={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},PX={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},DX={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},UX={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},FX={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},LX=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],RX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zX={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jX={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},NX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},GX={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},WX={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},QX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},$X={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},YX={type:"array",value:"*"},qX={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},HX={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},VX={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},ZX={type:"array",value:"*",minimum:1},XX={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},JX={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},eJ={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},tJ=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],nJ={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},rJ={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},iJ={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},oJ={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},aJ={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},sJ={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},lJ={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},uJ={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},AJ={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},cJ={"*":{type:"string"}},Ia={$version:EX,$root:OX,sources:BX,source:IX,source_vector:kX,source_raster:TX,source_raster_dem:KX,source_geojson:PX,source_video:DX,source_image:UX,layer:FX,layout:LX,layout_background:RX,layout_fill:zX,layout_circle:jX,layout_heatmap:NX,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:GX,layout_symbol:WX,layout_raster:QX,layout_hillshade:$X,filter:YX,filter_operator:qX,geometry_type:HX,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:VX,expression:ZX,light:XX,sky:JX,terrain:eJ,paint:tJ,paint_fill:nJ,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:rJ,paint_circle:iJ,paint_heatmap:oJ,paint_symbol:aJ,paint_raster:sJ,paint_hillshade:lJ,paint_background:uJ,transition:AJ,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:cJ};const dJ=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function hJ(e,t){const n={};for(const r in e)r!=="ref"&&(n[r]=e[r]);return dJ.forEach(r=>{r in t&&(n[r]=t[r])}),n}function fJ(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=hJ(e[n],t[e[n].ref]));return e}function Ga(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ga(e[n],t[n]))return!1;return!0}if(typeof e=="object"&&e!==null&&t!==null){if(typeof t!="object"||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Ga(e[r],t[r]))return!1;return!0}return e===t}function Fd(e,t){e.push(t)}function fR(e,t,n){Fd(n,{command:"addSource",args:[e,t[e]]})}function pR(e,t,n){Fd(t,{command:"removeSource",args:[e]}),n[e]=!0}function pJ(e,t,n,r){pR(e,n,r),fR(e,t,n)}function mJ(e,t,n){let r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&r!=="data"&&!Ga(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&r!=="data"&&!Ga(e[n][r],t[n][r]))return!1;return!0}function gJ(e,t,n,r){e=e||{},t=t||{};let i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)||pR(i,n,r));for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?Ga(e[i],t[i])||(e[i].type==="geojson"&&t[i].type==="geojson"&&mJ(e,t,i)?Fd(n,{command:"setGeoJSONSourceData",args:[i,t[i].data]}):pJ(i,t,n,r)):fR(i,t,n))}function px(e,t,n,r,i,o){e=e||{},t=t||{};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(Ga(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}));for(const a in t)!Object.prototype.hasOwnProperty.call(t,a)||Object.prototype.hasOwnProperty.call(e,a)||Ga(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]})}function iT(e){return e.id}function oT(e,t){return e[t.id]=t,e}function yJ(e,t,n){e=e||[],t=t||[];const r=e.map(iT),i=t.map(iT),o=e.reduce(oT,{}),a=t.reduce(oT,{}),s=r.slice(),h=Object.create(null);let m,C,E,O,P;for(let D=0,$=0;D<r.length;D++)m=r[D],Object.prototype.hasOwnProperty.call(a,m)?$++:(Fd(n,{command:"removeLayer",args:[m]}),s.splice(s.indexOf(m,$),1));for(let D=0,$=0;D<i.length;D++)m=i[i.length-1-D],s[s.length-1-D]!==m&&(Object.prototype.hasOwnProperty.call(o,m)?(Fd(n,{command:"removeLayer",args:[m]}),s.splice(s.lastIndexOf(m,s.length-$),1)):$++,O=s[s.length-D],Fd(n,{command:"addLayer",args:[a[m],O]}),s.splice(s.length-D,0,m),h[m]=!0);for(let D=0;D<i.length;D++)if(m=i[D],C=o[m],E=a[m],!(h[m]||Ga(C,E))){if(!Ga(C.source,E.source)||!Ga(C["source-layer"],E["source-layer"])||!Ga(C.type,E.type)){Fd(n,{command:"removeLayer",args:[m]}),O=s[s.lastIndexOf(m)+1],Fd(n,{command:"addLayer",args:[E,O]});continue}px(C.layout,E.layout,n,m,null,"setLayoutProperty"),px(C.paint,E.paint,n,m,null,"setPaintProperty"),Ga(C.filter,E.filter)||Fd(n,{command:"setFilter",args:[m,E.filter]}),(!Ga(C.minzoom,E.minzoom)||!Ga(C.maxzoom,E.maxzoom))&&Fd(n,{command:"setLayerZoomRange",args:[m,E.minzoom,E.maxzoom]});for(P in C)Object.prototype.hasOwnProperty.call(C,P)&&(P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?px(C[P],E[P],n,m,P.slice(6),"setPaintProperty"):Ga(C[P],E[P])||Fd(n,{command:"setLayerProperty",args:[m,P,E[P]]})));for(P in E)!Object.prototype.hasOwnProperty.call(E,P)||Object.prototype.hasOwnProperty.call(C,P)||P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?px(C[P],E[P],n,m,P.slice(6),"setPaintProperty"):Ga(C[P],E[P])||Fd(n,{command:"setLayerProperty",args:[m,P,E[P]]}))}}function vJ(e,t){if(!e)return[{command:"setStyle",args:[t]}];let n=[];try{if(!Ga(e.version,t.version))return[{command:"setStyle",args:[t]}];Ga(e.center,t.center)||n.push({command:"setCenter",args:[t.center]}),Ga(e.zoom,t.zoom)||n.push({command:"setZoom",args:[t.zoom]}),Ga(e.bearing,t.bearing)||n.push({command:"setBearing",args:[t.bearing]}),Ga(e.pitch,t.pitch)||n.push({command:"setPitch",args:[t.pitch]}),Ga(e.sprite,t.sprite)||n.push({command:"setSprite",args:[t.sprite]}),Ga(e.glyphs,t.glyphs)||n.push({command:"setGlyphs",args:[t.glyphs]}),Ga(e.transition,t.transition)||n.push({command:"setTransition",args:[t.transition]}),Ga(e.light,t.light)||n.push({command:"setLight",args:[t.light]}),Ga(e.terrain,t.terrain)||n.push({command:"setTerrain",args:[t.terrain]}),Ga(e.sky,t.sky)||n.push({command:"setSky",args:[t.sky]});const r={},i=[];gJ(e.sources,t.sources,i,r);const o=[];e.layers&&e.layers.forEach(a=>{"source"in a&&r[a.source]?n.push({command:"removeLayer",args:[a.id]}):o.push(a)}),n=n.concat(i),yJ(o,t.layers,n)}catch(r){console.warn("Unable to compute style diff:",r),n=[{command:"setStyle",args:[t]}]}return n}class Jn{constructor(t,n,r,i){this.message=(t?`${t}: `:"")+r,i&&(this.identifier=i),n!=null&&n.__line__&&(this.line=n.__line__)}}function cv(e,...t){for(const n of t)for(const r in n)e[r]=n[r];return e}class Ff extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}let CJ=class mR{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[r,i]of n)this.bindings[r]=i}concat(t){return new mR(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1}};const H5={kind:"null"},rr={kind:"number"},Co={kind:"string"},Ji={kind:"boolean"},Gf={kind:"color"},Ly={kind:"object"},to={kind:"value"},_J={kind:"error"},V5={kind:"collator"},Z5={kind:"formatted"},X5={kind:"padding"},Ib={kind:"resolvedImage"},J5={kind:"variableAnchorOffsetCollection"};function Zc(e,t){return{kind:"array",itemType:e,N:t}}function Fs(e){if(e.kind==="array"){const t=Fs(e.itemType);return typeof e.N=="number"?`array<${t}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${t}>`}else return e.kind}const bJ=[H5,rr,Co,Ji,Gf,Z5,Ly,Zc(to),X5,Ib,J5];function Z_(e,t){if(t.kind==="error")return null;if(e.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!Z_(e.itemType,t.itemType))&&(typeof e.N!="number"||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind==="value"){for(const n of bJ)if(!Z_(n,t))return null}}return`Expected ${Fs(e)} but found ${Fs(t)} instead.`}function z8(e,t){return t.some(n=>n.kind===e.kind)}function X_(e,t){return t.some(n=>n==="null"?e===null:n==="array"?Array.isArray(e):n==="object"?e&&!Array.isArray(e)&&typeof e=="object":n===typeof e)}function EC(e,t){return e.kind==="array"&&t.kind==="array"?e.itemType.kind===t.itemType.kind&&typeof e.N=="number":e.kind===t.kind}const gR=.96422,yR=1,vR=.82521,CR=4/29,Ry=6/29,_R=3*Ry*Ry,xJ=Ry*Ry*Ry,wJ=Math.PI/180,MJ=180/Math.PI;function bR(e){return e=e%360,e<0&&(e+=360),e}function xR([e,t,n,r]){e=fS(e),t=fS(t),n=fS(n);let i,o;const a=pS((.2225045*e+.7168786*t+.0606169*n)/yR);e===t&&t===n?i=o=a:(i=pS((.4360747*e+.3850649*t+.1430804*n)/gR),o=pS((.0139322*e+.0971045*t+.7141733*n)/vR));const s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),r]}function fS(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pS(e){return e>xJ?Math.pow(e,1/3):e/_R+CR}function wR([e,t,n,r]){let i=(e+16)/116,o=isNaN(t)?i:i+t/500,a=isNaN(n)?i:i-n/200;return i=yR*gS(i),o=gR*gS(o),a=vR*gS(a),[mS(3.1338561*o-1.6168667*i-.4906146*a),mS(-.9787684*o+1.9161415*i+.033454*a),mS(.0719453*o-.2289914*i+1.4052427*a),r]}function mS(e){return e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055,e<0?0:e>1?1:e}function gS(e){return e>Ry?e*e*e:_R*(e-CR)}function SJ(e){const[t,n,r,i]=xR(e),o=Math.sqrt(n*n+r*r);return[Math.round(o*1e4)?bR(Math.atan2(r,n)*MJ):NaN,o,t,i]}function EJ([e,t,n,r]){return e=isNaN(e)?0:e*wJ,wR([n,Math.cos(e)*t,Math.sin(e)*t,r])}function OJ([e,t,n,r]){e=bR(e),t/=100,n/=100;function i(o){const a=(o+e/30)%12,s=t*Math.min(n,1-n);return n-s*Math.max(-1,Math.min(a-3,9-a,1))}return[i(0),i(8),i(4),r]}function BJ(e){if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];const t=IJ[e];if(t){const[i,o,a]=t;return[i/255,o/255,a/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const o=e.length<6?1:2;let a=1;return[mx(e.slice(a,a+=o)),mx(e.slice(a,a+=o)),mx(e.slice(a,a+=o)),mx(e.slice(a,a+o)||"ff")]}if(e.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=e.match(i);if(o){const[a,s,h,m,C,E,O,P,D,$,ee,H]=o,G=[m||" ",O||" ",$].join("");if(G==="  "||G==="  /"||G===",,"||G===",,,"){const Z=[h,E,D].join(""),ue=Z==="%%%"?100:Z===""?255:0;if(ue){const ye=[Zg(+s/ue,0,1),Zg(+C/ue,0,1),Zg(+P/ue,0,1),ee?aT(+ee,H):1];if(sT(ye))return ye}}return}}const n=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,r=e.match(n);if(r){const[i,o,a,s,h,m,C,E,O]=r,P=[a||" ",h||" ",C].join("");if(P==="  "||P==="  /"||P===",,"||P===",,,"){const D=[+o,Zg(+s,0,100),Zg(+m,0,100),E?aT(+E,O):1];if(sT(D))return OJ(D)}}}function mx(e){return parseInt(e.padEnd(2,e),16)/255}function aT(e,t){return Zg(t?e/100:e,0,1)}function Zg(e,t,n){return Math.min(Math.max(t,e),n)}function sT(e){return!e.some(Number.isNaN)}const IJ={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};let Rs=class LE{constructor(t,n,r,i=1,o=!0){this.r=t,this.g=n,this.b=r,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[t,n,r,i]))}static parse(t){if(t instanceof LE)return t;if(typeof t!="string")return;const n=BJ(t);if(n)return new LE(...n,!1)}get rgb(){const{r:t,g:n,b:r,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[t/o,n/o,r/o,i])}get hcl(){return this.overwriteGetter("hcl",SJ(this.rgb))}get lab(){return this.overwriteGetter("lab",xR(this.rgb))}overwriteGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}toString(){const[t,n,r,i]=this.rgb;return`rgba(${[t,n,r].map(o=>Math.round(o*255)).join(",")},${i})`}};Rs.black=new Rs(0,0,0,1);Rs.white=new Rs(1,1,1,1);Rs.transparent=new Rs(0,0,0,0);Rs.red=new Rs(1,0,0,1);let j8=class{constructor(t,n,r){t?this.sensitivity=n?"variant":"case":this.sensitivity=n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}},RE=class{constructor(t,n,r,i,o){this.text=t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=o}},Ev=class A3{constructor(t){this.sections=t}static fromString(t){return new A3([new RE(t,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof A3?t:A3.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}};class od{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof od)return t;if(typeof t=="number")return new od([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const n of t)if(typeof n!="number")return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]];break}return new od(t)}}toString(){return JSON.stringify(this.values)}}const kJ=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Qf{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Qf)return t;if(!(!Array.isArray(t)||t.length<1||t.length%2!==0)){for(let n=0;n<t.length;n+=2){const r=t[n],i=t[n+1];if(typeof r!="string"||!kJ.has(r)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new Qf(t)}}toString(){return JSON.stringify(this.values)}}let V1=class MR{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new MR({name:t,available:!1}):null}};function SR(e,t,n,r){return typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function J3(e){if(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e instanceof Rs||e instanceof j8||e instanceof Ev||e instanceof od||e instanceof Qf||e instanceof V1)return!0;if(Array.isArray(e)){for(const t of e)if(!J3(t))return!1;return!0}else if(typeof e=="object"){for(const t in e)if(!J3(e[t]))return!1;return!0}else return!1}function eu(e){if(e===null)return H5;if(typeof e=="string")return Co;if(typeof e=="boolean")return Ji;if(typeof e=="number")return rr;if(e instanceof Rs)return Gf;if(e instanceof j8)return V5;if(e instanceof Ev)return Z5;if(e instanceof od)return X5;if(e instanceof Qf)return J5;if(e instanceof V1)return Ib;if(Array.isArray(e)){const t=e.length;let n;for(const r of e){const i=eu(r);if(!n)n=i;else{if(n===i)continue;n=to;break}}return Zc(n||to,t)}else return Ly}function h_(e){const t=typeof e;return e===null?"":t==="string"||t==="number"||t==="boolean"?String(e):e instanceof Rs||e instanceof Ev||e instanceof od||e instanceof Qf||e instanceof V1?e.toString():JSON.stringify(e)}let e4=class ER{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!J3(t[1]))return n.error("invalid value");const r=t[1];let i=eu(r);const o=n.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new ER(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}},wl=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};const gx={string:Co,number:rr,boolean:Ji,object:Ly};let jp=class OR{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let r=1,i;const o=t[0];if(o==="array"){let s;if(t.length>2){const m=t[1];if(typeof m!="string"||!(m in gx)||m==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);s=gx[m],r++}else s=to;let h;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);h=t[2],r++}i=Zc(s,h)}else{if(!gx[o])throw new Error(`Types doesn't contain name = ${o}`);i=gx[o]}const a=[];for(;r<t.length;r++){const s=n.parse(t[r],r,to);if(!s)return null;a.push(s)}return new OR(i,a)}evaluate(t){for(let n=0;n<this.args.length;n++){const r=this.args[n].evaluate(t);if(Z_(this.type,eu(r))){if(n===this.args.length-1)throw new wl(`Expected value to be of type ${Fs(this.type)}, but found ${Fs(eu(r))} instead.`)}else return r}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}};const lT={"to-boolean":Ji,"to-color":Gf,"to-number":rr,"to-string":Co};let Cy=class BR{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[0];if(!lT[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&t.length!==2)return n.error("Expected one argument.");const i=lT[r],o=[];for(let a=1;a<t.length;a++){const s=n.parse(t[a],a,to);if(!s)return null;o.push(s)}return new BR(i,o)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let n,r;for(const i of this.args){if(n=i.evaluate(t),r=null,n instanceof Rs)return n;if(typeof n=="string"){const o=t.parseColor(n);if(o)return o}else if(Array.isArray(n)&&(n.length<3||n.length>4?r=`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:r=SR(n[0],n[1],n[2],n[3]),!r))return new Rs(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new wl(r||`Could not parse color from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"padding":{let n;for(const r of this.args){n=r.evaluate(t);const i=od.parse(n);if(i)return i}throw new wl(`Could not parse padding from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"variableAnchorOffsetCollection":{let n;for(const r of this.args){n=r.evaluate(t);const i=Qf.parse(n);if(i)return i}throw new wl(`Could not parse variableAnchorOffsetCollection from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"number":{let n=null;for(const r of this.args){if(n=r.evaluate(t),n===null)return 0;const i=Number(n);if(!isNaN(i))return i}throw new wl(`Could not convert ${JSON.stringify(n)} to number.`)}case"formatted":return Ev.fromString(h_(this.args[0].evaluate(t)));case"resolvedImage":return V1.fromString(h_(this.args[0].evaluate(t)));default:return h_(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}};const TJ=["Unknown","Point","LineString","Polygon"];let IR=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?TJ[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let n=this._parseColorCache[t];return n||(n=this._parseColorCache[t]=Rs.parse(t)),n}},kR=class TR{constructor(t,n,r=[],i,o=new CJ,a=[]){this.registry=t,this.path=r,this.key=r.map(s=>`[${s}]`).join(""),this.scope=o,this.errors=a,this.expectedType=i,this._isConstant=n}parse(t,n,r,i,o={}){return n?this.concat(n,r,i)._parse(t,o):this._parse(t,o)}_parse(t,n){(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number")&&(t=["literal",t]);function r(i,o,a){return a==="assert"?new jp(o,[i]):a==="coerce"?new Cy(o,[i]):i}if(Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(t,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,h=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&h.kind==="value")a=r(a,s,n.typeAnnotation||"assert");else if((s.kind==="color"||s.kind==="formatted"||s.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))a=r(a,s,n.typeAnnotation||"coerce");else if(s.kind==="padding"&&(h.kind==="value"||h.kind==="number"||h.kind==="array"))a=r(a,s,n.typeAnnotation||"coerce");else if(s.kind==="variableAnchorOffsetCollection"&&(h.kind==="value"||h.kind==="array"))a=r(a,s,n.typeAnnotation||"coerce");else if(this.checkSubtype(s,h))return null}if(!(a instanceof e4)&&a.type.kind!=="resolvedImage"&&this._isConstant(a)){const s=new IR;try{a=new e4(a.type,a.evaluate(s))}catch(h){return this.error(h.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof t>"u"?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,n,r){const i=typeof t=="number"?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new TR(this.registry,this._isConstant,i,n||null,o,this.errors)}error(t,...n){const r=`${this.key}${n.map(i=>`[${i}]`).join("")}`;this.errors.push(new Ff(r,t))}checkSubtype(t,n){const r=Z_(t,n);return r&&this.error(r),r}},KR=class PR{constructor(t,n,r){this.type=V5,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const r=t[1];if(typeof r!="object"||Array.isArray(r))return n.error("Collator options argument must be an object.");const i=n.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Ji);if(!i)return null;const o=n.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Ji);if(!o)return null;let a=null;return r.locale&&(a=n.parse(r.locale,1,Co),!a)?null:new PR(i,o,a)}evaluate(t){return new j8(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}};const l0=8192;function N8(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function KJ(e){return(180+e)/360}function PJ(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function t4(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function DJ(e,t){const n=KJ(e[0]),r=PJ(e[1]),i=Math.pow(2,t.z);return[Math.round(n*i*l0),Math.round(r*i*l0)]}function UJ(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i===0&&r*o<=0&&i*a<=0}function FJ(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function G8(e,t){let n=!1;for(let r=0,i=t.length;r<i;r++){const o=t[r];for(let a=0,s=o.length;a<s-1;a++){if(UJ(e,o[a],o[a+1]))return!1;FJ(e,o[a],o[a+1])&&(n=!n)}}return n}function LJ(e,t){for(let n=0;n<t.length;n++)if(G8(e,t[n]))return!0;return!1}function RJ(e,t){return e[0]*t[1]-e[1]*t[0]}function uT(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],h=r[0]-n[0],m=r[1]-n[1],C=i*m-h*o,E=a*m-h*s;return C>0&&E<0||C<0&&E>0}function zJ(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return RJ(o,i)===0?!1:!!(uT(e,t,n,r)&&uT(n,r,e,t))}function jJ(e,t,n){for(const r of n)for(let i=0;i<r.length-1;++i)if(zJ(e,t,r[i],r[i+1]))return!0;return!1}function DR(e,t){for(let n=0;n<e.length;++n)if(!G8(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(jJ(e[n],e[n+1],t))return!1;return!0}function NJ(e,t){for(let n=0;n<t.length;n++)if(DR(e,t[n]))return!0;return!1}function W8(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let a=0;a<e[i].length;a++){const s=DJ(e[i][a],n);N8(t,s),o.push(s)}r.push(o)}return r}function UR(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=W8(e[i],t,n);r.push(o)}return r}function FR(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const i=r*.5;let o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;o===0&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}N8(t,e)}function GJ(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function AT(e,t,n,r){const i=Math.pow(2,r.z)*l0,o=[r.x*l0,r.y*l0],a=[];for(const s of e)for(const h of s){const m=[h.x+o[0],h.y+o[1]];FR(m,t,n,i),a.push(m)}return a}function cT(e,t,n,r){const i=Math.pow(2,r.z)*l0,o=[r.x*l0,r.y*l0],a=[];for(const s of e){const h=[];for(const m of s){const C=[m.x+o[0],m.y+o[1]];N8(t,C),h.push(C)}a.push(h)}if(t[2]-t[0]<=i/2){GJ(t);for(const s of a)for(const h of s)FR(h,t,n,i)}return a}function WJ(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type==="Polygon"){const o=W8(t.coordinates,r,i),a=AT(e.geometry(),n,r,i);if(!t4(n,r))return!1;for(const s of a)if(!G8(s,o))return!1}if(t.type==="MultiPolygon"){const o=UR(t.coordinates,r,i),a=AT(e.geometry(),n,r,i);if(!t4(n,r))return!1;for(const s of a)if(!LJ(s,o))return!1}return!0}function QJ(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type==="Polygon"){const o=W8(t.coordinates,r,i),a=cT(e.geometry(),n,r,i);if(!t4(n,r))return!1;for(const s of a)if(!DR(s,o))return!1}if(t.type==="MultiPolygon"){const o=UR(t.coordinates,r,i),a=cT(e.geometry(),n,r,i);if(!t4(n,r))return!1;for(const s of a)if(!NJ(s,o))return!1}return!0}let Q8=class c3{constructor(t,n){this.type=Ji,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(J3(t[1])){const r=t[1];if(r.type==="FeatureCollection"){const i=[];for(const o of r.features){const{type:a,coordinates:s}=o.geometry;a==="Polygon"&&i.push(s),a==="MultiPolygon"&&i.push(...s)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new c3(r,o)}}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new c3(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new c3(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return WJ(t,this.geometries);if(t.geometryType()==="LineString")return QJ(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}},LR=class RR{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const r=t[1];return n.scope.has(r)?new RR(r,n.scope.get(r)):n.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}},Ov=class YC{constructor(t,n,r,i){this.name=t,this.type=n,this._evaluate=r,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,n){const r=t[0],i=YC.definitions[r];if(!i)return n.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([m])=>!Array.isArray(m)||m.length===t.length-1);let h=null;for(const[m,C]of s){h=new kR(n.registry,n4,n.path,null,n.scope);const E=[];let O=!1;for(let P=1;P<t.length;P++){const D=t[P],$=Array.isArray(m)?m[P-1]:m.type,ee=h.parse(D,1+E.length,$);if(!ee){O=!0;break}E.push(ee)}if(!O){if(Array.isArray(m)&&m.length!==E.length){h.error(`Expected ${m.length} arguments, but found ${E.length} instead.`);continue}for(let P=0;P<E.length;P++){const D=Array.isArray(m)?m[P]:m.type,$=E[P];h.concat(P+1).checkSubtype(D,$.type)}if(h.errors.length===0)return new YC(r,o,C,E)}}if(s.length===1)n.errors.push(...h.errors);else{const C=(s.length?s:a).map(([O])=>$J(O)).join(" | "),E=[];for(let O=1;O<t.length;O++){const P=n.parse(t[O],1+E.length);if(!P)return null;E.push(Fs(P.type))}n.error(`Expected arguments of type ${C}, but found (${E.join(", ")}) instead.`)}return null}static register(t,n){YC.definitions=n;for(const r in n)t[r]=YC}};function $J(e){return Array.isArray(e)?`(${e.map(Fs).join(", ")})`:`(${Fs(e.type)}...)`}function n4(e){if(e instanceof LR)return n4(e.boundExpression);if(e instanceof Ov&&e.name==="error")return!1;if(e instanceof KR)return!1;if(e instanceof Q8)return!1;const t=e instanceof Cy||e instanceof jp;let n=!0;return e.eachChild(r=>{t?n=n&&n4(r):n=n&&r instanceof e4}),n?ew(e)&&tw(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function ew(e){if(e instanceof Ov){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Q8)return!1;let t=!0;return e.eachChild(n=>{t&&!ew(n)&&(t=!1)}),t}function J_(e){if(e instanceof Ov&&e.name==="feature-state")return!1;let t=!0;return e.eachChild(n=>{t&&!J_(n)&&(t=!1)}),t}function tw(e,t){if(e instanceof Ov&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(r=>{n&&!tw(r,t)&&(n=!1)}),n}function nw(e,t){const n=e.length-1;let r=0,i=n,o=0,a,s;for(;r<=i;)if(o=Math.floor((r+i)/2),a=e[o],s=e[o+1],a<=t){if(o===n||t<s)return o;r=o+1}else if(a>t)i=o-1;else throw new wl("Input is not a number.");return 0}let zR=class jR{constructor(t,n,r){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");const r=n.parse(t[1],1,rr);if(!r)return null;const i=[];let o=null;n.expectedType&&n.expectedType.kind!=="value"&&(o=n.expectedType);for(let a=1;a<t.length;a+=2){const s=a===1?-1/0:t[a],h=t[a+1],m=a,C=a+1;if(typeof s!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',m);const E=n.parse(h,C,o);if(!E)return null;o=o||E.type,i.push([s,E])}return new jR(o,r,i)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=nw(n,i);return r[a].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}};function YJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qJ=NR;function NR(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}NR.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n=n-i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=(s-a)*.5+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var HJ=YJ(qJ);function VJ(e){return e==="rgb"||e==="hcl"||e==="lab"}function M1(e,t,n){return e+n*(t-e)}function ZJ(e,t,n,r="rgb"){switch(r){case"rgb":{const[i,o,a,s]=r4(e.rgb,t.rgb,n);return new Rs(i,o,a,s,!1)}case"hcl":{const[i,o,a,s]=e.hcl,[h,m,C,E]=t.hcl;let O,P;if(!isNaN(i)&&!isNaN(h)){let G=h-i;h>i&&G>180?G-=360:h<i&&i-h>180&&(G+=360),O=i+n*G}else isNaN(i)?isNaN(h)?O=NaN:(O=h,(a===1||a===0)&&(P=m)):(O=i,(C===1||C===0)&&(P=o));const[D,$,ee,H]=EJ([O,P??M1(o,m,n),M1(a,C,n),M1(s,E,n)]);return new Rs(D,$,ee,H,!1)}case"lab":{const[i,o,a,s]=wR(r4(e.lab,t.lab,n));return new Rs(i,o,a,s,!1)}}}function r4(e,t,n){return e.map((r,i)=>M1(r,t[i],n))}function XJ(e,t,n){return new od(r4(e.values,t.values,n))}function JJ(e,t,n){const r=e.values,i=t.values;if(r.length!==i.length)throw new wl(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const o=[];for(let a=0;a<r.length;a+=2){if(r[a]!==i[a])throw new wl(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${r[a]}, to[${a}]: ${i[a]}`);o.push(r[a]);const[s,h]=r[a+1],[m,C]=i[a+1];o.push([M1(s,m,n),M1(h,C,n)])}return new Qf(o)}const d3={number:M1,color:ZJ,array:r4,padding:XJ,variableAnchorOffsetCollection:JJ};let Yp=class zE{constructor(t,n,r,i,o){this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(t,n,r,i){let o=0;if(t.name==="exponential")o=yS(n,t.base,r,i);else if(t.name==="linear")o=yS(n,1,r,i);else if(t.name==="cubic-bezier"){const a=t.controlPoints;o=new HJ(a[0],a[1],a[2],a[3]).solve(yS(n,1,r,i))}return o}static parse(t,n){let[r,i,o,...a]=t;if(!Array.isArray(i)||i.length===0)return n.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const m=i[1];if(typeof m!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:m}}else if(i[0]==="cubic-bezier"){const m=i.slice(1);if(m.length!==4||m.some(C=>typeof C!="number"||C<0||C>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:m}}else return n.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");if(o=n.parse(o,2,rr),!o)return null;const s=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=Gf:n.expectedType&&n.expectedType.kind!=="value"&&(h=n.expectedType);for(let m=0;m<a.length;m+=2){const C=a[m],E=a[m+1],O=m+3,P=m+4;if(typeof C!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(s.length&&s[s.length-1][0]>=C)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',O);const D=n.parse(E,P,h);if(!D)return null;h=h||D.type,s.push([C,D])}return!EC(h,rr)&&!EC(h,Gf)&&!EC(h,X5)&&!EC(h,J5)&&!EC(h,Zc(rr))?n.error(`Type ${Fs(h)} is not interpolatable.`):new zE(h,r,i,o,s)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=nw(n,i),s=n[a],h=n[a+1],m=zE.interpolationFactor(this.interpolation,i,s,h),C=r[a].evaluate(t),E=r[a+1].evaluate(t);switch(this.operator){case"interpolate":return d3[this.type.kind](C,E,m);case"interpolate-hcl":return d3.color(C,E,m,"hcl");case"interpolate-lab":return d3.color(C,E,m,"lab")}}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}};function yS(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}let GR=class jE{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expectected at least one argument.");let r=null;const i=n.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const s of t.slice(1)){const h=n.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}if(!r)throw new Error("No output type");return i&&o.some(s=>Z_(i,s.type))?new jE(to,o):new jE(r,o)}evaluate(t){let n=null,r=0,i;for(const o of this.args)if(r++,n=o.evaluate(t),n&&n instanceof V1&&!n.available&&(i||(i=n.name),n=null,r===this.args.length&&(n=i)),n!==null)break;return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}},WR=class QR{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let o=1;o<t.length-1;o+=2){const a=t[o];if(typeof a!="string")return n.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=n.parse(t[o+1],o+1);if(!s)return null;r.push([a,s])}const i=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return i?new QR(r,i):null}outputDefined(){return this.result.outputDefined()}},eee=class $R{constructor(t,n,r){this.type=t,this.index=n,this.input=r}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,rr),i=n.parse(t[2],2,Zc(n.expectedType||to));if(!r||!i)return null;const o=i.type;return new $R(o.itemType,r,i)}evaluate(t){const n=this.index.evaluate(t),r=this.input.evaluate(t);if(n<0)throw new wl(`Array index out of bounds: ${n} < 0.`);if(n>=r.length)throw new wl(`Array index out of bounds: ${n} > ${r.length-1}.`);if(n!==Math.floor(n))throw new wl(`Array index must be an integer, but found ${n} instead.`);return r[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}},tee=class YR{constructor(t,n){this.type=Ji,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,to),i=n.parse(t[2],2,to);return!r||!i?null:z8(r.type,[Ji,Co,rr,H5,to])?new YR(r,i):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Fs(r.type)} instead`)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!r)return!1;if(!X_(n,["boolean","string","number","null"]))throw new wl(`Expected first argument to be of type boolean, string, number or null, but found ${Fs(eu(n))} instead.`);if(!X_(r,["string","array"]))throw new wl(`Expected second argument to be of type array or string, but found ${Fs(eu(r))} instead.`);return r.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}},nee=class NE{constructor(t,n,r){this.type=rr,this.needle=t,this.haystack=n,this.fromIndex=r}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,to),i=n.parse(t[2],2,to);if(!r||!i)return null;if(!z8(r.type,[Ji,Co,rr,H5,to]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Fs(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,rr);return o?new NE(r,i,o):null}else return new NE(r,i)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!X_(n,["boolean","string","number","null"]))throw new wl(`Expected first argument to be of type boolean, string, number or null, but found ${Fs(eu(n))} instead.`);if(!X_(r,["string","array"]))throw new wl(`Expected second argument to be of type array or string, but found ${Fs(eu(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return r.indexOf(n,i)}return r.indexOf(n)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}},ree=class qR{constructor(t,n,r,i,o,a){this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return n.error("Expected an even number of arguments.");let r,i;n.expectedType&&n.expectedType.kind!=="value"&&(i=n.expectedType);const o={},a=[];for(let m=2;m<t.length-1;m+=2){let C=t[m];const E=t[m+1];Array.isArray(C)||(C=[C]);const O=n.concat(m);if(C.length===0)return O.error("Expected at least one branch label.");for(const D of C){if(typeof D!="number"&&typeof D!="string")return O.error("Branch labels must be numbers or strings.");if(typeof D=="number"&&Math.abs(D)>Number.MAX_SAFE_INTEGER)return O.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof D=="number"&&Math.floor(D)!==D)return O.error("Numeric branch labels must be integer values.");if(!r)r=eu(D);else if(O.checkSubtype(r,eu(D)))return null;if(typeof o[String(D)]<"u")return O.error("Branch labels must be unique.");o[String(D)]=a.length}const P=n.parse(E,m,i);if(!P)return null;i=i||P.type,a.push(P)}const s=n.parse(t[1],1,to);if(!s)return null;const h=n.parse(t[t.length-1],t.length-1,i);return!h||s.type.kind!=="value"&&n.concat(1).checkSubtype(r,s.type)?null:new qR(r,i,s,o,a,h)}evaluate(t){const n=this.input.evaluate(t);return(eu(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}},iee=class HR{constructor(t,n,r){this.type=t,this.branches=n,this.otherwise=r}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return n.error("Expected an odd number of arguments.");let r;n.expectedType&&n.expectedType.kind!=="value"&&(r=n.expectedType);const i=[];for(let a=1;a<t.length-1;a+=2){const s=n.parse(t[a],a,Ji);if(!s)return null;const h=n.parse(t[a+1],a+1,r);if(!h)return null;i.push([s,h]),r=r||h.type}const o=n.parse(t[t.length-1],t.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new HR(r,i,o)}evaluate(t){for(const[n,r]of this.branches)if(n.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,r]of this.branches)t(n),t(r);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}},oee=class GE{constructor(t,n,r,i){this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,to),i=n.parse(t[2],2,rr);if(!r||!i)return null;if(!z8(r.type,[Zc(to),Co,to]))return n.error(`Expected first argument to be of type array or string, but found ${Fs(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,rr);return o?new GE(r.type,r,i,o):null}else return new GE(r.type,r,i)}evaluate(t){const n=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!X_(n,["string","array"]))throw new wl(`Expected first argument to be of type array or string, but found ${Fs(eu(n))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return n.slice(r,i)}return n.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}};function dT(e,t){return e==="=="||e==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function aee(e,t,n){return t===n}function see(e,t,n){return t!==n}function lee(e,t,n){return t<n}function uee(e,t,n){return t>n}function Aee(e,t,n){return t<=n}function cee(e,t,n){return t>=n}function VR(e,t,n,r){return r.compare(t,n)===0}function dee(e,t,n,r){return!VR(e,t,n,r)}function hee(e,t,n,r){return r.compare(t,n)<0}function fee(e,t,n,r){return r.compare(t,n)>0}function pee(e,t,n,r){return r.compare(t,n)<=0}function mee(e,t,n,r){return r.compare(t,n)>=0}function Bv(e,t,n){const r=e!=="=="&&e!=="!=";return class ZR{constructor(o,a,s){this.type=Ji,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let h=a.parse(o[1],1,to);if(!h)return null;if(!dT(s,h.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${Fs(h.type)}'.`);let m=a.parse(o[2],2,to);if(!m)return null;if(!dT(s,m.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${Fs(m.type)}'.`);if(h.type.kind!==m.type.kind&&h.type.kind!=="value"&&m.type.kind!=="value")return a.error(`Cannot compare types '${Fs(h.type)}' and '${Fs(m.type)}'.`);r&&(h.type.kind==="value"&&m.type.kind!=="value"?h=new jp(m.type,[h]):h.type.kind!=="value"&&m.type.kind==="value"&&(m=new jp(h.type,[m])));let C=null;if(o.length===4){if(h.type.kind!=="string"&&m.type.kind!=="string"&&h.type.kind!=="value"&&m.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(C=a.parse(o[3],3,V5),!C)return null}return new ZR(h,m,C)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=eu(a),m=eu(s);if(h.kind!==m.kind||!(h.kind==="string"||h.kind==="number"))throw new wl(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${m.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=eu(a),m=eu(s);if(h.kind!=="string"||m.kind!=="string")return t(o,a,s)}return this.collator?n(o,a,s,this.collator.evaluate(o)):t(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const gee=Bv("==",aee,VR),yee=Bv("!=",see,dee),vee=Bv("<",lee,hee),Cee=Bv(">",uee,fee),_ee=Bv("<=",Aee,pee),bee=Bv(">=",cee,mee);let xee=class XR{constructor(t,n,r,i,o){this.type=Co,this.number=t,this.locale=n,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const r=n.parse(t[1],1,rr);if(!r)return null;const i=t[2];if(typeof i!="object"||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=n.parse(i.locale,1,Co),!o))return null;let a=null;if(i.currency&&(a=n.parse(i.currency,1,Co),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=n.parse(i["min-fraction-digits"],1,rr),!s))return null;let h=null;return i["max-fraction-digits"]&&(h=n.parse(i["max-fraction-digits"],1,rr),!h)?null:new XR(r,o,a,s,h)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}},wee=class JR{constructor(t){this.type=Z5,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&typeof r=="object")return n.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=t.length-1;++a){const s=t[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let h=null;if(s["font-scale"]&&(h=n.parse(s["font-scale"],1,rr),!h))return null;let m=null;if(s["text-font"]&&(m=n.parse(s["text-font"],1,Zc(Co)),!m))return null;let C=null;if(s["text-color"]&&(C=n.parse(s["text-color"],1,Gf),!C))return null;const E=i[i.length-1];E.scale=h,E.font=m,E.textColor=C}else{const h=n.parse(t[a],1,to);if(!h)return null;const m=h.type.kind;if(m!=="string"&&m!=="value"&&m!=="null"&&m!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new JR(i)}evaluate(t){const n=r=>{const i=r.content.evaluate(t);return eu(i)===Ib?new RE("",i,null,null,null):new RE(h_(i),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)};return new Ev(this.sections.map(n))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}outputDefined(){return!1}},Mee=class ez{constructor(t){this.type=Ib,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const r=n.parse(t[1],1,Co);return r?new ez(r):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),r=V1.fromString(n);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(n)>-1),r}eachChild(t){t(this.input)}outputDefined(){return!1}},See=class tz{constructor(t){this.type=rr,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=n.parse(t[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${Fs(r.type)} instead.`):new tz(r):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return n.length;if(Array.isArray(n))return n.length;throw new wl(`Expected value to be of type string or array, but found ${Fs(eu(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}};const $8={"==":gee,"!=":yee,">":Cee,"<":vee,">=":bee,"<=":_ee,array:jp,at:eee,boolean:jp,case:iee,coalesce:GR,collator:KR,format:wee,image:Mee,in:tee,"index-of":nee,interpolate:Yp,"interpolate-hcl":Yp,"interpolate-lab":Yp,length:See,let:WR,literal:e4,match:ree,number:jp,"number-format":xee,object:jp,slice:oee,step:zR,string:jp,"to-boolean":Cy,"to-color":Cy,"to-number":Cy,"to-string":Cy,var:LR,within:Q8};function hT(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=SR(t,n,r,o);if(a)throw new wl(a);return new Rs(t/255,n/255,r/255,o,!1)}function fT(e,t){return e in t}function vS(e,t){const n=t[e];return typeof n>"u"?null:n}function Eee(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}function $0(e){return{type:e}}Ov.register($8,{error:[_J,[Co],(e,[t])=>{throw new wl(t.evaluate(e))}],typeof:[Co,[to],(e,[t])=>Fs(eu(t.evaluate(e)))],"to-rgba":[Zc(rr,4),[Gf],(e,[t])=>{const[n,r,i,o]=t.evaluate(e).rgb;return[n*255,r*255,i*255,o]}],rgb:[Gf,[rr,rr,rr],hT],rgba:[Gf,[rr,rr,rr,rr],hT],has:{type:Ji,overloads:[[[Co],(e,[t])=>fT(t.evaluate(e),e.properties())],[[Co,Ly],(e,[t,n])=>fT(t.evaluate(e),n.evaluate(e))]]},get:{type:to,overloads:[[[Co],(e,[t])=>vS(t.evaluate(e),e.properties())],[[Co,Ly],(e,[t,n])=>vS(t.evaluate(e),n.evaluate(e))]]},"feature-state":[to,[Co],(e,[t])=>vS(t.evaluate(e),e.featureState||{})],properties:[Ly,[],e=>e.properties()],"geometry-type":[Co,[],e=>e.geometryType()],id:[to,[],e=>e.id()],zoom:[rr,[],e=>e.globals.zoom],"heatmap-density":[rr,[],e=>e.globals.heatmapDensity||0],"line-progress":[rr,[],e=>e.globals.lineProgress||0],accumulated:[to,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[rr,$0(rr),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[rr,$0(rr),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:rr,overloads:[[[rr,rr],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[rr],(e,[t])=>-t.evaluate(e)]]},"/":[rr,[rr,rr],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[rr,[rr,rr],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[rr,[],()=>Math.LN2],pi:[rr,[],()=>Math.PI],e:[rr,[],()=>Math.E],"^":[rr,[rr,rr],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[rr,[rr],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[rr,[rr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[rr,[rr],(e,[t])=>Math.log(t.evaluate(e))],log2:[rr,[rr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[rr,[rr],(e,[t])=>Math.sin(t.evaluate(e))],cos:[rr,[rr],(e,[t])=>Math.cos(t.evaluate(e))],tan:[rr,[rr],(e,[t])=>Math.tan(t.evaluate(e))],asin:[rr,[rr],(e,[t])=>Math.asin(t.evaluate(e))],acos:[rr,[rr],(e,[t])=>Math.acos(t.evaluate(e))],atan:[rr,[rr],(e,[t])=>Math.atan(t.evaluate(e))],min:[rr,$0(rr),(e,t)=>Math.min(...t.map(n=>n.evaluate(e)))],max:[rr,$0(rr),(e,t)=>Math.max(...t.map(n=>n.evaluate(e)))],abs:[rr,[rr],(e,[t])=>Math.abs(t.evaluate(e))],round:[rr,[rr],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[rr,[rr],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[rr,[rr],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Ji,[Co,to],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Ji,[to],(e,[t])=>e.id()===t.value],"filter-type-==":[Ji,[Co],(e,[t])=>e.geometryType()===t.value],"filter-<":[Ji,[Co,to],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Ji,[to],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[Ji,[Co,to],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[Ji,[to],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[Ji,[Co,to],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Ji,[to],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[Ji,[Co,to],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Ji,[to],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[Ji,[to],(e,[t])=>t.value in e.properties()],"filter-has-id":[Ji,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[Ji,[Zc(Co)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Ji,[Zc(to)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Ji,[Co,Zc(to)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Ji,[Co,Zc(to)],(e,[t,n])=>Eee(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Ji,overloads:[[[Ji,Ji],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[$0(Ji),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Ji,overloads:[[[Ji,Ji],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[$0(Ji),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Ji,[Ji],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Ji,[Co],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return n?n(t.evaluate(e)):!0}],upcase:[Co,[Co],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Co,[Co],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Co,$0(to),(e,t)=>t.map(n=>h_(n.evaluate(e))).join("")],"resolved-locale":[Co,[V5],(e,[t])=>t.evaluate(e).resolvedLocale()]});function WE(e){return{result:"success",value:e}}function Xg(e){return{result:"error",value:e}}function i4(e){return e["property-type"]==="data-driven"||e["property-type"]==="cross-faded-data-driven"}function nz(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Y8(e){return!!e.expression&&e.expression.interpolated}function Go(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function kb(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Oee(e){return e}function q8(e,t){const n=t.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,a=e.type||(Y8(t)?"exponential":"interval");if(n||t.type==="padding"){const C=n?Rs.parse:od.parse;e=cv({},e),e.stops&&(e.stops=e.stops.map(E=>[E[0],C(E[1])])),e.default?e.default=C(e.default):e.default=C(t.default)}if(e.colorSpace&&!VJ(e.colorSpace))throw new Error(`Unknown color space: "${e.colorSpace}"`);let s,h,m;if(a==="exponential")s=pT;else if(a==="interval")s=Iee;else if(a==="categorical"){s=Bee,h=Object.create(null);for(const C of e.stops)h[C[0]]=C[1];m=typeof e.stops[0][0]}else if(a==="identity")s=kee;else throw new Error(`Unknown function type "${a}"`);if(r){const C={},E=[];for(let D=0;D<e.stops.length;D++){const $=e.stops[D],ee=$[0].zoom;C[ee]===void 0&&(C[ee]={zoom:ee,type:e.type,property:e.property,default:e.default,stops:[]},E.push(ee)),C[ee].stops.push([$[0].value,$[1]])}const O=[];for(const D of E)O.push([C[D].zoom,q8(C[D],t)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:Yp.interpolationFactor.bind(void 0,P),zoomStops:O.map(D=>D[0]),evaluate({zoom:D},$){return pT({stops:O,base:e.base},t,D).evaluate(D,$)}}}else if(o){const C=a==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:Yp.interpolationFactor.bind(void 0,C),zoomStops:e.stops.map(E=>E[0]),evaluate:({zoom:E})=>s(e,t,E,h,m)}}else return{kind:"source",evaluate(C,E){const O=E&&E.properties?E.properties[e.property]:void 0;return O===void 0?Tb(e.default,t.default):s(e,t,O,h,m)}}}function Tb(e,t,n){if(e!==void 0)return e;if(t!==void 0)return t;if(n!==void 0)return n}function Bee(e,t,n,r,i){const o=typeof n===i?r[n]:void 0;return Tb(o,e.default,t.default)}function Iee(e,t,n){if(Go(n)!=="number")return Tb(e.default,t.default);const r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=nw(e.stops.map(o=>o[0]),n);return e.stops[i][1]}function pT(e,t,n){const r=e.base!==void 0?e.base:1;if(Go(n)!=="number")return Tb(e.default,t.default);const i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=nw(e.stops.map(C=>C[0]),n),a=Tee(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],h=e.stops[o+1][1],m=d3[t.type]||Oee;return typeof s.evaluate=="function"?{evaluate(...C){const E=s.evaluate.apply(void 0,C),O=h.evaluate.apply(void 0,C);if(!(E===void 0||O===void 0))return m(E,O,a,e.colorSpace)}}:m(s,h,a,e.colorSpace)}function kee(e,t,n){switch(t.type){case"color":n=Rs.parse(n);break;case"formatted":n=Ev.fromString(n.toString());break;case"resolvedImage":n=V1.fromString(n.toString());break;case"padding":n=od.parse(n);break;default:Go(n)!==t.type&&(t.type!=="enum"||!t.values[n])&&(n=void 0)}return Tb(n,e.default,t.default)}function Tee(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}let rz=class{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new IR,this._defaultValue=n?Uee(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(t,n,r,i,o,a){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null;try{const s=this.expression.evaluate(this._evaluator);if(s==null||typeof s=="number"&&s!==s)return this._defaultValue;if(this._enumValues&&!(s in this._enumValues))throw new wl(`Expected value to be one of ${Object.keys(this._enumValues).map(h=>JSON.stringify(h)).join(", ")}, but found ${JSON.stringify(s)} instead.`);return s}catch(s){return this._warningHistory[s.message]||(this._warningHistory[s.message]=!0,typeof console<"u"&&console.warn(s.message)),this._defaultValue}}};function Kb(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in $8}function H8(e,t){const n=new kR($8,n4,[],t?Dee(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?WE(new rz(r,t)):Xg(n.errors)}let QE=class{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!J_(n.expression)}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}},$E=class{constructor(t,n,r,i){this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!J_(n.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}interpolationFactor(t,n,r){return this.interpolationType?Yp.interpolationFactor(this.interpolationType,t,n,r):0}};function Kee(e){return e._styleExpression!==void 0}function V8(e,t){const n=H8(e,t);if(n.result==="error")return n;const r=n.value.expression,i=ew(r);if(!i&&!i4(t))return Xg([new Ff("","data expressions not supported")]);const o=tw(r,["zoom"]);if(!o&&!nz(t))return Xg([new Ff("","zoom expressions not supported")]);const a=h3(r);if(!a&&!o)return Xg([new Ff("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof Ff)return Xg([a]);if(a instanceof Yp&&!Y8(t))return Xg([new Ff("",'"interpolate" expressions cannot be used with this property')]);if(!a)return WE(i?new QE("constant",n.value):new QE("source",n.value));const s=a instanceof Yp?a.interpolation:void 0;return WE(i?new $E("camera",n.value,a.labels,s):new $E("composite",n.value,a.labels,s))}let iz=class oz{constructor(t,n){this._parameters=t,this._specification=n,cv(this,q8(this._parameters,this._specification))}static deserialize(t){return new oz(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}};function Pee(e,t){if(kb(e))return new iz(e,t);if(Kb(e)){const n=V8(e,t);if(n.result==="error")throw new Error(n.value.map(r=>`${r.key}: ${r.message}`).join(", "));return n.value}else{let n=e;return t.type==="color"&&typeof e=="string"?n=Rs.parse(e):t.type==="padding"&&(typeof e=="number"||Array.isArray(e))?n=od.parse(e):t.type==="variableAnchorOffsetCollection"&&Array.isArray(e)&&(n=Qf.parse(e)),{kind:"constant",evaluate:()=>n}}}function h3(e){let t=null;if(e instanceof WR)t=h3(e.result);else if(e instanceof GR){for(const n of e.args)if(t=h3(n),t)break}else(e instanceof zR||e instanceof Yp)&&e.input instanceof Ov&&e.input.name==="zoom"&&(t=e);return t instanceof Ff||e.eachChild(n=>{const r=h3(n);r instanceof Ff?t=r:!t&&r?t=new Ff("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new Ff("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Dee(e){const t={color:Gf,string:Co,number:rr,enum:Co,boolean:Ji,formatted:Z5,padding:X5,resolvedImage:Ib,variableAnchorOffsetCollection:J5};return e.type==="array"?Zc(t[e.value]||to,e.length):t[e.type]}function Uee(e){return e.type==="color"&&kb(e.default)?new Rs(0,0,0,0):e.type==="color"?Rs.parse(e.default)||null:e.type==="padding"?od.parse(e.default)||null:e.type==="variableAnchorOffsetCollection"?Qf.parse(e.default)||null:e.default===void 0?null:e.default}function rw(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!rw(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function f_(e,t={}){if(rw(e))return e;if(!e)return!0;const n=e,r=n[0];if(e.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=e;return Lee(i,o,r,t)}case"any":{const[,...i]=n;return["any",...i.map(a=>{const s={},h=f_(a,s),m=Fee(s);return m===!0?h:["case",m,h,!1]})]}case"all":{const[,...i]=n,o=i.map(a=>f_(a,t));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=n;return["!",f_(["any",...i],{})]}case"in":{const[,i,...o]=n;return mT(i,o)}case"!in":{const[,i,...o]=n;return mT(i,o,!0)}case"has":return gT(n[1]);case"!has":return["!",gT(n[1])];default:return!0}}function Fee(e){const t=[];for(const n in e){const r=n==="$id"?["id"]:["get",n];t.push(["==",["typeof",r],e[n]])}return t.length===0?!0:t.length===1?t[0]:["all",...t]}function Lee(e,t,n,r){let i;if(e==="$type")return[n,["geometry-type"],t];if(e==="$id"?i=["id"]:i=["get",e],r&&t!==null){const o=typeof t;r[e]=o}return n==="=="&&e!=="$id"&&t===null?["all",["has",e],["==",i,null]]:n==="!="&&e!=="$id"&&t===null?["any",["!",["has",e]],["!=",i,null]]:[n,i,t]}function mT(e,t,n=!1){if(t.length===0)return n;let r;e==="$type"?r=["geometry-type"]:e==="$id"?r=["id"]:r=["get",e];let i=!0;const o=typeof t[0];for(const a of t)if(typeof a!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const a=t.sort().filter((s,h)=>h===0||t[h-1]!==s);return["match",r,a,!n,n]}return n?["all",...t.map(a=>["!=",r,a])]:["any",...t.map(a=>["==",r,a])]}function gT(e){return e==="$type"?!0:e==="$id"?["!=",["id"],null]:["has",e]}function eb(e){return typeof e=="object"?["literal",e]:e}function az(e,t){let n=e.stops;if(!n)return Ree(e,t);const r=n&&typeof n[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return n=n.map(a=>!i&&t.tokens&&typeof a[1]=="string"?[a[0],sz(a[1])]:[a[0],eb(a[1])]),r?zee(e,t,n):o?Nee(e,t,n):YE(e,t,n)}function Ree(e,t){const n=["get",e.property];if(e.default===void 0)return t.type==="string"?["string",n]:n;if(t.type==="enum")return["match",n,Object.keys(t.values),n,e.default];{const r=[t.type==="color"?"to-color":t.type,n,eb(e.default)];return t.type==="array"&&r.splice(1,0,t.value,t.length||null),r}}function Z8(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function zee(e,t,n){const r={},i={},o=[];for(let s=0;s<n.length;s++){const h=n[s],m=h[0].zoom;r[m]===void 0&&(r[m]={zoom:m,type:e.type,property:e.property,default:e.default},i[m]=[],o.push(m)),i[m].push([h[0].value,h[1]])}if(J8({},t)==="exponential"){const s=[Z8(e),["linear"],["zoom"]];for(const h of o){const m=YE(r[h],t,i[h]);zy(s,h,m,!1)}return s}else{const s=["step",["zoom"]];for(const h of o){const m=YE(r[h],t,i[h]);zy(s,h,m,!0)}return X8(s),s}}function jee(e,t){if(e!==void 0)return e;if(t!==void 0)return t}function yT(e,t){const n=eb(jee(e.default,t.default));return n===void 0&&t.type==="resolvedImage"?"":n}function YE(e,t,n){const r=J8(e,t),i=["get",e.property];if(r==="categorical"&&typeof n[0][0]=="boolean"){const o=["case"];for(const a of n)o.push(["==",i,a[0]],a[1]);return o.push(yT(e,t)),o}else if(r==="categorical"){const o=["match",i];for(const a of n)zy(o,a[0],a[1],!1);return o.push(yT(e,t)),o}else if(r==="interval"){const o=["step",["number",i]];for(const a of n)zy(o,a[0],a[1],!0);return X8(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,eb(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,a=[Z8(e),o===1?["linear"]:["exponential",o],["number",i]];for(const s of n)zy(a,s[0],s[1],!1);return e.default===void 0?a:["case",["==",["typeof",i],"number"],a,eb(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function Nee(e,t,n,r=["zoom"]){const i=J8(e,t);let o,a=!1;if(i==="interval")o=["step",r],a=!0;else if(i==="exponential"){const s=e.base!==void 0?e.base:1;o=[Z8(e),s===1?["linear"]:["exponential",s],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of n)zy(o,s[0],s[1],a);return X8(o),o}function X8(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function zy(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&e.length===2||e.push(t),e.push(n))}function J8(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function sz(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);i!==null;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(t.length===1)return e;if(r<e.length)t.push(e.slice(r));else if(t.length===2)return["to-string",t[1]];return t}function Gee(e){for(let t=0;t<Ia.layout.length;t++)for(const n in Ia[Ia.layout[t]])if(n===e)return Ia[Ia.layout[t]][n];for(let t=0;t<Ia.paint.length;t++)for(const n in Ia[Ia.paint[t]])if(n===e)return Ia[Ia.paint[t]][n];return null}function Wee(e,t){for(const n in e.sources)t(e.sources[n])}function p_(e,t){for(const n of e.layers)t(n)}function e7(e,t,n){function r(i,o){const a=i[o];a&&Object.keys(a).forEach(s=>{n({path:[i.id,o,s],key:s,value:a[s],reference:Gee(s),set(h){a[s]=h}})})}p_(e,i=>{t.paint&&r(i,"paint"),t.layout&&r(i,"layout")})}function lz(e){const t=e.key,n=e.value;return n?[new Jn(t,n,"constants have been deprecated as of v8")]:[]}function ul(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function L1(e){if(Array.isArray(e))return e.map(L1);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=L1(e[n]);return t}return ul(e)}function Nd(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=e.validateSpec;let h=[];const m=Go(n);if(m!=="object")return[new Jn(t,n,`object expected, ${m} found`)];for(const C in n){const E=C.split(".")[0],O=r[E]||r["*"];let P;if(i[E])P=i[E];else if(r[E])P=s;else if(i["*"])P=i["*"];else if(r["*"])P=s;else{h.push(new Jn(t,n[C],`unknown property "${C}"`));continue}h=h.concat(P({key:(t&&`${t}.`)+C,value:n[C],valueSpec:O,style:o,styleSpec:a,object:n,objectKey:C,validateSpec:s},n))}for(const C in r)i[C]||r[C].required&&r[C].default===void 0&&n[C]===void 0&&h.push(new Jn(t,n,`missing required property "${C}"`));return h}function t7(e){const t=e.value,n=e.valueSpec,r=e.validateSpec,i=e.style,o=e.styleSpec,a=e.key,s=e.arrayElementValidator||r;if(Go(t)!=="array")return[new Jn(a,t,`array expected, ${Go(t)} found`)];if(n.length&&t.length!==n.length)return[new Jn(a,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new Jn(a,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let h={type:n.value,values:n.values};o.$version<7&&(h.function=n.function),Go(n.value)==="object"&&(h=n.value);let m=[];for(let C=0;C<t.length;C++)m=m.concat(s({array:t,arrayIndex:C,value:t[C],valueSpec:h,validateSpec:e.validateSpec,style:i,styleSpec:o,key:`${a}[${C}]`}));return m}function n7(e){const t=e.key,n=e.value,r=e.valueSpec;let i=Go(n);return i==="number"&&n!==n&&(i="NaN"),i!=="number"?[new Jn(t,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new Jn(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new Jn(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function uz(e){const t=e.valueSpec,n=ul(e.value.type);let r,i={},o,a;const s=n!=="categorical"&&e.value.property===void 0,h=!s,m=Go(e.value.stops)==="array"&&Go(e.value.stops[0])==="array"&&Go(e.value.stops[0][0])==="object",C=Nd({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:E,default:D}});return n==="identity"&&s&&C.push(new Jn(e.key,e.value,'missing required property "property"')),n!=="identity"&&!e.value.stops&&C.push(new Jn(e.key,e.value,'missing required property "stops"')),n==="exponential"&&e.valueSpec.expression&&!Y8(e.valueSpec)&&C.push(new Jn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(h&&!i4(e.valueSpec)?C.push(new Jn(e.key,e.value,"property functions not supported")):s&&!nz(e.valueSpec)&&C.push(new Jn(e.key,e.value,"zoom functions not supported"))),(n==="categorical"||m)&&e.value.property===void 0&&C.push(new Jn(e.key,e.value,'"property" property is required')),C;function E($){if(n==="identity")return[new Jn($.key,$.value,'identity function may not have a "stops" property')];let ee=[];const H=$.value;return ee=ee.concat(t7({key:$.key,value:H,valueSpec:$.valueSpec,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec,arrayElementValidator:O})),Go(H)==="array"&&H.length===0&&ee.push(new Jn($.key,H,"array must have at least one stop")),ee}function O($){let ee=[];const H=$.value,G=$.key;if(Go(H)!=="array")return[new Jn(G,H,`array expected, ${Go(H)} found`)];if(H.length!==2)return[new Jn(G,H,`array length 2 expected, length ${H.length} found`)];if(m){if(Go(H[0])!=="object")return[new Jn(G,H,`object expected, ${Go(H[0])} found`)];if(H[0].zoom===void 0)return[new Jn(G,H,"object stop key must have zoom")];if(H[0].value===void 0)return[new Jn(G,H,"object stop key must have value")];if(a&&a>ul(H[0].zoom))return[new Jn(G,H[0].zoom,"stop zoom values must appear in ascending order")];ul(H[0].zoom)!==a&&(a=ul(H[0].zoom),o=void 0,i={}),ee=ee.concat(Nd({key:`${G}[0]`,value:H[0],valueSpec:{zoom:{}},validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec,objectElementValidators:{zoom:n7,value:P}}))}else ee=ee.concat(P({key:`${G}[0]`,value:H[0],valueSpec:{},validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec},H));return Kb(L1(H[1]))?ee.concat([new Jn(`${G}[1]`,H[1],"expressions are not allowed in function stops.")]):ee.concat($.validateSpec({key:`${G}[1]`,value:H[1],valueSpec:t,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec}))}function P($,ee){const H=Go($.value),G=ul($.value),Z=$.value!==null?$.value:ee;if(!r)r=H;else if(H!==r)return[new Jn($.key,Z,`${H} stop domain type must match previous stop domain type ${r}`)];if(H!=="number"&&H!=="string"&&H!=="boolean")return[new Jn($.key,Z,"stop domain value must be a number, string, or boolean")];if(H!=="number"&&n!=="categorical"){let ue=`number expected, ${H} found`;return i4(t)&&n===void 0&&(ue+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Jn($.key,Z,ue)]}return n==="categorical"&&H==="number"&&(!isFinite(G)||Math.floor(G)!==G)?[new Jn($.key,Z,`integer expected, found ${G}`)]:n!=="categorical"&&H==="number"&&o!==void 0&&G<o?[new Jn($.key,Z,"stop domain values must appear in ascending order")]:(o=G,n==="categorical"&&G in i?[new Jn($.key,Z,"stop domain values must be unique")]:(i[G]=!0,[]))}function D($){return $.validateSpec({key:$.key,value:$.value,valueSpec:t,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec})}}function dv(e){const t=(e.expressionContext==="property"?V8:H8)(L1(e.value),e.valueSpec);if(t.result==="error")return t.value.map(r=>new Jn(`${e.key}${r.key}`,e.value,r.message));const n=t.value.expression||t.value._styleExpression.expression;if(e.expressionContext==="property"&&e.propertyKey==="text-font"&&!n.outputDefined())return[new Jn(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if(e.expressionContext==="property"&&e.propertyType==="layout"&&!J_(n))return[new Jn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if(e.expressionContext==="filter"&&!J_(n))return[new Jn(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&e.expressionContext.indexOf("cluster")===0){if(!tw(n,["zoom","feature-state"]))return[new Jn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(e.expressionContext==="cluster-initial"&&!ew(n))return[new Jn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Qee(e){const t=e.value,n=e.key,r=Go(t);return r!=="boolean"?[new Jn(n,t,`boolean expected, ${r} found`)]:[]}function $ee(e){const t=e.key,n=e.value,r=Go(n);return r!=="string"?[new Jn(t,n,`color expected, ${r} found`)]:Rs.parse(String(n))?[]:[new Jn(t,n,`color expected, "${n}" found`)]}function tb(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(ul(n))===-1&&i.push(new Jn(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):Object.keys(r.values).indexOf(ul(n))===-1&&i.push(new Jn(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function r7(e){return rw(L1(e.value))?dv(cv({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Az(e)}function Az(e){const t=e.value,n=e.key;if(Go(t)!=="array")return[new Jn(n,t,`array expected, ${Go(t)} found`)];const r=e.styleSpec;let i,o=[];if(t.length<1)return[new Jn(n,t,"filter array must have at least 1 element")];switch(o=o.concat(tb({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),ul(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&ul(t[1])==="$type"&&o.push(new Jn(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&o.push(new Jn(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=Go(t[1]),i!=="string"&&o.push(new Jn(`${n}[1]`,t[1],`string expected, ${i} found`)));for(let a=2;a<t.length;a++)i=Go(t[a]),ul(t[1])==="$type"?o=o.concat(tb({key:`${n}[${a}]`,value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new Jn(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let a=1;a<t.length;a++)o=o.concat(Az({key:`${n}[${a}]`,value:t[a],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Go(t[1]),t.length!==2?o.push(new Jn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new Jn(`${n}[1]`,t[1],`string expected, ${i} found`));break;case"within":i=Go(t[1]),t.length!==2?o.push(new Jn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):i!=="object"&&o.push(new Jn(`${n}[1]`,t[1],`object expected, ${i} found`));break}return o}function cz(e,t){const n=e.key,r=e.validateSpec,i=e.style,o=e.styleSpec,a=e.value,s=e.objectKey,h=o[`${t}_${e.layerType}`];if(!h)return[];const m=s.match(/^(.*)-transition$/);if(t==="paint"&&m&&h[m[1]]&&h[m[1]].transition)return r({key:n,value:a,valueSpec:o.transition,style:i,styleSpec:o});const C=e.valueSpec||h[s];if(!C)return[new Jn(n,a,`unknown property "${s}"`)];let E;if(Go(a)==="string"&&i4(C)&&!C.tokens&&(E=/^{([^}]+)}$/.exec(a)))return[new Jn(n,a,`"${s}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(E[1])} }\`.`)];const O=[];return e.layerType==="symbol"&&(s==="text-field"&&i&&!i.glyphs&&O.push(new Jn(n,a,'use of "text-field" requires a style "glyphs" property')),s==="text-font"&&kb(L1(a))&&ul(a.type)==="identity"&&O.push(new Jn(n,a,'"text-font" does not support identity functions'))),O.concat(r({key:e.key,value:a,valueSpec:C,style:i,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:s}))}function dz(e){return cz(e,"paint")}function hz(e){return cz(e,"layout")}function fz(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;!n.type&&!n.ref&&t.push(new Jn(r,n,'either "type" or "ref" is required'));let a=ul(n.type);const s=ul(n.ref);if(n.id){const h=ul(n.id);for(let m=0;m<e.arrayIndex;m++){const C=i.layers[m];ul(C.id)===h&&t.push(new Jn(r,n.id,`duplicate layer id "${n.id}", previously used at line ${C.id.__line__}`))}}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(m=>{m in n&&t.push(new Jn(r,n[m],`"${m}" is prohibited for ref layers`))});let h;i.layers.forEach(m=>{ul(m.id)===s&&(h=m)}),h?h.ref?t.push(new Jn(r,n.ref,"ref cannot reference another ref layer")):a=ul(h.type):t.push(new Jn(r,n.ref,`ref layer "${s}" not found`))}else if(a!=="background")if(!n.source)t.push(new Jn(r,n,'missing required property "source"'));else{const h=i.sources&&i.sources[n.source],m=h&&ul(h.type);h?m==="vector"&&a==="raster"?t.push(new Jn(r,n.source,`layer "${n.id}" requires a raster source`)):m!=="raster-dem"&&a==="hillshade"?t.push(new Jn(r,n.source,`layer "${n.id}" requires a raster-dem source`)):m==="raster"&&a!=="raster"?t.push(new Jn(r,n.source,`layer "${n.id}" requires a vector source`)):m==="vector"&&!n["source-layer"]?t.push(new Jn(r,n,`layer "${n.id}" must specify a "source-layer"`)):m==="raster-dem"&&a!=="hillshade"?t.push(new Jn(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):a==="line"&&n.paint&&n.paint["line-gradient"]&&(m!=="geojson"||!h.lineMetrics)&&t.push(new Jn(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Jn(r,n.source,`source "${n.source}" not found`))}return t=t.concat(Nd({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*"(){return[]},type(){return e.validateSpec({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"})},filter:r7,layout(h){return Nd({layer:n,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(m){return hz(cv({layerType:a},m))}}})},paint(h){return Nd({layer:n,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(m){return dz(cv({layerType:a},m))}}})}}})),t}function R1(e){const t=e.value,n=e.key,r=Go(t);return r!=="string"?[new Jn(n,t,`string expected, ${r} found`)]:[]}function Yee(e){var t;const n=(t=e.sourceName)!==null&&t!==void 0?t:"",r=e.value,i=e.styleSpec,o=i.source_raster_dem,a=e.style;let s=[];const h=Go(r);if(r===void 0)return s;if(h!=="object")return s.push(new Jn("source_raster_dem",r,`object expected, ${h} found`)),s;const C=ul(r.encoding)==="custom",E=["redFactor","greenFactor","blueFactor","baseShift"],O=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const P in r)!C&&E.includes(P)?s.push(new Jn(P,r[P],`In "${n}": "${P}" is only valid when "encoding" is set to "custom". ${O} encoding found`)):o[P]?s=s.concat(e.validateSpec({key:P,value:r[P],valueSpec:o[P],validateSpec:e.validateSpec,style:a,styleSpec:i})):s.push(new Jn(P,r[P],`unknown property "${P}"`));return s}const vT={promoteId:qee};function pz(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style,o=e.validateSpec;if(!t.type)return[new Jn(n,t,'"type" is required')];const a=ul(t.type);let s;switch(a){case"vector":case"raster":return s=Nd({key:n,value:t,valueSpec:r[`source_${a.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:vT,validateSpec:o}),s;case"raster-dem":return s=Yee({sourceName:n,value:t,style:e.style,styleSpec:r,validateSpec:o}),s;case"geojson":if(s=Nd({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:vT}),t.cluster)for(const h in t.clusterProperties){const[m,C]=t.clusterProperties[h],E=typeof m=="string"?[m,["accumulated"],["get",h]]:m;s.push(...dv({key:`${n}.${h}.map`,value:C,validateSpec:o,expressionContext:"cluster-map"})),s.push(...dv({key:`${n}.${h}.reduce`,value:E,validateSpec:o,expressionContext:"cluster-reduce"}))}return s;case"video":return Nd({key:n,value:t,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return Nd({key:n,value:t,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Jn(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tb({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function qee({key:e,value:t}){if(Go(t)==="string")return R1({key:e,value:t});{const n=[];for(const r in t)n.push(...R1({key:`${e}.${r}`,value:t[r]}));return n}}function mz(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const a=Go(t);if(t===void 0)return o;if(a!=="object")return o=o.concat([new Jn("light",t,`object expected, ${a} found`)]),o;for(const s in t){const h=s.match(/^(.*)-transition$/);h&&r[h[1]]&&r[h[1]].transition?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:n.transition,validateSpec:e.validateSpec,style:i,styleSpec:n})):r[s]?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o=o.concat([new Jn(s,t[s],`unknown property "${s}"`)])}return o}function gz(e){const t=e.value,n=e.styleSpec,r=n.sky,i=e.style,o=Go(t);if(t===void 0)return[];if(o!=="object")return[new Jn("sky",t,`object expected, ${o} found`)];let a=[];for(const s in t)r[s]?a=a.concat(jy({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n})):a=a.concat([new Jn(s,t[s],`unknown property "${s}"`)]);return a}function yz(e){const t=e.value,n=e.styleSpec,r=n.terrain,i=e.style;let o=[];const a=Go(t);if(t===void 0)return o;if(a!=="object")return o=o.concat([new Jn("terrain",t,`object expected, ${a} found`)]),o;for(const s in t)r[s]?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o=o.concat([new Jn(s,t[s],`unknown property "${s}"`)]);return o}function Hee(e){return R1(e).length===0?[]:dv(e)}function Vee(e){return R1(e).length===0?[]:dv(e)}function Zee(e){const t=e.key,n=e.value;if(Go(n)==="array"){if(n.length<1||n.length>4)return[new Jn(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const i={type:"number"};let o=[];for(let a=0;a<n.length;a++)o=o.concat(e.validateSpec({key:`${t}[${a}]`,value:n[a],validateSpec:e.validateSpec,valueSpec:i}));return o}else return n7({key:t,value:n,valueSpec:{}})}function Xee(e){const t=e.key,n=e.value,r=Go(n),i=e.styleSpec;if(r!=="array"||n.length<1||n.length%2!==0)return[new Jn(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let a=0;a<n.length;a+=2)o=o.concat(tb({key:`${t}[${a}]`,value:n[a],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(t7({key:`${t}[${a+1}]`,value:n[a+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o}function vz(e){let t=[];const n=e.value,r=e.key;if(Array.isArray(n)){const i=[],o=[];for(const a in n){n[a].id&&i.includes(n[a].id)&&t.push(new Jn(r,n,`all the sprites' ids must be unique, but ${n[a].id} is duplicated`)),i.push(n[a].id),n[a].url&&o.includes(n[a].url)&&t.push(new Jn(r,n,`all the sprites' URLs must be unique, but ${n[a].url} is duplicated`)),o.push(n[a].url);const s={id:{type:"string",required:!0},url:{type:"string",required:!0}};t=t.concat(Nd({key:`${r}[${a}]`,value:n[a],valueSpec:s,validateSpec:e.validateSpec}))}return t}else return R1({key:r,value:n})}const CT={"*"(){return[]},array:t7,boolean:Qee,number:n7,color:$ee,constants:lz,enum:tb,filter:r7,function:uz,layer:fz,object:Nd,source:pz,light:mz,sky:gz,terrain:yz,string:R1,formatted:Hee,resolvedImage:Vee,padding:Zee,variableAnchorOffsetCollection:Xee,sprite:vz};function jy(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return e.validateSpec=jy,n.expression&&kb(ul(t))?uz(e):n.expression&&Kb(L1(t))?dv(e):n.type&&CT[n.type]?CT[n.type](e):Nd(cv({},e,{valueSpec:n.type?r[n.type]:n}))}function Cz(e){const t=e.value,n=e.key,r=R1(e);return r.length||(t.indexOf("{fontstack}")===-1&&r.push(new Jn(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&r.push(new Jn(n,t,'"glyphs" url must include a "{range}" token'))),r}function Vd(e,t=Ia){let n=[];return n=n.concat(jy({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:jy,objectElementValidators:{glyphs:Cz,"*"(){return[]}}})),e.constants&&(n=n.concat(lz({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:jy}))),_z(n)}Vd.source=Jf(Xf(pz));Vd.sprite=Jf(Xf(vz));Vd.glyphs=Jf(Xf(Cz));Vd.light=Jf(Xf(mz));Vd.sky=Jf(Xf(gz));Vd.terrain=Jf(Xf(yz));Vd.layer=Jf(Xf(fz));Vd.filter=Jf(Xf(r7));Vd.paintProperty=Jf(Xf(dz));Vd.layoutProperty=Jf(Xf(hz));function Xf(e){return function(t){return e({...t,validateSpec:jy})}}function _z(e){return[].concat(e).sort((t,n)=>t.line-n.line)}function Jf(e){return function(...t){return _z(e.apply(this,t))}}const Jee=/("(?:[^\\"]|\\.)*")|[:,]/g;function ete(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(a,s,h){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const m=JSON.stringify(a,i);if(m===void 0)return m;const C=r-s.length-h;if(m.length<=C){const E=m.replace(Jee,(O,P)=>P||`${O} `);if(E.length<=C)return E}if(i!=null&&(a=JSON.parse(m),i=void 0),typeof a=="object"&&a!==null){const E=s+n,O=[];let P=0,D,$;if(Array.isArray(a)){D="[",$="]";const{length:ee}=a;for(;P<ee;P++)O.push(o(a[P],E,P===ee-1?0:1)||"null")}else{D="{",$="}";const ee=Object.keys(a),{length:H}=ee;for(;P<H;P++){const G=ee[P],Z=`${JSON.stringify(G)}: `,ue=o(a[G],E,Z.length+(P===H-1?0:1));ue!==void 0&&O.push(Z+ue)}}if(O.length>0)return[D,n+O.join(`,
${E}`),$].join(`
${s}`)}return m}(e,"",0)}function _T(e,t){const n={};for(const r in t)e[r]!==void 0&&(n[r]=e[r]);for(const r in e)n[r]===void 0&&(n[r]=e[r]);return n}function bz(e,t=2){return e=_T(e,Ia.$root),e.layers&&(e.layers=e.layers.map(n=>_T(n,Ia.layer))),ete(e,{indent:t})}function CS(e,t){for(const n in e)n.indexOf("layout")===0&&t(e[n],n)}function bT(e,t){for(const n in e)n.indexOf("paint")===0&&t(e[n],n)}function qE(e,t){return typeof t=="string"&&t[0]==="@"?qE(e,e.constants[t]):t}function tte(e){return Array.isArray(e.stops)}function OC(e,t,n){e[n]=e[t],delete e[t]}function nte(e){e.version=8,Wee(e,i=>{i.type==="video"&&i.url!==void 0&&OC(i,"url","urls"),i.type==="video"&&i.coordinates.forEach(o=>o.reverse())}),p_(e,i=>{CS(i,o=>{o["symbol-min-distance"]!==void 0&&OC(o,"symbol-min-distance","symbol-spacing")}),bT(i,o=>{o["background-image"]!==void 0&&OC(o,"background-image","background-pattern"),o["line-image"]!==void 0&&OC(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&OC(o,"fill-image","fill-pattern")})}),e7(e,{paint:!0,layout:!0},i=>{const o=qE(e,i.value);tte(o)&&o.stops.forEach(a=>{a[1]=qE(e,a[1])}),i.set(o)}),delete e.constants,p_(e,i=>{CS(i,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),bT(i,o=>{o["text-size"]&&(i.layout||(i.layout={}),i.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(i.layout||(i.layout={}),i.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function t(i){function o(a){return a.split(",").map(s=>s.trim())}if(Array.isArray(i))return i;if(typeof i=="string")return o(i);if(typeof i=="object")return i.stops.forEach(a=>{a[1]=o(a[1])}),i;throw new Error("unexpected font value")}p_(e,i=>{CS(i,o=>{o["text-font"]&&(o["text-font"]=t(o["text-font"]))})});let n=0;for(let i=e.layers.length-1;i>=0;i--)if(e.layers[i].type!=="symbol"){n=i+1;break}const r=e.layers.splice(n);return r.reverse(),e.layers=e.layers.concat(r),e}function rte(e){const t=[];return p_(e,n=>{n.filter&&(n.filter=f_(n.filter))}),e7(e,{paint:!0,layout:!0},({path:n,value:r,reference:i,set:o})=>{Kb(r)||(typeof r=="object"&&!Array.isArray(r)?(o(az(r,i)),t.push(n.join("."))):i.tokens&&typeof r=="string"&&o(sz(r)))}),e}function ite(e){return JSON.parse(ote(JSON.stringify(e)))}function ote(e){return e.replace(/"hsla?\((.+?)\)"/gi,(t,n)=>{const r=n.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(r){let[i,o,a,s]=r.slice(1);return[o,a]=[o,a].map(h=>h.endsWith("%")?h:`${parseFloat(h)*100}%`),`"hsl${typeof s=="string"?"a":""}(${[i,o,a,s].filter(Boolean).join(",")})"`}return t})}function ate(e){let t=!1;if(e.version===7&&(e=nte(e),t=!0),e.version===8&&(t=!!rte(e),t=!0),e7(e,{paint:!0,layout:!0},({value:n,reference:r,set:i})=>{r.type==="color"&&i(ite(n))}),!t)throw new Error(`Cannot migrate from ${e.version}`);return e}const ste={StyleExpression:rz,StylePropertyFunction:iz,ZoomConstantExpression:QE,ZoomDependentExpression:$E,createExpression:H8,createPropertyExpression:V8,isExpression:Kb,isExpressionFilter:rw,isZoomExpression:Kee,normalizePropertyExpression:Pee},lte={convertFunction:az,createFunction:q8,isFunction:kb};var xz={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.1.2/LICENSE.txt
 */(function(e,t){(function(n,r){e.exports=r()})(Rh,function(){var n={},r={};function i(a,s,h){if(r[a]=h,a==="index"){var m="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",C={};return r.shared(C),r.index(n,C),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([m],{type:"text/javascript"}))),n}}i("shared",["exports"],function(a){function s(c,l,d,y){return new(d||(d=Promise))(function(M,T){function K(V){try{N(y.next(V))}catch(re){T(re)}}function F(V){try{N(y.throw(V))}catch(re){T(re)}}function N(V){var re;V.done?M(V.value):(re=V.value,re instanceof d?re:new d(function(Ae){Ae(re)})).then(K,F)}N((y=y.apply(c,l||[])).next())})}function h(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}typeof SuppressedError=="function"&&SuppressedError;var m=C;function C(c,l){this.x=c,this.y=l}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,d=c.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),d=Math.sin(c),y=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=y,this},_rotateAround:function(c,l){var d=Math.cos(c),y=Math.sin(c),M=l.y+y*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-y*(this.y-l.y),this.y=M,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(c){return c instanceof C?c:Array.isArray(c)?new C(c[0],c[1]):c};var E=h(m),O=P;function P(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}P.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var M=this.sampleCurveX(d)-c;if(Math.abs(M)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=M/T}var K=0,F=1;for(d=c,y=0;y<20&&(M=this.sampleCurveX(d),!(Math.abs(M-c)<l));y++)c>M?K=d:F=d,d=.5*(F-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var D=h(O);let $,ee;function H(){return $==null&&($=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),$}function G(){if(ee==null&&(ee=!1,H())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let y=0;y<5*5;y++){const M=4*y;l.fillStyle=`rgb(${M},${M+1},${M+2})`,l.fillRect(y%5,Math.floor(y/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&d[y]!==y){ee=!0;break}}}return ee||!1}function Z(c,l,d,y){const M=new D(c,l,d,y);return function(T){return M.solve(T)}}const ue=Z(.25,.1,.25,1);function ye(c,l,d){return Math.min(d,Math.max(l,c))}function be(c,l,d){const y=d-l,M=((c-l)%y+y)%y+l;return M===l?d:M}function X(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}let se=1;function we(c,l,d){const y={};for(const M in c)y[M]=l.call(d||this,c[M],M,c);return y}function xe(c,l,d){const y={};for(const M in c)l.call(d||this,c[M],M,c)&&(y[M]=c[M]);return y}function De(c){return Array.isArray(c)?c.map(De):typeof c=="object"&&c?we(c,De):c}const Ue={};function he(c){Ue[c]||(typeof console<"u"&&console.warn(c),Ue[c]=!0)}function $e(c,l,d){return(d.y-c.y)*(l.x-c.x)>(l.y-c.y)*(d.x-c.x)}function ge(c){let l=0;for(let d,y,M=0,T=c.length,K=T-1;M<T;K=M++)d=c[M],y=c[K],l+=(y.x-d.x)*(d.y+y.y);return l}function yt(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let wt=null;function st(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ze(c,l,d,y,M){return s(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const T=new VideoFrame(c,{timestamp:0});try{const K=T==null?void 0:T.format;if(!K||!K.startsWith("BGR")&&!K.startsWith("RGB"))throw new Error(`Unrecognized format ${K}`);const F=K.startsWith("BGR"),N=new Uint8ClampedArray(y*M*4);if(yield T.copyTo(N,function(V,re,Ae,Ce,Be){const Ke=4*Math.max(-re,0),We=(Math.max(0,Ae)-Ae)*Ce*4+Ke,Xe=4*Ce,at=Math.max(0,re),It=Math.max(0,Ae);return{rect:{x:at,y:It,width:Math.min(V.width,re+Ce)-at,height:Math.min(V.height,Ae+Be)-It},layout:[{offset:We,stride:Xe}]}}(c,l,d,y,M)),F)for(let V=0;V<N.length;V+=4){const re=N[V];N[V]=N[V+2],N[V+2]=re}return N}finally{T.close()}})}let He,Ve;const Vt="AbortError";function Yt(){return new Error(Vt)}const vt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Qt(c){return vt.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const $t="global-dispatcher";class ke extends Error{constructor(l,d,y,M){super(`AJAXError: ${d} (${l}): ${y}`),this.status=l,this.statusText=d,this.url=y,this.body=M}}const pe=()=>yt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Se=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const y=Qt(c.url);if(y)return y(c,l);if(yt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,targetMapId:$t},l)}if(!(/^file:/.test(d=c.url)||/^file:/.test(pe())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,M){return s(this,void 0,void 0,function*(){const T=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:pe(),signal:M.signal});y.type==="json"&&T.headers.set("Accept","application/json");const K=yield fetch(T);if(!K.ok){const V=yield K.blob();throw new ke(K.status,K.statusText,y.url,V)}let F;F=y.type==="arrayBuffer"||y.type==="image"?K.arrayBuffer():y.type==="json"?K.json():K.text();const N=yield F;if(M.signal.aborted)throw Yt();return{data:N,cacheControl:K.headers.get("Cache-Control"),expires:K.headers.get("Expires")}})}(c,l);if(yt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,mustQueue:!0,targetMapId:$t},l)}var d;return function(y,M){return new Promise((T,K)=>{const F=new XMLHttpRequest;F.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(F.responseType="arraybuffer");for(const N in y.headers)F.setRequestHeader(N,y.headers[N]);y.type==="json"&&(F.responseType="text",F.setRequestHeader("Accept","application/json")),F.withCredentials=y.credentials==="include",F.onerror=()=>{K(new Error(F.statusText))},F.onload=()=>{if(!M.signal.aborted)if((F.status>=200&&F.status<300||F.status===0)&&F.response!==null){let N=F.response;if(y.type==="json")try{N=JSON.parse(F.response)}catch(V){return void K(V)}T({data:N,cacheControl:F.getResponseHeader("Cache-Control"),expires:F.getResponseHeader("Expires")})}else{const N=new Blob([F.response],{type:F.getResponseHeader("Content-Type")});K(new ke(F.status,F.statusText,y.url,N))}},M.signal.addEventListener("abort",()=>{F.abort(),K(Yt())}),F.send(y.body)})}(c,l)};function Re(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const l=new URL(c),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function it(c,l,d){d[c]&&d[c].indexOf(l)!==-1||(d[c]=d[c]||[],d[c].push(l))}function ot(c,l,d){if(d&&d[c]){const y=d[c].indexOf(l);y!==-1&&d[c].splice(y,1)}}class St{constructor(l,d={}){X(this,d),this.type=l}}class Rt extends St{constructor(l,d={}){super("error",X({error:l},d))}}class zt{on(l,d){return this._listeners=this._listeners||{},it(l,d,this._listeners),this}off(l,d){return ot(l,d,this._listeners),ot(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},it(l,d,this._oneTimeListeners),this):new Promise(y=>this.once(l,y))}fire(l,d){typeof l=="string"&&(l=new St(l,d||{}));const y=l.type;if(this.listens(y)){l.target=this;const M=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const F of M)F.call(this,l);const T=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const F of T)ot(y,F,this._oneTimeListeners),F.call(this,l);const K=this._eventedParent;K&&(X(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),K.fire(l))}else l instanceof Rt&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ir=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function gn(c,l){const d={};for(const y in c)y!=="ref"&&(d[y]=c[y]);return ir.forEach(y=>{y in l&&(d[y]=l[y])}),d}function yn(c,l){if(Array.isArray(c)){if(!Array.isArray(l)||c.length!==l.length)return!1;for(let d=0;d<c.length;d++)if(!yn(c[d],l[d]))return!1;return!0}if(typeof c=="object"&&c!==null&&l!==null){if(typeof l!="object"||Object.keys(c).length!==Object.keys(l).length)return!1;for(const d in c)if(!yn(c[d],l[d]))return!1;return!0}return c===l}function er(c,l){c.push(l)}function cr(c,l,d){er(d,{command:"addSource",args:[c,l[c]]})}function Sr(c,l,d){er(l,{command:"removeSource",args:[c]}),d[c]=!0}function Gr(c,l,d,y){Sr(c,d,y),cr(c,l,d)}function yr(c,l,d){let y;for(y in c[d])if(Object.prototype.hasOwnProperty.call(c[d],y)&&y!=="data"&&!yn(c[d][y],l[d][y]))return!1;for(y in l[d])if(Object.prototype.hasOwnProperty.call(l[d],y)&&y!=="data"&&!yn(c[d][y],l[d][y]))return!1;return!0}function _i(c,l,d,y,M,T){c=c||{},l=l||{};for(const K in c)Object.prototype.hasOwnProperty.call(c,K)&&(yn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],M]}));for(const K in l)Object.prototype.hasOwnProperty.call(l,K)&&!Object.prototype.hasOwnProperty.call(c,K)&&(yn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],M]}))}function Ee(c){return c.id}function J(c,l){return c[l.id]=l,c}class q{constructor(l,d,y,M){this.message=(l?`${l}: `:"")+y,M&&(this.identifier=M),d!=null&&d.__line__&&(this.line=d.__line__)}}function Te(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}class At extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class Bt{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[y,M]of d)this.bindings[y]=M}concat(l){return new Bt(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const kt={kind:"null"},Ut={kind:"number"},fn={kind:"string"},Pn={kind:"boolean"},On={kind:"color"},g={kind:"object"},Kt={kind:"value"},Pr={kind:"collator"},nr={kind:"formatted"},Pe={kind:"padding"},ce={kind:"resolvedImage"},_e={kind:"variableAnchorOffsetCollection"};function Ie(c,l){return{kind:"array",itemType:c,N:l}}function je(c){if(c.kind==="array"){const l=je(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const rt=[kt,Ut,fn,Pn,On,nr,g,Ie(Kt),Pe,ce,_e];function lt(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!lt(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const d of rt)if(!lt(d,l))return null}}return`Expected ${je(c)} but found ${je(l)} instead.`}function ft(c,l){return l.some(d=>d.kind===c.kind)}function et(c,l){return l.some(d=>d==="null"?c===null:d==="array"?Array.isArray(c):d==="object"?c&&!Array.isArray(c)&&typeof c=="object":d===typeof c)}function Mt(c,l){return c.kind==="array"&&l.kind==="array"?c.itemType.kind===l.itemType.kind&&typeof c.N=="number":c.kind===l.kind}const tn=.96422,Ht=.82521,en=4/29,Dn=6/29,Bn=3*Dn*Dn,qn=Dn*Dn*Dn,Er=Math.PI/180,ur=180/Math.PI;function Yr(c){return(c%=360)<0&&(c+=360),c}function Br([c,l,d,y]){let M,T;const K=or((.2225045*(c=Fr(c))+.7168786*(l=Fr(l))+.0606169*(d=Fr(d)))/1);c===l&&l===d?M=T=K:(M=or((.4360747*c+.3850649*l+.1430804*d)/tn),T=or((.0139322*c+.0971045*l+.7141733*d)/Ht));const F=116*K-16;return[F<0?0:F,500*(M-K),200*(K-T),y]}function Fr(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function or(c){return c>qn?Math.pow(c,1/3):c/Bn+en}function di([c,l,d,y]){let M=(c+16)/116,T=isNaN(l)?M:M+l/500,K=isNaN(d)?M:M-d/200;return M=1*ro(M),T=tn*ro(T),K=Ht*ro(K),[Ri(3.1338561*T-1.6168667*M-.4906146*K),Ri(-.9787684*T+1.9161415*M+.033454*K),Ri(.0719453*T-.2289914*M+1.4052427*K),y]}function Ri(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function ro(c){return c>Dn?c*c*c:Bn*(c-en)}function po(c){return parseInt(c.padEnd(2,c),16)/255}function si(c,l){return mo(l?c/100:c,0,1)}function mo(c,l,d){return Math.min(Math.max(l,c),d)}function Qa(c){return!c.some(Number.isNaN)}const Pa={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Ei{constructor(l,d,y,M=1,T=!0){this.r=l,this.g=d,this.b=y,this.a=M,T||(this.r*=M,this.g*=M,this.b*=M,M||this.overwriteGetter("rgb",[l,d,y,M]))}static parse(l){if(l instanceof Ei)return l;if(typeof l!="string")return;const d=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const M=Pa[y];if(M){const[K,F,N]=M;return[K/255,F/255,N/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const K=y.length<6?1:2;let F=1;return[po(y.slice(F,F+=K)),po(y.slice(F,F+=K)),po(y.slice(F,F+=K)),po(y.slice(F,F+K)||"ff")]}if(y.startsWith("rgb")){const K=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(K){const[F,N,V,re,Ae,Ce,Be,Ke,We,Xe,at,It]=K,ct=[re||" ",Be||" ",Xe].join("");if(ct==="  "||ct==="  /"||ct===",,"||ct===",,,"){const xt=[V,Ce,We].join(""),rn=xt==="%%%"?100:xt===""?255:0;if(rn){const An=[mo(+N/rn,0,1),mo(+Ae/rn,0,1),mo(+Ke/rn,0,1),at?si(+at,It):1];if(Qa(An))return An}}return}}const T=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[K,F,N,V,re,Ae,Ce,Be,Ke]=T,We=[N||" ",re||" ",Ce].join("");if(We==="  "||We==="  /"||We===",,"||We===",,,"){const Xe=[+F,mo(+V,0,100),mo(+Ae,0,100),Be?si(+Be,Ke):1];if(Qa(Xe))return function([at,It,ct,xt]){function rn(An){const Ln=(An+at/30)%12,br=It*Math.min(ct,1-ct);return ct-br*Math.max(-1,Math.min(Ln-3,9-Ln,1))}return at=Yr(at),It/=100,ct/=100,[rn(0),rn(8),rn(4),xt]}(Xe)}}}(l);return d?new Ei(...d,!1):void 0}get rgb(){const{r:l,g:d,b:y,a:M}=this,T=M||1/0;return this.overwriteGetter("rgb",[l/T,d/T,y/T,M])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,y,M,T]=Br(l),K=Math.sqrt(y*y+M*M);return[Math.round(1e4*K)?Yr(Math.atan2(M,y)*ur):NaN,K,d,T]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Br(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,y,M]=this.rgb;return`rgba(${[l,d,y].map(T=>Math.round(255*T)).join(",")},${M})`}}Ei.black=new Ei(0,0,0,1),Ei.white=new Ei(1,1,1,1),Ei.transparent=new Ei(0,0,0,0),Ei.red=new Ei(1,0,0,1);class ls{constructor(l,d,y){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class yi{constructor(l,d,y,M,T){this.text=l,this.image=d,this.scale=y,this.fontStack=M,this.textColor=T}}class Nn{constructor(l){this.sections=l}static fromString(l){return new Nn([new yi(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Nn?l:Nn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class oo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof oo)return l;if(typeof l=="number")return new oo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new oo(l)}}toString(){return JSON.stringify(this.values)}}const bo=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class zi{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof zi)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const y=l[d],M=l[d+1];if(typeof y!="string"||!bo.has(y)||!Array.isArray(M)||M.length!==2||typeof M[0]!="number"||typeof M[1]!="number")return}return new zi(l)}}toString(){return JSON.stringify(this.values)}}class ve{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ve({name:l,available:!1}):null}}function Je(c,l,d,y){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[c,l,d,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[c,l,d,y]:[c,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Zt(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Ei||c instanceof ls||c instanceof Nn||c instanceof oo||c instanceof zi||c instanceof ve)return!0;if(Array.isArray(c)){for(const l of c)if(!Zt(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!Zt(c[l]))return!1;return!0}return!1}function sn(c){if(c===null)return kt;if(typeof c=="string")return fn;if(typeof c=="boolean")return Pn;if(typeof c=="number")return Ut;if(c instanceof Ei)return On;if(c instanceof ls)return Pr;if(c instanceof Nn)return nr;if(c instanceof oo)return Pe;if(c instanceof zi)return _e;if(c instanceof ve)return ce;if(Array.isArray(c)){const l=c.length;let d;for(const y of c){const M=sn(y);if(d){if(d===M)continue;d=Kt;break}d=M}return Ie(d||Kt,l)}return g}function Ft(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof Ei||c instanceof Nn||c instanceof oo||c instanceof zi||c instanceof ve?c.toString():JSON.stringify(c)}class wn{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Zt(l[1]))return d.error("invalid value");const y=l[1];let M=sn(y);const T=d.expectedType;return M.kind!=="array"||M.N!==0||!T||T.kind!=="array"||typeof T.N=="number"&&T.N!==0||(M=T),new wn(M,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class hr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const ii={string:fn,number:Ut,boolean:Pn,object:g};class li{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let y,M=1;const T=l[0];if(T==="array"){let F,N;if(l.length>2){const V=l[1];if(typeof V!="string"||!(V in ii)||V==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);F=ii[V],M++}else F=Kt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);N=l[2],M++}y=Ie(F,N)}else{if(!ii[T])throw new Error(`Types doesn't contain name = ${T}`);y=ii[T]}const K=[];for(;M<l.length;M++){const F=d.parse(l[M],M,Kt);if(!F)return null;K.push(F)}return new li(y,K)}evaluate(l){for(let d=0;d<this.args.length;d++){const y=this.args[d].evaluate(l);if(!lt(this.type,sn(y)))return y;if(d===this.args.length-1)throw new hr(`Expected value to be of type ${je(this.type)}, but found ${je(sn(y))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const ea={"to-boolean":Pn,"to-color":On,"to-number":Ut,"to-string":fn};class Fa{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[0];if(!ea[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&l.length!==2)return d.error("Expected one argument.");const M=ea[y],T=[];for(let K=1;K<l.length;K++){const F=d.parse(l[K],K,Kt);if(!F)return null;T.push(F)}return new Fa(M,T)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,y;for(const M of this.args){if(d=M.evaluate(l),y=null,d instanceof Ei)return d;if(typeof d=="string"){const T=l.parseColor(d);if(T)return T}else if(Array.isArray(d)&&(y=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Je(d[0],d[1],d[2],d[3]),!y))return new Ei(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new hr(y||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const y of this.args){d=y.evaluate(l);const M=oo.parse(d);if(M)return M}throw new hr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const y of this.args){d=y.evaluate(l);const M=zi.parse(d);if(M)return M}throw new hr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const y of this.args){if(d=y.evaluate(l),d===null)return 0;const M=Number(d);if(!isNaN(M))return M}throw new hr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Nn.fromString(Ft(this.args[0].evaluate(l)));case"resolvedImage":return ve.fromString(Ft(this.args[0].evaluate(l)));default:return Ft(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Dr=["Unknown","Point","LineString","Polygon"];class $a{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Dr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Ei.parse(l)),d}}class vi{constructor(l,d,y=[],M,T=new Bt,K=[]){this.registry=l,this.path=y,this.key=y.map(F=>`[${F}]`).join(""),this.scope=T,this.errors=K,this.expectedType=M,this._isConstant=d}parse(l,d,y,M,T={}){return d?this.concat(d,y,M)._parse(l,T):this._parse(l,T)}_parse(l,d){function y(M,T,K){return K==="assert"?new li(T,[M]):K==="coerce"?new Fa(T,[M]):M}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const M=l[0];if(typeof M!="string")return this.error(`Expression name must be a string, but found ${typeof M} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const T=this.registry[M];if(T){let K=T.parse(l,this);if(!K)return null;if(this.expectedType){const F=this.expectedType,N=K.type;if(F.kind!=="string"&&F.kind!=="number"&&F.kind!=="boolean"&&F.kind!=="object"&&F.kind!=="array"||N.kind!=="value")if(F.kind!=="color"&&F.kind!=="formatted"&&F.kind!=="resolvedImage"||N.kind!=="value"&&N.kind!=="string")if(F.kind!=="padding"||N.kind!=="value"&&N.kind!=="number"&&N.kind!=="array")if(F.kind!=="variableAnchorOffsetCollection"||N.kind!=="value"&&N.kind!=="array"){if(this.checkSubtype(F,N))return null}else K=y(K,F,d.typeAnnotation||"coerce");else K=y(K,F,d.typeAnnotation||"coerce");else K=y(K,F,d.typeAnnotation||"coerce");else K=y(K,F,d.typeAnnotation||"assert")}if(!(K instanceof wn)&&K.type.kind!=="resolvedImage"&&this._isConstant(K)){const F=new $a;try{K=new wn(K.type,K.evaluate(F))}catch(N){return this.error(N.message),null}}return K}return this.error(`Unknown expression "${M}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,y){const M=typeof l=="number"?this.path.concat(l):this.path,T=y?this.scope.concat(y):this.scope;return new vi(this.registry,this._isConstant,M,d||null,T,this.errors)}error(l,...d){const y=`${this.key}${d.map(M=>`[${M}]`).join("")}`;this.errors.push(new At(y,l))}checkSubtype(l,d){const y=lt(l,d);return y&&this.error(y),y}}class Ya{constructor(l,d,y){this.type=Pr,this.locale=y,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const y=l[1];if(typeof y!="object"||Array.isArray(y))return d.error("Collator options argument must be an object.");const M=d.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,Pn);if(!M)return null;const T=d.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,Pn);if(!T)return null;let K=null;return y.locale&&(K=d.parse(y.locale,1,fn),!K)?null:new Ya(M,T,K)}evaluate(l){return new ls(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const ta=8192;function Su(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function us(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function na(c,l){const d=(180+c[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,M=Math.pow(2,l.z);return[Math.round(d*M*ta),Math.round(y*M*ta)]}function ra(c,l,d){const y=c[0]-l[0],M=c[1]-l[1],T=c[0]-d[0],K=c[1]-d[1];return y*K-T*M==0&&y*T<=0&&M*K<=0}function Ms(c,l){let d=!1;for(let K=0,F=l.length;K<F;K++){const N=l[K];for(let V=0,re=N.length;V<re-1;V++){if(ra(c,N[V],N[V+1]))return!1;(M=N[V])[1]>(y=c)[1]!=(T=N[V+1])[1]>y[1]&&y[0]<(T[0]-M[0])*(y[1]-M[1])/(T[1]-M[1])+M[0]&&(d=!d)}}var y,M,T;return d}function Eu(c,l){for(let d=0;d<l.length;d++)if(Ms(c,l[d]))return!0;return!1}function ya(c,l,d,y){const M=y[0]-d[0],T=y[1]-d[1],K=(c[0]-d[0])*T-M*(c[1]-d[1]),F=(l[0]-d[0])*T-M*(l[1]-d[1]);return K>0&&F<0||K<0&&F>0}function bA(c,l,d){for(const V of d)for(let re=0;re<V.length-1;++re)if((F=[(K=V[re+1])[0]-(T=V[re])[0],K[1]-T[1]])[0]*(N=[(M=l)[0]-(y=c)[0],M[1]-y[1]])[1]-F[1]*N[0]!=0&&ya(y,M,T,K)&&ya(T,K,y,M))return!0;var y,M,T,K,F,N;return!1}function $u(c,l){for(let d=0;d<c.length;++d)if(!Ms(c[d],l))return!1;for(let d=0;d<c.length-1;++d)if(bA(c[d],c[d+1],l))return!1;return!0}function xA(c,l){for(let d=0;d<l.length;d++)if($u(c,l[d]))return!0;return!1}function Ou(c,l,d){const y=[];for(let M=0;M<c.length;M++){const T=[];for(let K=0;K<c[M].length;K++){const F=na(c[M][K],d);Su(l,F),T.push(F)}y.push(T)}return y}function Yu(c,l,d){const y=[];for(let M=0;M<c.length;M++){const T=Ou(c[M],l,d);y.push(T)}return y}function Wo(c,l,d,y){if(c[0]<d[0]||c[0]>d[2]){const M=.5*y;let T=c[0]-d[0]>M?-y:d[0]-c[0]>M?y:0;T===0&&(T=c[0]-d[2]>M?-y:d[2]-c[0]>M?y:0),c[0]+=T}Su(l,c)}function Ss(c,l,d,y){const M=Math.pow(2,y.z)*ta,T=[y.x*ta,y.y*ta],K=[];for(const F of c)for(const N of F){const V=[N.x+T[0],N.y+T[1]];Wo(V,l,d,M),K.push(V)}return K}function ru(c,l,d,y){const M=Math.pow(2,y.z)*ta,T=[y.x*ta,y.y*ta],K=[];for(const N of c){const V=[];for(const re of N){const Ae=[re.x+T[0],re.y+T[1]];Su(l,Ae),V.push(Ae)}K.push(V)}if(l[2]-l[0]<=M/2){(F=l)[0]=F[1]=1/0,F[2]=F[3]=-1/0;for(const N of K)for(const V of N)Wo(V,l,d,M)}var F;return K}class As{constructor(l,d){this.type=Pn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Zt(l[1])){const y=l[1];if(y.type==="FeatureCollection"){const M=[];for(const T of y.features){const{type:K,coordinates:F}=T.geometry;K==="Polygon"&&M.push(F),K==="MultiPolygon"&&M.push(...F)}if(M.length)return new As(y,{type:"MultiPolygon",coordinates:M})}else if(y.type==="Feature"){const M=y.geometry.type;if(M==="Polygon"||M==="MultiPolygon")return new As(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new As(y,y)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,y){const M=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const F=Ou(y.coordinates,T,K),N=Ss(d.geometry(),M,T,K);if(!us(M,T))return!1;for(const V of N)if(!Ms(V,F))return!1}if(y.type==="MultiPolygon"){const F=Yu(y.coordinates,T,K),N=Ss(d.geometry(),M,T,K);if(!us(M,T))return!1;for(const V of N)if(!Eu(V,F))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,y){const M=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const F=Ou(y.coordinates,T,K),N=ru(d.geometry(),M,T,K);if(!us(M,T))return!1;for(const V of N)if(!$u(V,F))return!1}if(y.type==="MultiPolygon"){const F=Yu(y.coordinates,T,K),N=ru(d.geometry(),M,T,K);if(!us(M,T))return!1;for(const V of N)if(!xA(V,F))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Al{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const y=l[1];return d.scope.has(y)?new Al(y,d.scope.get(y)):d.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Qo{constructor(l,d,y,M){this.name=l,this.type=d,this._evaluate=y,this.args=M}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const y=l[0],M=Qo.definitions[y];if(!M)return d.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const T=Array.isArray(M)?M[0]:M.type,K=Array.isArray(M)?[[M[1],M[2]]]:M.overloads,F=K.filter(([V])=>!Array.isArray(V)||V.length===l.length-1);let N=null;for(const[V,re]of F){N=new vi(d.registry,Bu,d.path,null,d.scope);const Ae=[];let Ce=!1;for(let Be=1;Be<l.length;Be++){const Ke=l[Be],We=Array.isArray(V)?V[Be-1]:V.type,Xe=N.parse(Ke,1+Ae.length,We);if(!Xe){Ce=!0;break}Ae.push(Xe)}if(!Ce)if(Array.isArray(V)&&V.length!==Ae.length)N.error(`Expected ${V.length} arguments, but found ${Ae.length} instead.`);else{for(let Be=0;Be<Ae.length;Be++){const Ke=Array.isArray(V)?V[Be]:V.type,We=Ae[Be];N.concat(Be+1).checkSubtype(Ke,We.type)}if(N.errors.length===0)return new Qo(y,T,re,Ae)}}if(F.length===1)d.errors.push(...N.errors);else{const V=(F.length?F:K).map(([Ae])=>{return Ce=Ae,Array.isArray(Ce)?`(${Ce.map(je).join(", ")})`:`(${je(Ce.type)}...)`;var Ce}).join(" | "),re=[];for(let Ae=1;Ae<l.length;Ae++){const Ce=d.parse(l[Ae],1+re.length);if(!Ce)return null;re.push(je(Ce.type))}d.error(`Expected arguments of type ${V}, but found (${re.join(", ")}) instead.`)}return null}static register(l,d){Qo.definitions=d;for(const y in d)l[y]=Qo}}function Bu(c){if(c instanceof Al)return Bu(c.boundExpression);if(c instanceof Qo&&c.name==="error"||c instanceof Ya||c instanceof As)return!1;const l=c instanceof Fa||c instanceof li;let d=!0;return c.eachChild(y=>{d=l?d&&Bu(y):d&&y instanceof wn}),!!d&&cl(c)&&iu(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function cl(c){if(c instanceof Qo&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof As)return!1;let l=!0;return c.eachChild(d=>{l&&!cl(d)&&(l=!1)}),l}function Sl(c){if(c instanceof Qo&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(d=>{l&&!Sl(d)&&(l=!1)}),l}function iu(c,l){if(c instanceof Qo&&l.indexOf(c.name)>=0)return!1;let d=!0;return c.eachChild(y=>{d&&!iu(y,l)&&(d=!1)}),d}function Aa(c,l){const d=c.length-1;let y,M,T=0,K=d,F=0;for(;T<=K;)if(F=Math.floor((T+K)/2),y=c[F],M=c[F+1],y<=l){if(F===d||l<M)return F;T=F+1}else{if(!(y>l))throw new hr("Input is not a number.");K=F-1}return 0}class dl{constructor(l,d,y){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[M,T]of y)this.labels.push(M),this.outputs.push(T)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const y=d.parse(l[1],1,Ut);if(!y)return null;const M=[];let T=null;d.expectedType&&d.expectedType.kind!=="value"&&(T=d.expectedType);for(let K=1;K<l.length;K+=2){const F=K===1?-1/0:l[K],N=l[K+1],V=K,re=K+1;if(typeof F!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(M.length&&M[M.length-1][0]>=F)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const Ae=d.parse(N,re,T);if(!Ae)return null;T=T||Ae.type,M.push([F,Ae])}return new dl(T,y,M)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const M=this.input.evaluate(l);if(M<=d[0])return y[0].evaluate(l);const T=d.length;return M>=d[T-1]?y[T-1].evaluate(l):y[Aa(d,M)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function wA(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var _o=ao;function ao(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}ao.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var M=this.sampleCurveX(d)-c;if(Math.abs(M)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=M/T}var K=0,F=1;for(d=c,y=0;y<20&&(M=this.sampleCurveX(d),!(Math.abs(M-c)<l));y++)c>M?K=d:F=d,d=.5*(F-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var z=wA(_o);function ae(c,l,d){return c+d*(l-c)}function Le(c,l,d){return c.map((y,M)=>ae(y,l[M],d))}const gt={number:ae,color:function(c,l,d,y="rgb"){switch(y){case"rgb":{const[M,T,K,F]=Le(c.rgb,l.rgb,d);return new Ei(M,T,K,F,!1)}case"hcl":{const[M,T,K,F]=c.hcl,[N,V,re,Ae]=l.hcl;let Ce,Be;if(isNaN(M)||isNaN(N))isNaN(M)?isNaN(N)?Ce=NaN:(Ce=N,K!==1&&K!==0||(Be=V)):(Ce=M,re!==1&&re!==0||(Be=T));else{let It=N-M;N>M&&It>180?It-=360:N<M&&M-N>180&&(It+=360),Ce=M+d*It}const[Ke,We,Xe,at]=function([It,ct,xt,rn]){return It=isNaN(It)?0:It*Er,di([xt,Math.cos(It)*ct,Math.sin(It)*ct,rn])}([Ce,Be??ae(T,V,d),ae(K,re,d),ae(F,Ae,d)]);return new Ei(Ke,We,Xe,at,!1)}case"lab":{const[M,T,K,F]=di(Le(c.lab,l.lab,d));return new Ei(M,T,K,F,!1)}}},array:Le,padding:function(c,l,d){return new oo(Le(c.values,l.values,d))},variableAnchorOffsetCollection:function(c,l,d){const y=c.values,M=l.values;if(y.length!==M.length)throw new hr(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${l.toString()}`);const T=[];for(let K=0;K<y.length;K+=2){if(y[K]!==M[K])throw new hr(`Cannot interpolate values containing mismatched anchors. from[${K}]: ${y[K]}, to[${K}]: ${M[K]}`);T.push(y[K]);const[F,N]=y[K+1],[V,re]=M[K+1];T.push([ae(F,V,d),ae(N,re,d)])}return new zi(T)}};class Gn{constructor(l,d,y,M,T){this.type=l,this.operator=d,this.interpolation=y,this.input=M,this.labels=[],this.outputs=[];for(const[K,F]of T)this.labels.push(K),this.outputs.push(F)}static interpolationFactor(l,d,y,M){let T=0;if(l.name==="exponential")T=vn(d,l.base,y,M);else if(l.name==="linear")T=vn(d,1,y,M);else if(l.name==="cubic-bezier"){const K=l.controlPoints;T=new z(K[0],K[1],K[2],K[3]).solve(vn(d,1,y,M))}return T}static parse(l,d){let[y,M,T,...K]=l;if(!Array.isArray(M)||M.length===0)return d.error("Expected an interpolation type expression.",1);if(M[0]==="linear")M={name:"linear"};else if(M[0]==="exponential"){const V=M[1];if(typeof V!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);M={name:"exponential",base:V}}else{if(M[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(M[0])}`,1,0);{const V=M.slice(1);if(V.length!==4||V.some(re=>typeof re!="number"||re<0||re>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);M={name:"cubic-bezier",controlPoints:V}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(T=d.parse(T,2,Ut),!T)return null;const F=[];let N=null;y==="interpolate-hcl"||y==="interpolate-lab"?N=On:d.expectedType&&d.expectedType.kind!=="value"&&(N=d.expectedType);for(let V=0;V<K.length;V+=2){const re=K[V],Ae=K[V+1],Ce=V+3,Be=V+4;if(typeof re!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ce);if(F.length&&F[F.length-1][0]>=re)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ce);const Ke=d.parse(Ae,Be,N);if(!Ke)return null;N=N||Ke.type,F.push([re,Ke])}return Mt(N,Ut)||Mt(N,On)||Mt(N,Pe)||Mt(N,_e)||Mt(N,Ie(Ut))?new Gn(N,y,M,T,F):d.error(`Type ${je(N)} is not interpolatable.`)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const M=this.input.evaluate(l);if(M<=d[0])return y[0].evaluate(l);const T=d.length;if(M>=d[T-1])return y[T-1].evaluate(l);const K=Aa(d,M),F=Gn.interpolationFactor(this.interpolation,M,d[K],d[K+1]),N=y[K].evaluate(l),V=y[K+1].evaluate(l);switch(this.operator){case"interpolate":return gt[this.type.kind](N,V,F);case"interpolate-hcl":return gt.color(N,V,F,"hcl");case"interpolate-lab":return gt.color(N,V,F,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function vn(c,l,d,y){const M=y-d,T=c-d;return M===0?0:l===1?T/M:(Math.pow(l,T)-1)/(Math.pow(l,M)-1)}class Kn{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let y=null;const M=d.expectedType;M&&M.kind!=="value"&&(y=M);const T=[];for(const F of l.slice(1)){const N=d.parse(F,1+T.length,y,void 0,{typeAnnotation:"omit"});if(!N)return null;y=y||N.type,T.push(N)}if(!y)throw new Error("No output type");const K=M&&T.some(F=>lt(M,F.type));return new Kn(K?Kt:y,T)}evaluate(l){let d,y=null,M=0;for(const T of this.args)if(M++,y=T.evaluate(l),y&&y instanceof ve&&!y.available&&(d||(d=y.name),y=null,M===this.args.length&&(y=d)),y!==null)break;return y}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Lr{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const y=[];for(let T=1;T<l.length-1;T+=2){const K=l[T];if(typeof K!="string")return d.error(`Expected string, but found ${typeof K} instead.`,T);if(/[^a-zA-Z0-9_]/.test(K))return d.error("Variable names must contain only alphanumeric characters or '_'.",T);const F=d.parse(l[T+1],T+1);if(!F)return null;y.push([K,F])}const M=d.parse(l[l.length-1],l.length-1,d.expectedType,y);return M?new Lr(y,M):null}outputDefined(){return this.result.outputDefined()}}class vr{constructor(l,d,y){this.type=l,this.index=d,this.input=y}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Ut),M=d.parse(l[2],2,Ie(d.expectedType||Kt));return y&&M?new vr(M.type.itemType,y,M):null}evaluate(l){const d=this.index.evaluate(l),y=this.input.evaluate(l);if(d<0)throw new hr(`Array index out of bounds: ${d} < 0.`);if(d>=y.length)throw new hr(`Array index out of bounds: ${d} > ${y.length-1}.`);if(d!==Math.floor(d))throw new hr(`Array index must be an integer, but found ${d} instead.`);return y[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class kr{constructor(l,d){this.type=Pn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Kt),M=d.parse(l[2],2,Kt);return y&&M?ft(y.type,[Pn,fn,Ut,kt,Kt])?new kr(y,M):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${je(y.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!y)return!1;if(!et(d,["boolean","string","number","null"]))throw new hr(`Expected first argument to be of type boolean, string, number or null, but found ${je(sn(d))} instead.`);if(!et(y,["string","array"]))throw new hr(`Expected second argument to be of type array or string, but found ${je(sn(y))} instead.`);return y.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Ti{constructor(l,d,y){this.type=Ut,this.needle=l,this.haystack=d,this.fromIndex=y}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Kt),M=d.parse(l[2],2,Kt);if(!y||!M)return null;if(!ft(y.type,[Pn,fn,Ut,kt,Kt]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${je(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Ut);return T?new Ti(y,M,T):null}return new Ti(y,M)}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!et(d,["boolean","string","number","null"]))throw new hr(`Expected first argument to be of type boolean, string, number or null, but found ${je(sn(d))} instead.`);if(!et(y,["string","array"]))throw new hr(`Expected second argument to be of type array or string, but found ${je(sn(y))} instead.`);if(this.fromIndex){const M=this.fromIndex.evaluate(l);return y.indexOf(d,M)}return y.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class go{constructor(l,d,y,M,T,K){this.inputType=l,this.type=d,this.input=y,this.cases=M,this.outputs=T,this.otherwise=K}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let y,M;d.expectedType&&d.expectedType.kind!=="value"&&(M=d.expectedType);const T={},K=[];for(let V=2;V<l.length-1;V+=2){let re=l[V];const Ae=l[V+1];Array.isArray(re)||(re=[re]);const Ce=d.concat(V);if(re.length===0)return Ce.error("Expected at least one branch label.");for(const Ke of re){if(typeof Ke!="number"&&typeof Ke!="string")return Ce.error("Branch labels must be numbers or strings.");if(typeof Ke=="number"&&Math.abs(Ke)>Number.MAX_SAFE_INTEGER)return Ce.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ke=="number"&&Math.floor(Ke)!==Ke)return Ce.error("Numeric branch labels must be integer values.");if(y){if(Ce.checkSubtype(y,sn(Ke)))return null}else y=sn(Ke);if(T[String(Ke)]!==void 0)return Ce.error("Branch labels must be unique.");T[String(Ke)]=K.length}const Be=d.parse(Ae,V,M);if(!Be)return null;M=M||Be.type,K.push(Be)}const F=d.parse(l[1],1,Kt);if(!F)return null;const N=d.parse(l[l.length-1],l.length-1,M);return N?F.type.kind!=="value"&&d.concat(1).checkSubtype(y,F.type)?null:new go(y,M,F,T,K,N):null}evaluate(l){const d=this.input.evaluate(l);return(sn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class Oi{constructor(l,d,y){this.type=l,this.branches=d,this.otherwise=y}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let y;d.expectedType&&d.expectedType.kind!=="value"&&(y=d.expectedType);const M=[];for(let K=1;K<l.length-1;K+=2){const F=d.parse(l[K],K,Pn);if(!F)return null;const N=d.parse(l[K+1],K+1,y);if(!N)return null;M.push([F,N]),y=y||N.type}const T=d.parse(l[l.length-1],l.length-1,y);if(!T)return null;if(!y)throw new Error("Can't infer output type");return new Oi(y,M,T)}evaluate(l){for(const[d,y]of this.branches)if(d.evaluate(l))return y.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,y]of this.branches)l(d),l(y);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Xr{constructor(l,d,y,M){this.type=l,this.input=d,this.beginIndex=y,this.endIndex=M}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Kt),M=d.parse(l[2],2,Ut);if(!y||!M)return null;if(!ft(y.type,[Ie(Kt),fn,Kt]))return d.error(`Expected first argument to be of type array or string, but found ${je(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Ut);return T?new Xr(y.type,y,M,T):null}return new Xr(y.type,y,M)}evaluate(l){const d=this.input.evaluate(l),y=this.beginIndex.evaluate(l);if(!et(d,["string","array"]))throw new hr(`Expected first argument to be of type array or string, but found ${je(sn(d))} instead.`);if(this.endIndex){const M=this.endIndex.evaluate(l);return d.slice(y,M)}return d.slice(y)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Zi(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function ko(c,l,d,y){return y.compare(l,d)===0}function Mo(c,l,d){const y=c!=="=="&&c!=="!=";return class wz{constructor(T,K,F){this.type=Pn,this.lhs=T,this.rhs=K,this.collator=F,this.hasUntypedArgument=T.type.kind==="value"||K.type.kind==="value"}static parse(T,K){if(T.length!==3&&T.length!==4)return K.error("Expected two or three arguments.");const F=T[0];let N=K.parse(T[1],1,Kt);if(!N)return null;if(!Zi(F,N.type))return K.concat(1).error(`"${F}" comparisons are not supported for type '${je(N.type)}'.`);let V=K.parse(T[2],2,Kt);if(!V)return null;if(!Zi(F,V.type))return K.concat(2).error(`"${F}" comparisons are not supported for type '${je(V.type)}'.`);if(N.type.kind!==V.type.kind&&N.type.kind!=="value"&&V.type.kind!=="value")return K.error(`Cannot compare types '${je(N.type)}' and '${je(V.type)}'.`);y&&(N.type.kind==="value"&&V.type.kind!=="value"?N=new li(V.type,[N]):N.type.kind!=="value"&&V.type.kind==="value"&&(V=new li(N.type,[V])));let re=null;if(T.length===4){if(N.type.kind!=="string"&&V.type.kind!=="string"&&N.type.kind!=="value"&&V.type.kind!=="value")return K.error("Cannot use collator to compare non-string types.");if(re=K.parse(T[3],3,Pr),!re)return null}return new wz(N,V,re)}evaluate(T){const K=this.lhs.evaluate(T),F=this.rhs.evaluate(T);if(y&&this.hasUntypedArgument){const N=sn(K),V=sn(F);if(N.kind!==V.kind||N.kind!=="string"&&N.kind!=="number")throw new hr(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${N.kind}, ${V.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const N=sn(K),V=sn(F);if(N.kind!=="string"||V.kind!=="string")return l(T,K,F)}return this.collator?d(T,K,F,this.collator.evaluate(T)):l(T,K,F)}eachChild(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)}outputDefined(){return!0}}}const qa=Mo("==",function(c,l,d){return l===d},ko),Ll=Mo("!=",function(c,l,d){return l!==d},function(c,l,d,y){return!ko(0,l,d,y)}),ou=Mo("<",function(c,l,d){return l<d},function(c,l,d,y){return y.compare(l,d)<0}),va=Mo(">",function(c,l,d){return l>d},function(c,l,d,y){return y.compare(l,d)>0}),M0=Mo("<=",function(c,l,d){return l<=d},function(c,l,d,y){return y.compare(l,d)<=0}),au=Mo(">=",function(c,l,d){return l>=d},function(c,l,d,y){return y.compare(l,d)>=0});class Gh{constructor(l,d,y,M,T){this.type=fn,this.number=l,this.locale=d,this.currency=y,this.minFractionDigits=M,this.maxFractionDigits=T}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const y=d.parse(l[1],1,Ut);if(!y)return null;const M=l[2];if(typeof M!="object"||Array.isArray(M))return d.error("NumberFormat options argument must be an object.");let T=null;if(M.locale&&(T=d.parse(M.locale,1,fn),!T))return null;let K=null;if(M.currency&&(K=d.parse(M.currency,1,fn),!K))return null;let F=null;if(M["min-fraction-digits"]&&(F=d.parse(M["min-fraction-digits"],1,Ut),!F))return null;let N=null;return M["max-fraction-digits"]&&(N=d.parse(M["max-fraction-digits"],1,Ut),!N)?null:new Gh(y,T,K,F,N)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class dd{constructor(l){this.type=nr,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[1];if(!Array.isArray(y)&&typeof y=="object")return d.error("First argument must be an image or text section.");const M=[];let T=!1;for(let K=1;K<=l.length-1;++K){const F=l[K];if(T&&typeof F=="object"&&!Array.isArray(F)){T=!1;let N=null;if(F["font-scale"]&&(N=d.parse(F["font-scale"],1,Ut),!N))return null;let V=null;if(F["text-font"]&&(V=d.parse(F["text-font"],1,Ie(fn)),!V))return null;let re=null;if(F["text-color"]&&(re=d.parse(F["text-color"],1,On),!re))return null;const Ae=M[M.length-1];Ae.scale=N,Ae.font=V,Ae.textColor=re}else{const N=d.parse(l[K],1,Kt);if(!N)return null;const V=N.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");T=!0,M.push({content:N,scale:null,font:null,textColor:null})}}return new dd(M)}evaluate(l){return new Nn(this.sections.map(d=>{const y=d.content.evaluate(l);return sn(y)===ce?new yi("",y,null,null,null):new yi(Ft(y),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class qu{constructor(l){this.type=ce,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const y=d.parse(l[1],1,fn);return y?new qu(y):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),y=ve.fromString(d);return y&&l.availableImages&&(y.available=l.availableImages.indexOf(d)>-1),y}eachChild(l){l(this.input)}outputDefined(){return!1}}class hd{constructor(l){this.type=Ut,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const y=d.parse(l[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${je(y.type)} instead.`):new hd(y):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new hr(`Expected value to be of type string or array, but found ${je(sn(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const qA={"==":qa,"!=":Ll,">":va,"<":ou,">=":au,"<=":M0,array:li,at:vr,boolean:li,case:Oi,coalesce:Kn,collator:Ya,format:dd,image:qu,in:kr,"index-of":Ti,interpolate:Gn,"interpolate-hcl":Gn,"interpolate-lab":Gn,length:hd,let:Lr,literal:wn,match:go,number:li,"number-format":Gh,object:li,slice:Xr,step:dl,string:li,"to-boolean":Fa,"to-color":Fa,"to-number":Fa,"to-string":Fa,var:Al,within:As};function ia(c,[l,d,y,M]){l=l.evaluate(c),d=d.evaluate(c),y=y.evaluate(c);const T=M?M.evaluate(c):1,K=Je(l,d,y,T);if(K)throw new hr(K);return new Ei(l/255,d/255,y/255,T,!1)}function Hu(c,l){return c in l}function Xd(c,l){const d=l[c];return d===void 0?null:d}function HA(c){return{type:c}}function Tc(c){return{result:"success",value:c}}function Iu(c){return{result:"error",value:c}}function fd(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function om(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function Wh(c){return!!c.expression&&c.expression.interpolated}function Ki(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function To(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function S0(c){return c}function Qh(c,l){const d=l.type==="color",y=c.stops&&typeof c.stops[0][0]=="object",M=y||!(y||c.property!==void 0),T=c.type||(Wh(l)?"exponential":"interval");if(d||l.type==="padding"){const re=d?Ei.parse:oo.parse;(c=Te({},c)).stops&&(c.stops=c.stops.map(Ae=>[Ae[0],re(Ae[1])])),c.default=re(c.default?c.default:l.default)}if(c.colorSpace&&(K=c.colorSpace)!=="rgb"&&K!=="hcl"&&K!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var K;let F,N,V;if(T==="exponential")F=np;else if(T==="interval")F=ca;else if(T==="categorical"){F=tp,N=Object.create(null);for(const re of c.stops)N[re[0]]=re[1];V=typeof c.stops[0][0]}else{if(T!=="identity")throw new Error(`Unknown function type "${T}"`);F=Wi}if(y){const re={},Ae=[];for(let Ke=0;Ke<c.stops.length;Ke++){const We=c.stops[Ke],Xe=We[0].zoom;re[Xe]===void 0&&(re[Xe]={zoom:Xe,type:c.type,property:c.property,default:c.default,stops:[]},Ae.push(Xe)),re[Xe].stops.push([We[0].value,We[1]])}const Ce=[];for(const Ke of Ae)Ce.push([re[Ke].zoom,Qh(re[Ke],l)]);const Be={name:"linear"};return{kind:"composite",interpolationType:Be,interpolationFactor:Gn.interpolationFactor.bind(void 0,Be),zoomStops:Ce.map(Ke=>Ke[0]),evaluate:({zoom:Ke},We)=>np({stops:Ce,base:c.base},l,Ke).evaluate(Ke,We)}}if(M){const re=T==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:re,interpolationFactor:Gn.interpolationFactor.bind(void 0,re),zoomStops:c.stops.map(Ae=>Ae[0]),evaluate:({zoom:Ae})=>F(c,l,Ae,N,V)}}return{kind:"source",evaluate(re,Ae){const Ce=Ae&&Ae.properties?Ae.properties[c.property]:void 0;return Ce===void 0?Vu(c.default,l.default):F(c,l,Ce,N,V)}}}function Vu(c,l,d){return c!==void 0?c:l!==void 0?l:d!==void 0?d:void 0}function tp(c,l,d,y,M){return Vu(typeof d===M?y[d]:void 0,c.default,l.default)}function ca(c,l,d){if(Ki(d)!=="number")return Vu(c.default,l.default);const y=c.stops.length;if(y===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[y-1][0])return c.stops[y-1][1];const M=Aa(c.stops.map(T=>T[0]),d);return c.stops[M][1]}function np(c,l,d){const y=c.base!==void 0?c.base:1;if(Ki(d)!=="number")return Vu(c.default,l.default);const M=c.stops.length;if(M===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[M-1][0])return c.stops[M-1][1];const T=Aa(c.stops.map(re=>re[0]),d),K=function(re,Ae,Ce,Be){const Ke=Be-Ce,We=re-Ce;return Ke===0?0:Ae===1?We/Ke:(Math.pow(Ae,We)-1)/(Math.pow(Ae,Ke)-1)}(d,y,c.stops[T][0],c.stops[T+1][0]),F=c.stops[T][1],N=c.stops[T+1][1],V=gt[l.type]||S0;return typeof F.evaluate=="function"?{evaluate(...re){const Ae=F.evaluate.apply(void 0,re),Ce=N.evaluate.apply(void 0,re);if(Ae!==void 0&&Ce!==void 0)return V(Ae,Ce,K,c.colorSpace)}}:V(F,N,K,c.colorSpace)}function Wi(c,l,d){switch(l.type){case"color":d=Ei.parse(d);break;case"formatted":d=Nn.fromString(d.toString());break;case"resolvedImage":d=ve.fromString(d.toString());break;case"padding":d=oo.parse(d);break;default:Ki(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return Vu(d,c.default,l.default)}Qo.register(qA,{error:[{kind:"error"},[fn],(c,[l])=>{throw new hr(l.evaluate(c))}],typeof:[fn,[Kt],(c,[l])=>je(sn(l.evaluate(c)))],"to-rgba":[Ie(Ut,4),[On],(c,[l])=>{const[d,y,M,T]=l.evaluate(c).rgb;return[255*d,255*y,255*M,T]}],rgb:[On,[Ut,Ut,Ut],ia],rgba:[On,[Ut,Ut,Ut,Ut],ia],has:{type:Pn,overloads:[[[fn],(c,[l])=>Hu(l.evaluate(c),c.properties())],[[fn,g],(c,[l,d])=>Hu(l.evaluate(c),d.evaluate(c))]]},get:{type:Kt,overloads:[[[fn],(c,[l])=>Xd(l.evaluate(c),c.properties())],[[fn,g],(c,[l,d])=>Xd(l.evaluate(c),d.evaluate(c))]]},"feature-state":[Kt,[fn],(c,[l])=>Xd(l.evaluate(c),c.featureState||{})],properties:[g,[],c=>c.properties()],"geometry-type":[fn,[],c=>c.geometryType()],id:[Kt,[],c=>c.id()],zoom:[Ut,[],c=>c.globals.zoom],"heatmap-density":[Ut,[],c=>c.globals.heatmapDensity||0],"line-progress":[Ut,[],c=>c.globals.lineProgress||0],accumulated:[Kt,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Ut,HA(Ut),(c,l)=>{let d=0;for(const y of l)d+=y.evaluate(c);return d}],"*":[Ut,HA(Ut),(c,l)=>{let d=1;for(const y of l)d*=y.evaluate(c);return d}],"-":{type:Ut,overloads:[[[Ut,Ut],(c,[l,d])=>l.evaluate(c)-d.evaluate(c)],[[Ut],(c,[l])=>-l.evaluate(c)]]},"/":[Ut,[Ut,Ut],(c,[l,d])=>l.evaluate(c)/d.evaluate(c)],"%":[Ut,[Ut,Ut],(c,[l,d])=>l.evaluate(c)%d.evaluate(c)],ln2:[Ut,[],()=>Math.LN2],pi:[Ut,[],()=>Math.PI],e:[Ut,[],()=>Math.E],"^":[Ut,[Ut,Ut],(c,[l,d])=>Math.pow(l.evaluate(c),d.evaluate(c))],sqrt:[Ut,[Ut],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[Ut,[Ut],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[Ut,[Ut],(c,[l])=>Math.log(l.evaluate(c))],log2:[Ut,[Ut],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[Ut,[Ut],(c,[l])=>Math.sin(l.evaluate(c))],cos:[Ut,[Ut],(c,[l])=>Math.cos(l.evaluate(c))],tan:[Ut,[Ut],(c,[l])=>Math.tan(l.evaluate(c))],asin:[Ut,[Ut],(c,[l])=>Math.asin(l.evaluate(c))],acos:[Ut,[Ut],(c,[l])=>Math.acos(l.evaluate(c))],atan:[Ut,[Ut],(c,[l])=>Math.atan(l.evaluate(c))],min:[Ut,HA(Ut),(c,l)=>Math.min(...l.map(d=>d.evaluate(c)))],max:[Ut,HA(Ut),(c,l)=>Math.max(...l.map(d=>d.evaluate(c)))],abs:[Ut,[Ut],(c,[l])=>Math.abs(l.evaluate(c))],round:[Ut,[Ut],(c,[l])=>{const d=l.evaluate(c);return d<0?-Math.round(-d):Math.round(d)}],floor:[Ut,[Ut],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[Ut,[Ut],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Pn,[fn,Kt],(c,[l,d])=>c.properties()[l.value]===d.value],"filter-id-==":[Pn,[Kt],(c,[l])=>c.id()===l.value],"filter-type-==":[Pn,[fn],(c,[l])=>c.geometryType()===l.value],"filter-<":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y<M}],"filter-id-<":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<y}],"filter->":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y>M}],"filter-id->":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>y}],"filter-<=":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y<=M}],"filter-id-<=":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<=y}],"filter->=":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y>=M}],"filter-id->=":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>=y}],"filter-has":[Pn,[Kt],(c,[l])=>l.value in c.properties()],"filter-has-id":[Pn,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Pn,[Ie(fn)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Pn,[Ie(Kt)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Pn,[fn,Ie(Kt)],(c,[l,d])=>d.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Pn,[fn,Ie(Kt)],(c,[l,d])=>function(y,M,T,K){for(;T<=K;){const F=T+K>>1;if(M[F]===y)return!0;M[F]>y?K=F-1:T=F+1}return!1}(c.properties()[l.value],d.value,0,d.value.length-1)],all:{type:Pn,overloads:[[[Pn,Pn],(c,[l,d])=>l.evaluate(c)&&d.evaluate(c)],[HA(Pn),(c,l)=>{for(const d of l)if(!d.evaluate(c))return!1;return!0}]]},any:{type:Pn,overloads:[[[Pn,Pn],(c,[l,d])=>l.evaluate(c)||d.evaluate(c)],[HA(Pn),(c,l)=>{for(const d of l)if(d.evaluate(c))return!0;return!1}]]},"!":[Pn,[Pn],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Pn,[fn],(c,[l])=>{const d=c.globals&&c.globals.isSupportedScript;return!d||d(l.evaluate(c))}],upcase:[fn,[fn],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[fn,[fn],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[fn,HA(Kt),(c,l)=>l.map(d=>Ft(d.evaluate(c))).join("")],"resolved-locale":[fn,[Pr],(c,[l])=>l.evaluate(c).resolvedLocale()]});class VA{constructor(l,d){var y;this.expression=l,this._warningHistory={},this._evaluator=new $a,this._defaultValue=d?(y=d).type==="color"&&To(y.default)?new Ei(0,0,0,0):y.type==="color"?Ei.parse(y.default)||null:y.type==="padding"?oo.parse(y.default)||null:y.type==="variableAnchorOffsetCollection"?zi.parse(y.default)||null:y.default===void 0?null:y.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,y,M,T,K){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=y,this._evaluator.canonical=M,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K,this.expression.evaluate(this._evaluator)}evaluate(l,d,y,M,T,K){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=y||null,this._evaluator.canonical=M,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K||null;try{const F=this.expression.evaluate(this._evaluator);if(F==null||typeof F=="number"&&F!=F)return this._defaultValue;if(this._enumValues&&!(F in this._enumValues))throw new hr(`Expected value to be one of ${Object.keys(this._enumValues).map(N=>JSON.stringify(N)).join(", ")}, but found ${JSON.stringify(F)} instead.`);return F}catch(F){return this._warningHistory[F.message]||(this._warningHistory[F.message]=!0,typeof console<"u"&&console.warn(F.message)),this._defaultValue}}}function Ko(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in qA}function Lo(c,l){const d=new vi(qA,Bu,[],l?function(M){const T={color:On,string:fn,number:Ut,enum:fn,boolean:Pn,formatted:nr,padding:Pe,resolvedImage:ce,variableAnchorOffsetCollection:_e};return M.type==="array"?Ie(T[M.value]||Kt,M.length):T[M.type]}(l):void 0),y=d.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Tc(new VA(y,l)):Iu(d.errors)}class ZA{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!Sl(d.expression)}evaluateWithoutErrorHandling(l,d,y,M,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,M,T,K)}evaluate(l,d,y,M,T,K){return this._styleExpression.evaluate(l,d,y,M,T,K)}}class js{constructor(l,d,y,M){this.kind=l,this.zoomStops=y,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!Sl(d.expression),this.interpolationType=M}evaluateWithoutErrorHandling(l,d,y,M,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,M,T,K)}evaluate(l,d,y,M,T,K){return this._styleExpression.evaluate(l,d,y,M,T,K)}interpolationFactor(l,d,y){return this.interpolationType?Gn.interpolationFactor(this.interpolationType,l,d,y):0}}function $h(c,l){const d=Lo(c,l);if(d.result==="error")return d;const y=d.value.expression,M=cl(y);if(!M&&!fd(l))return Iu([new At("","data expressions not supported")]);const T=iu(y,["zoom"]);if(!T&&!om(l))return Iu([new At("","zoom expressions not supported")]);const K=Rl(y);return K||T?K instanceof At?Iu([K]):K instanceof Gn&&!Wh(l)?Iu([new At("",'"interpolate" expressions cannot be used with this property')]):Tc(K?new js(M?"camera":"composite",d.value,K.labels,K instanceof Gn?K.interpolation:void 0):new ZA(M?"constant":"source",d.value)):Iu([new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class su{constructor(l,d){this._parameters=l,this._specification=d,Te(this,Qh(this._parameters,this._specification))}static deserialize(l){return new su(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Rl(c){let l=null;if(c instanceof Lr)l=Rl(c.result);else if(c instanceof Kn){for(const d of c.args)if(l=Rl(d),l)break}else(c instanceof dl||c instanceof Gn)&&c.input instanceof Qo&&c.input.name==="zoom"&&(l=c);return l instanceof At||c.eachChild(d=>{const y=Rl(d);y instanceof At?l=y:!l&&y?l=new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&y&&l!==y&&(l=new At("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Kc(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!Kc(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Yh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Jd(c){if(c==null)return{filter:()=>!0,needGeometry:!1};Kc(c)||(c=XA(c));const l=Lo(c,Yh);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,y,M)=>l.value.evaluate(d,y,{},M),needGeometry:MA(c)}}function ku(c,l){return c<l?-1:c>l?1:0}function MA(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let l=1;l<c.length;l++)if(MA(c[l]))return!0;return!1}function XA(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?JA(c[1],c[2],"=="):l==="!="?Pc(JA(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?JA(c[1],c[2],l):l==="any"?(d=c.slice(1),["any"].concat(d.map(XA))):l==="all"?["all"].concat(c.slice(1).map(XA)):l==="none"?["all"].concat(c.slice(1).map(XA).map(Pc)):l==="in"?rp(c[1],c.slice(2)):l==="!in"?Pc(rp(c[1],c.slice(2))):l==="has"?am(c[1]):l==="!has"?Pc(am(c[1])):l!=="within"||c;var d}function JA(c,l,d){switch(c){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,c,l]}}function rp(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",c,["literal",l.sort(ku)]]:["filter-in-small",c,["literal",l]]}}function am(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Pc(c){return["!",c]}function pd(c){const l=typeof c;if(l==="number"||l==="boolean"||l==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let M="[";for(const T of c)M+=`${pd(T)},`;return`${M}]`}const d=Object.keys(c).sort();let y="{";for(let M=0;M<d.length;M++)y+=`${JSON.stringify(d[M])}:${pd(c[d[M]])},`;return`${y}}`}function zl(c){let l="";for(const d of ir)l+=`/${pd(c[d])}`;return l}function El(c){const l=c.value;return l?[new q(c.key,l,"constants have been deprecated as of v8")]:[]}function Ca(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function SA(c){if(Array.isArray(c))return c.map(SA);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const d in c)l[d]=SA(c[d]);return l}return Ca(c)}function jl(c){const l=c.key,d=c.value,y=c.valueSpec||{},M=c.objectElementValidators||{},T=c.style,K=c.styleSpec,F=c.validateSpec;let N=[];const V=Ki(d);if(V!=="object")return[new q(l,d,`object expected, ${V} found`)];for(const re in d){const Ae=re.split(".")[0],Ce=y[Ae]||y["*"];let Be;if(M[Ae])Be=M[Ae];else if(y[Ae])Be=F;else if(M["*"])Be=M["*"];else{if(!y["*"]){N.push(new q(l,d[re],`unknown property "${re}"`));continue}Be=F}N=N.concat(Be({key:(l&&`${l}.`)+re,value:d[re],valueSpec:Ce,style:T,styleSpec:K,object:d,objectKey:re,validateSpec:F},d))}for(const re in y)M[re]||y[re].required&&y[re].default===void 0&&d[re]===void 0&&N.push(new q(l,d,`missing required property "${re}"`));return N}function Tu(c){const l=c.value,d=c.valueSpec,y=c.style,M=c.styleSpec,T=c.key,K=c.arrayElementValidator||c.validateSpec;if(Ki(l)!=="array")return[new q(T,l,`array expected, ${Ki(l)} found`)];if(d.length&&l.length!==d.length)return[new q(T,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new q(T,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let F={type:d.value,values:d.values};M.$version<7&&(F.function=d.function),Ki(d.value)==="object"&&(F=d.value);let N=[];for(let V=0;V<l.length;V++)N=N.concat(K({array:l,arrayIndex:V,value:l[V],valueSpec:F,validateSpec:c.validateSpec,style:y,styleSpec:M,key:`${T}[${V}]`}));return N}function Nl(c){const l=c.key,d=c.value,y=c.valueSpec;let M=Ki(d);return M==="number"&&d!=d&&(M="NaN"),M!=="number"?[new q(l,d,`number expected, ${M} found`)]:"minimum"in y&&d<y.minimum?[new q(l,d,`${d} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&d>y.maximum?[new q(l,d,`${d} is greater than the maximum value ${y.maximum}`)]:[]}function eh(c){const l=c.valueSpec,d=Ca(c.value.type);let y,M,T,K={};const F=d!=="categorical"&&c.value.property===void 0,N=!F,V=Ki(c.value.stops)==="array"&&Ki(c.value.stops[0])==="array"&&Ki(c.value.stops[0][0])==="object",re=jl({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(Be){if(d==="identity")return[new q(Be.key,Be.value,'identity function may not have a "stops" property')];let Ke=[];const We=Be.value;return Ke=Ke.concat(Tu({key:Be.key,value:We,valueSpec:Be.valueSpec,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec,arrayElementValidator:Ae})),Ki(We)==="array"&&We.length===0&&Ke.push(new q(Be.key,We,"array must have at least one stop")),Ke},default:function(Be){return Be.validateSpec({key:Be.key,value:Be.value,valueSpec:l,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec})}}});return d==="identity"&&F&&re.push(new q(c.key,c.value,'missing required property "property"')),d==="identity"||c.value.stops||re.push(new q(c.key,c.value,'missing required property "stops"')),d==="exponential"&&c.valueSpec.expression&&!Wh(c.valueSpec)&&re.push(new q(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(N&&!fd(c.valueSpec)?re.push(new q(c.key,c.value,"property functions not supported")):F&&!om(c.valueSpec)&&re.push(new q(c.key,c.value,"zoom functions not supported"))),d!=="categorical"&&!V||c.value.property!==void 0||re.push(new q(c.key,c.value,'"property" property is required')),re;function Ae(Be){let Ke=[];const We=Be.value,Xe=Be.key;if(Ki(We)!=="array")return[new q(Xe,We,`array expected, ${Ki(We)} found`)];if(We.length!==2)return[new q(Xe,We,`array length 2 expected, length ${We.length} found`)];if(V){if(Ki(We[0])!=="object")return[new q(Xe,We,`object expected, ${Ki(We[0])} found`)];if(We[0].zoom===void 0)return[new q(Xe,We,"object stop key must have zoom")];if(We[0].value===void 0)return[new q(Xe,We,"object stop key must have value")];if(T&&T>Ca(We[0].zoom))return[new q(Xe,We[0].zoom,"stop zoom values must appear in ascending order")];Ca(We[0].zoom)!==T&&(T=Ca(We[0].zoom),M=void 0,K={}),Ke=Ke.concat(jl({key:`${Xe}[0]`,value:We[0],valueSpec:{zoom:{}},validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec,objectElementValidators:{zoom:Nl,value:Ce}}))}else Ke=Ke.concat(Ce({key:`${Xe}[0]`,value:We[0],valueSpec:{},validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec},We));return Ko(SA(We[1]))?Ke.concat([new q(`${Xe}[1]`,We[1],"expressions are not allowed in function stops.")]):Ke.concat(Be.validateSpec({key:`${Xe}[1]`,value:We[1],valueSpec:l,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec}))}function Ce(Be,Ke){const We=Ki(Be.value),Xe=Ca(Be.value),at=Be.value!==null?Be.value:Ke;if(y){if(We!==y)return[new q(Be.key,at,`${We} stop domain type must match previous stop domain type ${y}`)]}else y=We;if(We!=="number"&&We!=="string"&&We!=="boolean")return[new q(Be.key,at,"stop domain value must be a number, string, or boolean")];if(We!=="number"&&d!=="categorical"){let It=`number expected, ${We} found`;return fd(l)&&d===void 0&&(It+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new q(Be.key,at,It)]}return d!=="categorical"||We!=="number"||isFinite(Xe)&&Math.floor(Xe)===Xe?d!=="categorical"&&We==="number"&&M!==void 0&&Xe<M?[new q(Be.key,at,"stop domain values must appear in ascending order")]:(M=Xe,d==="categorical"&&Xe in K?[new q(Be.key,at,"stop domain values must be unique")]:(K[Xe]=!0,[])):[new q(Be.key,at,`integer expected, found ${Xe}`)]}}function Dc(c){const l=(c.expressionContext==="property"?$h:Lo)(SA(c.value),c.valueSpec);if(l.result==="error")return l.value.map(y=>new q(`${c.key}${y.key}`,c.value,y.message));const d=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!d.outputDefined())return[new q(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Sl(d))return[new q(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!Sl(d))return[new q(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!iu(d,["zoom","feature-state"]))return[new q(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!cl(d))return[new q(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ku(c){const l=c.key,d=c.value,y=c.valueSpec,M=[];return Array.isArray(y.values)?y.values.indexOf(Ca(d))===-1&&M.push(new q(l,d,`expected one of [${y.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(y.values).indexOf(Ca(d))===-1&&M.push(new q(l,d,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(d)} found`)),M}function Uc(c){return Kc(SA(c.value))?Dc(Te({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):md(c)}function md(c){const l=c.value,d=c.key;if(Ki(l)!=="array")return[new q(d,l,`array expected, ${Ki(l)} found`)];const y=c.styleSpec;let M,T=[];if(l.length<1)return[new q(d,l,"filter array must have at least 1 element")];switch(T=T.concat(Ku({key:`${d}[0]`,value:l[0],valueSpec:y.filter_operator,style:c.style,styleSpec:c.styleSpec})),Ca(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Ca(l[1])==="$type"&&T.push(new q(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&T.push(new q(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(M=Ki(l[1]),M!=="string"&&T.push(new q(`${d}[1]`,l[1],`string expected, ${M} found`)));for(let K=2;K<l.length;K++)M=Ki(l[K]),Ca(l[1])==="$type"?T=T.concat(Ku({key:`${d}[${K}]`,value:l[K],valueSpec:y.geometry_type,style:c.style,styleSpec:c.styleSpec})):M!=="string"&&M!=="number"&&M!=="boolean"&&T.push(new q(`${d}[${K}]`,l[K],`string, number, or boolean expected, ${M} found`));break;case"any":case"all":case"none":for(let K=1;K<l.length;K++)T=T.concat(md({key:`${d}[${K}]`,value:l[K],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":M=Ki(l[1]),l.length!==2?T.push(new q(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):M!=="string"&&T.push(new q(`${d}[1]`,l[1],`string expected, ${M} found`));break;case"within":M=Ki(l[1]),l.length!==2?T.push(new q(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):M!=="object"&&T.push(new q(`${d}[1]`,l[1],`object expected, ${M} found`))}return T}function th(c,l){const d=c.key,y=c.validateSpec,M=c.style,T=c.styleSpec,K=c.value,F=c.objectKey,N=T[`${l}_${c.layerType}`];if(!N)return[];const V=F.match(/^(.*)-transition$/);if(l==="paint"&&V&&N[V[1]]&&N[V[1]].transition)return y({key:d,value:K,valueSpec:T.transition,style:M,styleSpec:T});const re=c.valueSpec||N[F];if(!re)return[new q(d,K,`unknown property "${F}"`)];let Ae;if(Ki(K)==="string"&&fd(re)&&!re.tokens&&(Ae=/^{([^}]+)}$/.exec(K)))return[new q(d,K,`"${F}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ae[1])} }\`.`)];const Ce=[];return c.layerType==="symbol"&&(F==="text-field"&&M&&!M.glyphs&&Ce.push(new q(d,K,'use of "text-field" requires a style "glyphs" property')),F==="text-font"&&To(SA(K))&&Ca(K.type)==="identity"&&Ce.push(new q(d,K,'"text-font" does not support identity functions'))),Ce.concat(y({key:c.key,value:K,valueSpec:re,style:M,styleSpec:T,expressionContext:"property",propertyType:l,propertyKey:F}))}function lu(c){return th(c,"paint")}function Et(c){return th(c,"layout")}function an(c){let l=[];const d=c.value,y=c.key,M=c.style,T=c.styleSpec;d.type||d.ref||l.push(new q(y,d,'either "type" or "ref" is required'));let K=Ca(d.type);const F=Ca(d.ref);if(d.id){const N=Ca(d.id);for(let V=0;V<c.arrayIndex;V++){const re=M.layers[V];Ca(re.id)===N&&l.push(new q(y,d.id,`duplicate layer id "${d.id}", previously used at line ${re.id.__line__}`))}}if("ref"in d){let N;["type","source","source-layer","filter","layout"].forEach(V=>{V in d&&l.push(new q(y,d[V],`"${V}" is prohibited for ref layers`))}),M.layers.forEach(V=>{Ca(V.id)===F&&(N=V)}),N?N.ref?l.push(new q(y,d.ref,"ref cannot reference another ref layer")):K=Ca(N.type):l.push(new q(y,d.ref,`ref layer "${F}" not found`))}else if(K!=="background")if(d.source){const N=M.sources&&M.sources[d.source],V=N&&Ca(N.type);N?V==="vector"&&K==="raster"?l.push(new q(y,d.source,`layer "${d.id}" requires a raster source`)):V!=="raster-dem"&&K==="hillshade"?l.push(new q(y,d.source,`layer "${d.id}" requires a raster-dem source`)):V==="raster"&&K!=="raster"?l.push(new q(y,d.source,`layer "${d.id}" requires a vector source`)):V!=="vector"||d["source-layer"]?V==="raster-dem"&&K!=="hillshade"?l.push(new q(y,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):K!=="line"||!d.paint||!d.paint["line-gradient"]||V==="geojson"&&N.lineMetrics||l.push(new q(y,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new q(y,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new q(y,d.source,`source "${d.source}" not found`))}else l.push(new q(y,d,'missing required property "source"'));return l=l.concat(jl({key:y,value:d,valueSpec:T.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${y}.type`,value:d.type,valueSpec:T.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:d,objectKey:"type"}),filter:Uc,layout:N=>jl({layer:d,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":V=>Et(Te({layerType:K},V))}}),paint:N=>jl({layer:d,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":V=>lu(Te({layerType:K},V))}})}})),l}function jt(c){const l=c.value,d=c.key,y=Ki(l);return y!=="string"?[new q(d,l,`string expected, ${y} found`)]:[]}const fr={promoteId:function({key:c,value:l}){if(Ki(l)==="string")return jt({key:c,value:l});{const d=[];for(const y in l)d.push(...jt({key:`${c}.${y}`,value:l[y]}));return d}}};function ui(c){const l=c.value,d=c.key,y=c.styleSpec,M=c.style,T=c.validateSpec;if(!l.type)return[new q(d,l,'"type" is required')];const K=Ca(l.type);let F;switch(K){case"vector":case"raster":return F=jl({key:d,value:l,valueSpec:y[`source_${K.replace("-","_")}`],style:c.style,styleSpec:y,objectElementValidators:fr,validateSpec:T}),F;case"raster-dem":return F=function(N){var V;const re=(V=N.sourceName)!==null&&V!==void 0?V:"",Ae=N.value,Ce=N.styleSpec,Be=Ce.source_raster_dem,Ke=N.style;let We=[];const Xe=Ki(Ae);if(Ae===void 0)return We;if(Xe!=="object")return We.push(new q("source_raster_dem",Ae,`object expected, ${Xe} found`)),We;const at=Ca(Ae.encoding)==="custom",It=["redFactor","greenFactor","blueFactor","baseShift"],ct=N.value.encoding?`"${N.value.encoding}"`:"Default";for(const xt in Ae)!at&&It.includes(xt)?We.push(new q(xt,Ae[xt],`In "${re}": "${xt}" is only valid when "encoding" is set to "custom". ${ct} encoding found`)):Be[xt]?We=We.concat(N.validateSpec({key:xt,value:Ae[xt],valueSpec:Be[xt],validateSpec:N.validateSpec,style:Ke,styleSpec:Ce})):We.push(new q(xt,Ae[xt],`unknown property "${xt}"`));return We}({sourceName:d,value:l,style:c.style,styleSpec:y,validateSpec:T}),F;case"geojson":if(F=jl({key:d,value:l,valueSpec:y.source_geojson,style:M,styleSpec:y,validateSpec:T,objectElementValidators:fr}),l.cluster)for(const N in l.clusterProperties){const[V,re]=l.clusterProperties[N],Ae=typeof V=="string"?[V,["accumulated"],["get",N]]:V;F.push(...Dc({key:`${d}.${N}.map`,value:re,validateSpec:T,expressionContext:"cluster-map"})),F.push(...Dc({key:`${d}.${N}.reduce`,value:Ae,validateSpec:T,expressionContext:"cluster-reduce"}))}return F;case"video":return jl({key:d,value:l,valueSpec:y.source_video,style:M,validateSpec:T,styleSpec:y});case"image":return jl({key:d,value:l,valueSpec:y.source_image,style:M,validateSpec:T,styleSpec:y});case"canvas":return[new q(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ku({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:M,validateSpec:T,styleSpec:y})}}function so(c){const l=c.value,d=c.styleSpec,y=d.light,M=c.style;let T=[];const K=Ki(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new q("light",l,`object expected, ${K} found`)]),T;for(const F in l){const N=F.match(/^(.*)-transition$/);T=T.concat(N&&y[N[1]]&&y[N[1]].transition?c.validateSpec({key:F,value:l[F],valueSpec:d.transition,validateSpec:c.validateSpec,style:M,styleSpec:d}):y[F]?c.validateSpec({key:F,value:l[F],valueSpec:y[F],validateSpec:c.validateSpec,style:M,styleSpec:d}):[new q(F,l[F],`unknown property "${F}"`)])}return T}function La(c){const l=c.value,d=c.styleSpec,y=d.sky,M=c.style,T=Ki(l);if(l===void 0)return[];if(T!=="object")return[new q("sky",l,`object expected, ${T} found`)];let K=[];for(const F in l)K=K.concat(y[F]?Do({key:F,value:l[F],valueSpec:y[F],style:M,styleSpec:d}):[new q(F,l[F],`unknown property "${F}"`)]);return K}function Po(c){const l=c.value,d=c.styleSpec,y=d.terrain,M=c.style;let T=[];const K=Ki(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new q("terrain",l,`object expected, ${K} found`)]),T;for(const F in l)T=T.concat(y[F]?c.validateSpec({key:F,value:l[F],valueSpec:y[F],validateSpec:c.validateSpec,style:M,styleSpec:d}):[new q(F,l[F],`unknown property "${F}"`)]);return T}function EA(c){let l=[];const d=c.value,y=c.key;if(Array.isArray(d)){const M=[],T=[];for(const K in d)d[K].id&&M.includes(d[K].id)&&l.push(new q(y,d,`all the sprites' ids must be unique, but ${d[K].id} is duplicated`)),M.push(d[K].id),d[K].url&&T.includes(d[K].url)&&l.push(new q(y,d,`all the sprites' URLs must be unique, but ${d[K].url} is duplicated`)),T.push(d[K].url),l=l.concat(jl({key:`${y}[${K}]`,value:d[K],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return l}return jt({key:y,value:d})}const nh={"*":()=>[],array:Tu,boolean:function(c){const l=c.value,d=c.key,y=Ki(l);return y!=="boolean"?[new q(d,l,`boolean expected, ${y} found`)]:[]},number:Nl,color:function(c){const l=c.key,d=c.value,y=Ki(d);return y!=="string"?[new q(l,d,`color expected, ${y} found`)]:Ei.parse(String(d))?[]:[new q(l,d,`color expected, "${d}" found`)]},constants:El,enum:Ku,filter:Uc,function:eh,layer:an,object:jl,source:ui,light:so,sky:La,terrain:Po,string:jt,formatted:function(c){return jt(c).length===0?[]:Dc(c)},resolvedImage:function(c){return jt(c).length===0?[]:Dc(c)},padding:function(c){const l=c.key,d=c.value;if(Ki(d)==="array"){if(d.length<1||d.length>4)return[new q(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const y={type:"number"};let M=[];for(let T=0;T<d.length;T++)M=M.concat(c.validateSpec({key:`${l}[${T}]`,value:d[T],validateSpec:c.validateSpec,valueSpec:y}));return M}return Nl({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const l=c.key,d=c.value,y=Ki(d),M=c.styleSpec;if(y!=="array"||d.length<1||d.length%2!=0)return[new q(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let T=[];for(let K=0;K<d.length;K+=2)T=T.concat(Ku({key:`${l}[${K}]`,value:d[K],valueSpec:M.layout_symbol["text-anchor"]})),T=T.concat(Tu({key:`${l}[${K+1}]`,value:d[K+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:M}));return T},sprite:EA};function Do(c){const l=c.value,d=c.valueSpec,y=c.styleSpec;return c.validateSpec=Do,d.expression&&To(Ca(l))?eh(c):d.expression&&Ko(SA(l))?Dc(c):d.type&&nh[d.type]?nh[d.type](c):jl(Te({},c,{valueSpec:d.type?y[d.type]:d}))}function OA(c){const l=c.value,d=c.key,y=jt(c);return y.length||(l.indexOf("{fontstack}")===-1&&y.push(new q(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&y.push(new q(d,l,'"glyphs" url must include a "{range}" token'))),y}function Es(c,l=pt){let d=[];return d=d.concat(Do({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,validateSpec:Do,objectElementValidators:{glyphs:OA,"*":()=>[]}})),c.constants&&(d=d.concat(El({key:"constants",value:c.constants,style:c,styleSpec:l,validateSpec:Do}))),Zu(d)}function Ha(c){return function(l){return c({...l,validateSpec:Do})}}function Zu(c){return[].concat(c).sort((l,d)=>l.line-d.line)}function cs(c){return function(...l){return Zu(c.apply(this,l))}}Es.source=cs(Ha(ui)),Es.sprite=cs(Ha(EA)),Es.glyphs=cs(Ha(OA)),Es.light=cs(Ha(so)),Es.sky=cs(Ha(La)),Es.terrain=cs(Ha(Po)),Es.layer=cs(Ha(an)),Es.filter=cs(Ha(Uc)),Es.paintProperty=cs(Ha(lu)),Es.layoutProperty=cs(Ha(Et));const Xi=Es,qh=Xi.light,Hh=Xi.paintProperty,uu=Xi.layoutProperty;function ec(c,l){let d=!1;if(l&&l.length)for(const y of l)c.fire(new Rt(new Error(y.message))),d=!0;return d}class _a{constructor(l,d,y){const M=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const K=new Int32Array(this.arrayBuffer);l=K[0],this.d=(d=K[1])+2*(y=K[2]);for(let N=0;N<this.d*this.d;N++){const V=K[3+N],re=K[3+N+1];M.push(V===re?null:K.subarray(V,re))}const F=K[3+M.length+1];this.keys=K.subarray(K[3+M.length],F),this.bboxes=K.subarray(F),this.insert=this._insertReadonly}else{this.d=d+2*y;for(let K=0;K<this.d*this.d;K++)M.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=y,this.scale=d/l,this.uid=0;const T=y/d*l;this.min=-T,this.max=l+T}insert(l,d,y,M,T){this._forEachCell(d,y,M,T,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(y),this.bboxes.push(M),this.bboxes.push(T)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,y,M,T,K){this.cells[T].push(K)}query(l,d,y,M,T){const K=this.min,F=this.max;if(l<=K&&d<=K&&F<=y&&F<=M&&!T)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(l,d,y,M,this._queryCell,N,{},T),N}}_queryCell(l,d,y,M,T,K,F,N){const V=this.cells[T];if(V!==null){const re=this.keys,Ae=this.bboxes;for(let Ce=0;Ce<V.length;Ce++){const Be=V[Ce];if(F[Be]===void 0){const Ke=4*Be;(N?N(Ae[Ke+0],Ae[Ke+1],Ae[Ke+2],Ae[Ke+3]):l<=Ae[Ke+2]&&d<=Ae[Ke+3]&&y>=Ae[Ke+0]&&M>=Ae[Ke+1])?(F[Be]=!0,K.push(re[Be])):F[Be]=!1}}}}_forEachCell(l,d,y,M,T,K,F,N){const V=this._convertToCellCoord(l),re=this._convertToCellCoord(d),Ae=this._convertToCellCoord(y),Ce=this._convertToCellCoord(M);for(let Be=V;Be<=Ae;Be++)for(let Ke=re;Ke<=Ce;Ke++){const We=this.d*Ke+Be;if((!N||N(this._convertFromCellCoord(Be),this._convertFromCellCoord(Ke),this._convertFromCellCoord(Be+1),this._convertFromCellCoord(Ke+1)))&&T.call(this,l,d,y,M,We,K,F,N))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let y=0;for(let K=0;K<this.cells.length;K++)y+=this.cells[K].length;const M=new Int32Array(d+y+this.keys.length+this.bboxes.length);M[0]=this.extent,M[1]=this.n,M[2]=this.padding;let T=d;for(let K=0;K<l.length;K++){const F=l[K];M[3+K]=T,M.set(F,T),T+=F.length}return M[3+l.length]=T,M.set(this.keys,T),T+=this.keys.length,M[3+l.length+1]=T,M.set(this.bboxes,T),T+=this.bboxes.length,M.buffer}static serialize(l,d){const y=l.toArrayBuffer();return d&&d.push(y),{buffer:y}}static deserialize(l){return new _a(l.buffer)}}const hl={};function Wn(c,l,d={}){if(hl[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),hl[c]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}Wn("Object",Object),Wn("TransferableGridIndex",_a),Wn("Color",Ei),Wn("Error",Error),Wn("AJAXError",ke),Wn("ResolvedImage",ve),Wn("StylePropertyFunction",su),Wn("StyleExpression",VA,{omit:["_evaluator"]}),Wn("ZoomDependentExpression",js),Wn("ZoomConstantExpression",ZA),Wn("CompoundExpression",Qo,{omit:["_evaluate"]});for(const c in qA)qA[c]._classRegistryKey||Wn(`Expression_${c}`,qA[c]);function Gl(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Xu(c,l){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error)return c;if(Gl(c)||st(c))return l&&l.push(c),c;if(ArrayBuffer.isView(c)){const d=c;return l&&l.push(d.buffer),d}if(c instanceof ImageData)return l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const d=[];for(const y of c)d.push(Xu(y,l));return d}if(typeof c=="object"){const d=c.constructor,y=d._classRegistryKey;if(!y)throw new Error(`can't serialize object of unregistered class ${d.name}`);if(!hl[y])throw new Error(`${y} is not registered.`);const M=d.serialize?d.serialize(c,l):{};if(d.serialize){if(l&&M===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const T in c){if(!c.hasOwnProperty(T)||hl[y].omit.indexOf(T)>=0)continue;const K=c[T];M[T]=hl[y].shallow.indexOf(T)>=0?K:Xu(K,l)}c instanceof Error&&(M.message=c.message)}if(M.$name)throw new Error("$name property is reserved for worker serialization logic.");return y!=="Object"&&(M.$name=y),M}throw new Error("can't serialize object of type "+typeof c)}function tc(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||Gl(c)||st(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(tc);if(typeof c=="object"){const l=c.$name||"Object";if(!hl[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=hl[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(c);const y=Object.create(d.prototype);for(const M of Object.keys(c)){if(M==="$name")continue;const T=c[M];y[M]=hl[l].shallow.indexOf(M)>=0?T:tc(T)}return y}throw new Error("can't deserialize object of type "+typeof c)}class Ju{constructor(){this.first=!0}update(l,d){const y=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=y,!0))}}const Vn={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function nc(c){for(const l of c)if(tA(l.charCodeAt(0)))return!0;return!1}function eA(c){for(const l of c)if(!ip(l.charCodeAt(0)))return!1;return!0}function ip(c){return!(Vn.Arabic(c)||Vn["Arabic Supplement"](c)||Vn["Arabic Extended-A"](c)||Vn["Arabic Presentation Forms-A"](c)||Vn["Arabic Presentation Forms-B"](c))}function tA(c){return!(c!==746&&c!==747&&(c<4352||!(Vn["Bopomofo Extended"](c)||Vn.Bopomofo(c)||Vn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Vn["CJK Compatibility Ideographs"](c)||Vn["CJK Compatibility"](c)||Vn["CJK Radicals Supplement"](c)||Vn["CJK Strokes"](c)||!(!Vn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Vn["CJK Unified Ideographs Extension A"](c)||Vn["CJK Unified Ideographs"](c)||Vn["Enclosed CJK Letters and Months"](c)||Vn["Hangul Compatibility Jamo"](c)||Vn["Hangul Jamo Extended-A"](c)||Vn["Hangul Jamo Extended-B"](c)||Vn["Hangul Jamo"](c)||Vn["Hangul Syllables"](c)||Vn.Hiragana(c)||Vn["Ideographic Description Characters"](c)||Vn.Kanbun(c)||Vn["Kangxi Radicals"](c)||Vn["Katakana Phonetic Extensions"](c)||Vn.Katakana(c)&&c!==12540||!(!Vn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Vn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Vn["Unified Canadian Aboriginal Syllabics"](c)||Vn["Unified Canadian Aboriginal Syllabics Extended"](c)||Vn["Vertical Forms"](c)||Vn["Yijing Hexagram Symbols"](c)||Vn["Yi Syllables"](c)||Vn["Yi Radicals"](c))))}function nA(c){return!(tA(c)||function(l){return!!(Vn["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Vn["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Vn["Letterlike Symbols"](l)||Vn["Number Forms"](l)||Vn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Vn["Control Pictures"](l)&&l!==9251||Vn["Optical Character Recognition"](l)||Vn["Enclosed Alphanumerics"](l)||Vn["Geometric Shapes"](l)||Vn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Vn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Vn["CJK Symbols and Punctuation"](l)||Vn.Katakana(l)||Vn["Private Use Area"](l)||Vn["CJK Compatibility Forms"](l)||Vn["Small Form Variants"](l)||Vn["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}function rc(c){return c>=1424&&c<=2303||Vn["Arabic Presentation Forms-A"](c)||Vn["Arabic Presentation Forms-B"](c)}function rh(c,l){return!(!l&&rc(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Vn.Khmer(c))}function Fc(c){for(const l of c)if(rc(l.charCodeAt(0)))return!0;return!1}const rA=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class So{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ju,this.transition={})}isSupportedScript(l){return function(d,y){for(const M of d)if(!rh(M.charCodeAt(0),y))return!1;return!0}(l,rA.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),y=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*d}}}class iA{constructor(l,d){this.property=l,this.value=d,this.expression=function(y,M){if(To(y))return new su(y,M);if(Ko(y)){const T=$h(y,M);if(T.result==="error")throw new Error(T.value.map(K=>`${K.key}: ${K.message}`).join(", "));return T.value}{let T=y;return M.type==="color"&&typeof y=="string"?T=Ei.parse(y):M.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?M.type==="variableAnchorOffsetCollection"&&Array.isArray(y)&&(T=zi.parse(y)):T=oo.parse(y),{kind:"constant",evaluate:()=>T}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,y){return this.property.possiblyEvaluate(this,l,d,y)}}class gd{constructor(l){this.property=l,this.value=new iA(l,void 0)}transitioned(l,d){return new Vh(this.property,this.value,d,X({},l.transition,this.transition),l.now)}untransitioned(){return new Vh(this.property,this.value,null,{},0)}}class op{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return De(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new gd(this._values[l].property)),this._values[l].value=new iA(this._values[l].property,d===null?void 0:De(d))}getTransition(l){return De(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new gd(this._values[l].property)),this._values[l].transition=De(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y);const M=this.getTransition(d);M!==void 0&&(l[`${d}-transition`]=M)}return l}transitioned(l,d){const y=new Zh(this._properties);for(const M of Object.keys(this._values))y._values[M]=this._values[M].transitioned(l,d._values[M]);return y}untransitioned(){const l=new Zh(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class Vh{constructor(l,d,y,M,T){this.property=l,this.value=d,this.begin=T+M.delay||0,this.end=this.begin+M.duration||0,l.specification.transition&&(M.delay||M.duration)&&(this.prior=y)}possiblyEvaluate(l,d,y){const M=l.now||0,T=this.value.possiblyEvaluate(l,d,y),K=this.prior;if(K){if(M>this.end)return this.prior=null,T;if(this.value.isDataDriven())return this.prior=null,T;if(M<this.begin)return K.possiblyEvaluate(l,d,y);{const F=(M-this.begin)/(this.end-this.begin);return this.property.interpolate(K.possiblyEvaluate(l,d,y),T,function(N){if(N<=0)return 0;if(N>=1)return 1;const V=N*N,re=V*N;return 4*(N<.5?re:3*(N-V)+re-.75)}(F))}}return T}}class Zh{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,y){const M=new da(this._properties);for(const T of Object.keys(this._values))M._values[T]=this._values[T].possiblyEvaluate(l,d,y);return M}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class ap{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return De(this._values[l].value)}setValue(l,d){this._values[l]=new iA(this._values[l].property,d===null?void 0:De(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y)}return l}possiblyEvaluate(l,d,y){const M=new da(this._properties);for(const T of Object.keys(this._values))M._values[T]=this._values[T].possiblyEvaluate(l,d,y);return M}}class lo{constructor(l,d,y){this.property=l,this.value=d,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,y,M){return this.property.evaluate(this.value,this.parameters,l,d,y,M)}}class da{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class xr{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,y){const M=gt[this.specification.type];return M?M(l,d,y):l}}class Ir{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,y,M){return new lo(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},y,M)}:l.expression,d)}interpolate(l,d,y){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new lo(this,{kind:"constant",value:void 0},l.parameters);const M=gt[this.specification.type];if(M){const T=M(l.value.value,d.value.value,y);return new lo(this,{kind:"constant",value:T},l.parameters)}return l}evaluate(l,d,y,M,T,K){return l.kind==="constant"?l.value:l.evaluate(d,y,M,T,K)}}class BA extends Ir{possiblyEvaluate(l,d,y,M){if(l.value===void 0)return new lo(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,M),K=l.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,F=this._calculate(K,K,K,d);return new lo(this,{kind:"constant",value:F},d)}if(l.expression.kind==="camera"){const T=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new lo(this,{kind:"constant",value:T},d)}return new lo(this,l.expression,d)}evaluate(l,d,y,M,T,K){if(l.kind==="source"){const F=l.evaluate(d,y,M,T,K);return this._calculate(F,F,F,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},y,M),l.evaluate({zoom:Math.floor(d.zoom)},y,M),l.evaluate({zoom:Math.floor(d.zoom)+1},y,M),d):l.value}_calculate(l,d,y,M){return M.zoom>M.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class Lc{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,M){if(l.value!==void 0){if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,M);return this._calculate(T,T,T,d)}return this._calculate(l.expression.evaluate(new So(Math.floor(d.zoom-1),d)),l.expression.evaluate(new So(Math.floor(d.zoom),d)),l.expression.evaluate(new So(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,y,M){return M.zoom>M.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class ic{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,M){return!!l.expression.evaluate(d,null,{},y,M)}interpolate(){return!1}}class ha{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const y=l[d];y.specification.overridable&&this.overridableProperties.push(d);const M=this.defaultPropertyValues[d]=new iA(y,void 0),T=this.defaultTransitionablePropertyValues[d]=new gd(y);this.defaultTransitioningPropertyValues[d]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=M.possiblyEvaluate({})}}}Wn("DataDrivenProperty",Ir),Wn("DataConstantProperty",xr),Wn("CrossFadedDataDrivenProperty",BA),Wn("CrossFadedProperty",Lc),Wn("ColorRampProperty",ic);const oc="-transition";class Da extends zt{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new ap(d.layout)),d.paint)){this._transitionablePaint=new op(d.paint);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new da(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,y={}){d!=null&&this._validate(uu,`layers.${this.id}.layout.${l}`,l,d,y)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(oc)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,y={}){if(d!=null&&this._validate(Hh,`layers.${this.id}.paint.${l}`,l,d,y))return!1;if(l.endsWith(oc))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const M=this._transitionablePaint._values[l],T=M.property.specification["property-type"]==="cross-faded-data-driven",K=M.value.isDataDriven(),F=M.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const N=this._transitionablePaint._values[l].value;return N.isDataDriven()||K||T||this._handleOverridablePaintPropertyUpdate(l,F,N)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,y){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),xe(l,(d,y)=>!(d===void 0||y==="layout"&&!Object.keys(d).length||y==="paint"&&!Object.keys(d).length))}_validate(l,d,y,M,T={}){return(!T||T.validate!==!1)&&ec(this,l.call(Xi,{key:d,layerType:this.type,objectKey:y,value:M,styleSpec:pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof lo&&fd(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const oA={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class fl{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class $o{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Yo(c,l=1){let d=0,y=0;return{members:c.map(M=>{const T=oA[M.type].BYTES_PER_ELEMENT,K=d=sp(d,Math.max(l,T)),F=M.components||1;return y=Math.max(y,T),d+=T*F,{name:M.name,type:M.type,components:F,offset:K}}),size:sp(d,Math.max(y,l)),alignment:l}}function sp(c,l){return Math.ceil(c/l)*l}class ih extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.int16[M+0]=d,this.int16[M+1]=y,l}}ih.prototype.bytesPerElement=4,Wn("StructArrayLayout2i4",ih);class aA extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.int16[T+0]=d,this.int16[T+1]=y,this.int16[T+2]=M,l}}aA.prototype.bytesPerElement=6,Wn("StructArrayLayout3i6",aA);class Ol extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const K=4*l;return this.int16[K+0]=d,this.int16[K+1]=y,this.int16[K+2]=M,this.int16[K+3]=T,l}}Ol.prototype.bytesPerElement=8,Wn("StructArrayLayout4i8",Ol);class lp extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K){const F=this.length;return this.resize(F+1),this.emplace(F,l,d,y,M,T,K)}emplace(l,d,y,M,T,K,F){const N=6*l;return this.int16[N+0]=d,this.int16[N+1]=y,this.int16[N+2]=M,this.int16[N+3]=T,this.int16[N+4]=K,this.int16[N+5]=F,l}}lp.prototype.bytesPerElement=12,Wn("StructArrayLayout2i4i12",lp);class yd extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K){const F=this.length;return this.resize(F+1),this.emplace(F,l,d,y,M,T,K)}emplace(l,d,y,M,T,K,F){const N=4*l,V=8*l;return this.int16[N+0]=d,this.int16[N+1]=y,this.uint8[V+4]=M,this.uint8[V+5]=T,this.uint8[V+6]=K,this.uint8[V+7]=F,l}}yd.prototype.bytesPerElement=8,Wn("StructArrayLayout2i4ub8",yd);class IA extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.float32[M+0]=d,this.float32[M+1]=y,l}}IA.prototype.bytesPerElement=8,Wn("StructArrayLayout2f8",IA);class Xh extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,F,N,V,re){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,l,d,y,M,T,K,F,N,V,re)}emplace(l,d,y,M,T,K,F,N,V,re,Ae){const Ce=10*l;return this.uint16[Ce+0]=d,this.uint16[Ce+1]=y,this.uint16[Ce+2]=M,this.uint16[Ce+3]=T,this.uint16[Ce+4]=K,this.uint16[Ce+5]=F,this.uint16[Ce+6]=N,this.uint16[Ce+7]=V,this.uint16[Ce+8]=re,this.uint16[Ce+9]=Ae,l}}Xh.prototype.bytesPerElement=20,Wn("StructArrayLayout10ui20",Xh);class Fe extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,F,N,V,re,Ae,Ce){const Be=this.length;return this.resize(Be+1),this.emplace(Be,l,d,y,M,T,K,F,N,V,re,Ae,Ce)}emplace(l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be){const Ke=12*l;return this.int16[Ke+0]=d,this.int16[Ke+1]=y,this.int16[Ke+2]=M,this.int16[Ke+3]=T,this.uint16[Ke+4]=K,this.uint16[Ke+5]=F,this.uint16[Ke+6]=N,this.uint16[Ke+7]=V,this.int16[Ke+8]=re,this.int16[Ke+9]=Ae,this.int16[Ke+10]=Ce,this.int16[Ke+11]=Be,l}}Fe.prototype.bytesPerElement=24,Wn("StructArrayLayout4i4ui4i24",Fe);class ac extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.float32[T+0]=d,this.float32[T+1]=y,this.float32[T+2]=M,l}}ac.prototype.bytesPerElement=12,Wn("StructArrayLayout3f12",ac);class ds extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}ds.prototype.bytesPerElement=4,Wn("StructArrayLayout1ul4",ds);class Yi extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,F,N,V){const re=this.length;return this.resize(re+1),this.emplace(re,l,d,y,M,T,K,F,N,V)}emplace(l,d,y,M,T,K,F,N,V,re){const Ae=10*l,Ce=5*l;return this.int16[Ae+0]=d,this.int16[Ae+1]=y,this.int16[Ae+2]=M,this.int16[Ae+3]=T,this.int16[Ae+4]=K,this.int16[Ae+5]=F,this.uint32[Ce+3]=N,this.uint16[Ae+8]=V,this.uint16[Ae+9]=re,l}}Yi.prototype.bytesPerElement=20,Wn("StructArrayLayout6i1ul2ui20",Yi);class qr extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K){const F=this.length;return this.resize(F+1),this.emplace(F,l,d,y,M,T,K)}emplace(l,d,y,M,T,K,F){const N=6*l;return this.int16[N+0]=d,this.int16[N+1]=y,this.int16[N+2]=M,this.int16[N+3]=T,this.int16[N+4]=K,this.int16[N+5]=F,l}}qr.prototype.bytesPerElement=12,Wn("StructArrayLayout2i2i2i12",qr);class ba extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T){const K=this.length;return this.resize(K+1),this.emplace(K,l,d,y,M,T)}emplace(l,d,y,M,T,K){const F=4*l,N=8*l;return this.float32[F+0]=d,this.float32[F+1]=y,this.float32[F+2]=M,this.int16[N+6]=T,this.int16[N+7]=K,l}}ba.prototype.bytesPerElement=16,Wn("StructArrayLayout2f1f2i16",ba);class sc extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const K=12*l,F=3*l;return this.uint8[K+0]=d,this.uint8[K+1]=y,this.float32[F+1]=M,this.float32[F+2]=T,l}}sc.prototype.bytesPerElement=12,Wn("StructArrayLayout2ub2f12",sc);class vd extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.uint16[T+0]=d,this.uint16[T+1]=y,this.uint16[T+2]=M,l}}vd.prototype.bytesPerElement=6,Wn("StructArrayLayout3ui6",vd);class Au extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We,Xe,at){const It=this.length;return this.resize(It+1),this.emplace(It,l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We,Xe,at)}emplace(l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We,Xe,at,It){const ct=24*l,xt=12*l,rn=48*l;return this.int16[ct+0]=d,this.int16[ct+1]=y,this.uint16[ct+2]=M,this.uint16[ct+3]=T,this.uint32[xt+2]=K,this.uint32[xt+3]=F,this.uint32[xt+4]=N,this.uint16[ct+10]=V,this.uint16[ct+11]=re,this.uint16[ct+12]=Ae,this.float32[xt+7]=Ce,this.float32[xt+8]=Be,this.uint8[rn+36]=Ke,this.uint8[rn+37]=We,this.uint8[rn+38]=Xe,this.uint32[xt+10]=at,this.int16[ct+22]=It,l}}Au.prototype.bytesPerElement=48,Wn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Au);class Cd extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We,Xe,at,It,ct,xt,rn,An,Ln,br,Hn,xn,mn,lr){const Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We,Xe,at,It,ct,xt,rn,An,Ln,br,Hn,xn,mn,lr)}emplace(l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We,Xe,at,It,ct,xt,rn,An,Ln,br,Hn,xn,mn,lr,Rn){const Sn=32*l,Ur=16*l;return this.int16[Sn+0]=d,this.int16[Sn+1]=y,this.int16[Sn+2]=M,this.int16[Sn+3]=T,this.int16[Sn+4]=K,this.int16[Sn+5]=F,this.int16[Sn+6]=N,this.int16[Sn+7]=V,this.uint16[Sn+8]=re,this.uint16[Sn+9]=Ae,this.uint16[Sn+10]=Ce,this.uint16[Sn+11]=Be,this.uint16[Sn+12]=Ke,this.uint16[Sn+13]=We,this.uint16[Sn+14]=Xe,this.uint16[Sn+15]=at,this.uint16[Sn+16]=It,this.uint16[Sn+17]=ct,this.uint16[Sn+18]=xt,this.uint16[Sn+19]=rn,this.uint16[Sn+20]=An,this.uint16[Sn+21]=Ln,this.uint16[Sn+22]=br,this.uint32[Ur+12]=Hn,this.float32[Ur+13]=xn,this.float32[Ur+14]=mn,this.uint16[Sn+30]=lr,this.uint16[Sn+31]=Rn,l}}Cd.prototype.bytesPerElement=64,Wn("StructArrayLayout8i15ui1ul2f2ui64",Cd);class lc extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}lc.prototype.bytesPerElement=4,Wn("StructArrayLayout1f4",lc);class up extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.uint16[6*l+0]=d,this.float32[T+1]=y,this.float32[T+2]=M,l}}up.prototype.bytesPerElement=12,Wn("StructArrayLayout1ui2f12",up);class _d extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=4*l;return this.uint32[2*l+0]=d,this.uint16[T+2]=y,this.uint16[T+3]=M,l}}_d.prototype.bytesPerElement=8,Wn("StructArrayLayout1ul2ui8",_d);class uc extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.uint16[M+0]=d,this.uint16[M+1]=y,l}}uc.prototype.bytesPerElement=4,Wn("StructArrayLayout2ui4",uc);class Wl extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}Wl.prototype.bytesPerElement=2,Wn("StructArrayLayout1ui2",Wl);class Ap extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const K=4*l;return this.float32[K+0]=d,this.float32[K+1]=y,this.float32[K+2]=M,this.float32[K+3]=T,l}}Ap.prototype.bytesPerElement=16,Wn("StructArrayLayout4f16",Ap);class oh extends fl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new E(this.anchorPointX,this.anchorPointY)}}oh.prototype.size=20;class Jh extends Yi{get(l){return new oh(this,l)}}Wn("CollisionBoxArray",Jh);class I extends fl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}I.prototype.size=48;class u extends Au{get(l){return new I(this,l)}}Wn("PlacedSymbolArray",u);class p extends fl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}p.prototype.size=64;class _ extends Cd{get(l){return new p(this,l)}}Wn("SymbolInstanceArray",_);class w extends lc{getoffsetX(l){return this.float32[1*l+0]}}Wn("GlyphOffsetArray",w);class k extends aA{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Wn("SymbolLineVertexArray",k);class R extends fl{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}R.prototype.size=12;class j extends up{get(l){return new R(this,l)}}Wn("TextAnchorOffsetArray",j);class Q extends fl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Q.prototype.size=8;class ie extends _d{get(l){return new Q(this,l)}}Wn("FeatureIndexArray",ie);class de extends ih{}class fe extends ih{}class Oe extends ih{}class qe extends lp{}class Ye extends yd{}class Ze extends IA{}class Ne extends Xh{}class ht extends Fe{}class Dt extends ac{}class tt extends ds{}class bt extends qr{}class Pt extends sc{}class Lt extends vd{}class Xt extends uc{}const dn=Yo([{name:"a_pos",components:2,type:"Int16"}],4),{members:un}=dn;class pn{constructor(l=[]){this.segments=l}prepareSegment(l,d,y,M){let T=this.segments[this.segments.length-1];return l>pn.MAX_VERTEX_ARRAY_LENGTH&&he(`Max vertices per segment is ${pn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!T||T.vertexLength+l>pn.MAX_VERTEX_ARRAY_LENGTH||T.sortKey!==M)&&(T={vertexOffset:d.length,primitiveOffset:y.length,vertexLength:0,primitiveLength:0},M!==void 0&&(T.sortKey=M),this.segments.push(T)),T}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,y,M){return new pn([{vertexOffset:l,primitiveOffset:d,vertexLength:y,primitiveLength:M,vaos:{},sortKey:0}])}}function $n(c,l){return 256*(c=ye(Math.floor(c),0,255))+ye(Math.floor(l),0,255)}pn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Wn("SegmentVector",pn);const Hr=Yo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var In={exports:{}},Cr={exports:{}};Cr.exports=function(c,l){var d,y,M,T,K,F,N,V;for(y=c.length-(d=3&c.length),M=l,K=3432918353,F=461845907,V=0;V<y;)N=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24,++V,M=27492+(65535&(T=5*(65535&(M=(M^=N=(65535&(N=(N=(65535&N)*K+(((N>>>16)*K&65535)<<16)&4294967295)<<15|N>>>17))*F+(((N>>>16)*F&65535)<<16)&4294967295)<<13|M>>>19))+((5*(M>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(N=0,d){case 3:N^=(255&c.charCodeAt(V+2))<<16;case 2:N^=(255&c.charCodeAt(V+1))<<8;case 1:M^=N=(65535&(N=(N=(65535&(N^=255&c.charCodeAt(V)))*K+(((N>>>16)*K&65535)<<16)&4294967295)<<15|N>>>17))*F+(((N>>>16)*F&65535)<<16)&4294967295}return M^=c.length,M=2246822507*(65535&(M^=M>>>16))+((2246822507*(M>>>16)&65535)<<16)&4294967295,M=3266489909*(65535&(M^=M>>>13))+((3266489909*(M>>>16)&65535)<<16)&4294967295,(M^=M>>>16)>>>0};var hi=Cr.exports,Pi={exports:{}};Pi.exports=function(c,l){for(var d,y=c.length,M=l^y,T=0;y>=4;)d=1540483477*(65535&(d=255&c.charCodeAt(T)|(255&c.charCodeAt(++T))<<8|(255&c.charCodeAt(++T))<<16|(255&c.charCodeAt(++T))<<24))+((1540483477*(d>>>16)&65535)<<16),M=1540483477*(65535&M)+((1540483477*(M>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),y-=4,++T;switch(y){case 3:M^=(255&c.charCodeAt(T+2))<<16;case 2:M^=(255&c.charCodeAt(T+1))<<8;case 1:M=1540483477*(65535&(M^=255&c.charCodeAt(T)))+((1540483477*(M>>>16)&65535)<<16)}return M=1540483477*(65535&(M^=M>>>13))+((1540483477*(M>>>16)&65535)<<16),(M^=M>>>15)>>>0};var Vr=hi,ti=Pi.exports;In.exports=Vr,In.exports.murmur3=Vr,In.exports.murmur2=ti;var Wr=h(In.exports);class Zo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,y,M){this.ids.push(Ro(l)),this.positions.push(d,y,M)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Ro(l);let y=0,M=this.ids.length-1;for(;y<M;){const K=y+M>>1;this.ids[K]>=d?M=K:y=K+1}const T=[];for(;this.ids[y]===d;)T.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return T}static serialize(l,d){const y=new Float64Array(l.ids),M=new Uint32Array(l.positions);return Ns(y,M,0,y.length-1),d&&d.push(y.buffer,M.buffer),{ids:y,positions:M}}static deserialize(l){const d=new Zo;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function Ro(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Wr(String(c))}function Ns(c,l,d,y){for(;d<y;){const M=c[d+y>>1];let T=d-1,K=y+1;for(;;){do T++;while(c[T]<M);do K--;while(c[K]>M);if(T>=K)break;Ra(c,T,K),Ra(l,3*T,3*K),Ra(l,3*T+1,3*K+1),Ra(l,3*T+2,3*K+2)}K-d<y-K?(Ns(c,l,d,K),d=K+1):(Ns(c,l,K+1,y),y=K)}}function Ra(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}Wn("FeaturePositionMap",Zo);class yo{constructor(l,d){this.gl=l.gl,this.location=d}}class uo extends yo{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class tl extends yo{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class cu extends yo{constructor(l,d){super(l,d),this.current=Ei.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Os=new Float32Array(16);function sA(c){return[$n(255*c.r,255*c.g),$n(255*c.b,255*c.a)]}class Ql{constructor(l,d,y){this.value=l,this.uniformNames=d.map(M=>`u_${M}`),this.type=y}setUniform(l,d,y){l.set(y.constantOr(this.value))}getBinding(l,d,y){return this.type==="color"?new cu(l,d):new uo(l,d)}}class Bs{constructor(l,d){this.uniformNames=d.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,y,M){const T=M==="u_pattern_to"?this.patternTo:M==="u_pattern_from"?this.patternFrom:M==="u_pixel_ratio_to"?this.pixelRatioTo:M==="u_pixel_ratio_from"?this.pixelRatioFrom:null;T&&l.set(T)}getBinding(l,d,y){return y.substr(0,9)==="u_pattern"?new tl(l,d):new uo(l,d)}}class ji{constructor(l,d,y,M){this.expression=l,this.type=y,this.maxValue=0,this.paintVertexAttributes=d.map(T=>({name:`a_${T}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new M}populatePaintArray(l,d,y,M,T){const K=this.paintVertexArray.length,F=this.expression.evaluate(new So(0),d,{},M,[],T);this.paintVertexArray.resize(l),this._setPaintValue(K,l,F)}updatePaintArray(l,d,y,M){const T=this.expression.evaluate({zoom:0},y,M);this._setPaintValue(l,d,T)}_setPaintValue(l,d,y){if(this.type==="color"){const M=sA(y);for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,M[0],M[1])}else{for(let M=l;M<d;M++)this.paintVertexArray.emplace(M,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Bi{constructor(l,d,y,M,T,K){this.expression=l,this.uniformNames=d.map(F=>`u_${F}_t`),this.type=y,this.useIntegerZoom=M,this.zoom=T,this.maxValue=0,this.paintVertexAttributes=d.map(F=>({name:`a_${F}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new K}populatePaintArray(l,d,y,M,T){const K=this.expression.evaluate(new So(this.zoom),d,{},M,[],T),F=this.expression.evaluate(new So(this.zoom+1),d,{},M,[],T),N=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(N,l,K,F)}updatePaintArray(l,d,y,M){const T=this.expression.evaluate({zoom:this.zoom},y,M),K=this.expression.evaluate({zoom:this.zoom+1},y,M);this._setPaintValue(l,d,T,K)}_setPaintValue(l,d,y,M){if(this.type==="color"){const T=sA(y),K=sA(M);for(let F=l;F<d;F++)this.paintVertexArray.emplace(F,T[0],T[1],K[0],K[1])}else{for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,y,M);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(M))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const y=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,M=ye(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);l.set(M)}getBinding(l,d,y){return new uo(l,d)}}class oa{constructor(l,d,y,M,T,K){this.expression=l,this.type=d,this.useIntegerZoom=y,this.zoom=M,this.layerId=K,this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T}populatePaintArray(l,d,y){const M=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(M,l,d.patterns&&d.patterns[this.layerId],y)}updatePaintArray(l,d,y,M,T){this._setPaintValues(l,d,y.patterns&&y.patterns[this.layerId],T)}_setPaintValues(l,d,y,M){if(!M||!y)return;const{min:T,mid:K,max:F}=y,N=M[T],V=M[K],re=M[F];if(N&&V&&re)for(let Ae=l;Ae<d;Ae++)this.zoomInPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],V.pixelRatio,N.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],re.tl[0],re.tl[1],re.br[0],re.br[1],V.pixelRatio,re.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Hr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Hr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Rc{constructor(l,d,y){this.binders={},this._buffers=[];const M=[];for(const T in l.paint._values){if(!y(T))continue;const K=l.paint.get(T);if(!(K instanceof lo&&fd(K.property.specification)))continue;const F=xa(T,l.type),N=K.value,V=K.property.specification.type,re=K.property.useIntegerZoom,Ae=K.property.specification["property-type"],Ce=Ae==="cross-faded"||Ae==="cross-faded-data-driven";if(N.kind==="constant")this.binders[T]=Ce?new Bs(N.value,F):new Ql(N.value,F,V),M.push(`/u_${T}`);else if(N.kind==="source"||Ce){const Be=Is(T,V,"source");this.binders[T]=Ce?new oa(N,V,re,d,Be,l.id):new ji(N,F,V,Be),M.push(`/a_${T}`)}else{const Be=Is(T,V,"composite");this.binders[T]=new Bi(N,F,V,re,d,Be),M.push(`/z_${T}`)}}this.cacheKey=M.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof ji||d instanceof Bi?d.maxValue:0}populatePaintArrays(l,d,y,M,T){for(const K in this.binders){const F=this.binders[K];(F instanceof ji||F instanceof Bi||F instanceof oa)&&F.populatePaintArray(l,d,y,M,T)}}setConstantPatternPositions(l,d){for(const y in this.binders){const M=this.binders[y];M instanceof Bs&&M.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,y,M,T){let K=!1;for(const F in l){const N=d.getPositions(F);for(const V of N){const re=y.feature(V.index);for(const Ae in this.binders){const Ce=this.binders[Ae];if((Ce instanceof ji||Ce instanceof Bi||Ce instanceof oa)&&Ce.expression.isStateDependent===!0){const Be=M.paint.get(Ae);Ce.expression=Be.value,Ce.updatePaintArray(V.start,V.end,re,l[F],T),K=!0}}}}return K}defines(){const l=[];for(const d in this.binders){const y=this.binders[d];(y instanceof Ql||y instanceof Bs)&&l.push(...y.uniformNames.map(M=>`#define HAS_UNIFORM_${M}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof ji||y instanceof Bi)for(let M=0;M<y.paintVertexAttributes.length;M++)l.push(y.paintVertexAttributes[M].name);else if(y instanceof oa)for(let M=0;M<Hr.members.length;M++)l.push(Hr.members[M].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof Ql||y instanceof Bs||y instanceof Bi)for(const M of y.uniformNames)l.push(M)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const y=[];for(const M in this.binders){const T=this.binders[M];if(T instanceof Ql||T instanceof Bs||T instanceof Bi){for(const K of T.uniformNames)if(d[K]){const F=T.getBinding(l,d[K],K);y.push({name:K,property:M,binding:F})}}}return y}setUniforms(l,d,y,M){for(const{name:T,property:K,binding:F}of d)this.binders[K].setUniform(F,M,y.get(K),T)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const y=this.binders[d];if(l&&y instanceof oa){const M=l.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;M&&this._buffers.push(M)}else(y instanceof ji||y instanceof Bi)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(l){for(const d in this.binders){const y=this.binders[d];(y instanceof ji||y instanceof Bi||y instanceof oa)&&y.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof ji||d instanceof Bi||d instanceof oa)&&d.destroy()}}}class Xo{constructor(l,d,y=()=>!0){this.programConfigurations={};for(const M of l)this.programConfigurations[M.id]=new Rc(M,d,y);this.needsUpload=!1,this._featureMap=new Zo,this._bufferOffset=0}populatePaintArrays(l,d,y,M,T,K){for(const F in this.programConfigurations)this.programConfigurations[F].populatePaintArrays(l,d,M,T,K);d.id!==void 0&&this._featureMap.add(d.id,y,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,y,M){for(const T of y)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(l,this._featureMap,d,T,M)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function xa(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function Is(c,l,d){const y={color:{source:IA,composite:Ap},number:{source:lc,composite:IA}},M=function(T){return{"line-pattern":{source:Ne,composite:Ne},"fill-pattern":{source:Ne,composite:Ne},"fill-extrusion-pattern":{source:Ne,composite:Ne}}[T]}(c);return M&&M[d]||y[l][d]}Wn("ConstantBinder",Ql),Wn("CrossFadedConstantBinder",Bs),Wn("SourceExpressionBinder",ji),Wn("CrossFadedCompositeBinder",oa),Wn("CompositeExpressionBinder",Bi),Wn("ProgramConfiguration",Rc,{omit:["_buffers"]}),Wn("ProgramConfigurationSet",Xo);const Di=8192,Ac=Math.pow(2,14)-1,ef=-Ac-1;function du(c){const l=Di/c.extent,d=c.loadGeometry();for(let y=0;y<d.length;y++){const M=d[y];for(let T=0;T<M.length;T++){const K=M[T],F=Math.round(K.x*l),N=Math.round(K.y*l);K.x=ye(F,ef,Ac),K.y=ye(N,ef,Ac),(F<K.x||F>K.x+1||N<K.y||N>K.y+1)&&he("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function cc(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?du(c):[]}}function Pu(c,l,d,y,M){c.emplaceBack(2*l+(y+1)/2,2*d+(M+1)/2)}class tf{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new fe,this.indexArray=new Lt,this.segments=new pn,this.programConfigurations=new Xo(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){const M=this.layers[0],T=[];let K=null,F=!1;M.type==="circle"&&(K=M.layout.get("circle-sort-key"),F=!K.isConstant());for(const{feature:N,id:V,index:re,sourceLayerIndex:Ae}of l){const Ce=this.layers[0]._featureFilter.needGeometry,Be=cc(N,Ce);if(!this.layers[0]._featureFilter.filter(new So(this.zoom),Be,y))continue;const Ke=F?K.evaluate(Be,{},y):void 0,We={id:V,properties:N.properties,type:N.type,sourceLayerIndex:Ae,index:re,geometry:Ce?Be.geometry:du(N),patterns:{},sortKey:Ke};T.push(We)}F&&T.sort((N,V)=>N.sortKey-V.sortKey);for(const N of T){const{geometry:V,index:re,sourceLayerIndex:Ae}=N,Ce=l[re].feature;this.addFeature(N,V,re,y),d.featureIndex.insert(Ce,V,re,Ae,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,un),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,y,M){for(const T of d)for(const K of T){const F=K.x,N=K.y;if(F<0||F>=Di||N<0||N>=Di)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),re=V.vertexLength;Pu(this.layoutVertexArray,F,N,-1,-1),Pu(this.layoutVertexArray,F,N,1,-1),Pu(this.layoutVertexArray,F,N,1,1),Pu(this.layoutVertexArray,F,N,-1,1),this.indexArray.emplaceBack(re,re+1,re+2),this.indexArray.emplaceBack(re,re+3,re+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,{},M)}}function Du(c,l){for(let d=0;d<c.length;d++)if(uA(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(uA(c,l[d]))return!0;return!!bd(c,l)}function nf(c,l,d){return!!uA(c,l)||!!lA(l,c,d)}function kA(c,l){if(c.length===1)return rf(l,c[0]);for(let d=0;d<l.length;d++){const y=l[d];for(let M=0;M<y.length;M++)if(uA(c,y[M]))return!0}for(let d=0;d<c.length;d++)if(rf(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(bd(c,l[d]))return!0;return!1}function cp(c,l,d){if(c.length>1){if(bd(c,l))return!0;for(let y=0;y<l.length;y++)if(lA(l[y],c,d))return!0}for(let y=0;y<c.length;y++)if(lA(c[y],l,d))return!0;return!1}function bd(c,l){if(c.length===0||l.length===0)return!1;for(let d=0;d<c.length-1;d++){const y=c[d],M=c[d+1];for(let T=0;T<l.length-1;T++)if(dp(y,M,l[T],l[T+1]))return!0}return!1}function dp(c,l,d,y){return $e(c,d,y)!==$e(l,d,y)&&$e(c,l,d)!==$e(c,l,y)}function lA(c,l,d){const y=d*d;if(l.length===1)return c.distSqr(l[0])<y;for(let M=1;M<l.length;M++)if(xd(c,l[M-1],l[M])<y)return!0;return!1}function xd(c,l,d){const y=l.distSqr(d);if(y===0)return c.distSqr(l);const M=((c.x-l.x)*(d.x-l.x)+(c.y-l.y)*(d.y-l.y))/y;return c.distSqr(M<0?l:M>1?d:d.sub(l)._mult(M)._add(l))}function rf(c,l){let d,y,M,T=!1;for(let K=0;K<c.length;K++){d=c[K];for(let F=0,N=d.length-1;F<d.length;N=F++)y=d[F],M=d[N],y.y>l.y!=M.y>l.y&&l.x<(M.x-y.x)*(l.y-y.y)/(M.y-y.y)+y.x&&(T=!T)}return T}function uA(c,l){let d=!1;for(let y=0,M=c.length-1;y<c.length;M=y++){const T=c[y],K=c[M];T.y>l.y!=K.y>l.y&&l.x<(K.x-T.x)*(l.y-T.y)/(K.y-T.y)+T.x&&(d=!d)}return d}function E0(c,l,d){const y=d[0],M=d[2];if(c.x<y.x&&l.x<y.x||c.x>M.x&&l.x>M.x||c.y<y.y&&l.y<y.y||c.y>M.y&&l.y>M.y)return!1;const T=$e(c,l,d[0]);return T!==$e(c,l,d[1])||T!==$e(c,l,d[2])||T!==$e(c,l,d[3])}function of(c,l,d){const y=l.paint.get(c).value;return y.kind==="constant"?y.value:d.programConfigurations.get(l.id).getMaxValue(c)}function af(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function hu(c,l,d,y,M){if(!l[0]&&!l[1])return c;const T=E.convert(l)._mult(M);d==="viewport"&&T._rotate(-y);const K=[];for(let F=0;F<c.length;F++)K.push(c[F].sub(T));return K}let ah,sh;Wn("CircleBucket",tf,{omit:["layers"]});var og={get paint(){return sh=sh||new ha({"circle-radius":new Ir(pt.paint_circle["circle-radius"]),"circle-color":new Ir(pt.paint_circle["circle-color"]),"circle-blur":new Ir(pt.paint_circle["circle-blur"]),"circle-opacity":new Ir(pt.paint_circle["circle-opacity"]),"circle-translate":new xr(pt.paint_circle["circle-translate"]),"circle-translate-anchor":new xr(pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new xr(pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new xr(pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ir(pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ir(pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ir(pt.paint_circle["circle-stroke-opacity"])})},get layout(){return ah=ah||new ha({"circle-sort-key":new Ir(pt.layout_circle["circle-sort-key"])})}},pl=1e-6,lh=typeof Float32Array<"u"?Float32Array:Array;function O0(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function sm(c,l,d){var y=l[0],M=l[1],T=l[2],K=l[3],F=l[4],N=l[5],V=l[6],re=l[7],Ae=l[8],Ce=l[9],Be=l[10],Ke=l[11],We=l[12],Xe=l[13],at=l[14],It=l[15],ct=d[0],xt=d[1],rn=d[2],An=d[3];return c[0]=ct*y+xt*F+rn*Ae+An*We,c[1]=ct*M+xt*N+rn*Ce+An*Xe,c[2]=ct*T+xt*V+rn*Be+An*at,c[3]=ct*K+xt*re+rn*Ke+An*It,c[4]=(ct=d[4])*y+(xt=d[5])*F+(rn=d[6])*Ae+(An=d[7])*We,c[5]=ct*M+xt*N+rn*Ce+An*Xe,c[6]=ct*T+xt*V+rn*Be+An*at,c[7]=ct*K+xt*re+rn*Ke+An*It,c[8]=(ct=d[8])*y+(xt=d[9])*F+(rn=d[10])*Ae+(An=d[11])*We,c[9]=ct*M+xt*N+rn*Ce+An*Xe,c[10]=ct*T+xt*V+rn*Be+An*at,c[11]=ct*K+xt*re+rn*Ke+An*It,c[12]=(ct=d[12])*y+(xt=d[13])*F+(rn=d[14])*Ae+(An=d[15])*We,c[13]=ct*M+xt*N+rn*Ce+An*Xe,c[14]=ct*T+xt*V+rn*Be+An*at,c[15]=ct*K+xt*re+rn*Ke+An*It,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var ks,lm=sm;function um(c,l,d){var y=l[0],M=l[1],T=l[2],K=l[3];return c[0]=d[0]*y+d[4]*M+d[8]*T+d[12]*K,c[1]=d[1]*y+d[5]*M+d[9]*T+d[13]*K,c[2]=d[2]*y+d[6]*M+d[10]*T+d[14]*K,c[3]=d[3]*y+d[7]*M+d[11]*T+d[15]*K,c}ks=new lh(4),lh!=Float32Array&&(ks[0]=0,ks[1]=0,ks[2]=0,ks[3]=0);class B0 extends Da{constructor(l){super(l,og)}createBucket(l){return new tf(l)}queryRadius(l){const d=l;return of("circle-radius",this,d)+of("circle-stroke-width",this,d)+af(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,y,M,T,K,F,N){const V=hu(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),K.angle,F),re=this.paint.get("circle-radius").evaluate(d,y)+this.paint.get("circle-stroke-width").evaluate(d,y),Ae=this.paint.get("circle-pitch-alignment")==="map",Ce=Ae?V:function(Ke,We){return Ke.map(Xe=>qi(Xe,We))}(V,N),Be=Ae?re*F:re;for(const Ke of M)for(const We of Ke){const Xe=Ae?We:qi(We,N);let at=Be;const It=um([],[We.x,We.y,0,1],N);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?at*=It[3]/K.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(at*=K.cameraToCenterDistance/It[3]),nf(Ce,Xe,at))return!0}return!1}}function qi(c,l){const d=um([],[c.x,c.y,0,1],l);return new E(d[0]/d[3],d[1]/d[3])}class I0 extends tf{}let k0;Wn("HeatmapBucket",I0,{omit:["layers"]});var sf={get paint(){return k0=k0||new ha({"heatmap-radius":new Ir(pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ir(pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new xr(pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ic(pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new xr(pt.paint_heatmap["heatmap-opacity"])})}};function Am(c,{width:l,height:d},y,M){if(M){if(M instanceof Uint8ClampedArray)M=new Uint8Array(M.buffer);else if(M.length!==l*d*y)throw new RangeError(`mismatched image size. expected: ${M.length} but got: ${l*d*y}`)}else M=new Uint8Array(l*d*y);return c.width=l,c.height=d,c.data=M,c}function ag(c,{width:l,height:d},y){if(l===c.width&&d===c.height)return;const M=Am({},{width:l,height:d},y);T0(c,M,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,d)},y),c.width=l,c.height=d,c.data=M.data}function T0(c,l,d,y,M,T){if(M.width===0||M.height===0)return l;if(M.width>c.width||M.height>c.height||d.x>c.width-M.width||d.y>c.height-M.height)throw new RangeError("out of range source coordinates for image copy");if(M.width>l.width||M.height>l.height||y.x>l.width-M.width||y.y>l.height-M.height)throw new RangeError("out of range destination coordinates for image copy");const K=c.data,F=l.data;if(K===F)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<M.height;N++){const V=((d.y+N)*c.width+d.x)*T,re=((y.y+N)*l.width+y.x)*T;for(let Ae=0;Ae<M.width*T;Ae++)F[re+Ae]=K[V+Ae]}return l}class za{constructor(l,d){Am(this,l,1,d)}resize(l){ag(this,l,1)}clone(){return new za({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,M,T){T0(l,d,y,M,T,1)}}class ml{constructor(l,d){Am(this,l,4,d)}resize(l){ag(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new ml({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,M,T){T0(l,d,y,M,T,4)}}function wd(c){const l={},d=c.resolution||256,y=c.clips?c.clips.length:1,M=c.image||new ml({width:d,height:y});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const T=(K,F,N)=>{l[c.evaluationKey]=N;const V=c.expression.evaluate(l);M.data[K+F+0]=Math.floor(255*V.r/V.a),M.data[K+F+1]=Math.floor(255*V.g/V.a),M.data[K+F+2]=Math.floor(255*V.b/V.a),M.data[K+F+3]=Math.floor(255*V.a)};if(c.clips)for(let K=0,F=0;K<y;++K,F+=4*d)for(let N=0,V=0;N<d;N++,V+=4){const re=N/(d-1),{start:Ae,end:Ce}=c.clips[K];T(F,V,Ae*(1-re)+Ce*re)}else for(let K=0,F=0;K<d;K++,F+=4)T(0,F,K/(d-1));return M}Wn("AlphaImage",za),Wn("RGBAImage",ml);class uh extends Da{createBucket(l){return new I0(l)}constructor(l){super(l,sf),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=wd({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let TA;var sg={get paint(){return TA=TA||new ha({"hillshade-illumination-direction":new xr(pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new xr(pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new xr(pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new xr(pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new xr(pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new xr(pt.paint_hillshade["hillshade-accent-color"])})}};class Uu extends Da{constructor(l){super(l,sg)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Fu=Yo([{name:"a_pos",components:2,type:"Int16"}],4),{members:cm}=Fu;var hp={exports:{}};function Md(c,l,d){d=d||2;var y,M,T,K,F,N,V,re=l&&l.length,Ae=re?l[0]*d:c.length,Ce=lf(c,0,Ae,d,!0),Be=[];if(!Ce||Ce.next===Ce.prev)return Be;if(re&&(Ce=function(We,Xe,at,It){var ct,xt,rn,An=[];for(ct=0,xt=Xe.length;ct<xt;ct++)(rn=lf(We,Xe[ct]*It,ct<xt-1?Xe[ct+1]*It:We.length,It,!1))===rn.next&&(rn.steiner=!0),An.push($v(rn));for(An.sort(zc),ct=0;ct<An.length;ct++)at=lg(An[ct],at);return at}(c,l,Ce,d)),c.length>80*d){y=T=c[0],M=K=c[1];for(var Ke=d;Ke<Ae;Ke+=d)(F=c[Ke])<y&&(y=F),(N=c[Ke+1])<M&&(M=N),F>T&&(T=F),N>K&&(K=N);V=(V=Math.max(T-y,K-M))!==0?32767/V:0}return Sd(Ce,Be,d,y,M,V,0),Be}function lf(c,l,d,y,M){var T,K;if(M===cA(c,l,d,y)>0)for(T=l;T<d;T+=y)K=P0(T,c[T],c[T+1],K);else for(T=d-y;T>=l;T-=y)K=P0(T,c[T],c[T+1],K);return K&&Af(K,K.next)&&(yp(K),K=K.next),K}function fu(c,l){if(!c)return c;l||(l=c);var d,y=c;do if(d=!1,y.steiner||!Af(y,y.next)&&wa(y.prev,y,y.next)!==0)y=y.next;else{if(yp(y),(y=l=y.prev)===y.next)break;d=!0}while(d||y!==l);return l}function Sd(c,l,d,y,M,T,K){if(c){!K&&T&&function(re,Ae,Ce,Be){var Ke=re;do Ke.z===0&&(Ke.z=Od(Ke.x,Ke.y,Ae,Ce,Be)),Ke.prevZ=Ke.prev,Ke.nextZ=Ke.next,Ke=Ke.next;while(Ke!==re);Ke.prevZ.nextZ=null,Ke.prevZ=null,function(We){var Xe,at,It,ct,xt,rn,An,Ln,br=1;do{for(at=We,We=null,xt=null,rn=0;at;){for(rn++,It=at,An=0,Xe=0;Xe<br&&(An++,It=It.nextZ);Xe++);for(Ln=br;An>0||Ln>0&&It;)An!==0&&(Ln===0||!It||at.z<=It.z)?(ct=at,at=at.nextZ,An--):(ct=It,It=It.nextZ,Ln--),xt?xt.nextZ=ct:We=ct,ct.prevZ=xt,xt=ct;at=It}xt.nextZ=null,br*=2}while(rn>1)}(Ke)}(c,y,M,T);for(var F,N,V=c;c.prev!==c.next;)if(F=c.prev,N=c.next,T?pp(c,y,M,T):fp(c))l.push(F.i/d|0),l.push(c.i/d|0),l.push(N.i/d|0),yp(c),c=N.next,V=N.next;else if((c=N)===V){K?K===1?Sd(c=Ed(fu(c),l,d),l,d,y,M,T,2):K===2&&mp(c,l,d,y,M,T):Sd(fu(c),l,d,y,M,T,1);break}}}function fp(c){var l=c.prev,d=c,y=c.next;if(wa(l,d,y)>=0)return!1;for(var M=l.x,T=d.x,K=y.x,F=l.y,N=d.y,V=y.y,re=M<T?M<K?M:K:T<K?T:K,Ae=F<N?F<V?F:V:N<V?N:V,Ce=M>T?M>K?M:K:T>K?T:K,Be=F>N?F>V?F:V:N>V?N:V,Ke=y.next;Ke!==l;){if(Ke.x>=re&&Ke.x<=Ce&&Ke.y>=Ae&&Ke.y<=Be&&uf(M,F,T,N,K,V,Ke.x,Ke.y)&&wa(Ke.prev,Ke,Ke.next)>=0)return!1;Ke=Ke.next}return!0}function pp(c,l,d,y){var M=c.prev,T=c,K=c.next;if(wa(M,T,K)>=0)return!1;for(var F=M.x,N=T.x,V=K.x,re=M.y,Ae=T.y,Ce=K.y,Be=F<N?F<V?F:V:N<V?N:V,Ke=re<Ae?re<Ce?re:Ce:Ae<Ce?Ae:Ce,We=F>N?F>V?F:V:N>V?N:V,Xe=re>Ae?re>Ce?re:Ce:Ae>Ce?Ae:Ce,at=Od(Be,Ke,l,d,y),It=Od(We,Xe,l,d,y),ct=c.prevZ,xt=c.nextZ;ct&&ct.z>=at&&xt&&xt.z<=It;){if(ct.x>=Be&&ct.x<=We&&ct.y>=Ke&&ct.y<=Xe&&ct!==M&&ct!==K&&uf(F,re,N,Ae,V,Ce,ct.x,ct.y)&&wa(ct.prev,ct,ct.next)>=0||(ct=ct.prevZ,xt.x>=Be&&xt.x<=We&&xt.y>=Ke&&xt.y<=Xe&&xt!==M&&xt!==K&&uf(F,re,N,Ae,V,Ce,xt.x,xt.y)&&wa(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;ct&&ct.z>=at;){if(ct.x>=Be&&ct.x<=We&&ct.y>=Ke&&ct.y<=Xe&&ct!==M&&ct!==K&&uf(F,re,N,Ae,V,Ce,ct.x,ct.y)&&wa(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;xt&&xt.z<=It;){if(xt.x>=Be&&xt.x<=We&&xt.y>=Ke&&xt.y<=Xe&&xt!==M&&xt!==K&&uf(F,re,N,Ae,V,Ce,xt.x,xt.y)&&wa(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function Ed(c,l,d){var y=c;do{var M=y.prev,T=y.next.next;!Af(M,T)&&ug(M,y,y.next,T)&&nl(M,T)&&nl(T,M)&&(l.push(M.i/d|0),l.push(y.i/d|0),l.push(T.i/d|0),yp(y),yp(y.next),y=c=T),y=y.next}while(y!==c);return fu(y)}function mp(c,l,d,y,M,T){var K=c;do{for(var F=K.next.next;F!==K.prev;){if(K.i!==F.i&&gp(K,F)){var N=AA(K,F);return K=fu(K,K.next),N=fu(N,N.next),Sd(K,l,d,y,M,T,0),void Sd(N,l,d,y,M,T,0)}F=F.next}K=K.next}while(K!==c)}function zc(c,l){return c.x-l.x}function lg(c,l){var d=function(M,T){var K,F=T,N=M.x,V=M.y,re=-1/0;do{if(V<=F.y&&V>=F.next.y&&F.next.y!==F.y){var Ae=F.x+(V-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(Ae<=N&&Ae>re&&(re=Ae,K=F.x<F.next.x?F:F.next,Ae===N))return K}F=F.next}while(F!==T);if(!K)return null;var Ce,Be=K,Ke=K.x,We=K.y,Xe=1/0;F=K;do N>=F.x&&F.x>=Ke&&N!==F.x&&uf(V<We?N:re,V,Ke,We,V<We?re:N,V,F.x,F.y)&&(Ce=Math.abs(V-F.y)/(N-F.x),nl(F,M)&&(Ce<Xe||Ce===Xe&&(F.x>K.x||F.x===K.x&&K0(K,F)))&&(K=F,Xe=Ce)),F=F.next;while(F!==Be);return K}(c,l);if(!d)return l;var y=AA(d,c);return fu(y,y.next),fu(d,d.next)}function K0(c,l){return wa(c.prev,c,l.prev)<0&&wa(l.next,c,c.next)<0}function Od(c,l,d,y,M){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-d)*M|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-y)*M|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function $v(c){var l=c,d=c;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==c);return d}function uf(c,l,d,y,M,T,K,F){return(M-K)*(l-F)>=(c-K)*(T-F)&&(c-K)*(y-F)>=(d-K)*(l-F)&&(d-K)*(T-F)>=(M-K)*(y-F)}function gp(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(d,y){var M=d;do{if(M.i!==d.i&&M.next.i!==d.i&&M.i!==y.i&&M.next.i!==y.i&&ug(M,M.next,d,y))return!0;M=M.next}while(M!==d);return!1}(c,l)&&(nl(c,l)&&nl(l,c)&&function(d,y){var M=d,T=!1,K=(d.x+y.x)/2,F=(d.y+y.y)/2;do M.y>F!=M.next.y>F&&M.next.y!==M.y&&K<(M.next.x-M.x)*(F-M.y)/(M.next.y-M.y)+M.x&&(T=!T),M=M.next;while(M!==d);return T}(c,l)&&(wa(c.prev,c,l.prev)||wa(c,l.prev,l))||Af(c,l)&&wa(c.prev,c,c.next)>0&&wa(l.prev,l,l.next)>0)}function wa(c,l,d){return(l.y-c.y)*(d.x-l.x)-(l.x-c.x)*(d.y-l.y)}function Af(c,l){return c.x===l.x&&c.y===l.y}function ug(c,l,d,y){var M=cf(wa(c,l,d)),T=cf(wa(c,l,y)),K=cf(wa(d,y,c)),F=cf(wa(d,y,l));return M!==T&&K!==F||!(M!==0||!Ah(c,d,l))||!(T!==0||!Ah(c,y,l))||!(K!==0||!Ah(d,c,y))||!(F!==0||!Ah(d,l,y))}function Ah(c,l,d){return l.x<=Math.max(c.x,d.x)&&l.x>=Math.min(c.x,d.x)&&l.y<=Math.max(c.y,d.y)&&l.y>=Math.min(c.y,d.y)}function cf(c){return c>0?1:c<0?-1:0}function nl(c,l){return wa(c.prev,c,c.next)<0?wa(c,l,c.next)>=0&&wa(c,c.prev,l)>=0:wa(c,l,c.prev)<0||wa(c,c.next,l)<0}function AA(c,l){var d=new Bd(c.i,c.x,c.y),y=new Bd(l.i,l.x,l.y),M=c.next,T=l.prev;return c.next=l,l.prev=c,d.next=M,M.prev=d,y.next=d,d.prev=y,T.next=y,y.prev=T,y}function P0(c,l,d,y){var M=new Bd(c,l,d);return y?(M.next=y.next,M.prev=y,y.next.prev=M,y.next=M):(M.prev=M,M.next=M),M}function yp(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Bd(c,l,d){this.i=c,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cA(c,l,d,y){for(var M=0,T=l,K=d-y;T<d;T+=y)M+=(c[K]-c[T])*(c[T+1]+c[K+1]),K=T;return M}hp.exports=Md,hp.exports.default=Md,Md.deviation=function(c,l,d,y){var M=l&&l.length,T=Math.abs(cA(c,0,M?l[0]*d:c.length,d));if(M)for(var K=0,F=l.length;K<F;K++)T-=Math.abs(cA(c,l[K]*d,K<F-1?l[K+1]*d:c.length,d));var N=0;for(K=0;K<y.length;K+=3){var V=y[K]*d,re=y[K+1]*d,Ae=y[K+2]*d;N+=Math.abs((c[V]-c[Ae])*(c[re+1]-c[V+1])-(c[V]-c[re])*(c[Ae+1]-c[V+1]))}return T===0&&N===0?0:Math.abs((N-T)/T)},Md.flatten=function(c){for(var l=c[0][0].length,d={vertices:[],holes:[],dimensions:l},y=0,M=0;M<c.length;M++){for(var T=0;T<c[M].length;T++)for(var K=0;K<l;K++)d.vertices.push(c[M][T][K]);M>0&&d.holes.push(y+=c[M-1].length)}return d};var ch=h(hp.exports);function Ag(c,l,d,y,M){D0(c,l,d||0,y||c.length-1,M||hf)}function D0(c,l,d,y,M){for(;y>d;){if(y-d>600){var T=y-d+1,K=l-d+1,F=Math.log(T),N=.5*Math.exp(2*F/3),V=.5*Math.sqrt(F*N*(T-N)/T)*(K-T/2<0?-1:1);D0(c,l,Math.max(d,Math.floor(l-K*N/T+V)),Math.min(y,Math.floor(l+(T-K)*N/T+V)),M)}var re=c[l],Ae=d,Ce=y;for(df(c,d,l),M(c[y],re)>0&&df(c,d,y);Ae<Ce;){for(df(c,Ae,Ce),Ae++,Ce--;M(c[Ae],re)<0;)Ae++;for(;M(c[Ce],re)>0;)Ce--}M(c[d],re)===0?df(c,d,Ce):df(c,++Ce,y),Ce<=l&&(d=Ce+1),l<=Ce&&(y=Ce-1)}}function df(c,l,d){var y=c[l];c[l]=c[d],c[d]=y}function hf(c,l){return c<l?-1:c>l?1:0}function dh(c,l){const d=c.length;if(d<=1)return[c];const y=[];let M,T;for(let K=0;K<d;K++){const F=ge(c[K]);F!==0&&(c[K].area=Math.abs(F),T===void 0&&(T=F<0),T===F<0?(M&&y.push(M),M=[c[K]]):M.push(c[K]))}if(M&&y.push(M),l>1)for(let K=0;K<y.length;K++)y[K].length<=l||(Ag(y[K],l,1,y[K].length-1,Yv),y[K]=y[K].slice(0,l));return y}function Yv(c,l){return l.area-c.area}function vp(c,l,d){const y=d.patternDependencies;let M=!1;for(const T of l){const K=T.paint.get(`${c}-pattern`);K.isConstant()||(M=!0);const F=K.constantOr(null);F&&(M=!0,y[F.to]=!0,y[F.from]=!0)}return M}function dm(c,l,d,y,M){const T=M.patternDependencies;for(const K of l){const F=K.paint.get(`${c}-pattern`).value;if(F.kind!=="constant"){let N=F.evaluate({zoom:y-1},d,{},M.availableImages),V=F.evaluate({zoom:y},d,{},M.availableImages),re=F.evaluate({zoom:y+1},d,{},M.availableImages);N=N&&N.name?N.name:N,V=V&&V.name?V.name:V,re=re&&re.name?re.name:re,T[N]=!0,T[V]=!0,T[re]=!0,d.patterns[K.id]={min:N,mid:V,max:re}}}return d}class ff{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Oe,this.indexArray=new Lt,this.indexArray2=new Xt,this.programConfigurations=new Xo(l.layers,l.zoom),this.segments=new pn,this.segments2=new pn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=vp("fill",this.layers,d);const M=this.layers[0].layout.get("fill-sort-key"),T=!M.isConstant(),K=[];for(const{feature:F,id:N,index:V,sourceLayerIndex:re}of l){const Ae=this.layers[0]._featureFilter.needGeometry,Ce=cc(F,Ae);if(!this.layers[0]._featureFilter.filter(new So(this.zoom),Ce,y))continue;const Be=T?M.evaluate(Ce,{},y,d.availableImages):void 0,Ke={id:N,properties:F.properties,type:F.type,sourceLayerIndex:re,index:V,geometry:Ae?Ce.geometry:du(F),patterns:{},sortKey:Be};K.push(Ke)}T&&K.sort((F,N)=>F.sortKey-N.sortKey);for(const F of K){const{geometry:N,index:V,sourceLayerIndex:re}=F;if(this.hasPattern){const Ae=dm("fill",this.layers,F,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(F,N,V,y,{});d.featureIndex.insert(l[V].feature,N,V,re,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,cm),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,y,M,T){for(const K of dh(d,500)){let F=0;for(const Be of K)F+=Be.length;const N=this.segments.prepareSegment(F,this.layoutVertexArray,this.indexArray),V=N.vertexLength,re=[],Ae=[];for(const Be of K){if(Be.length===0)continue;Be!==K[0]&&Ae.push(re.length/2);const Ke=this.segments2.prepareSegment(Be.length,this.layoutVertexArray,this.indexArray2),We=Ke.vertexLength;this.layoutVertexArray.emplaceBack(Be[0].x,Be[0].y),this.indexArray2.emplaceBack(We+Be.length-1,We),re.push(Be[0].x),re.push(Be[0].y);for(let Xe=1;Xe<Be.length;Xe++)this.layoutVertexArray.emplaceBack(Be[Xe].x,Be[Xe].y),this.indexArray2.emplaceBack(We+Xe-1,We+Xe),re.push(Be[Xe].x),re.push(Be[Xe].y);Ke.vertexLength+=Be.length,Ke.primitiveLength+=Be.length}const Ce=ch(re,Ae);for(let Be=0;Be<Ce.length;Be+=3)this.indexArray.emplaceBack(V+Ce[Be],V+Ce[Be+1],V+Ce[Be+2]);N.vertexLength+=F,N.primitiveLength+=Ce.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}}let hm,hh;Wn("FillBucket",ff,{omit:["layers","patternFeatures"]});var fm={get paint(){return hh=hh||new ha({"fill-antialias":new xr(pt.paint_fill["fill-antialias"]),"fill-opacity":new Ir(pt.paint_fill["fill-opacity"]),"fill-color":new Ir(pt.paint_fill["fill-color"]),"fill-outline-color":new Ir(pt.paint_fill["fill-outline-color"]),"fill-translate":new xr(pt.paint_fill["fill-translate"]),"fill-translate-anchor":new xr(pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new BA(pt.paint_fill["fill-pattern"])})},get layout(){return hm=hm||new ha({"fill-sort-key":new Ir(pt.layout_fill["fill-sort-key"])})}};class pm extends Da{constructor(l){super(l,fm)}recalculate(l,d){super.recalculate(l,d);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new ff(l)}queryRadius(){return af(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,y,M,T,K,F){return kA(hu(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),K.angle,F),M)}isTileClipped(){return!0}}const cg=Yo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),fh=Yo([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Cp}=cg;var dA={},U0=m,dg=ph;function ph(c,l,d,y,M){this.properties={},this.extent=d,this.type=0,this._pbf=c,this._geometry=-1,this._keys=y,this._values=M,c.readFields(xo,this,l)}function xo(c,l,d){c==1?l.id=d.readVarint():c==2?function(y,M){for(var T=y.readVarint()+y.pos;y.pos<T;){var K=M._keys[y.readVarint()],F=M._values[y.readVarint()];M.properties[K]=F}}(d,l):c==3?l.type=d.readVarint():c==4&&(l._geometry=d.pos)}function hg(c){for(var l,d,y=0,M=0,T=c.length,K=T-1;M<T;K=M++)y+=((d=c[K]).x-(l=c[M]).x)*(l.y+d.y);return y}ph.types=["Unknown","Point","LineString","Polygon"],ph.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,d=c.readVarint()+c.pos,y=1,M=0,T=0,K=0,F=[];c.pos<d;){if(M<=0){var N=c.readVarint();y=7&N,M=N>>3}if(M--,y===1||y===2)T+=c.readSVarint(),K+=c.readSVarint(),y===1&&(l&&F.push(l),l=[]),l.push(new U0(T,K));else{if(y!==7)throw new Error("unknown command "+y);l&&l.push(l[0].clone())}}return l&&F.push(l),F},ph.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,d=1,y=0,M=0,T=0,K=1/0,F=-1/0,N=1/0,V=-1/0;c.pos<l;){if(y<=0){var re=c.readVarint();d=7&re,y=re>>3}if(y--,d===1||d===2)(M+=c.readSVarint())<K&&(K=M),M>F&&(F=M),(T+=c.readSVarint())<N&&(N=T),T>V&&(V=T);else if(d!==7)throw new Error("unknown command "+d)}return[K,N,F,V]},ph.prototype.toGeoJSON=function(c,l,d){var y,M,T=this.extent*Math.pow(2,d),K=this.extent*c,F=this.extent*l,N=this.loadGeometry(),V=ph.types[this.type];function re(Be){for(var Ke=0;Ke<Be.length;Ke++){var We=Be[Ke];Be[Ke]=[360*(We.x+K)/T-180,360/Math.PI*Math.atan(Math.exp((180-360*(We.y+F)/T)*Math.PI/180))-90]}}switch(this.type){case 1:var Ae=[];for(y=0;y<N.length;y++)Ae[y]=N[y][0];re(N=Ae);break;case 2:for(y=0;y<N.length;y++)re(N[y]);break;case 3:for(N=function(Be){var Ke=Be.length;if(Ke<=1)return[Be];for(var We,Xe,at=[],It=0;It<Ke;It++){var ct=hg(Be[It]);ct!==0&&(Xe===void 0&&(Xe=ct<0),Xe===ct<0?(We&&at.push(We),We=[Be[It]]):We.push(Be[It]))}return We&&at.push(We),at}(N),y=0;y<N.length;y++)for(M=0;M<N[y].length;M++)re(N[y][M])}N.length===1?N=N[0]:V="Multi"+V;var Ce={type:"Feature",geometry:{type:V,coordinates:N},properties:this.properties};return"id"in this&&(Ce.id=this.id),Ce};var mm=dg,pf=Lu;function Lu(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(gm,this,l),this.length=this._features.length}function gm(c,l,d){c===15?l.version=d.readVarint():c===1?l.name=d.readString():c===5?l.extent=d.readVarint():c===2?l._features.push(d.pos):c===3?l._keys.push(d.readString()):c===4&&l._values.push(function(y){for(var M=null,T=y.readVarint()+y.pos;y.pos<T;){var K=y.readVarint()>>3;M=K===1?y.readString():K===2?y.readFloat():K===3?y.readDouble():K===4?y.readVarint64():K===5?y.readVarint():K===6?y.readSVarint():K===7?y.readBoolean():null}return M}(d))}Lu.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new mm(this._pbf,l,this.extent,this._keys,this._values)};var F0=pf;function dc(c,l,d){if(c===3){var y=new F0(d,d.readVarint()+d.pos);y.length&&(l[y.name]=y)}}dA.VectorTile=function(c,l){this.layers=c.readFields(dc,{},l)},dA.VectorTileFeature=dg,dA.VectorTileLayer=pf;const ym=dA.VectorTileFeature.types,mf=Math.pow(2,13);function jc(c,l,d,y,M,T,K,F){c.emplaceBack(l,d,2*Math.floor(y*mf)+K,M*mf*2,T*mf*2,Math.round(F))}class mh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new qe,this.centroidVertexArray=new de,this.indexArray=new Lt,this.programConfigurations=new Xo(l.layers,l.zoom),this.segments=new pn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.features=[],this.hasPattern=vp("fill-extrusion",this.layers,d);for(const{feature:M,id:T,index:K,sourceLayerIndex:F}of l){const N=this.layers[0]._featureFilter.needGeometry,V=cc(M,N);if(!this.layers[0]._featureFilter.filter(new So(this.zoom),V,y))continue;const re={id:T,sourceLayerIndex:F,index:K,geometry:N?V.geometry:du(M),properties:M.properties,type:M.type,patterns:{}};this.hasPattern?this.features.push(dm("fill-extrusion",this.layers,re,this.zoom,d)):this.addFeature(re,re.geometry,K,y,{}),d.featureIndex.insert(M,re.geometry,K,F,this.index,!0)}}addFeatures(l,d,y){for(const M of this.features){const{geometry:T}=M;this.addFeature(M,T,M.index,d,y)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Cp),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,fh.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,y,M,T){const K={x:0,y:0,vertexCount:0};for(const F of dh(d,500)){let N=0;for(const Ke of F)N+=Ke.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Ke of F){if(Ke.length===0||Jr(Ke))continue;let We=0;for(let Xe=0;Xe<Ke.length;Xe++){const at=Ke[Xe];if(Xe>=1){const It=Ke[Xe-1];if(!gf(at,It)){V.vertexLength+4>pn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ct=at.sub(It)._perp()._unit(),xt=It.dist(at);We+xt>32768&&(We=0),jc(this.layoutVertexArray,at.x,at.y,ct.x,ct.y,0,0,We),jc(this.layoutVertexArray,at.x,at.y,ct.x,ct.y,0,1,We),K.x+=2*at.x,K.y+=2*at.y,K.vertexCount+=2,We+=xt,jc(this.layoutVertexArray,It.x,It.y,ct.x,ct.y,0,0,We),jc(this.layoutVertexArray,It.x,It.y,ct.x,ct.y,0,1,We),K.x+=2*It.x,K.y+=2*It.y,K.vertexCount+=2;const rn=V.vertexLength;this.indexArray.emplaceBack(rn,rn+2,rn+1),this.indexArray.emplaceBack(rn+1,rn+2,rn+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+N>pn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(N,this.layoutVertexArray,this.indexArray)),ym[l.type]!=="Polygon")continue;const re=[],Ae=[],Ce=V.vertexLength;for(const Ke of F)if(Ke.length!==0){Ke!==F[0]&&Ae.push(re.length/2);for(let We=0;We<Ke.length;We++){const Xe=Ke[We];jc(this.layoutVertexArray,Xe.x,Xe.y,0,0,1,1,0),K.x+=Xe.x,K.y+=Xe.y,K.vertexCount+=1,re.push(Xe.x),re.push(Xe.y)}}const Be=ch(re,Ae);for(let Ke=0;Ke<Be.length;Ke+=3)this.indexArray.emplaceBack(Ce+Be[Ke],Ce+Be[Ke+2],Ce+Be[Ke+1]);V.primitiveLength+=Be.length/3,V.vertexLength+=N}for(let F=0;F<K.vertexCount;F++)this.centroidVertexArray.emplaceBack(Math.floor(K.x/K.vertexCount),Math.floor(K.y/K.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}}function gf(c,l){return c.x===l.x&&(c.x<0||c.x>Di)||c.y===l.y&&(c.y<0||c.y>Di)}function Jr(c){return c.every(l=>l.x<0)||c.every(l=>l.x>Di)||c.every(l=>l.y<0)||c.every(l=>l.y>Di)}let yf;Wn("FillExtrusionBucket",mh,{omit:["layers","features"]});var Eo={get paint(){return yf=yf||new ha({"fill-extrusion-opacity":new xr(pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ir(pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new xr(pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new xr(pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new BA(pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ir(pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ir(pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new xr(pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Id extends Da{constructor(l){super(l,Eo)}createBucket(l){return new mh(l)}queryRadius(){return af(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,y,M,T,K,F,N){const V=hu(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),K.angle,F),re=this.paint.get("fill-extrusion-height").evaluate(d,y),Ae=this.paint.get("fill-extrusion-base").evaluate(d,y),Ce=function(Ke,We,Xe,at){const It=[];for(const ct of Ke){const xt=[ct.x,ct.y,0,1];um(xt,xt,We),It.push(new E(xt[0]/xt[3],xt[1]/xt[3]))}return It}(V,N),Be=function(Ke,We,Xe,at){const It=[],ct=[],xt=at[8]*We,rn=at[9]*We,An=at[10]*We,Ln=at[11]*We,br=at[8]*Xe,Hn=at[9]*Xe,xn=at[10]*Xe,mn=at[11]*Xe;for(const lr of Ke){const Rn=[],Sn=[];for(const Ur of lr){const Mr=Ur.x,Ni=Ur.y,pa=at[0]*Mr+at[4]*Ni+at[12],ma=at[1]*Mr+at[5]*Ni+at[13],Na=at[2]*Mr+at[6]*Ni+at[14],pu=at[3]*Mr+at[7]*Ni+at[15],mu=Na+An,ms=pu+Ln,Ps=pa+br,Jo=ma+Hn,Ys=Na+xn,gu=pu+mn,qs=new E((pa+xt)/ms,(ma+rn)/ms);qs.z=mu/ms,Rn.push(qs);const Hs=new E(Ps/gu,Jo/gu);Hs.z=Ys/gu,Sn.push(Hs)}It.push(Rn),ct.push(Sn)}return[It,ct]}(M,Ae,re,N);return function(Ke,We,Xe){let at=1/0;kA(Xe,We)&&(at=Nc(Xe,We[0]));for(let It=0;It<We.length;It++){const ct=We[It],xt=Ke[It];for(let rn=0;rn<ct.length-1;rn++){const An=ct[rn],Ln=[An,ct[rn+1],xt[rn+1],xt[rn],An];Du(Xe,Ln)&&(at=Math.min(at,Nc(Xe,Ln)))}}return at!==1/0&&at}(Be[0],Be[1],Ce)}}function _p(c,l){return c.x*l.x+c.y*l.y}function Nc(c,l){if(c.length===1){let d=0;const y=l[d++];let M;for(;!M||y.equals(M);)if(M=l[d++],!M)return 1/0;for(;d<l.length;d++){const T=l[d],K=c[0],F=M.sub(y),N=T.sub(y),V=K.sub(y),re=_p(F,F),Ae=_p(F,N),Ce=_p(N,N),Be=_p(V,F),Ke=_p(V,N),We=re*Ce-Ae*Ae,Xe=(Ce*Be-Ae*Ke)/We,at=(re*Ke-Ae*Be)/We,It=y.z*(1-Xe-at)+M.z*Xe+T.z*at;if(isFinite(It))return It}return 1/0}{let d=1/0;for(const y of l)d=Math.min(d,y.z);return d}}const fg=Yo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Gs}=fg,qv=Yo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Va}=qv,pg=dA.VectorTileFeature.types,Hv=Math.cos(Math.PI/180*37.5),L0=Math.pow(2,14)/.5;class vf{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Ye,this.layoutVertexArray2=new Ze,this.indexArray=new Lt,this.programConfigurations=new Xo(l.layers,l.zoom),this.segments=new pn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=vp("line",this.layers,d);const M=this.layers[0].layout.get("line-sort-key"),T=!M.isConstant(),K=[];for(const{feature:F,id:N,index:V,sourceLayerIndex:re}of l){const Ae=this.layers[0]._featureFilter.needGeometry,Ce=cc(F,Ae);if(!this.layers[0]._featureFilter.filter(new So(this.zoom),Ce,y))continue;const Be=T?M.evaluate(Ce,{},y):void 0,Ke={id:N,properties:F.properties,type:F.type,sourceLayerIndex:re,index:V,geometry:Ae?Ce.geometry:du(F),patterns:{},sortKey:Be};K.push(Ke)}T&&K.sort((F,N)=>F.sortKey-N.sortKey);for(const F of K){const{geometry:N,index:V,sourceLayerIndex:re}=F;if(this.hasPattern){const Ae=dm("line",this.layers,F,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(F,N,V,y,{});d.featureIndex.insert(l[V].feature,N,V,re,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Va)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Gs),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,y,M,T){const K=this.layers[0].layout,F=K.get("line-join").evaluate(l,{}),N=K.get("line-cap"),V=K.get("line-miter-limit"),re=K.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Ae of d)this.addLine(Ae,l,F,N,V,re);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}addLine(l,d,y,M,T,K){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let at=0;at<l.length-1;at++)this.totalDistance+=l[at].dist(l[at+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const F=pg[d.type]==="Polygon";let N=l.length;for(;N>=2&&l[N-1].equals(l[N-2]);)N--;let V=0;for(;V<N-1&&l[V].equals(l[V+1]);)V++;if(N<(F?3:2))return;y==="bevel"&&(T=1.05);const re=this.overscaling<=16?15*Di/(512*this.overscaling):0,Ae=this.segments.prepareSegment(10*N,this.layoutVertexArray,this.indexArray);let Ce,Be,Ke,We,Xe;this.e1=this.e2=-1,F&&(Ce=l[N-2],Xe=l[V].sub(Ce)._unit()._perp());for(let at=V;at<N;at++){if(Ke=at===N-1?F?l[V+1]:void 0:l[at+1],Ke&&l[at].equals(Ke))continue;Xe&&(We=Xe),Ce&&(Be=Ce),Ce=l[at],Xe=Ke?Ke.sub(Ce)._unit()._perp():We,We=We||Xe;let It=We.add(Xe);It.x===0&&It.y===0||It._unit();const ct=We.x*Xe.x+We.y*Xe.y,xt=It.x*Xe.x+It.y*Xe.y,rn=xt!==0?1/xt:1/0,An=2*Math.sqrt(2-2*xt),Ln=xt<Hv&&Be&&Ke,br=We.x*Xe.y-We.y*Xe.x>0;if(Ln&&at>V){const mn=Ce.dist(Be);if(mn>2*re){const lr=Ce.sub(Ce.sub(Be)._mult(re/mn)._round());this.updateDistance(Be,lr),this.addCurrentVertex(lr,We,0,0,Ae),Be=lr}}const Hn=Be&&Ke;let xn=Hn?y:F?"butt":M;if(Hn&&xn==="round"&&(rn<K?xn="miter":rn<=2&&(xn="fakeround")),xn==="miter"&&rn>T&&(xn="bevel"),xn==="bevel"&&(rn>2&&(xn="flipbevel"),rn<T&&(xn="miter")),Be&&this.updateDistance(Be,Ce),xn==="miter")It._mult(rn),this.addCurrentVertex(Ce,It,0,0,Ae);else if(xn==="flipbevel"){if(rn>100)It=Xe.mult(-1);else{const mn=rn*We.add(Xe).mag()/We.sub(Xe).mag();It._perp()._mult(mn*(br?-1:1))}this.addCurrentVertex(Ce,It,0,0,Ae),this.addCurrentVertex(Ce,It.mult(-1),0,0,Ae)}else if(xn==="bevel"||xn==="fakeround"){const mn=-Math.sqrt(rn*rn-1),lr=br?mn:0,Rn=br?0:mn;if(Be&&this.addCurrentVertex(Ce,We,lr,Rn,Ae),xn==="fakeround"){const Sn=Math.round(180*An/Math.PI/20);for(let Ur=1;Ur<Sn;Ur++){let Mr=Ur/Sn;if(Mr!==.5){const pa=Mr-.5;Mr+=Mr*pa*(Mr-1)*((1.0904+ct*(ct*(3.55645-1.43519*ct)-3.2452))*pa*pa+(.848013+ct*(.215638*ct-1.06021)))}const Ni=Xe.sub(We)._mult(Mr)._add(We)._unit()._mult(br?-1:1);this.addHalfVertex(Ce,Ni.x,Ni.y,!1,br,0,Ae)}}Ke&&this.addCurrentVertex(Ce,Xe,-lr,-Rn,Ae)}else if(xn==="butt")this.addCurrentVertex(Ce,It,0,0,Ae);else if(xn==="square"){const mn=Be?1:-1;this.addCurrentVertex(Ce,It,mn,mn,Ae)}else xn==="round"&&(Be&&(this.addCurrentVertex(Ce,We,0,0,Ae),this.addCurrentVertex(Ce,We,1,1,Ae,!0)),Ke&&(this.addCurrentVertex(Ce,Xe,-1,-1,Ae,!0),this.addCurrentVertex(Ce,Xe,0,0,Ae)));if(Ln&&at<N-1){const mn=Ce.dist(Ke);if(mn>2*re){const lr=Ce.add(Ke.sub(Ce)._mult(re/mn)._round());this.updateDistance(Ce,lr),this.addCurrentVertex(lr,Xe,0,0,Ae),Ce=lr}}}}addCurrentVertex(l,d,y,M,T,K=!1){const F=d.y*M-d.x,N=-d.y-d.x*M;this.addHalfVertex(l,d.x+d.y*y,d.y-d.x*y,K,!1,y,T),this.addHalfVertex(l,F,N,K,!0,-M,T),this.distance>L0/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,y,M,T,K))}addHalfVertex({x:l,y:d},y,M,T,K,F,N){const V=.5*(this.lineClips?this.scaledDistance*(L0-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(T?1:0),(d<<1)+(K?1:0),Math.round(63*y)+128,Math.round(63*M)+128,1+(F===0?0:F<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const re=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,re),N.primitiveLength++),K?this.e2=re:this.e1=re}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let A,f;Wn("LineBucket",vf,{omit:["layers","patternFeatures"]});var x={get paint(){return f=f||new ha({"line-opacity":new Ir(pt.paint_line["line-opacity"]),"line-color":new Ir(pt.paint_line["line-color"]),"line-translate":new xr(pt.paint_line["line-translate"]),"line-translate-anchor":new xr(pt.paint_line["line-translate-anchor"]),"line-width":new Ir(pt.paint_line["line-width"]),"line-gap-width":new Ir(pt.paint_line["line-gap-width"]),"line-offset":new Ir(pt.paint_line["line-offset"]),"line-blur":new Ir(pt.paint_line["line-blur"]),"line-dasharray":new Lc(pt.paint_line["line-dasharray"]),"line-pattern":new BA(pt.paint_line["line-pattern"]),"line-gradient":new ic(pt.paint_line["line-gradient"])})},get layout(){return A=A||new ha({"line-cap":new xr(pt.layout_line["line-cap"]),"line-join":new Ir(pt.layout_line["line-join"]),"line-miter-limit":new xr(pt.layout_line["line-miter-limit"]),"line-round-limit":new xr(pt.layout_line["line-round-limit"]),"line-sort-key":new Ir(pt.layout_line["line-sort-key"])})}};class b extends Ir{possiblyEvaluate(l,d){return d=new So(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,y,M){return d=X({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,y,M)}}let B;class L extends Da{constructor(l){super(l,x),this.gradientVersion=0,B||(B=new b(x.paint.properties["line-width"].specification),B.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof dl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=B.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new vf(l)}queryRadius(l){const d=l,y=Y(of("line-width",this,d),of("line-gap-width",this,d)),M=of("line-offset",this,d);return y/2+Math.abs(M)+af(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,y,M,T,K,F){const N=hu(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),K.angle,F),V=F/2*Y(this.paint.get("line-width").evaluate(d,y),this.paint.get("line-gap-width").evaluate(d,y)),re=this.paint.get("line-offset").evaluate(d,y);return re&&(M=function(Ae,Ce){const Be=[];for(let Ke=0;Ke<Ae.length;Ke++){const We=Ae[Ke],Xe=[];for(let at=0;at<We.length;at++){const It=We[at-1],ct=We[at],xt=We[at+1],rn=at===0?new E(0,0):ct.sub(It)._unit()._perp(),An=at===We.length-1?new E(0,0):xt.sub(ct)._unit()._perp(),Ln=rn._add(An)._unit(),br=Ln.x*An.x+Ln.y*An.y;br!==0&&Ln._mult(1/br),Xe.push(Ln._mult(Ce)._add(ct))}Be.push(Xe)}return Be}(M,re*F)),function(Ae,Ce,Be){for(let Ke=0;Ke<Ce.length;Ke++){const We=Ce[Ke];if(Ae.length>=3){for(let Xe=0;Xe<We.length;Xe++)if(uA(Ae,We[Xe]))return!0}if(cp(Ae,We,Be))return!0}return!1}(N,M,V)}isTileClipped(){return!0}}function Y(c,l){return l>0?l+2*c:c}const ne=Yo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),le=Yo([{name:"a_projected_pos",components:3,type:"Float32"}],4);Yo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const me=Yo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Yo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Qe=Yo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nt=Yo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ot(c,l,d){return c.sections.forEach(y=>{y.text=function(M,T,K){const F=T.layout.get("text-transform").evaluate(K,{});return F==="uppercase"?M=M.toLocaleUpperCase():F==="lowercase"&&(M=M.toLocaleLowerCase()),rA.applyArabicShaping&&(M=rA.applyArabicShaping(M)),M}(y.text,l,d)}),c}Yo([{name:"triangle",components:3,type:"Uint16"}]),Yo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Yo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Yo([{type:"Float32",name:"offsetX"}]),Yo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Yo([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Ct={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Nt=24,cn=bn,kn=function(c,l,d,y,M){var T,K,F=8*M-y-1,N=(1<<F)-1,V=N>>1,re=-7,Ae=d?M-1:0,Ce=d?-1:1,Be=c[l+Ae];for(Ae+=Ce,T=Be&(1<<-re)-1,Be>>=-re,re+=F;re>0;T=256*T+c[l+Ae],Ae+=Ce,re-=8);for(K=T&(1<<-re)-1,T>>=-re,re+=y;re>0;K=256*K+c[l+Ae],Ae+=Ce,re-=8);if(T===0)T=1-V;else{if(T===N)return K?NaN:1/0*(Be?-1:1);K+=Math.pow(2,y),T-=V}return(Be?-1:1)*K*Math.pow(2,T-y)},Yn=function(c,l,d,y,M,T){var K,F,N,V=8*T-M-1,re=(1<<V)-1,Ae=re>>1,Ce=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,Be=y?0:T-1,Ke=y?1:-1,We=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(F=isNaN(l)?1:0,K=re):(K=Math.floor(Math.log(l)/Math.LN2),l*(N=Math.pow(2,-K))<1&&(K--,N*=2),(l+=K+Ae>=1?Ce/N:Ce*Math.pow(2,1-Ae))*N>=2&&(K++,N/=2),K+Ae>=re?(F=0,K=re):K+Ae>=1?(F=(l*N-1)*Math.pow(2,M),K+=Ae):(F=l*Math.pow(2,Ae-1)*Math.pow(2,M),K=0));M>=8;c[d+Be]=255&F,Be+=Ke,F/=256,M-=8);for(K=K<<M|F,V+=M;V>0;c[d+Be]=255&K,Be+=Ke,K/=256,V-=8);c[d+Be-Ke]|=128*We};function bn(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}bn.Varint=0,bn.Fixed64=1,bn.Bytes=2,bn.Fixed32=5;var Fn=4294967296,sr=1/Fn,Tr=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function _r(c){return c.type===bn.Bytes?c.readVarint()+c.pos:c.pos+1}function fi(c,l,d){return d?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function zo(c,l,d){var y=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(y);for(var M=d.pos-1;M>=c;M--)d.buf[M+y]=d.buf[M]}function Za(c,l){for(var d=0;d<c.length;d++)l.writeVarint(c[d])}function Ma(c,l){for(var d=0;d<c.length;d++)l.writeSVarint(c[d])}function ja(c,l){for(var d=0;d<c.length;d++)l.writeFloat(c[d])}function hs(c,l){for(var d=0;d<c.length;d++)l.writeDouble(c[d])}function fs(c,l){for(var d=0;d<c.length;d++)l.writeBoolean(c[d])}function Bl(c,l){for(var d=0;d<c.length;d++)l.writeFixed32(c[d])}function rl(c,l){for(var d=0;d<c.length;d++)l.writeSFixed32(c[d])}function Ts(c,l){for(var d=0;d<c.length;d++)l.writeFixed64(c[d])}function ps(c,l){for(var d=0;d<c.length;d++)l.writeSFixed64(c[d])}function fa(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function Ks(c,l,d){c[d]=l,c[d+1]=l>>>8,c[d+2]=l>>>16,c[d+3]=l>>>24}function gh(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}bn.prototype={destroy:function(){this.buf=null},readFields:function(c,l,d){for(d=d||this.length;this.pos<d;){var y=this.readVarint(),M=y>>3,T=this.pos;this.type=7&y,c(M,l,this),this.pos===T&&this.skip(y)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=fa(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=gh(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=fa(this.buf,this.pos)+fa(this.buf,this.pos+4)*Fn;return this.pos+=8,c},readSFixed64:function(){var c=fa(this.buf,this.pos)+gh(this.buf,this.pos+4)*Fn;return this.pos+=8,c},readFloat:function(){var c=kn(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=kn(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,d,y=this.buf;return l=127&(d=y[this.pos++]),d<128?l:(l|=(127&(d=y[this.pos++]))<<7,d<128?l:(l|=(127&(d=y[this.pos++]))<<14,d<128?l:(l|=(127&(d=y[this.pos++]))<<21,d<128?l:function(M,T,K){var F,N,V=K.buf;if(F=(112&(N=V[K.pos++]))>>4,N<128||(F|=(127&(N=V[K.pos++]))<<3,N<128)||(F|=(127&(N=V[K.pos++]))<<10,N<128)||(F|=(127&(N=V[K.pos++]))<<17,N<128)||(F|=(127&(N=V[K.pos++]))<<24,N<128)||(F|=(1&(N=V[K.pos++]))<<31,N<128))return fi(M,F,T);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=y[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&Tr?function(d,y,M){return Tr.decode(d.subarray(y,M))}(this.buf,l,c):function(d,y,M){for(var T="",K=y;K<M;){var F,N,V,re=d[K],Ae=null,Ce=re>239?4:re>223?3:re>191?2:1;if(K+Ce>M)break;Ce===1?re<128&&(Ae=re):Ce===2?(192&(F=d[K+1]))==128&&(Ae=(31&re)<<6|63&F)<=127&&(Ae=null):Ce===3?(N=d[K+2],(192&(F=d[K+1]))==128&&(192&N)==128&&((Ae=(15&re)<<12|(63&F)<<6|63&N)<=2047||Ae>=55296&&Ae<=57343)&&(Ae=null)):Ce===4&&(N=d[K+2],V=d[K+3],(192&(F=d[K+1]))==128&&(192&N)==128&&(192&V)==128&&((Ae=(15&re)<<18|(63&F)<<12|(63&N)<<6|63&V)<=65535||Ae>=1114112)&&(Ae=null)),Ae===null?(Ae=65533,Ce=1):Ae>65535&&(Ae-=65536,T+=String.fromCharCode(Ae>>>10&1023|55296),Ae=56320|1023&Ae),T+=String.fromCharCode(Ae),K+=Ce}return T}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==bn.Bytes)return c.push(this.readVarint(l));var d=_r(this);for(c=c||[];this.pos<d;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==bn.Bytes)return c.push(this.readSVarint());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==bn.Bytes)return c.push(this.readBoolean());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==bn.Bytes)return c.push(this.readFloat());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==bn.Bytes)return c.push(this.readDouble());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==bn.Bytes)return c.push(this.readFixed32());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==bn.Bytes)return c.push(this.readSFixed32());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==bn.Bytes)return c.push(this.readFixed64());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==bn.Bytes)return c.push(this.readSFixed64());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===bn.Varint)for(;this.buf[this.pos++]>127;);else if(l===bn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===bn.Fixed32)this.pos+=4;else{if(l!==bn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),Ks(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),Ks(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),Ks(this.buf,-1&c,this.pos),Ks(this.buf,Math.floor(c*sr),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),Ks(this.buf,-1&c,this.pos),Ks(this.buf,Math.floor(c*sr),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,d){var y,M;if(l>=0?(y=l%4294967296|0,M=l/4294967296|0):(M=~(-l/4294967296),4294967295^(y=~(-l%4294967296))?y=y+1|0:(y=0,M=M+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(T,K,F){F.buf[F.pos++]=127&T|128,T>>>=7,F.buf[F.pos++]=127&T|128,T>>>=7,F.buf[F.pos++]=127&T|128,T>>>=7,F.buf[F.pos++]=127&T|128,F.buf[F.pos]=127&(T>>>=7)}(y,0,d),function(T,K){var F=(7&T)<<4;K.buf[K.pos++]|=F|((T>>>=3)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T)))))}(M,d)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(y,M,T){for(var K,F,N=0;N<M.length;N++){if((K=M.charCodeAt(N))>55295&&K<57344){if(!F){K>56319||N+1===M.length?(y[T++]=239,y[T++]=191,y[T++]=189):F=K;continue}if(K<56320){y[T++]=239,y[T++]=191,y[T++]=189,F=K;continue}K=F-55296<<10|K-56320|65536,F=null}else F&&(y[T++]=239,y[T++]=191,y[T++]=189,F=null);K<128?y[T++]=K:(K<2048?y[T++]=K>>6|192:(K<65536?y[T++]=K>>12|224:(y[T++]=K>>18|240,y[T++]=K>>12&63|128),y[T++]=K>>6&63|128),y[T++]=63&K|128)}return T}(this.buf,c,this.pos);var d=this.pos-l;d>=128&&zo(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(c){this.realloc(4),Yn(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),Yn(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=c[d]},writeRawMessage:function(c,l){this.pos++;var d=this.pos;c(l,this);var y=this.pos-d;y>=128&&zo(d,y,this),this.pos=d-1,this.writeVarint(y),this.pos+=y},writeMessage:function(c,l,d){this.writeTag(c,bn.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,Za,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,Ma,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,fs,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,ja,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,hs,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,Bl,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,rl,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,Ts,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,ps,l)},writeBytesField:function(c,l){this.writeTag(c,bn.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,bn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,bn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,bn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,bn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,bn.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,bn.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,bn.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,bn.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,bn.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};var hc=h(cn);const Ws=3;function fc(c,l,d){c===1&&d.readMessage(Qs,l)}function Qs(c,l,d){if(c===3){const{id:y,bitmap:M,width:T,height:K,left:F,top:N,advance:V}=d.readMessage(R0,{});l.push({id:y,bitmap:new za({width:T+2*Ws,height:K+2*Ws},M),metrics:{width:T,height:K,left:F,top:N,advance:V}})}}function R0(c,l,d){c===1?l.id=d.readVarint():c===2?l.bitmap=d.readBytes():c===3?l.width=d.readVarint():c===4?l.height=d.readVarint():c===5?l.left=d.readSVarint():c===6?l.top=d.readSVarint():c===7&&(l.advance=d.readVarint())}const KA=Ws;function Gc(c){let l=0,d=0;for(const K of c)l+=K.w*K.h,d=Math.max(d,K.w);c.sort((K,F)=>F.h-K.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let M=0,T=0;for(const K of c)for(let F=y.length-1;F>=0;F--){const N=y[F];if(!(K.w>N.w||K.h>N.h)){if(K.x=N.x,K.y=N.y,T=Math.max(T,K.y+K.h),M=Math.max(M,K.x+K.w),K.w===N.w&&K.h===N.h){const V=y.pop();F<y.length&&(y[F]=V)}else K.h===N.h?(N.x+=K.w,N.w-=K.w):K.w===N.w?(N.y+=K.h,N.h-=K.h):(y.push({x:N.x+K.w,y:N.y,w:N.w-K.w,h:K.h}),N.y+=K.h,N.h-=K.h);break}}return{w:M,h:T,fill:l/(M*T)||0}}const Xa=1;class il{constructor(l,{pixelRatio:d,version:y,stretchX:M,stretchY:T,content:K}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=M,this.stretchY=T,this.content=K,this.version=y}get tl(){return[this.paddedRect.x+Xa,this.paddedRect.y+Xa]}get br(){return[this.paddedRect.x+this.paddedRect.w-Xa,this.paddedRect.y+this.paddedRect.h-Xa]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Xa)/this.pixelRatio,(this.paddedRect.h-2*Xa)/this.pixelRatio]}}class yh{constructor(l,d){const y={},M={};this.haveRenderCallbacks=[];const T=[];this.addImages(l,y,T),this.addImages(d,M,T);const{w:K,h:F}=Gc(T),N=new ml({width:K||1,height:F||1});for(const V in l){const re=l[V],Ae=y[V].paddedRect;ml.copy(re.data,N,{x:0,y:0},{x:Ae.x+Xa,y:Ae.y+Xa},re.data)}for(const V in d){const re=d[V],Ae=M[V].paddedRect,Ce=Ae.x+Xa,Be=Ae.y+Xa,Ke=re.data.width,We=re.data.height;ml.copy(re.data,N,{x:0,y:0},{x:Ce,y:Be},re.data),ml.copy(re.data,N,{x:0,y:We-1},{x:Ce,y:Be-1},{width:Ke,height:1}),ml.copy(re.data,N,{x:0,y:0},{x:Ce,y:Be+We},{width:Ke,height:1}),ml.copy(re.data,N,{x:Ke-1,y:0},{x:Ce-1,y:Be},{width:1,height:We}),ml.copy(re.data,N,{x:0,y:0},{x:Ce+Ke,y:Be},{width:1,height:We})}this.image=N,this.iconPositions=y,this.patternPositions=M}addImages(l,d,y){for(const M in l){const T=l[M],K={x:0,y:0,w:T.data.width+2*Xa,h:T.data.height+2*Xa};y.push(K),d[M]=new il(K,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(M)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in l.updatedImages)this.patchUpdatedImage(this.iconPositions[y],l.getImage(y),d),this.patchUpdatedImage(this.patternPositions[y],l.getImage(y),d)}patchUpdatedImage(l,d,y){if(!l||!d||l.version===d.version)return;l.version=d.version;const[M,T]=l.tl;y.update(d.data,void 0,{x:M,y:T})}}var pc;Wn("ImagePosition",il),Wn("ImageAtlas",yh),a.ah=void 0,(pc=a.ah||(a.ah={}))[pc.none=0]="none",pc[pc.horizontal=1]="horizontal",pc[pc.vertical=2]="vertical",pc[pc.horizontalOnly=3]="horizontalOnly";const vm=-17;class z0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const y=new z0;return y.scale=l||1,y.fontStack=d,y}static forImage(l){const d=new z0;return d.imageName=l,d}}class Cm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const y=new Cm;for(let M=0;M<l.sections.length;M++){const T=l.sections[M];T.image?y.addImageSection(T):y.addTextSection(T,d)}return y}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let y=0;y<l.length;y++){const M=l.charCodeAt(y+1)||null,T=l.charCodeAt(y-1)||null;d+=M&&nA(M)&&!Ct[l[y+1]]||T&&nA(T)&&!Ct[l[y-1]]||!Ct[l[y]]?l[y]:Ct[l[y]]}return d}(this.text)}trim(){let l=0;for(let y=0;y<this.text.length&&gg[this.text.charCodeAt(y)];y++)l++;let d=this.text.length;for(let y=this.text.length-1;y>=0&&y>=l&&gg[this.text.charCodeAt(y)];y--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const y=new Cm;return y.text=this.text.substring(l,d),y.sectionIndex=this.sectionIndex.slice(l,d),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(z0.forText(l.scale,l.fontStack||d));const y=this.sections.length-1;for(let M=0;M<l.text.length;++M)this.sectionIndex.push(y)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void he("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(z0.forImage(d)),this.sectionIndex.push(this.sections.length-1)):he("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function mg(c,l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We){const Xe=Cm.fromFeature(c,M);let at;Ae===a.ah.vertical&&Xe.verticalizePunctuation();const{processBidirectionalText:It,processStyledBidirectionalText:ct}=rA;if(It&&Xe.sections.length===1){at=[];const An=It(Xe.toString(),yg(Xe,V,T,l,y,Be,Ke));for(const Ln of An){const br=new Cm;br.text=Ln,br.sections=Xe.sections;for(let Hn=0;Hn<Ln.length;Hn++)br.sectionIndex.push(0);at.push(br)}}else if(ct){at=[];const An=ct(Xe.text,Xe.sectionIndex,yg(Xe,V,T,l,y,Be,Ke));for(const Ln of An){const br=new Cm;br.text=Ln[0],br.sectionIndex=Ln[1],br.sections=Xe.sections,at.push(br)}}else at=function(An,Ln){const br=[],Hn=An.text;let xn=0;for(const mn of Ln)br.push(An.substring(xn,mn)),xn=mn;return xn<Hn.length&&br.push(An.substring(xn,Hn.length)),br}(Xe,yg(Xe,V,T,l,y,Be,Ke));const xt=[],rn={positionedLines:xt,text:Xe.toString(),top:re[1],bottom:re[1],left:re[0],right:re[0],writingMode:Ae,iconsInText:!1,verticalizable:!1};return function(An,Ln,br,Hn,xn,mn,lr,Rn,Sn,Ur,Mr,Ni){let pa=0,ma=vm,Na=0,pu=0;const mu=Rn==="right"?1:Rn==="left"?0:.5;let ms=0;for(const qs of xn){qs.trim();const Hs=qs.getMaxScale(),$l=(Hs-1)*Nt,yu={positionedGlyphs:[],lineOffset:0};An.positionedLines[ms]=yu;const Il=yu.positionedGlyphs;let gs=0;if(!qs.length()){ma+=mn,++ms;continue}for(let Ds=0;Ds<qs.length();Ds++){const oi=qs.getSection(Ds),kl=qs.getSectionIndex(Ds),Tl=qs.getCharCode(Ds);let pi=0,mc=null,gc=null,hA=null,Ch=Nt;const yc=!(Sn===a.ah.horizontal||!Mr&&!tA(Tl)||Mr&&(gg[Tl]||(Ps=Tl,Vn.Arabic(Ps)||Vn["Arabic Supplement"](Ps)||Vn["Arabic Extended-A"](Ps)||Vn["Arabic Presentation Forms-A"](Ps)||Vn["Arabic Presentation Forms-B"](Ps))));if(oi.imageName){const UA=Hn[oi.imageName];if(!UA)continue;hA=oi.imageName,An.iconsInText=An.iconsInText||!0,gc=UA.paddedRect;const Ru=UA.displaySize;oi.scale=oi.scale*Nt/Ni,mc={width:Ru[0],height:Ru[1],left:Xa,top:-KA,advance:yc?Ru[1]:Ru[0]},pi=$l+(Nt-Ru[1]*oi.scale),Ch=mc.advance;const _h=yc?Ru[0]*oi.scale-Nt*Hs:Ru[1]*oi.scale-Nt*Hs;_h>0&&_h>gs&&(gs=_h)}else{const UA=br[oi.fontStack],Ru=UA&&UA[Tl];if(Ru&&Ru.rect)gc=Ru.rect,mc=Ru.metrics;else{const _h=Ln[oi.fontStack],Q0=_h&&_h[Tl];if(!Q0)continue;mc=Q0.metrics}pi=(Hs-oi.scale)*Nt}yc?(An.verticalizable=!0,Il.push({glyph:Tl,imageName:hA,x:pa,y:ma+pi,vertical:yc,scale:oi.scale,fontStack:oi.fontStack,sectionIndex:kl,metrics:mc,rect:gc}),pa+=Ch*oi.scale+Ur):(Il.push({glyph:Tl,imageName:hA,x:pa,y:ma+pi,vertical:yc,scale:oi.scale,fontStack:oi.fontStack,sectionIndex:kl,metrics:mc,rect:gc}),pa+=mc.advance*oi.scale+Ur)}Il.length!==0&&(Na=Math.max(pa-Ur,Na),aM(Il,0,Il.length-1,mu,gs)),pa=0;const ei=mn*Hs+gs;yu.lineOffset=Math.max(gs,$l),ma+=ei,pu=Math.max(ei,pu),++ms}var Ps;const Jo=ma-vm,{horizontalAlign:Ys,verticalAlign:gu}=Vv(lr);(function(qs,Hs,$l,yu,Il,gs,ei,Ds,oi){const kl=(Hs-$l)*Il;let Tl=0;Tl=gs!==ei?-Ds*yu-vm:(-yu*oi+.5)*ei;for(const pi of qs)for(const mc of pi.positionedGlyphs)mc.x+=kl,mc.y+=Tl})(An.positionedLines,mu,Ys,gu,Na,pu,mn,Jo,xn.length),An.top+=-gu*Jo,An.bottom=An.top+Jo,An.left+=-Ys*Na,An.right=An.left+Na}(rn,l,d,y,at,K,F,N,Ae,V,Ce,We),!function(An){for(const Ln of An)if(Ln.positionedGlyphs.length!==0)return!1;return!0}(xt)&&rn}const gg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},iM={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function g2(c,l,d,y,M,T){if(l.imageName){const K=y[l.imageName];return K?K.displaySize[0]*l.scale*Nt/T+M:0}{const K=d[l.fontStack],F=K&&K[c];return F?F.metrics.advance*l.scale+M:0}}function PA(c,l,d,y){const M=Math.pow(c-l,2);return y?c<l?M/2:2*M:M+Math.abs(d)*d}function oM(c,l,d){let y=0;return c===10&&(y-=1e4),d&&(y+=150),c!==40&&c!==65288||(y+=50),l!==41&&l!==65289||(y+=50),y}function y2(c,l,d,y,M,T){let K=null,F=PA(l,d,M,T);for(const N of y){const V=PA(l-N.x,d,M,T)+N.badness;V<=F&&(K=N,F=V)}return{index:c,x:l,priorBreak:K,badness:F}}function v2(c){return c?v2(c.priorBreak).concat(c.index):[]}function yg(c,l,d,y,M,T,K){if(T!=="point")return[];if(!c)return[];const F=[],N=function(Ce,Be,Ke,We,Xe,at){let It=0;for(let ct=0;ct<Ce.length();ct++){const xt=Ce.getSection(ct);It+=g2(Ce.getCharCode(ct),xt,We,Xe,Be,at)}return It/Math.max(1,Math.ceil(It/Ke))}(c,l,d,y,M,K),V=c.text.indexOf("")>=0;let re=0;for(let Ce=0;Ce<c.length();Ce++){const Be=c.getSection(Ce),Ke=c.getCharCode(Ce);if(gg[Ke]||(re+=g2(Ke,Be,y,M,l,K)),Ce<c.length()-1){const We=!((Ae=Ke)<11904||!(Vn["Bopomofo Extended"](Ae)||Vn.Bopomofo(Ae)||Vn["CJK Compatibility Forms"](Ae)||Vn["CJK Compatibility Ideographs"](Ae)||Vn["CJK Compatibility"](Ae)||Vn["CJK Radicals Supplement"](Ae)||Vn["CJK Strokes"](Ae)||Vn["CJK Symbols and Punctuation"](Ae)||Vn["CJK Unified Ideographs Extension A"](Ae)||Vn["CJK Unified Ideographs"](Ae)||Vn["Enclosed CJK Letters and Months"](Ae)||Vn["Halfwidth and Fullwidth Forms"](Ae)||Vn.Hiragana(Ae)||Vn["Ideographic Description Characters"](Ae)||Vn["Kangxi Radicals"](Ae)||Vn["Katakana Phonetic Extensions"](Ae)||Vn.Katakana(Ae)||Vn["Vertical Forms"](Ae)||Vn["Yi Radicals"](Ae)||Vn["Yi Syllables"](Ae)));(iM[Ke]||We||Be.imageName)&&F.push(y2(Ce+1,re,N,F,oM(Ke,c.getCharCode(Ce+1),We&&V),!1))}}var Ae;return v2(y2(c.length(),re,N,F,0,!0))}function Vv(c){let l=.5,d=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function aM(c,l,d,y,M){if(!y&&!M)return;const T=c[d],K=(c[d].x+T.metrics.advance*T.scale)*y;for(let F=l;F<=d;F++)c[F].x-=K,c[F].y+=M}function sM(c,l,d){const{horizontalAlign:y,verticalAlign:M}=Vv(d),T=l[0]-c.displaySize[0]*y,K=l[1]-c.displaySize[1]*M;return{image:c,top:K,bottom:K+c.displaySize[1],left:T,right:T+c.displaySize[0]}}function C2(c,l,d,y,M,T){const K=c.image;let F;if(K.content){const Xe=K.content,at=K.pixelRatio||1;F=[Xe[0]/at,Xe[1]/at,K.displaySize[0]-Xe[2]/at,K.displaySize[1]-Xe[3]/at]}const N=l.left*T,V=l.right*T;let re,Ae,Ce,Be;d==="width"||d==="both"?(Be=M[0]+N-y[3],Ae=M[0]+V+y[1]):(Be=M[0]+(N+V-K.displaySize[0])/2,Ae=Be+K.displaySize[0]);const Ke=l.top*T,We=l.bottom*T;return d==="height"||d==="both"?(re=M[1]+Ke-y[0],Ce=M[1]+We+y[2]):(re=M[1]+(Ke+We-K.displaySize[1])/2,Ce=re+K.displaySize[1]),{image:K,top:re,right:Ae,bottom:Ce,left:Be,collisionPadding:F}}const bp=255,kd=128,Cf=bp*kd;function _2(c,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new So(c+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:M}=d;let T=0;for(;T<y.length&&y[T]<=c;)T++;T=Math.max(0,T-1);let K=T;for(;K<y.length&&y[K]<c+1;)K++;K=Math.min(y.length-1,K);const F=y[T],N=y[K];return d.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:N,interpolationType:M}:{kind:"camera",minZoom:F,maxZoom:N,minSize:d.evaluate(new So(F)),maxSize:d.evaluate(new So(N)),interpolationType:M}}}function Zv(c,l,d){let y="never";const M=c.get(l);return M?y=M:c.get(d)&&(y="always"),y}const lM=dA.VectorTileFeature.types,uM=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function vg(c,l,d,y,M,T,K,F,N,V,re,Ae,Ce){const Be=F?Math.min(Cf,Math.round(F[0])):0,Ke=F?Math.min(Cf,Math.round(F[1])):0;c.emplaceBack(l,d,Math.round(32*y),Math.round(32*M),T,K,(Be<<1)+(N?1:0),Ke,16*V,16*re,256*Ae,256*Ce)}function Xv(c,l,d){c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d)}function AM(c){for(const l of c.sections)if(Fc(l.text))return!0;return!1}class Jv{constructor(l){this.layoutVertexArray=new ht,this.indexArray=new Lt,this.programConfigurations=l,this.segments=new pn,this.dynamicLayoutVertexArray=new Dt,this.opacityVertexArray=new tt,this.hasVisibleVertices=!1,this.placedSymbolArray=new u}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,y,M){this.isEmpty()||(y&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ne.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,le.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,uM,!0),this.opacityVertexBuffer.itemSize=1),(y||M)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Wn("SymbolBuffers",Jv);class eC{constructor(l,d,y){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new y,this.segments=new pn,this.collisionVertexArray=new Pt}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,me.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Wn("CollisionBuffers",eC);class _m{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(K=>K.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=O0([]),this.placementViewportMatrix=O0([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=_2(this.zoom,d["text-size"]),this.iconSizeData=_2(this.zoom,d["icon-size"]);const y=this.layers[0].layout,M=y.get("symbol-sort-key"),T=y.get("symbol-z-order");this.canOverlap=Zv(y,"text-overlap","text-allow-overlap")!=="never"||Zv(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=T!=="viewport-y"&&!M.isConstant(),this.sortFeaturesByY=(T==="viewport-y"||T==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(K=>a.ah[K])),this.stateDependentLayerIds=this.layers.filter(K=>K.isStateDependent()).map(K=>K.id),this.sourceID=l.sourceID}createArrays(){this.text=new Jv(new Xo(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new Jv(new Xo(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new w,this.lineVertexArray=new k,this.symbolInstances=new _,this.textAnchorOffsets=new j}calculateGlyphDependencies(l,d,y,M,T){for(let K=0;K<l.length;K++)if(d[l.charCodeAt(K)]=!0,(y||M)&&T){const F=Ct[l.charAt(K)];F&&(d[F.charCodeAt(0)]=!0)}}populate(l,d,y){const M=this.layers[0],T=M.layout,K=T.get("text-font"),F=T.get("text-field"),N=T.get("icon-image"),V=(F.value.kind!=="constant"||F.value.value instanceof Nn&&!F.value.value.isEmpty()||F.value.value.toString().length>0)&&(K.value.kind!=="constant"||K.value.value.length>0),re=N.value.kind!=="constant"||!!N.value.value||Object.keys(N.parameters).length>0,Ae=T.get("symbol-sort-key");if(this.features=[],!V&&!re)return;const Ce=d.iconDependencies,Be=d.glyphDependencies,Ke=d.availableImages,We=new So(this.zoom);for(const{feature:Xe,id:at,index:It,sourceLayerIndex:ct}of l){const xt=M._featureFilter.needGeometry,rn=cc(Xe,xt);if(!M._featureFilter.filter(We,rn,y))continue;let An,Ln;if(xt||(rn.geometry=du(Xe)),V){const Hn=M.getValueAndResolveTokens("text-field",rn,y,Ke),xn=Nn.factory(Hn),mn=this.hasRTLText=this.hasRTLText||AM(xn);(!mn||rA.getRTLTextPluginStatus()==="unavailable"||mn&&rA.isParsed())&&(An=Ot(xn,M,rn))}if(re){const Hn=M.getValueAndResolveTokens("icon-image",rn,y,Ke);Ln=Hn instanceof ve?Hn:ve.fromString(Hn)}if(!An&&!Ln)continue;const br=this.sortFeaturesByKey?Ae.evaluate(rn,{},y):void 0;if(this.features.push({id:at,text:An,icon:Ln,index:It,sourceLayerIndex:ct,geometry:rn.geometry,properties:Xe.properties,type:lM[Xe.type],sortKey:br}),Ln&&(Ce[Ln.name]=!0),An){const Hn=K.evaluate(rn,{},y).join(","),xn=T.get("text-rotation-alignment")!=="viewport"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ah.vertical)>=0;for(const mn of An.sections)if(mn.image)Ce[mn.image.name]=!0;else{const lr=nc(An.toString()),Rn=mn.fontStack||Hn,Sn=Be[Rn]=Be[Rn]||{};this.calculateGlyphDependencies(mn.text,Sn,xn,this.allowVerticalPlacement,lr)}}}T.get("symbol-placement")==="line"&&(this.features=function(Xe){const at={},It={},ct=[];let xt=0;function rn(Hn){ct.push(Xe[Hn]),xt++}function An(Hn,xn,mn){const lr=It[Hn];return delete It[Hn],It[xn]=lr,ct[lr].geometry[0].pop(),ct[lr].geometry[0]=ct[lr].geometry[0].concat(mn[0]),lr}function Ln(Hn,xn,mn){const lr=at[xn];return delete at[xn],at[Hn]=lr,ct[lr].geometry[0].shift(),ct[lr].geometry[0]=mn[0].concat(ct[lr].geometry[0]),lr}function br(Hn,xn,mn){const lr=mn?xn[0][xn[0].length-1]:xn[0][0];return`${Hn}:${lr.x}:${lr.y}`}for(let Hn=0;Hn<Xe.length;Hn++){const xn=Xe[Hn],mn=xn.geometry,lr=xn.text?xn.text.toString():null;if(!lr){rn(Hn);continue}const Rn=br(lr,mn),Sn=br(lr,mn,!0);if(Rn in It&&Sn in at&&It[Rn]!==at[Sn]){const Ur=Ln(Rn,Sn,mn),Mr=An(Rn,Sn,ct[Ur].geometry);delete at[Rn],delete It[Sn],It[br(lr,ct[Mr].geometry,!0)]=Mr,ct[Ur].geometry=null}else Rn in It?An(Rn,Sn,mn):Sn in at?Ln(Rn,Sn,mn):(rn(Hn),at[Rn]=xt-1,It[Sn]=xt-1)}return ct.filter(Hn=>Hn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Xe,at)=>Xe.sortKey-at.sortKey)}update(l,d,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,y),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const y=this.lineVertexArray.length;if(l.segment!==void 0){let M=l.dist(d[l.segment+1]),T=l.dist(d[l.segment]);const K={};for(let F=l.segment+1;F<d.length;F++)K[F]={x:d[F].x,y:d[F].y,tileUnitDistanceFromAnchor:M},F<d.length-1&&(M+=d[F+1].dist(d[F]));for(let F=l.segment||0;F>=0;F--)K[F]={x:d[F].x,y:d[F].y,tileUnitDistanceFromAnchor:T},F>0&&(T+=d[F-1].dist(d[F]));for(let F=0;F<d.length;F++){const N=K[F];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(l,d,y,M,T,K,F,N,V,re,Ae,Ce){const Be=l.indexArray,Ke=l.layoutVertexArray,We=l.segments.prepareSegment(4*d.length,Ke,Be,this.canOverlap?K.sortKey:void 0),Xe=this.glyphOffsetArray.length,at=We.vertexLength,It=this.allowVerticalPlacement&&F===a.ah.vertical?Math.PI/2:0,ct=K.text&&K.text.sections;for(let xt=0;xt<d.length;xt++){const{tl:rn,tr:An,bl:Ln,br,tex:Hn,pixelOffsetTL:xn,pixelOffsetBR:mn,minFontScaleX:lr,minFontScaleY:Rn,glyphOffset:Sn,isSDF:Ur,sectionIndex:Mr}=d[xt],Ni=We.vertexLength,pa=Sn[1];vg(Ke,N.x,N.y,rn.x,pa+rn.y,Hn.x,Hn.y,y,Ur,xn.x,xn.y,lr,Rn),vg(Ke,N.x,N.y,An.x,pa+An.y,Hn.x+Hn.w,Hn.y,y,Ur,mn.x,xn.y,lr,Rn),vg(Ke,N.x,N.y,Ln.x,pa+Ln.y,Hn.x,Hn.y+Hn.h,y,Ur,xn.x,mn.y,lr,Rn),vg(Ke,N.x,N.y,br.x,pa+br.y,Hn.x+Hn.w,Hn.y+Hn.h,y,Ur,mn.x,mn.y,lr,Rn),Xv(l.dynamicLayoutVertexArray,N,It),Be.emplaceBack(Ni,Ni+1,Ni+2),Be.emplaceBack(Ni+1,Ni+2,Ni+3),We.vertexLength+=4,We.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Sn[0]),xt!==d.length-1&&Mr===d[xt+1].sectionIndex||l.programConfigurations.populatePaintArrays(Ke.length,K,K.index,{},Ce,ct&&ct[Mr])}l.placedSymbolArray.emplaceBack(N.x,N.y,Xe,this.glyphOffsetArray.length-Xe,at,V,re,N.segment,y?y[0]:0,y?y[1]:0,M[0],M[1],F,0,!1,0,Ae)}_addCollisionDebugVertex(l,d,y,M,T,K){return d.emplaceBack(0,0),l.emplaceBack(y.x,y.y,M,T,Math.round(K.x),Math.round(K.y))}addCollisionDebugVertices(l,d,y,M,T,K,F){const N=T.segments.prepareSegment(4,T.layoutVertexArray,T.indexArray),V=N.vertexLength,re=T.layoutVertexArray,Ae=T.collisionVertexArray,Ce=F.anchorX,Be=F.anchorY;this._addCollisionDebugVertex(re,Ae,K,Ce,Be,new E(l,d)),this._addCollisionDebugVertex(re,Ae,K,Ce,Be,new E(y,d)),this._addCollisionDebugVertex(re,Ae,K,Ce,Be,new E(y,M)),this._addCollisionDebugVertex(re,Ae,K,Ce,Be,new E(l,M)),N.vertexLength+=4;const Ke=T.indexArray;Ke.emplaceBack(V,V+1),Ke.emplaceBack(V+1,V+2),Ke.emplaceBack(V+2,V+3),Ke.emplaceBack(V+3,V),N.primitiveLength+=4}addDebugCollisionBoxes(l,d,y,M){for(let T=l;T<d;T++){const K=this.collisionBoxArray.get(T);this.addCollisionDebugVertices(K.x1,K.y1,K.x2,K.y2,M?this.textCollisionBox:this.iconCollisionBox,K.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new eC(bt,Qe.members,Xt),this.iconCollisionBox=new eC(bt,Qe.members,Xt);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,y,M,T,K,F,N,V){const re={};for(let Ae=d;Ae<y;Ae++){const Ce=l.get(Ae);re.textBox={x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,anchorPointX:Ce.anchorPointX,anchorPointY:Ce.anchorPointY},re.textFeatureIndex=Ce.featureIndex;break}for(let Ae=M;Ae<T;Ae++){const Ce=l.get(Ae);re.verticalTextBox={x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,anchorPointX:Ce.anchorPointX,anchorPointY:Ce.anchorPointY},re.verticalTextFeatureIndex=Ce.featureIndex;break}for(let Ae=K;Ae<F;Ae++){const Ce=l.get(Ae);re.iconBox={x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,anchorPointX:Ce.anchorPointX,anchorPointY:Ce.anchorPointY},re.iconFeatureIndex=Ce.featureIndex;break}for(let Ae=N;Ae<V;Ae++){const Ce=l.get(Ae);re.verticalIconBox={x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,anchorPointX:Ce.anchorPointX,anchorPointY:Ce.anchorPointY},re.verticalIconFeatureIndex=Ce.featureIndex;break}return re}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const y=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const y=l.placedSymbolArray.get(d),M=y.vertexStartIndex+4*y.numGlyphs;for(let T=y.vertexStartIndex;T<M;T+=4)l.indexArray.emplaceBack(T,T+1,T+2),l.indexArray.emplaceBack(T+1,T+2,T+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),y=Math.cos(l),M=[],T=[],K=[];for(let F=0;F<this.symbolInstances.length;++F){K.push(F);const N=this.symbolInstances.get(F);M.push(0|Math.round(d*N.anchorX+y*N.anchorY)),T.push(N.featureIndex)}return K.sort((F,N)=>M[F]-M[N]||T[N]-T[F]),K}addToSortKeyRanges(l,d){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===d?y.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const y=this.symbolInstances.get(d);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((M,T,K)=>{M>=0&&K.indexOf(M)===T&&this.addIndicesForPlacedSymbol(this.text,M)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let b2,x2;Wn("SymbolBucket",_m,{omit:["layers","collisionBoxArray","features","compareText"]}),_m.MAX_GLYPHS=65535,_m.addDynamicAttributes=Xv;var tC={get paint(){return x2=x2||new ha({"icon-opacity":new Ir(pt.paint_symbol["icon-opacity"]),"icon-color":new Ir(pt.paint_symbol["icon-color"]),"icon-halo-color":new Ir(pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ir(pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ir(pt.paint_symbol["icon-halo-blur"]),"icon-translate":new xr(pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new xr(pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ir(pt.paint_symbol["text-opacity"]),"text-color":new Ir(pt.paint_symbol["text-color"],{runtimeType:On,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Ir(pt.paint_symbol["text-halo-color"]),"text-halo-width":new Ir(pt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ir(pt.paint_symbol["text-halo-blur"]),"text-translate":new xr(pt.paint_symbol["text-translate"]),"text-translate-anchor":new xr(pt.paint_symbol["text-translate-anchor"])})},get layout(){return b2=b2||new ha({"symbol-placement":new xr(pt.layout_symbol["symbol-placement"]),"symbol-spacing":new xr(pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new xr(pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ir(pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new xr(pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new xr(pt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new xr(pt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new xr(pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new xr(pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new xr(pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ir(pt.layout_symbol["icon-size"]),"icon-text-fit":new xr(pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new xr(pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ir(pt.layout_symbol["icon-image"]),"icon-rotate":new Ir(pt.layout_symbol["icon-rotate"]),"icon-padding":new Ir(pt.layout_symbol["icon-padding"]),"icon-keep-upright":new xr(pt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ir(pt.layout_symbol["icon-offset"]),"icon-anchor":new Ir(pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new xr(pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new xr(pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new xr(pt.layout_symbol["text-rotation-alignment"]),"text-field":new Ir(pt.layout_symbol["text-field"]),"text-font":new Ir(pt.layout_symbol["text-font"]),"text-size":new Ir(pt.layout_symbol["text-size"]),"text-max-width":new Ir(pt.layout_symbol["text-max-width"]),"text-line-height":new xr(pt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ir(pt.layout_symbol["text-letter-spacing"]),"text-justify":new Ir(pt.layout_symbol["text-justify"]),"text-radial-offset":new Ir(pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new xr(pt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Ir(pt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Ir(pt.layout_symbol["text-anchor"]),"text-max-angle":new xr(pt.layout_symbol["text-max-angle"]),"text-writing-mode":new xr(pt.layout_symbol["text-writing-mode"]),"text-rotate":new Ir(pt.layout_symbol["text-rotate"]),"text-padding":new xr(pt.layout_symbol["text-padding"]),"text-keep-upright":new xr(pt.layout_symbol["text-keep-upright"]),"text-transform":new Ir(pt.layout_symbol["text-transform"]),"text-offset":new Ir(pt.layout_symbol["text-offset"]),"text-allow-overlap":new xr(pt.layout_symbol["text-allow-overlap"]),"text-overlap":new xr(pt.layout_symbol["text-overlap"]),"text-ignore-placement":new xr(pt.layout_symbol["text-ignore-placement"]),"text-optional":new xr(pt.layout_symbol["text-optional"])})}};class w2{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:kt,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Wn("FormatSectionOverride",w2,{omit:["defaultValue"]});class Cg extends Da{constructor(l){super(l,tC)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const M=[];for(const T of y)M.indexOf(T)<0&&M.push(T);this.layout._values["text-writing-mode"]=M}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,y,M){const T=this.layout.get(l).evaluate(d,{},y,M),K=this._unevaluatedLayout._values[l];return K.isDataDriven()||Ko(K.value)||!T?T:function(F,N){return N.replace(/{([^{}]+)}/g,(V,re)=>F&&re in F?String(F[re]):"")}(d.properties,T)}createBucket(l){return new _m(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of tC.paint.overridableProperties){if(!Cg.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),y=new w2(d),M=new VA(y,d.property.specification);let T=null;T=d.value.kind==="constant"||d.value.kind==="source"?new ZA("source",M):new js("composite",M,d.value.zoomStops),this.paint._values[l]=new lo(d.property,T,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,y){return!(!this.layout||d.isDataDriven()||y.isDataDriven())&&Cg.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const y=l.get("text-field"),M=tC.paint.properties[d];let T=!1;const K=F=>{for(const N of F)if(M.overrides&&M.overrides.hasOverride(N))return void(T=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Nn)K(y.value.value.sections);else if(y.value.kind==="source"){const F=V=>{T||(V instanceof wn&&sn(V.value)===nr?K(V.value.sections):V instanceof dd?K(V.sections):V.eachChild(F))},N=y.value;N._styleExpression&&F(N._styleExpression.expression)}return T}}let M2;var cM={get paint(){return M2=M2||new ha({"background-color":new xr(pt.paint_background["background-color"]),"background-pattern":new Lc(pt.paint_background["background-pattern"]),"background-opacity":new xr(pt.paint_background["background-opacity"])})}};class dM extends Da{constructor(l){super(l,cM)}}let _g;var S2={get paint(){return _g=_g||new ha({"raster-opacity":new xr(pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new xr(pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new xr(pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new xr(pt.paint_raster["raster-brightness-max"]),"raster-saturation":new xr(pt.paint_raster["raster-saturation"]),"raster-contrast":new xr(pt.paint_raster["raster-contrast"]),"raster-resampling":new xr(pt.paint_raster["raster-resampling"]),"raster-fade-duration":new xr(pt.paint_raster["raster-fade-duration"])})}};class hM extends Da{constructor(l){super(l,S2)}}class fM extends Da{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class pM{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const nC=63710088e-1;class _f{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new _f(be(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,y=this.lat*d,M=l.lat*d,T=Math.sin(y)*Math.sin(M)+Math.cos(y)*Math.cos(M)*Math.cos((l.lng-this.lng)*d);return nC*Math.acos(Math.min(T,1))}static convert(l){if(l instanceof _f)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new _f(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new _f(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const E2=2*Math.PI*nC;function O2(c){return E2*Math.cos(c*Math.PI/180)}function B2(c){return(180+c)/360}function rC(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function I2(c,l){return c/O2(l)}function bm(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class bg{constructor(l,d,y=0){this.x=+l,this.y=+d,this.z=+y}static fromLngLat(l,d=0){const y=_f.convert(l);return new bg(B2(y.lng),rC(y.lat),I2(d,y.lat))}toLngLat(){return new _f(360*this.x-180,bm(this.y))}toAltitude(){return this.z*O2(bm(this.y))}meterInMercatorCoordinateUnits(){return 1/E2*(l=bm(this.y),1/Math.cos(l*Math.PI/180));var l}}function k2(c,l,d){var y=2*Math.PI*6378137/256/Math.pow(2,d);return[c*y-2*Math.PI*6378137/2,l*y-2*Math.PI*6378137/2]}class iC{constructor(l,d,y){if(l<0||l>25||y<0||y>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${y}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=y,this.key=j0(0,l,l,d,y)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,y){const M=(K=this.y,F=this.z,N=k2(256*(T=this.x),256*(K=Math.pow(2,F)-K-1),F),V=k2(256*(T+1),256*(K+1),F),N[0]+","+N[1]+","+V[0]+","+V[1]);var T,K,F,N,V;const re=function(Ae,Ce,Be){let Ke,We="";for(let Xe=Ae;Xe>0;Xe--)Ke=1<<Xe-1,We+=(Ce&Ke?1:0)+(Be&Ke?2:0);return We}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,re).replace(/{bbox-epsg-3857}/g,M)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new E((l.x*d-this.x)*Di,(l.y*d-this.y)*Di)}toString(){return`${this.z}/${this.x}/${this.y}`}}class T2{constructor(l,d){this.wrap=l,this.canonical=d,this.key=j0(l,d.z,d.z,d.x,d.y)}}class DA{constructor(l,d,y,M,T){if(l<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${y}`);this.overscaledZ=l,this.wrap=d,this.canonical=new iC(y,+M,+T),this.key=j0(d,l,y,M,T)}clone(){return new DA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new DA(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new DA(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-l;return l>this.canonical.z?j0(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):j0(this.wrap*+d,l,l,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new DA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,y=2*this.canonical.x,M=2*this.canonical.y;return[new DA(d,this.wrap,d,y,M),new DA(d,this.wrap,d,y+1,M),new DA(d,this.wrap,d,y,M+1),new DA(d,this.wrap,d,y+1,M+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new DA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new DA(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new T2(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new bg(l.x-this.wrap,l.y))}}function j0(c,l,d,y,M){(c*=2)<0&&(c=-1*c-1);const T=1<<d;return(T*T*c+T*M+y).toString(36)+d.toString(36)+l.toString(36)}Wn("CanonicalTileID",iC),Wn("OverscaledTileID",DA,{omit:["posMatrix"]});class K2{constructor(l,d,y,M=1,T=1,K=1,F=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void he(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const N=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=M,this.greenFactor=T,this.blueFactor=K,this.baseShift=F;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let V=0;V<N;V++)this.data[this._idx(-1,V)]=this.data[this._idx(0,V)],this.data[this._idx(N,V)]=this.data[this._idx(N-1,V)],this.data[this._idx(V,-1)]=this.data[this._idx(V,0)],this.data[this._idx(V,N)]=this.data[this._idx(V,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let V=0;V<N;V++)for(let re=0;re<N;re++){const Ae=this.get(V,re);Ae>this.max&&(this.max=Ae),Ae<this.min&&(this.min=Ae)}}get(l,d){const y=new Uint8Array(this.data.buffer),M=4*this._idx(l,d);return this.unpack(y[M],y[M+1],y[M+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,y){return l*this.redFactor+d*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new ml({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,y){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let M=d*this.dim,T=d*this.dim+this.dim,K=y*this.dim,F=y*this.dim+this.dim;switch(d){case-1:M=T-1;break;case 1:T=M+1}switch(y){case-1:K=F-1;break;case 1:F=K+1}const N=-d*this.dim,V=-y*this.dim;for(let re=K;re<F;re++)for(let Ae=M;Ae<T;Ae++)this.data[this._idx(Ae,re)]=l.data[this._idx(Ae+N,re+V)]}}Wn("DEMData",K2);class P2{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const y=l[d];this._stringToNumber[y]=d,this._numberToString[d]=y}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class D2{constructor(l,d,y,M,T){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=y,l._y=M,this.properties=l.properties,this.id=T}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class U2{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new _a(Di,16,0),this.grid3D=new _a(Di,16,0),this.featureIndexArray=new ie,this.promoteId=d}insert(l,d,y,M,T,K){const F=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,M,T);const N=K?this.grid3D:this.grid;for(let V=0;V<d.length;V++){const re=d[V],Ae=[1/0,1/0,-1/0,-1/0];for(let Ce=0;Ce<re.length;Ce++){const Be=re[Ce];Ae[0]=Math.min(Ae[0],Be.x),Ae[1]=Math.min(Ae[1],Be.y),Ae[2]=Math.max(Ae[2],Be.x),Ae[3]=Math.max(Ae[3],Be.y)}Ae[0]<Di&&Ae[1]<Di&&Ae[2]>=0&&Ae[3]>=0&&N.insert(F,Ae[0],Ae[1],Ae[2],Ae[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new dA.VectorTile(new hc(this.rawTileData)).layers,this.sourceLayerCoder=new P2(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,y,M){this.loadVTLayers();const T=l.params||{},K=Di/l.tileSize/l.scale,F=Jd(T.filter),N=l.queryGeometry,V=l.queryPadding*K,re=L2(N),Ae=this.grid.query(re.minX-V,re.minY-V,re.maxX+V,re.maxY+V),Ce=L2(l.cameraQueryGeometry),Be=this.grid3D.query(Ce.minX-V,Ce.minY-V,Ce.maxX+V,Ce.maxY+V,(Xe,at,It,ct)=>function(xt,rn,An,Ln,br){for(const xn of xt)if(rn<=xn.x&&An<=xn.y&&Ln>=xn.x&&br>=xn.y)return!0;const Hn=[new E(rn,An),new E(rn,br),new E(Ln,br),new E(Ln,An)];if(xt.length>2){for(const xn of Hn)if(uA(xt,xn))return!0}for(let xn=0;xn<xt.length-1;xn++)if(E0(xt[xn],xt[xn+1],Hn))return!0;return!1}(l.cameraQueryGeometry,Xe-V,at-V,It+V,ct+V));for(const Xe of Be)Ae.push(Xe);Ae.sort(mM);const Ke={};let We;for(let Xe=0;Xe<Ae.length;Xe++){const at=Ae[Xe];if(at===We)continue;We=at;const It=this.featureIndexArray.get(at);let ct=null;this.loadMatchingFeature(Ke,It.bucketIndex,It.sourceLayerIndex,It.featureIndex,F,T.layers,T.availableImages,d,y,M,(xt,rn,An)=>(ct||(ct=du(xt)),rn.queryIntersectsFeature(N,xt,An,ct,this.z,l.transform,K,l.pixelPosMatrix)))}return Ke}loadMatchingFeature(l,d,y,M,T,K,F,N,V,re,Ae){const Ce=this.bucketLayerIDs[d];if(K&&!function(Xe,at){for(let It=0;It<Xe.length;It++)if(at.indexOf(Xe[It])>=0)return!0;return!1}(K,Ce))return;const Be=this.sourceLayerCoder.decode(y),Ke=this.vtLayers[Be].feature(M);if(T.needGeometry){const Xe=cc(Ke,!0);if(!T.filter(new So(this.tileID.overscaledZ),Xe,this.tileID.canonical))return}else if(!T.filter(new So(this.tileID.overscaledZ),Ke))return;const We=this.getId(Ke,Be);for(let Xe=0;Xe<Ce.length;Xe++){const at=Ce[Xe];if(K&&K.indexOf(at)<0)continue;const It=N[at];if(!It)continue;let ct={};We&&re&&(ct=re.getState(It.sourceLayer||"_geojsonTileLayer",We));const xt=X({},V[at]);xt.paint=F2(xt.paint,It.paint,Ke,ct,F),xt.layout=F2(xt.layout,It.layout,Ke,ct,F);const rn=!Ae||Ae(Ke,It,ct);if(!rn)continue;const An=new D2(Ke,this.z,this.x,this.y,We);An.layer=xt;let Ln=l[at];Ln===void 0&&(Ln=l[at]=[]),Ln.push({featureIndex:M,feature:An,intersectionZ:rn})}}lookupSymbolFeatures(l,d,y,M,T,K,F,N){const V={};this.loadVTLayers();const re=Jd(T);for(const Ae of l)this.loadMatchingFeature(V,y,M,Ae,re,K,F,N,d);return V}hasLayer(l){for(const d of this.bucketLayerIDs)for(const y of d)if(l===y)return!0;return!1}getId(l,d){let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof y=="boolean"&&(y=Number(y))),y}}function F2(c,l,d,y,M){return we(c,(T,K)=>{const F=l instanceof da?l.get(K):null;return F&&F.evaluate?F.evaluate(d,y,M):F})}function L2(c){let l=1/0,d=1/0,y=-1/0,M=-1/0;for(const T of c)l=Math.min(l,T.x),d=Math.min(d,T.y),y=Math.max(y,T.x),M=Math.max(M,T.y);return{minX:l,minY:d,maxX:y,maxY:M}}function mM(c,l){return l-c}function R2(c,l,d,y,M){const T=[];for(let K=0;K<c.length;K++){const F=c[K];let N;for(let V=0;V<F.length-1;V++){let re=F[V],Ae=F[V+1];re.x<l&&Ae.x<l||(re.x<l?re=new E(l,re.y+(l-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round():Ae.x<l&&(Ae=new E(l,re.y+(l-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round()),re.y<d&&Ae.y<d||(re.y<d?re=new E(re.x+(d-re.y)/(Ae.y-re.y)*(Ae.x-re.x),d)._round():Ae.y<d&&(Ae=new E(re.x+(d-re.y)/(Ae.y-re.y)*(Ae.x-re.x),d)._round()),re.x>=y&&Ae.x>=y||(re.x>=y?re=new E(y,re.y+(y-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round():Ae.x>=y&&(Ae=new E(y,re.y+(y-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round()),re.y>=M&&Ae.y>=M||(re.y>=M?re=new E(re.x+(M-re.y)/(Ae.y-re.y)*(Ae.x-re.x),M)._round():Ae.y>=M&&(Ae=new E(re.x+(M-re.y)/(Ae.y-re.y)*(Ae.x-re.x),M)._round()),N&&re.equals(N[N.length-1])||(N=[re],T.push(N)),N.push(Ae)))))}}return T}Wn("FeatureIndex",U2,{omit:["rawTileData","sourceLayerCoder"]});class bf extends E{constructor(l,d,y,M){super(l,d),this.angle=y,M!==void 0&&(this.segment=M)}clone(){return new bf(this.x,this.y,this.angle,this.segment)}}function z2(c,l,d,y,M){if(l.segment===void 0||d===0)return!0;let T=l,K=l.segment+1,F=0;for(;F>-d/2;){if(K--,K<0)return!1;F-=c[K].dist(T),T=c[K]}F+=c[K].dist(c[K+1]),K++;const N=[];let V=0;for(;F<d/2;){const re=c[K],Ae=c[K+1];if(!Ae)return!1;let Ce=c[K-1].angleTo(re)-re.angleTo(Ae);for(Ce=Math.abs((Ce+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:F,angleDelta:Ce}),V+=Ce;F-N[0].distance>y;)V-=N.shift().angleDelta;if(V>M)return!1;K++,F+=re.dist(Ae)}return!0}function oC(c){let l=0;for(let d=0;d<c.length-1;d++)l+=c[d].dist(c[d+1]);return l}function aC(c,l,d){return c?.6*l*d:0}function j2(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function gM(c,l,d,y,M,T){const K=aC(d,M,T),F=j2(d,y)*T;let N=0;const V=oC(c)/2;for(let re=0;re<c.length-1;re++){const Ae=c[re],Ce=c[re+1],Be=Ae.dist(Ce);if(N+Be>V){const Ke=(V-N)/Be,We=gt.number(Ae.x,Ce.x,Ke),Xe=gt.number(Ae.y,Ce.y,Ke),at=new bf(We,Xe,Ce.angleTo(Ae),re);return at._round(),!K||z2(c,at,F,K,l)?at:void 0}N+=Be}}function yM(c,l,d,y,M,T,K,F,N){const V=aC(y,T,K),re=j2(y,M),Ae=re*K,Ce=c[0].x===0||c[0].x===N||c[0].y===0||c[0].y===N;return l-Ae<l/4&&(l=Ae+l/4),N2(c,Ce?l/2*F%l:(re/2+2*T)*K*F%l,l,V,d,Ae,Ce,!1,N)}function N2(c,l,d,y,M,T,K,F,N){const V=T/2,re=oC(c);let Ae=0,Ce=l-d,Be=[];for(let Ke=0;Ke<c.length-1;Ke++){const We=c[Ke],Xe=c[Ke+1],at=We.dist(Xe),It=Xe.angleTo(We);for(;Ce+d<Ae+at;){Ce+=d;const ct=(Ce-Ae)/at,xt=gt.number(We.x,Xe.x,ct),rn=gt.number(We.y,Xe.y,ct);if(xt>=0&&xt<N&&rn>=0&&rn<N&&Ce-V>=0&&Ce+V<=re){const An=new bf(xt,rn,It,Ke);An._round(),y&&!z2(c,An,T,y,M)||Be.push(An)}}Ae+=at}return F||Be.length||K||(Be=N2(c,Ae/2,d,y,M,T,K,!0,N)),Be}Wn("Anchor",bf);const vh=Xa;function G2(c,l,d,y){const M=[],T=c.image,K=T.pixelRatio,F=T.paddedRect.w-2*vh,N=T.paddedRect.h-2*vh,V=c.right-c.left,re=c.bottom-c.top,Ae=T.stretchX||[[0,F]],Ce=T.stretchY||[[0,N]],Be=(mn,lr)=>mn+lr[1]-lr[0],Ke=Ae.reduce(Be,0),We=Ce.reduce(Be,0),Xe=F-Ke,at=N-We;let It=0,ct=Ke,xt=0,rn=We,An=0,Ln=Xe,br=0,Hn=at;if(T.content&&y){const mn=T.content;It=xg(Ae,0,mn[0]),xt=xg(Ce,0,mn[1]),ct=xg(Ae,mn[0],mn[2]),rn=xg(Ce,mn[1],mn[3]),An=mn[0]-It,br=mn[1]-xt,Ln=mn[2]-mn[0]-ct,Hn=mn[3]-mn[1]-rn}const xn=(mn,lr,Rn,Sn)=>{const Ur=wg(mn.stretch-It,ct,V,c.left),Mr=Mg(mn.fixed-An,Ln,mn.stretch,Ke),Ni=wg(lr.stretch-xt,rn,re,c.top),pa=Mg(lr.fixed-br,Hn,lr.stretch,We),ma=wg(Rn.stretch-It,ct,V,c.left),Na=Mg(Rn.fixed-An,Ln,Rn.stretch,Ke),pu=wg(Sn.stretch-xt,rn,re,c.top),mu=Mg(Sn.fixed-br,Hn,Sn.stretch,We),ms=new E(Ur,Ni),Ps=new E(ma,Ni),Jo=new E(ma,pu),Ys=new E(Ur,pu),gu=new E(Mr/K,pa/K),qs=new E(Na/K,mu/K),Hs=l*Math.PI/180;if(Hs){const Il=Math.sin(Hs),gs=Math.cos(Hs),ei=[gs,-Il,Il,gs];ms._matMult(ei),Ps._matMult(ei),Ys._matMult(ei),Jo._matMult(ei)}const $l=mn.stretch+mn.fixed,yu=lr.stretch+lr.fixed;return{tl:ms,tr:Ps,bl:Ys,br:Jo,tex:{x:T.paddedRect.x+vh+$l,y:T.paddedRect.y+vh+yu,w:Rn.stretch+Rn.fixed-$l,h:Sn.stretch+Sn.fixed-yu},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:gu,pixelOffsetBR:qs,minFontScaleX:Ln/K/V,minFontScaleY:Hn/K/re,isSDF:d}};if(y&&(T.stretchX||T.stretchY)){const mn=W2(Ae,Xe,Ke),lr=W2(Ce,at,We);for(let Rn=0;Rn<mn.length-1;Rn++){const Sn=mn[Rn],Ur=mn[Rn+1];for(let Mr=0;Mr<lr.length-1;Mr++)M.push(xn(Sn,lr[Mr],Ur,lr[Mr+1]))}}else M.push(xn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:F+1},{fixed:0,stretch:N+1}));return M}function xg(c,l,d){let y=0;for(const M of c)y+=Math.max(l,Math.min(d,M[1]))-Math.max(l,Math.min(d,M[0]));return y}function W2(c,l,d){const y=[{fixed:-vh,stretch:0}];for(const[M,T]of c){const K=y[y.length-1];y.push({fixed:M-K.stretch,stretch:K.stretch}),y.push({fixed:M-K.stretch,stretch:K.stretch+(T-M)})}return y.push({fixed:l+vh,stretch:d}),y}function wg(c,l,d,y){return c/l*d+y}function Mg(c,l,d,y){return c-l*d/y}class Sg{constructor(l,d,y,M,T,K,F,N,V,re){if(this.boxStartIndex=l.length,V){let Ae=K.top,Ce=K.bottom;const Be=K.collisionPadding;Be&&(Ae-=Be[1],Ce+=Be[3]);let Ke=Ce-Ae;Ke>0&&(Ke=Math.max(10,Ke),this.circleDiameter=Ke)}else{let Ae=K.top*F-N[0],Ce=K.bottom*F+N[2],Be=K.left*F-N[3],Ke=K.right*F+N[1];const We=K.collisionPadding;if(We&&(Be-=We[0]*F,Ae-=We[1]*F,Ke+=We[2]*F,Ce+=We[3]*F),re){const Xe=new E(Be,Ae),at=new E(Ke,Ae),It=new E(Be,Ce),ct=new E(Ke,Ce),xt=re*Math.PI/180;Xe._rotate(xt),at._rotate(xt),It._rotate(xt),ct._rotate(xt),Be=Math.min(Xe.x,at.x,It.x,ct.x),Ke=Math.max(Xe.x,at.x,It.x,ct.x),Ae=Math.min(Xe.y,at.y,It.y,ct.y),Ce=Math.max(Xe.y,at.y,It.y,ct.y)}l.emplaceBack(d.x,d.y,Be,Ae,Ke,Ce,y,M,T)}this.boxEndIndex=l.length}}class vM{constructor(l=[],d=CM){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:y}=this,M=d[l];for(;l>0;){const T=l-1>>1,K=d[T];if(y(M,K)>=0)break;d[l]=K,l=T}d[l]=M}_down(l){const{data:d,compare:y}=this,M=this.length>>1,T=d[l];for(;l<M;){let K=1+(l<<1),F=d[K];const N=K+1;if(N<this.length&&y(d[N],F)<0&&(K=N,F=d[N]),y(F,T)>=0)break;d[l]=F,l=K}d[l]=T}}function CM(c,l){return c<l?-1:c>l?1:0}function _M(c,l=1,d=!1){let y=1/0,M=1/0,T=-1/0,K=-1/0;const F=c[0];for(let Be=0;Be<F.length;Be++){const Ke=F[Be];(!Be||Ke.x<y)&&(y=Ke.x),(!Be||Ke.y<M)&&(M=Ke.y),(!Be||Ke.x>T)&&(T=Ke.x),(!Be||Ke.y>K)&&(K=Ke.y)}const N=Math.min(T-y,K-M);let V=N/2;const re=new vM([],bM);if(N===0)return new E(y,M);for(let Be=y;Be<T;Be+=N)for(let Ke=M;Ke<K;Ke+=N)re.push(new xm(Be+V,Ke+V,V,c));let Ae=function(Be){let Ke=0,We=0,Xe=0;const at=Be[0];for(let It=0,ct=at.length,xt=ct-1;It<ct;xt=It++){const rn=at[It],An=at[xt],Ln=rn.x*An.y-An.x*rn.y;We+=(rn.x+An.x)*Ln,Xe+=(rn.y+An.y)*Ln,Ke+=3*Ln}return new xm(We/Ke,Xe/Ke,0,Be)}(c),Ce=re.length;for(;re.length;){const Be=re.pop();(Be.d>Ae.d||!Ae.d)&&(Ae=Be,d&&console.log("found best %d after %d probes",Math.round(1e4*Be.d)/1e4,Ce)),Be.max-Ae.d<=l||(V=Be.h/2,re.push(new xm(Be.p.x-V,Be.p.y-V,V,c)),re.push(new xm(Be.p.x+V,Be.p.y-V,V,c)),re.push(new xm(Be.p.x-V,Be.p.y+V,V,c)),re.push(new xm(Be.p.x+V,Be.p.y+V,V,c)),Ce+=4)}return d&&(console.log(`num probes: ${Ce}`),console.log(`best distance: ${Ae.d}`)),Ae.p}function bM(c,l){return l.max-c.max}function xm(c,l,d,y){this.p=new E(c,l),this.h=d,this.d=function(M,T){let K=!1,F=1/0;for(let N=0;N<T.length;N++){const V=T[N];for(let re=0,Ae=V.length,Ce=Ae-1;re<Ae;Ce=re++){const Be=V[re],Ke=V[Ce];Be.y>M.y!=Ke.y>M.y&&M.x<(Ke.x-Be.x)*(M.y-Be.y)/(Ke.y-Be.y)+Be.x&&(K=!K),F=Math.min(F,xd(M,Be,Ke))}}return(K?1:-1)*Math.sqrt(F)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var $s;a.ap=void 0,($s=a.ap||(a.ap={}))[$s.center=1]="center",$s[$s.left=2]="left",$s[$s.right=3]="right",$s[$s.top=4]="top",$s[$s.bottom=5]="bottom",$s[$s["top-left"]=6]="top-left",$s[$s["top-right"]=7]="top-right",$s[$s["bottom-left"]=8]="bottom-left",$s[$s["bottom-right"]=9]="bottom-right";const xf=7,Eg=Number.POSITIVE_INFINITY;function sC(c,l){return l[1]!==Eg?function(d,y,M){let T=0,K=0;switch(y=Math.abs(y),M=Math.abs(M),d){case"top-right":case"top-left":case"top":K=M-xf;break;case"bottom-right":case"bottom-left":case"bottom":K=-M+xf}switch(d){case"top-right":case"bottom-right":case"right":T=-y;break;case"top-left":case"bottom-left":case"left":T=y}return[T,K]}(c,l[0],l[1]):function(d,y){let M=0,T=0;y<0&&(y=0);const K=y/Math.SQRT2;switch(d){case"top-right":case"top-left":T=K-xf;break;case"bottom-right":case"bottom-left":T=-K+xf;break;case"bottom":T=-y+xf;break;case"top":T=y-xf}switch(d){case"top-right":case"bottom-right":M=-K;break;case"top-left":case"bottom-left":M=K;break;case"left":M=y;break;case"right":M=-y}return[M,T]}(c,l[0])}function Og(c,l,d){var y;const M=c.layout,T=(y=M.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(l,{},d);if(T){const F=T.values,N=[];for(let V=0;V<F.length;V+=2){const re=N[V]=F[V],Ae=F[V+1].map(Ce=>Ce*Nt);re.startsWith("top")?Ae[1]-=xf:re.startsWith("bottom")&&(Ae[1]+=xf),N[V+1]=Ae}return new zi(N)}const K=M.get("text-variable-anchor");if(K){let F;F=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[M.get("text-radial-offset").evaluate(l,{},d)*Nt,Eg]:M.get("text-offset").evaluate(l,{},d).map(V=>V*Nt);const N=[];for(const V of K)N.push(V,sC(V,F));return new zi(N)}return null}function Bg(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Q2(c,l,d,y,M,T,K,F,N,V,re){let Ae=T.textMaxSize.evaluate(l,{});Ae===void 0&&(Ae=K);const Ce=c.layers[0].layout,Be=Ce.get("icon-offset").evaluate(l,{},re),Ke=uC(d.horizontal),We=K/24,Xe=c.tilePixelRatio*We,at=c.tilePixelRatio*Ae/24,It=c.tilePixelRatio*F,ct=c.tilePixelRatio*Ce.get("symbol-spacing"),xt=Ce.get("text-padding")*c.tilePixelRatio,rn=function(Sn,Ur,Mr,Ni=1){const pa=Sn.get("icon-padding").evaluate(Ur,{},Mr),ma=pa&&pa.values;return[ma[0]*Ni,ma[1]*Ni,ma[2]*Ni,ma[3]*Ni]}(Ce,l,re,c.tilePixelRatio),An=Ce.get("text-max-angle")/180*Math.PI,Ln=Ce.get("text-rotation-alignment")!=="viewport"&&Ce.get("symbol-placement")!=="point",br=Ce.get("icon-rotation-alignment")==="map"&&Ce.get("symbol-placement")!=="point",Hn=Ce.get("symbol-placement"),xn=ct/2,mn=Ce.get("icon-text-fit");let lr;y&&mn!=="none"&&(c.allowVerticalPlacement&&d.vertical&&(lr=C2(y,d.vertical,mn,Ce.get("icon-text-fit-padding"),Be,We)),Ke&&(y=C2(y,Ke,mn,Ce.get("icon-text-fit-padding"),Be,We)));const Rn=(Sn,Ur)=>{Ur.x<0||Ur.x>=Di||Ur.y<0||Ur.y>=Di||function(Mr,Ni,pa,ma,Na,pu,mu,ms,Ps,Jo,Ys,gu,qs,Hs,$l,yu,Il,gs,ei,Ds,oi,kl,Tl,pi,mc){const gc=Mr.addToLineVertexArray(Ni,pa);let hA,Ch,yc,UA,Ru=0,_h=0,Q0=0,Y2=0,pC=-1,mC=-1;const bh={};let q2=Wr("");if(Mr.allowVerticalPlacement&&ma.vertical){const Yl=ms.layout.get("text-rotate").evaluate(oi,{},pi)+90;yc=new Sg(Ps,Ni,Jo,Ys,gu,ma.vertical,qs,Hs,$l,Yl),mu&&(UA=new Sg(Ps,Ni,Jo,Ys,gu,mu,Il,gs,$l,Yl))}if(Na){const Yl=ms.layout.get("icon-rotate").evaluate(oi,{}),FA=ms.layout.get("icon-text-fit")!=="none",wf=G2(Na,Yl,Tl,FA),Wc=mu?G2(mu,Yl,Tl,FA):void 0;Ch=new Sg(Ps,Ni,Jo,Ys,gu,Na,Il,gs,!1,Yl),Ru=4*wf.length;const xp=Mr.iconSizeData;let Td=null;xp.kind==="source"?(Td=[kd*ms.layout.get("icon-size").evaluate(oi,{})],Td[0]>Cf&&he(`${Mr.layerIds[0]}: Value for "icon-size" is >= ${bp}. Reduce your "icon-size".`)):xp.kind==="composite"&&(Td=[kd*kl.compositeIconSizes[0].evaluate(oi,{},pi),kd*kl.compositeIconSizes[1].evaluate(oi,{},pi)],(Td[0]>Cf||Td[1]>Cf)&&he(`${Mr.layerIds[0]}: Value for "icon-size" is >= ${bp}. Reduce your "icon-size".`)),Mr.addSymbols(Mr.icon,wf,Td,Ds,ei,oi,a.ah.none,Ni,gc.lineStartIndex,gc.lineLength,-1,pi),pC=Mr.icon.placedSymbolArray.length-1,Wc&&(_h=4*Wc.length,Mr.addSymbols(Mr.icon,Wc,Td,Ds,ei,oi,a.ah.vertical,Ni,gc.lineStartIndex,gc.lineLength,-1,pi),mC=Mr.icon.placedSymbolArray.length-1)}const H2=Object.keys(ma.horizontal);for(const Yl of H2){const FA=ma.horizontal[Yl];if(!hA){q2=Wr(FA.text);const Wc=ms.layout.get("text-rotate").evaluate(oi,{},pi);hA=new Sg(Ps,Ni,Jo,Ys,gu,FA,qs,Hs,$l,Wc)}const wf=FA.positionedLines.length===1;if(Q0+=lC(Mr,Ni,FA,pu,ms,$l,oi,yu,gc,ma.vertical?a.ah.horizontal:a.ah.horizontalOnly,wf?H2:[Yl],bh,pC,kl,pi),wf)break}ma.vertical&&(Y2+=lC(Mr,Ni,ma.vertical,pu,ms,$l,oi,yu,gc,a.ah.vertical,["vertical"],bh,mC,kl,pi));const MM=hA?hA.boxStartIndex:Mr.collisionBoxArray.length,gC=hA?hA.boxEndIndex:Mr.collisionBoxArray.length,SM=yc?yc.boxStartIndex:Mr.collisionBoxArray.length,yC=yc?yc.boxEndIndex:Mr.collisionBoxArray.length,EM=Ch?Ch.boxStartIndex:Mr.collisionBoxArray.length,OM=Ch?Ch.boxEndIndex:Mr.collisionBoxArray.length,BM=UA?UA.boxStartIndex:Mr.collisionBoxArray.length,Kl=UA?UA.boxEndIndex:Mr.collisionBoxArray.length;let Ja=-1;const Kg=(Yl,FA)=>Yl&&Yl.circleDiameter?Math.max(Yl.circleDiameter,FA):FA;Ja=Kg(hA,Ja),Ja=Kg(yc,Ja),Ja=Kg(Ch,Ja),Ja=Kg(UA,Ja);const V2=Ja>-1?1:0;V2&&(Ja*=mc/Nt),Mr.glyphOffsetArray.length>=_m.MAX_GLYPHS&&he("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),oi.sortKey!==void 0&&Mr.addToSortKeyRanges(Mr.symbolInstances.length,oi.sortKey);const IM=Og(ms,oi,pi),[Z2,kM]=function(Yl,FA){const wf=Yl.length,Wc=FA==null?void 0:FA.values;if((Wc==null?void 0:Wc.length)>0)for(let xp=0;xp<Wc.length;xp+=2){const Td=Wc[xp+1];Yl.emplaceBack(a.ap[Wc[xp]],Td[0],Td[1])}return[wf,Yl.length]}(Mr.textAnchorOffsets,IM);Mr.symbolInstances.emplaceBack(Ni.x,Ni.y,bh.right>=0?bh.right:-1,bh.center>=0?bh.center:-1,bh.left>=0?bh.left:-1,bh.vertical||-1,pC,mC,q2,MM,gC,SM,yC,EM,OM,BM,Kl,Jo,Q0,Y2,Ru,_h,V2,0,qs,Ja,Z2,kM)}(c,Ur,Sn,d,y,M,lr,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,Xe,[xt,xt,xt,xt],Ln,N,It,rn,br,Be,l,T,V,re,K)};if(Hn==="line")for(const Sn of R2(l.geometry,0,0,Di,Di)){const Ur=yM(Sn,ct,An,d.vertical||Ke,y,24,at,c.overscaling,Di);for(const Mr of Ur)Ke&&xM(c,Ke.text,xn,Mr)||Rn(Sn,Mr)}else if(Hn==="line-center"){for(const Sn of l.geometry)if(Sn.length>1){const Ur=gM(Sn,An,d.vertical||Ke,y,24,at);Ur&&Rn(Sn,Ur)}}else if(l.type==="Polygon")for(const Sn of dh(l.geometry,0)){const Ur=_M(Sn,16);Rn(Sn[0],new bf(Ur.x,Ur.y,0))}else if(l.type==="LineString")for(const Sn of l.geometry)Rn(Sn,new bf(Sn[0].x,Sn[0].y,0));else if(l.type==="Point")for(const Sn of l.geometry)for(const Ur of Sn)Rn([Ur],new bf(Ur.x,Ur.y,0))}function lC(c,l,d,y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke){const We=function(It,ct,xt,rn,An,Ln,br,Hn){const xn=rn.layout.get("text-rotate").evaluate(Ln,{})*Math.PI/180,mn=[];for(const lr of ct.positionedLines)for(const Rn of lr.positionedGlyphs){if(!Rn.rect)continue;const Sn=Rn.rect||{};let Ur=KA+1,Mr=!0,Ni=1,pa=0;const ma=(An||Hn)&&Rn.vertical,Na=Rn.metrics.advance*Rn.scale/2;if(Hn&&ct.verticalizable&&(pa=lr.lineOffset/2-(Rn.imageName?-(Nt-Rn.metrics.width*Rn.scale)/2:(Rn.scale-1)*Nt)),Rn.imageName){const Ds=br[Rn.imageName];Mr=Ds.sdf,Ni=Ds.pixelRatio,Ur=Xa/Ni}const pu=An?[Rn.x+Na,Rn.y]:[0,0];let mu=An?[0,0]:[Rn.x+Na+xt[0],Rn.y+xt[1]-pa],ms=[0,0];ma&&(ms=mu,mu=[0,0]);const Ps=Rn.metrics.isDoubleResolution?2:1,Jo=(Rn.metrics.left-Ur)*Rn.scale-Na+mu[0],Ys=(-Rn.metrics.top-Ur)*Rn.scale+mu[1],gu=Jo+Sn.w/Ps*Rn.scale/Ni,qs=Ys+Sn.h/Ps*Rn.scale/Ni,Hs=new E(Jo,Ys),$l=new E(gu,Ys),yu=new E(Jo,qs),Il=new E(gu,qs);if(ma){const Ds=new E(-Na,Na-vm),oi=-Math.PI/2,kl=Nt/2-Na,Tl=new E(5-vm-kl,-(Rn.imageName?kl:0)),pi=new E(...ms);Hs._rotateAround(oi,Ds)._add(Tl)._add(pi),$l._rotateAround(oi,Ds)._add(Tl)._add(pi),yu._rotateAround(oi,Ds)._add(Tl)._add(pi),Il._rotateAround(oi,Ds)._add(Tl)._add(pi)}if(xn){const Ds=Math.sin(xn),oi=Math.cos(xn),kl=[oi,-Ds,Ds,oi];Hs._matMult(kl),$l._matMult(kl),yu._matMult(kl),Il._matMult(kl)}const gs=new E(0,0),ei=new E(0,0);mn.push({tl:Hs,tr:$l,bl:yu,br:Il,tex:Sn,writingMode:ct.writingMode,glyphOffset:pu,sectionIndex:Rn.sectionIndex,isSDF:Mr,pixelOffsetTL:gs,pixelOffsetBR:ei,minFontScaleX:0,minFontScaleY:0})}return mn}(0,d,F,M,T,K,y,c.allowVerticalPlacement),Xe=c.textSizeData;let at=null;Xe.kind==="source"?(at=[kd*M.layout.get("text-size").evaluate(K,{})],at[0]>Cf&&he(`${c.layerIds[0]}: Value for "text-size" is >= ${bp}. Reduce your "text-size".`)):Xe.kind==="composite"&&(at=[kd*Be.compositeTextSizes[0].evaluate(K,{},Ke),kd*Be.compositeTextSizes[1].evaluate(K,{},Ke)],(at[0]>Cf||at[1]>Cf)&&he(`${c.layerIds[0]}: Value for "text-size" is >= ${bp}. Reduce your "text-size".`)),c.addSymbols(c.text,We,at,F,T,K,V,l,N.lineStartIndex,N.lineLength,Ce,Ke);for(const It of re)Ae[It]=c.text.placedSymbolArray.length-1;return 4*We.length}function uC(c){for(const l in c)return c[l];return null}function xM(c,l,d,y){const M=c.compareText;if(l in M){const T=M[l];for(let K=T.length-1;K>=0;K--)if(y.dist(T[K])<d)return!0}else M[l]=[];return M[l].push(y),!1}const $2=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class AC{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,y]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const M=y>>4;if(M!==1)throw new Error(`Got v${M} data when expected v1.`);const T=$2[15&y];if(!T)throw new Error("Unrecognized array type.");const[K]=new Uint16Array(l,2,1),[F]=new Uint32Array(l,4,1);return new AC(F,K,T,l)}constructor(l,d=64,y=Float64Array,M){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=y,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const T=$2.indexOf(this.ArrayType),K=2*l*this.ArrayType.BYTES_PER_ELEMENT,F=l*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-F%8)%8;if(T<0)throw new Error(`Unexpected typed array class: ${y}.`);M&&M instanceof ArrayBuffer?(this.data=M,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+F+N,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+K+F+N),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+F+N,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+T]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=l,this.coords[this._pos++]=d,y}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return wm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,y,M){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:K,nodeSize:F}=this,N=[0,T.length-1,0],V=[];for(;N.length;){const re=N.pop()||0,Ae=N.pop()||0,Ce=N.pop()||0;if(Ae-Ce<=F){for(let Xe=Ce;Xe<=Ae;Xe++){const at=K[2*Xe],It=K[2*Xe+1];at>=l&&at<=y&&It>=d&&It<=M&&V.push(T[Xe])}continue}const Be=Ce+Ae>>1,Ke=K[2*Be],We=K[2*Be+1];Ke>=l&&Ke<=y&&We>=d&&We<=M&&V.push(T[Be]),(re===0?l<=Ke:d<=We)&&(N.push(Ce),N.push(Be-1),N.push(1-re)),(re===0?y>=Ke:M>=We)&&(N.push(Be+1),N.push(Ae),N.push(1-re))}return V}within(l,d,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:M,coords:T,nodeSize:K}=this,F=[0,M.length-1,0],N=[],V=y*y;for(;F.length;){const re=F.pop()||0,Ae=F.pop()||0,Ce=F.pop()||0;if(Ae-Ce<=K){for(let Xe=Ce;Xe<=Ae;Xe++)Ig(T[2*Xe],T[2*Xe+1],l,d)<=V&&N.push(M[Xe]);continue}const Be=Ce+Ae>>1,Ke=T[2*Be],We=T[2*Be+1];Ig(Ke,We,l,d)<=V&&N.push(M[Be]),(re===0?l-y<=Ke:d-y<=We)&&(F.push(Ce),F.push(Be-1),F.push(1-re)),(re===0?l+y>=Ke:d+y>=We)&&(F.push(Be+1),F.push(Ae),F.push(1-re))}return N}}function wm(c,l,d,y,M,T){if(M-y<=d)return;const K=y+M>>1;N0(c,l,K,y,M,T),wm(c,l,d,y,K-1,1-T),wm(c,l,d,K+1,M,1-T)}function N0(c,l,d,y,M,T){for(;M>y;){if(M-y>600){const V=M-y+1,re=d-y+1,Ae=Math.log(V),Ce=.5*Math.exp(2*Ae/3),Be=.5*Math.sqrt(Ae*Ce*(V-Ce)/V)*(re-V/2<0?-1:1);N0(c,l,d,Math.max(y,Math.floor(d-re*Ce/V+Be)),Math.min(M,Math.floor(d+(V-re)*Ce/V+Be)),T)}const K=l[2*d+T];let F=y,N=M;for(G0(c,l,y,d),l[2*M+T]>K&&G0(c,l,y,M);F<N;){for(G0(c,l,F,N),F++,N--;l[2*F+T]<K;)F++;for(;l[2*N+T]>K;)N--}l[2*y+T]===K?G0(c,l,y,N):(N++,G0(c,l,N,M)),N<=d&&(y=N+1),d<=N&&(M=N-1)}}function G0(c,l,d,y){cC(c,d,y),cC(l,2*d,2*y),cC(l,2*d+1,2*y+1)}function cC(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}function Ig(c,l,d,y){const M=c-d,T=l-y;return M*M+T*T}var kg;a.bd=void 0,(kg=a.bd||(a.bd={})).create="create",kg.load="load",kg.fullLoad="fullLoad";let Tg=null,W0=[];const dC=1e3/60,hC="loadTime",fC="fullLoadTime",wM={mark(c){performance.mark(c)},frame(c){const l=c;Tg!=null&&W0.push(l-Tg),Tg=l},clearMetrics(){Tg=null,W0=[],performance.clearMeasures(hC),performance.clearMeasures(fC);for(const c in a.bd)performance.clearMarks(a.bd[c])},getPerformanceMetrics(){performance.measure(hC,a.bd.create,a.bd.load),performance.measure(fC,a.bd.create,a.bd.fullLoad);const c=performance.getEntriesByName(hC)[0].duration,l=performance.getEntriesByName(fC)[0].duration,d=W0.length,y=1/(W0.reduce((T,K)=>T+K,0)/d/1e3),M=W0.filter(T=>T>dC).reduce((T,K)=>T+(K-dC)/dC,0);return{loadTime:c,fullLoadTime:l,fps:y,percentDroppedFrames:M/(d+M)*100,totalFrames:d}}};a.$=pn,a.A=lh,a.B=function(c){if(wt==null){const l=c.navigator?c.navigator.userAgent:null;wt=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return wt},a.C=class{constructor(c,l){this.target=c,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new pM(()=>this.process()),this.subscription=function(d,y,M,T){return d.addEventListener(y,M,!1),{unsubscribe:()=>{d.removeEventListener(y,M,!1)}}}(this.target,"message",d=>this.receive(d)),this.globalScope=yt(self)?c:window}registerMessageHandler(c,l){this.messageHandlers[c]=l}sendAsync(c,l){return new Promise((d,y)=>{const M=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[M]={resolve:d,reject:y},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[M];const F={id:M,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(F)},{once:!0});const T=[],K=Object.assign(Object.assign({},c),{id:M,sourceMapId:this.mapId,origin:location.origin,data:Xu(c.data,T)});this.target.postMessage(K,{transfer:T})})}receive(c){const l=c.data,d=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[d];const y=this.abortControllers[d];return delete this.abortControllers[d],void(y&&y.abort())}if(yt(self)||l.mustQueue)return this.tasks[d]=l,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,l)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){return s(this,void 0,void 0,function*(){if(l.type==="<response>"){const M=this.resolveRejects[c];return delete this.resolveRejects[c],M?void(l.error?M.reject(tc(l.error)):M.resolve(tc(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=tc(l.data),y=new AbortController;this.abortControllers[c]=y;try{const M=yield this.messageHandlers[l.type](l.sourceMapId,d,y);this.completeTask(c,null,M)}catch(M){this.completeTask(c,M)}})}completeTask(c,l,d){const y=[];delete this.abortControllers[c];const M={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?Xu(l):null,data:Xu(d,y)};this.target.postMessage(M,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},a.D=xr,a.E=zt,a.F=function(){var c=new lh(16);return lh!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},a.G=$t,a.H=function(c,l,d){var y,M,T,K,F,N,V,re,Ae,Ce,Be,Ke,We=d[0],Xe=d[1],at=d[2];return l===c?(c[12]=l[0]*We+l[4]*Xe+l[8]*at+l[12],c[13]=l[1]*We+l[5]*Xe+l[9]*at+l[13],c[14]=l[2]*We+l[6]*Xe+l[10]*at+l[14],c[15]=l[3]*We+l[7]*Xe+l[11]*at+l[15]):(M=l[1],T=l[2],K=l[3],F=l[4],N=l[5],V=l[6],re=l[7],Ae=l[8],Ce=l[9],Be=l[10],Ke=l[11],c[0]=y=l[0],c[1]=M,c[2]=T,c[3]=K,c[4]=F,c[5]=N,c[6]=V,c[7]=re,c[8]=Ae,c[9]=Ce,c[10]=Be,c[11]=Ke,c[12]=y*We+F*Xe+Ae*at+l[12],c[13]=M*We+N*Xe+Ce*at+l[13],c[14]=T*We+V*Xe+Be*at+l[14],c[15]=K*We+re*Xe+Ke*at+l[15]),c},a.I=il,a.J=function(c,l,d){var y=d[0],M=d[1],T=d[2];return c[0]=l[0]*y,c[1]=l[1]*y,c[2]=l[2]*y,c[3]=l[3]*y,c[4]=l[4]*M,c[5]=l[5]*M,c[6]=l[6]*M,c[7]=l[7]*M,c[8]=l[8]*T,c[9]=l[9]*T,c[10]=l[10]*T,c[11]=l[11]*T,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.K=sm,a.L=function(c,l){const d={};for(let y=0;y<l.length;y++){const M=l[y];M in c&&(d[M]=c[M])}return d},a.M=_f,a.N=B2,a.O=rC,a.P=E,a.Q=DA,a.R=ml,a.S=H,a.T=op,a.U=G,a.V=ze,a.W=Di,a.X=Yo,a.Y=bg,a.Z=class extends Ol{},a._=s,a.a=vt,a.a$=function(c,l,d){return c[0]=l[0]*d[0],c[1]=l[1]*d[1],c[2]=l[2]*d[2],c[3]=l[3]*d[3],c},a.a0=iC,a.a1=q,a.a2=c=>{const l=window.document.createElement("video");return l.muted=!0,new Promise(d=>{l.onloadstart=()=>{d(l)};for(const y of c){const M=window.document.createElement("source");Re(y)||(l.crossOrigin="Anonymous"),M.src=y,l.appendChild(M)}})},a.a3=function(){return se++},a.a4=Jh,a.a5=_m,a.a6=Jd,a.a7=cc,a.a8=So,a.a9=D2,a.aA=De,a.aB=function(c,l){if(!c)return[{command:"setStyle",args:[l]}];let d=[];try{if(!yn(c.version,l.version))return[{command:"setStyle",args:[l]}];yn(c.center,l.center)||d.push({command:"setCenter",args:[l.center]}),yn(c.zoom,l.zoom)||d.push({command:"setZoom",args:[l.zoom]}),yn(c.bearing,l.bearing)||d.push({command:"setBearing",args:[l.bearing]}),yn(c.pitch,l.pitch)||d.push({command:"setPitch",args:[l.pitch]}),yn(c.sprite,l.sprite)||d.push({command:"setSprite",args:[l.sprite]}),yn(c.glyphs,l.glyphs)||d.push({command:"setGlyphs",args:[l.glyphs]}),yn(c.transition,l.transition)||d.push({command:"setTransition",args:[l.transition]}),yn(c.light,l.light)||d.push({command:"setLight",args:[l.light]}),yn(c.terrain,l.terrain)||d.push({command:"setTerrain",args:[l.terrain]}),yn(c.sky,l.sky)||d.push({command:"setSky",args:[l.sky]});const y={},M=[];(function(K,F,N,V){let re;for(re in F=F||{},K=K||{})Object.prototype.hasOwnProperty.call(K,re)&&(Object.prototype.hasOwnProperty.call(F,re)||Sr(re,N,V));for(re in F)Object.prototype.hasOwnProperty.call(F,re)&&(Object.prototype.hasOwnProperty.call(K,re)?yn(K[re],F[re])||(K[re].type==="geojson"&&F[re].type==="geojson"&&yr(K,F,re)?er(N,{command:"setGeoJSONSourceData",args:[re,F[re].data]}):Gr(re,F,N,V)):cr(re,F,N))})(c.sources,l.sources,M,y);const T=[];c.layers&&c.layers.forEach(K=>{"source"in K&&y[K.source]?d.push({command:"removeLayer",args:[K.id]}):T.push(K)}),d=d.concat(M),function(K,F,N){F=F||[];const V=(K=K||[]).map(Ee),re=F.map(Ee),Ae=K.reduce(J,{}),Ce=F.reduce(J,{}),Be=V.slice(),Ke=Object.create(null);let We,Xe,at,It,ct;for(let xt=0,rn=0;xt<V.length;xt++)We=V[xt],Object.prototype.hasOwnProperty.call(Ce,We)?rn++:(er(N,{command:"removeLayer",args:[We]}),Be.splice(Be.indexOf(We,rn),1));for(let xt=0,rn=0;xt<re.length;xt++)We=re[re.length-1-xt],Be[Be.length-1-xt]!==We&&(Object.prototype.hasOwnProperty.call(Ae,We)?(er(N,{command:"removeLayer",args:[We]}),Be.splice(Be.lastIndexOf(We,Be.length-rn),1)):rn++,It=Be[Be.length-xt],er(N,{command:"addLayer",args:[Ce[We],It]}),Be.splice(Be.length-xt,0,We),Ke[We]=!0);for(let xt=0;xt<re.length;xt++)if(We=re[xt],Xe=Ae[We],at=Ce[We],!Ke[We]&&!yn(Xe,at))if(yn(Xe.source,at.source)&&yn(Xe["source-layer"],at["source-layer"])&&yn(Xe.type,at.type)){for(ct in _i(Xe.layout,at.layout,N,We,null,"setLayoutProperty"),_i(Xe.paint,at.paint,N,We,null,"setPaintProperty"),yn(Xe.filter,at.filter)||er(N,{command:"setFilter",args:[We,at.filter]}),yn(Xe.minzoom,at.minzoom)&&yn(Xe.maxzoom,at.maxzoom)||er(N,{command:"setLayerZoomRange",args:[We,at.minzoom,at.maxzoom]}),Xe)Object.prototype.hasOwnProperty.call(Xe,ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&(ct.indexOf("paint.")===0?_i(Xe[ct],at[ct],N,We,ct.slice(6),"setPaintProperty"):yn(Xe[ct],at[ct])||er(N,{command:"setLayerProperty",args:[We,ct,at[ct]]}));for(ct in at)Object.prototype.hasOwnProperty.call(at,ct)&&!Object.prototype.hasOwnProperty.call(Xe,ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&(ct.indexOf("paint.")===0?_i(Xe[ct],at[ct],N,We,ct.slice(6),"setPaintProperty"):yn(Xe[ct],at[ct])||er(N,{command:"setLayerProperty",args:[We,ct,at[ct]]}))}else er(N,{command:"removeLayer",args:[We]}),It=Be[Be.lastIndexOf(We)+1],er(N,{command:"addLayer",args:[at,It]})}(T,l.layers,d)}catch(y){console.warn("Unable to compute style diff:",y),d=[{command:"setStyle",args:[l]}]}return d},a.aC=function(c){const l=[],d=c.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.aD=function c(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let y=0;y<l.length;y++)if(!c(l[y],d[y]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const y in l)if(!c(l[y],d[y]))return!1;return!0}return l===d},a.aE=we,a.aF=xe,a.aG=class extends yo{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},a.aH=uo,a.aI=class extends yo{constructor(c,l){super(c,l),this.current=Os}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},a.aJ=tl,a.aK=class extends yo{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},a.aL=class extends yo{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},a.aM=cu,a.aN=function(c,l,d,y,M,T,K){var F=1/(l-d),N=1/(y-M),V=1/(T-K);return c[0]=-2*F,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*N,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*V,c[11]=0,c[12]=(l+d)*F,c[13]=(M+y)*N,c[14]=(K+T)*V,c[15]=1,c},a.aO=Ei,a.aP=lm,a.aQ=class extends ba{},a.aR=nt,a.aS=class extends vd{},a.aT=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},a.aU=wd,a.aV=de,a.aW=class extends Wl{},a.aX=Lt,a.aY=function(c,l){return c[0]===l[0]&&c[1]===l[1]&&c[2]===l[2]&&c[3]===l[3]&&c[4]===l[4]&&c[5]===l[5]&&c[6]===l[6]&&c[7]===l[7]&&c[8]===l[8]&&c[9]===l[9]&&c[10]===l[10]&&c[11]===l[11]&&c[12]===l[12]&&c[13]===l[13]&&c[14]===l[14]&&c[15]===l[15]},a.aZ=function(c,l){var d=c[0],y=c[1],M=c[2],T=c[3],K=c[4],F=c[5],N=c[6],V=c[7],re=c[8],Ae=c[9],Ce=c[10],Be=c[11],Ke=c[12],We=c[13],Xe=c[14],at=c[15],It=l[0],ct=l[1],xt=l[2],rn=l[3],An=l[4],Ln=l[5],br=l[6],Hn=l[7],xn=l[8],mn=l[9],lr=l[10],Rn=l[11],Sn=l[12],Ur=l[13],Mr=l[14],Ni=l[15];return Math.abs(d-It)<=pl*Math.max(1,Math.abs(d),Math.abs(It))&&Math.abs(y-ct)<=pl*Math.max(1,Math.abs(y),Math.abs(ct))&&Math.abs(M-xt)<=pl*Math.max(1,Math.abs(M),Math.abs(xt))&&Math.abs(T-rn)<=pl*Math.max(1,Math.abs(T),Math.abs(rn))&&Math.abs(K-An)<=pl*Math.max(1,Math.abs(K),Math.abs(An))&&Math.abs(F-Ln)<=pl*Math.max(1,Math.abs(F),Math.abs(Ln))&&Math.abs(N-br)<=pl*Math.max(1,Math.abs(N),Math.abs(br))&&Math.abs(V-Hn)<=pl*Math.max(1,Math.abs(V),Math.abs(Hn))&&Math.abs(re-xn)<=pl*Math.max(1,Math.abs(re),Math.abs(xn))&&Math.abs(Ae-mn)<=pl*Math.max(1,Math.abs(Ae),Math.abs(mn))&&Math.abs(Ce-lr)<=pl*Math.max(1,Math.abs(Ce),Math.abs(lr))&&Math.abs(Be-Rn)<=pl*Math.max(1,Math.abs(Be),Math.abs(Rn))&&Math.abs(Ke-Sn)<=pl*Math.max(1,Math.abs(Ke),Math.abs(Sn))&&Math.abs(We-Ur)<=pl*Math.max(1,Math.abs(We),Math.abs(Ur))&&Math.abs(Xe-Mr)<=pl*Math.max(1,Math.abs(Xe),Math.abs(Mr))&&Math.abs(at-Ni)<=pl*Math.max(1,Math.abs(at),Math.abs(Ni))},a.a_=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.aa=function(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,y,M,T)=>{const K=M||T;return l[y]=!K||K.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.ab=function(c,l){const d=[];for(const y in c)y in l||d.push(y);return d},a.ac=ye,a.ad=function(c,l,d){var y=Math.sin(d),M=Math.cos(d),T=l[0],K=l[1],F=l[2],N=l[3],V=l[4],re=l[5],Ae=l[6],Ce=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=T*M+V*y,c[1]=K*M+re*y,c[2]=F*M+Ae*y,c[3]=N*M+Ce*y,c[4]=V*M-T*y,c[5]=re*M-K*y,c[6]=Ae*M-F*y,c[7]=Ce*M-N*y,c},a.ae=function(c){var l=new lh(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},a.af=um,a.ag=function(c,l){let d=0,y=0;if(c.kind==="constant")y=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:M,minZoom:T,maxZoom:K}=c,F=M?ye(Gn.interpolationFactor(M,l,T,K),0,1):0;c.kind==="camera"?y=gt.number(c.minSize,c.maxSize,F):d=F}return{uSizeT:d,uSize:y}},a.ai=function(c,{uSize:l,uSizeT:d},{lowerSize:y,upperSize:M}){return c.kind==="source"?y/kd:c.kind==="composite"?gt.number(y/kd,M/kd,d):l},a.aj=Xv,a.ak=function(c,l,d,y){const M=l.y-c.y,T=l.x-c.x,K=y.y-d.y,F=y.x-d.x,N=K*T-F*M;if(N===0)return null;const V=(F*(c.y-d.y)-K*(c.x-d.x))/N;return new E(c.x+V*T,c.y+V*M)},a.al=R2,a.am=Du,a.an=O0,a.ao=Nt,a.aq=Zv,a.ar=function(c,l){var d=l[0],y=l[1],M=l[2],T=l[3],K=l[4],F=l[5],N=l[6],V=l[7],re=l[8],Ae=l[9],Ce=l[10],Be=l[11],Ke=l[12],We=l[13],Xe=l[14],at=l[15],It=d*F-y*K,ct=d*N-M*K,xt=d*V-T*K,rn=y*N-M*F,An=y*V-T*F,Ln=M*V-T*N,br=re*We-Ae*Ke,Hn=re*Xe-Ce*Ke,xn=re*at-Be*Ke,mn=Ae*Xe-Ce*We,lr=Ae*at-Be*We,Rn=Ce*at-Be*Xe,Sn=It*Rn-ct*lr+xt*mn+rn*xn-An*Hn+Ln*br;return Sn?(c[0]=(F*Rn-N*lr+V*mn)*(Sn=1/Sn),c[1]=(M*lr-y*Rn-T*mn)*Sn,c[2]=(We*Ln-Xe*An+at*rn)*Sn,c[3]=(Ce*An-Ae*Ln-Be*rn)*Sn,c[4]=(N*xn-K*Rn-V*Hn)*Sn,c[5]=(d*Rn-M*xn+T*Hn)*Sn,c[6]=(Xe*xt-Ke*Ln-at*ct)*Sn,c[7]=(re*Ln-Ce*xt+Be*ct)*Sn,c[8]=(K*lr-F*xn+V*br)*Sn,c[9]=(y*xn-d*lr-T*br)*Sn,c[10]=(Ke*An-We*xt+at*It)*Sn,c[11]=(Ae*xt-re*An-Be*It)*Sn,c[12]=(F*Hn-K*mn-N*br)*Sn,c[13]=(d*mn-y*Hn+M*br)*Sn,c[14]=(We*ct-Ke*rn-Xe*It)*Sn,c[15]=(re*rn-Ae*ct+Ce*It)*Sn,c):null},a.as=Bg,a.at=Vv,a.au=AC,a.av=function(){const c={},l=pt.$version;for(const d in pt.$root){const y=pt.$root[d];if(y.required){let M=null;M=d==="version"?l:y.type==="array"?[]:{},M!=null&&(c[d]=M)}}return c},a.aw=Ju,a.ax=pe,a.ay=function(c){c=c.slice();const l=Object.create(null);for(let d=0;d<c.length;d++)l[c[d].id]=c[d];for(let d=0;d<c.length;d++)"ref"in c[d]&&(c[d]=gn(c[d],l[c[d].ref]));return c},a.az=function(c){if(c.type==="custom")return new fM(c);switch(c.type){case"background":return new dM(c);case"circle":return new B0(c);case"fill":return new pm(c);case"fill-extrusion":return new Id(c);case"heatmap":return new uh(c);case"hillshade":return new Uu(c);case"line":return new L(c);case"raster":return new hM(c);case"symbol":return new Cg(c)}},a.b=st,a.b0=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},a.b1=be,a.b2=T2,a.b3=I2,a.b4=function(c,l,d,y,M){var T,K=1/Math.tan(l/2);return c[0]=K/d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=K,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,M!=null&&M!==1/0?(c[10]=(M+y)*(T=1/(y-M)),c[14]=2*M*y*T):(c[10]=-1,c[14]=-2*y),c},a.b5=function(c,l,d){var y=Math.sin(d),M=Math.cos(d),T=l[4],K=l[5],F=l[6],N=l[7],V=l[8],re=l[9],Ae=l[10],Ce=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=T*M+V*y,c[5]=K*M+re*y,c[6]=F*M+Ae*y,c[7]=N*M+Ce*y,c[8]=V*M-T*y,c[9]=re*M-K*y,c[10]=Ae*M-F*y,c[11]=Ce*M-N*y,c},a.b6=Z,a.b7=ue,a.b8=function(c){return c*Math.PI/180},a.b9=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},a.bA=rA,a.ba=class extends aA{},a.bb=nC,a.bc=wM,a.be=ke,a.bf=function(c,l){vt.REGISTERED_PROTOCOLS[c]=l},a.bg=function(c){delete vt.REGISTERED_PROTOCOLS[c]},a.bh=function(c,l){const d={};for(let M=0;M<c.length;M++){const T=l&&l[c[M].id]||zl(c[M]);l&&(l[c[M].id]=T);let K=d[T];K||(K=d[T]=[]),K.push(c[M])}const y=[];for(const M in d)y.push(d[M]);return y},a.bi=Wn,a.bj=P2,a.bk=U2,a.bl=yh,a.bm=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=Di/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0],d=l.layout,y=l._unevaluatedLayout._values,M={layoutIconSize:y["icon-size"].possiblyEvaluate(new So(c.bucket.zoom+1),c.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new So(c.bucket.zoom+1),c.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new So(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:V,maxZoom:re}=c.bucket.textSizeData;M.compositeTextSizes=[y["text-size"].possiblyEvaluate(new So(V),c.canonical),y["text-size"].possiblyEvaluate(new So(re),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:V,maxZoom:re}=c.bucket.iconSizeData;M.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new So(V),c.canonical),y["icon-size"].possiblyEvaluate(new So(re),c.canonical)]}const T=d.get("text-line-height")*Nt,K=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",F=d.get("text-keep-upright"),N=d.get("text-size");for(const V of c.bucket.features){const re=d.get("text-font").evaluate(V,{},c.canonical).join(","),Ae=N.evaluate(V,{},c.canonical),Ce=M.layoutTextSize.evaluate(V,{},c.canonical),Be=M.layoutIconSize.evaluate(V,{},c.canonical),Ke={horizontal:{},vertical:void 0},We=V.text;let Xe,at=[0,0];if(We){const xt=We.toString(),rn=d.get("text-letter-spacing").evaluate(V,{},c.canonical)*Nt,An=eA(xt)?rn:0,Ln=d.get("text-anchor").evaluate(V,{},c.canonical),br=Og(l,V,c.canonical);if(!br){const Rn=d.get("text-radial-offset").evaluate(V,{},c.canonical);at=Rn?sC(Ln,[Rn*Nt,Eg]):d.get("text-offset").evaluate(V,{},c.canonical).map(Sn=>Sn*Nt)}let Hn=K?"center":d.get("text-justify").evaluate(V,{},c.canonical);const xn=d.get("symbol-placement"),mn=xn==="point"?d.get("text-max-width").evaluate(V,{},c.canonical)*Nt:0,lr=()=>{c.bucket.allowVerticalPlacement&&nc(xt)&&(Ke.vertical=mg(We,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Ln,"left",An,at,a.ah.vertical,!0,xn,Ce,Ae))};if(!K&&br){const Rn=new Set;if(Hn==="auto")for(let Ur=0;Ur<br.values.length;Ur+=2)Rn.add(Bg(br.values[Ur]));else Rn.add(Hn);let Sn=!1;for(const Ur of Rn)if(!Ke.horizontal[Ur])if(Sn)Ke.horizontal[Ur]=Ke.horizontal[0];else{const Mr=mg(We,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,"center",Ur,An,at,a.ah.horizontal,!1,xn,Ce,Ae);Mr&&(Ke.horizontal[Ur]=Mr,Sn=Mr.positionedLines.length===1)}lr()}else{Hn==="auto"&&(Hn=Bg(Ln));const Rn=mg(We,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Ln,Hn,An,at,a.ah.horizontal,!1,xn,Ce,Ae);Rn&&(Ke.horizontal[Hn]=Rn),lr(),nc(xt)&&K&&F&&(Ke.vertical=mg(We,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Ln,Hn,An,at,a.ah.vertical,!1,xn,Ce,Ae))}}let It=!1;if(V.icon&&V.icon.name){const xt=c.imageMap[V.icon.name];xt&&(Xe=sM(c.imagePositions[V.icon.name],d.get("icon-offset").evaluate(V,{},c.canonical),d.get("icon-anchor").evaluate(V,{},c.canonical)),It=!!xt.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=It:c.bucket.sdfIcons!==It&&he("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xt.pixelRatio!==c.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const ct=uC(Ke.horizontal)||Ke.vertical;c.bucket.iconsInText=!!ct&&ct.iconsInText,(ct||Xe)&&Q2(c.bucket,V,Ke,Xe,c.imageMap,M,Ce,Be,at,It,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},a.bn=vf,a.bo=ff,a.bp=mh,a.bq=dA,a.br=hc,a.bs=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},a.bt=function(c,l,d,y,M){return s(this,void 0,void 0,function*(){if(G())try{return yield ze(c,l,d,y,M)}catch{}return function(T,K,F,N,V){const re=T.width,Ae=T.height;He&&Ve||(He=new OffscreenCanvas(re,Ae),Ve=He.getContext("2d",{willReadFrequently:!0})),He.width=re,He.height=Ae,Ve.drawImage(T,0,0,re,Ae);const Ce=Ve.getImageData(K,F,N,V);return Ve.clearRect(0,0,re,Ae),Ce.data}(c,l,d,y,M)})},a.bu=K2,a.bv=h,a.bw=m,a.bx=cn,a.by=Lo,a.bz=function(c){return c.message===Vt},a.c=Yt,a.d=c=>s(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(l)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),a.e=X,a.f=c=>new Promise((l,d)=>{const y=new Image;y.onload=()=>{l(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=mt})},y.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const M=new Blob([new Uint8Array(c)],{type:"image/png"});y.src=c.byteLength?URL.createObjectURL(M):mt}),a.g=Qt,a.h=(c,l)=>Se(X(c,{type:"json"}),l),a.i=yt,a.j=Rt,a.k=St,a.l=(c,l)=>Se(X(c,{type:"arrayBuffer"}),l),a.m=Se,a.n=function(c){return new hc(c).readFields(fc,[])},a.o=za,a.p=Gc,a.q=ha,a.r=qh,a.s=Re,a.t=ec,a.u=Vn,a.v=pt,a.w=he,a.x=Xi,a.y=function([c,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(d),y:c*Math.sin(l)*Math.sin(d),z:c*Math.cos(d)}},a.z=gt}),i("worker",["./shared"],function(a){class s{constructor(ce){this.keyCache={},ce&&this.replace(ce)}replace(ce){this._layerConfigs={},this._layers={},this.update(ce,[])}update(ce,_e){for(const je of ce){this._layerConfigs[je.id]=je;const rt=this._layers[je.id]=a.az(je);rt._featureFilter=a.a6(rt.filter),this.keyCache[je.id]&&delete this.keyCache[je.id]}for(const je of _e)delete this.keyCache[je],delete this._layerConfigs[je],delete this._layers[je];this.familiesBySource={};const Ie=a.bh(Object.values(this._layerConfigs),this.keyCache);for(const je of Ie){const rt=je.map(Ht=>this._layers[Ht.id]),lt=rt[0];if(lt.visibility==="none")continue;const ft=lt.source||"";let et=this.familiesBySource[ft];et||(et=this.familiesBySource[ft]={});const Mt=lt.sourceLayer||"_geojsonTileLayer";let tn=et[Mt];tn||(tn=et[Mt]=[]),tn.push(rt)}}}class h{constructor(ce){const _e={},Ie=[];for(const ft in ce){const et=ce[ft],Mt=_e[ft]={};for(const tn in et){const Ht=et[+tn];if(!Ht||Ht.bitmap.width===0||Ht.bitmap.height===0)continue;const en={x:0,y:0,w:Ht.bitmap.width+2,h:Ht.bitmap.height+2};Ie.push(en),Mt[tn]={rect:en,metrics:Ht.metrics}}}const{w:je,h:rt}=a.p(Ie),lt=new a.o({width:je||1,height:rt||1});for(const ft in ce){const et=ce[ft];for(const Mt in et){const tn=et[+Mt];if(!tn||tn.bitmap.width===0||tn.bitmap.height===0)continue;const Ht=_e[ft][Mt].rect;a.o.copy(tn.bitmap,lt,{x:0,y:0},{x:Ht.x+1,y:Ht.y+1},tn.bitmap)}}this.image=lt,this.positions=_e}}a.bi("GlyphAtlas",h);class m{constructor(ce){this.tileID=new a.Q(ce.tileID.overscaledZ,ce.tileID.wrap,ce.tileID.canonical.z,ce.tileID.canonical.x,ce.tileID.canonical.y),this.uid=ce.uid,this.zoom=ce.zoom,this.pixelRatio=ce.pixelRatio,this.tileSize=ce.tileSize,this.source=ce.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ce.showCollisionBoxes,this.collectResourceTiming=!!ce.collectResourceTiming,this.returnDependencies=!!ce.returnDependencies,this.promoteId=ce.promoteId,this.inFlightDependencies=[]}parse(ce,_e,Ie,je){return a._(this,void 0,void 0,function*(){this.status="parsing",this.data=ce,this.collisionBoxArray=new a.a4;const rt=new a.bj(Object.keys(ce.layers).sort()),lt=new a.bk(this.tileID,this.promoteId);lt.bucketLayerIDs=[];const ft={},et={featureIndex:lt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ie},Mt=_e.familiesBySource[this.source];for(const or in Mt){const di=ce.layers[or];if(!di)continue;di.version===1&&a.w(`Vector tile source "${this.source}" layer "${or}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ri=rt.encode(or),ro=[];for(let po=0;po<di.length;po++){const si=di.feature(po),mo=lt.getId(si,or);ro.push({feature:si,id:mo,index:po,sourceLayerIndex:Ri})}for(const po of Mt[or]){const si=po[0];si.source!==this.source&&a.w(`layer.source = ${si.source} does not equal this.source = ${this.source}`),si.minzoom&&this.zoom<Math.floor(si.minzoom)||si.maxzoom&&this.zoom>=si.maxzoom||si.visibility!=="none"&&(C(po,this.zoom,Ie),(ft[si.id]=si.createBucket({index:lt.bucketLayerIDs.length,layers:po,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ri,sourceID:this.source})).populate(ro,et,this.tileID.canonical),lt.bucketLayerIDs.push(po.map(mo=>mo.id)))}}const tn=a.aE(et.glyphDependencies,or=>Object.keys(or).map(Number));this.inFlightDependencies.forEach(or=>or==null?void 0:or.abort()),this.inFlightDependencies=[];let Ht=Promise.resolve({});if(Object.keys(tn).length){const or=new AbortController;this.inFlightDependencies.push(or),Ht=je.sendAsync({type:"getGlyphs",data:{stacks:tn,source:this.source,tileID:this.tileID,type:"glyphs"}},or)}const en=Object.keys(et.iconDependencies);let Dn=Promise.resolve({});if(en.length){const or=new AbortController;this.inFlightDependencies.push(or),Dn=je.sendAsync({type:"getImages",data:{icons:en,source:this.source,tileID:this.tileID,type:"icons"}},or)}const Bn=Object.keys(et.patternDependencies);let qn=Promise.resolve({});if(Bn.length){const or=new AbortController;this.inFlightDependencies.push(or),qn=je.sendAsync({type:"getImages",data:{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"}},or)}const[Er,ur,Yr]=yield Promise.all([Ht,Dn,qn]),Br=new h(Er),Fr=new a.bl(ur,Yr);for(const or in ft){const di=ft[or];di instanceof a.a5?(C(di.layers,this.zoom,Ie),a.bm({bucket:di,glyphMap:Er,glyphPositions:Br.positions,imageMap:ur,imagePositions:Fr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):di.hasPattern&&(di instanceof a.bn||di instanceof a.bo||di instanceof a.bp)&&(C(di.layers,this.zoom,Ie),di.addFeatures(et,this.tileID.canonical,Fr.patternPositions))}return this.status="done",{buckets:Object.values(ft).filter(or=>!or.isEmpty()),featureIndex:lt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Br.image,imageAtlas:Fr,glyphMap:this.returnDependencies?Er:null,iconMap:this.returnDependencies?ur:null,glyphPositions:this.returnDependencies?Br.positions:null}})}}function C(Pe,ce,_e){const Ie=new a.a8(ce);for(const je of Pe)je.recalculate(Ie,_e)}class E{constructor(ce,_e,Ie){this.actor=ce,this.layerIndex=_e,this.availableImages=Ie,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ce,_e){return a._(this,void 0,void 0,function*(){const Ie=yield a.l(ce.request,_e);try{return{vectorTile:new a.bq.VectorTile(new a.br(Ie.data)),rawData:Ie.data,cacheControl:Ie.cacheControl,expires:Ie.expires}}catch(je){const rt=new Uint8Array(Ie.data);let lt=`Unable to parse the tile at ${ce.request.url}, `;throw lt+=rt[0]===31&&rt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${je.messge}`,new Error(lt)}})}loadTile(ce){return a._(this,void 0,void 0,function*(){const _e=ce.uid,Ie=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new a.bs(ce.request),je=new m(ce);this.loading[_e]=je;const rt=new AbortController;je.abort=rt;try{const lt=yield this.loadVectorTile(ce,rt);if(delete this.loading[_e],!lt)return null;const ft=lt.rawData,et={};lt.expires&&(et.expires=lt.expires),lt.cacheControl&&(et.cacheControl=lt.cacheControl);const Mt={};if(Ie){const Ht=Ie.finish();Ht&&(Mt.resourceTiming=JSON.parse(JSON.stringify(Ht)))}je.vectorTile=lt.vectorTile;const tn=je.parse(lt.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[_e]=je,this.fetching[_e]={rawTileData:ft,cacheControl:et,resourceTiming:Mt};try{const Ht=yield tn;return a.e({rawTileData:ft.slice(0)},Ht,et,Mt)}finally{delete this.fetching[_e]}}catch(lt){throw delete this.loading[_e],je.status="done",this.loaded[_e]=je,lt}})}reloadTile(ce){return a._(this,void 0,void 0,function*(){const _e=ce.uid;if(!this.loaded||!this.loaded[_e])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Ie=this.loaded[_e];if(Ie.showCollisionBoxes=ce.showCollisionBoxes,Ie.status==="parsing"){const je=yield Ie.parse(Ie.vectorTile,this.layerIndex,this.availableImages,this.actor);let rt;if(this.fetching[_e]){const{rawTileData:lt,cacheControl:ft,resourceTiming:et}=this.fetching[_e];delete this.fetching[_e],rt=a.e({rawTileData:lt.slice(0)},je,ft,et)}else rt=je;return rt}if(Ie.status==="done"&&Ie.vectorTile)return Ie.parse(Ie.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(ce){return a._(this,void 0,void 0,function*(){const _e=this.loading,Ie=ce.uid;_e&&_e[Ie]&&_e[Ie].abort&&(_e[Ie].abort.abort(),delete _e[Ie])})}removeTile(ce){return a._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ce.uid]&&delete this.loaded[ce.uid]})}}class O{constructor(){this.loaded={}}loadTile(ce){return a._(this,void 0,void 0,function*(){const{uid:_e,encoding:Ie,rawImageData:je,redFactor:rt,greenFactor:lt,blueFactor:ft,baseShift:et}=ce,Mt=je.width+2,tn=je.height+2,Ht=a.b(je)?new a.R({width:Mt,height:tn},yield a.bt(je,-1,-1,Mt,tn)):je,en=new a.bu(_e,Ht,Ie,rt,lt,ft,et);return this.loaded=this.loaded||{},this.loaded[_e]=en,en})}removeTile(ce){const _e=this.loaded,Ie=ce.uid;_e&&_e[Ie]&&delete _e[Ie]}}function P(Pe,ce){if(Pe.length!==0){D(Pe[0],ce);for(var _e=1;_e<Pe.length;_e++)D(Pe[_e],!ce)}}function D(Pe,ce){for(var _e=0,Ie=0,je=0,rt=Pe.length,lt=rt-1;je<rt;lt=je++){var ft=(Pe[je][0]-Pe[lt][0])*(Pe[lt][1]+Pe[je][1]),et=_e+ft;Ie+=Math.abs(_e)>=Math.abs(ft)?_e-et+ft:ft-et+_e,_e=et}_e+Ie>=0!=!!ce&&Pe.reverse()}var $=a.bv(function Pe(ce,_e){var Ie,je=ce&&ce.type;if(je==="FeatureCollection")for(Ie=0;Ie<ce.features.length;Ie++)Pe(ce.features[Ie],_e);else if(je==="GeometryCollection")for(Ie=0;Ie<ce.geometries.length;Ie++)Pe(ce.geometries[Ie],_e);else if(je==="Feature")Pe(ce.geometry,_e);else if(je==="Polygon")P(ce.coordinates,_e);else if(je==="MultiPolygon")for(Ie=0;Ie<ce.coordinates.length;Ie++)P(ce.coordinates[Ie],_e);return ce});const ee=a.bq.VectorTileFeature.prototype.toGeoJSON;var H={exports:{}},G=a.bw,Z=a.bq.VectorTileFeature,ue=ye;function ye(Pe,ce){this.options=ce||{},this.features=Pe,this.length=Pe.length}function be(Pe,ce){this.id=typeof Pe.id=="number"?Pe.id:void 0,this.type=Pe.type,this.rawGeometry=Pe.type===1?[Pe.geometry]:Pe.geometry,this.properties=Pe.tags,this.extent=ce||4096}ye.prototype.feature=function(Pe){return new be(this.features[Pe],this.options.extent)},be.prototype.loadGeometry=function(){var Pe=this.rawGeometry;this.geometry=[];for(var ce=0;ce<Pe.length;ce++){for(var _e=Pe[ce],Ie=[],je=0;je<_e.length;je++)Ie.push(new G(_e[je][0],_e[je][1]));this.geometry.push(Ie)}return this.geometry},be.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Pe=this.geometry,ce=1/0,_e=-1/0,Ie=1/0,je=-1/0,rt=0;rt<Pe.length;rt++)for(var lt=Pe[rt],ft=0;ft<lt.length;ft++){var et=lt[ft];ce=Math.min(ce,et.x),_e=Math.max(_e,et.x),Ie=Math.min(Ie,et.y),je=Math.max(je,et.y)}return[ce,Ie,_e,je]},be.prototype.toGeoJSON=Z.prototype.toGeoJSON;var X=a.bx,se=ue;function we(Pe){var ce=new X;return function(_e,Ie){for(var je in _e.layers)Ie.writeMessage(3,xe,_e.layers[je])}(Pe,ce),ce.finish()}function xe(Pe,ce){var _e;ce.writeVarintField(15,Pe.version||1),ce.writeStringField(1,Pe.name||""),ce.writeVarintField(5,Pe.extent||4096);var Ie={keys:[],values:[],keycache:{},valuecache:{}};for(_e=0;_e<Pe.length;_e++)Ie.feature=Pe.feature(_e),ce.writeMessage(2,De,Ie);var je=Ie.keys;for(_e=0;_e<je.length;_e++)ce.writeStringField(3,je[_e]);var rt=Ie.values;for(_e=0;_e<rt.length;_e++)ce.writeMessage(4,yt,rt[_e])}function De(Pe,ce){var _e=Pe.feature;_e.id!==void 0&&ce.writeVarintField(1,_e.id),ce.writeMessage(2,Ue,Pe),ce.writeVarintField(3,_e.type),ce.writeMessage(4,ge,_e)}function Ue(Pe,ce){var _e=Pe.feature,Ie=Pe.keys,je=Pe.values,rt=Pe.keycache,lt=Pe.valuecache;for(var ft in _e.properties){var et=_e.properties[ft],Mt=rt[ft];if(et!==null){Mt===void 0&&(Ie.push(ft),rt[ft]=Mt=Ie.length-1),ce.writeVarint(Mt);var tn=typeof et;tn!=="string"&&tn!=="boolean"&&tn!=="number"&&(et=JSON.stringify(et));var Ht=tn+":"+et,en=lt[Ht];en===void 0&&(je.push(et),lt[Ht]=en=je.length-1),ce.writeVarint(en)}}}function he(Pe,ce){return(ce<<3)+(7&Pe)}function $e(Pe){return Pe<<1^Pe>>31}function ge(Pe,ce){for(var _e=Pe.loadGeometry(),Ie=Pe.type,je=0,rt=0,lt=_e.length,ft=0;ft<lt;ft++){var et=_e[ft],Mt=1;Ie===1&&(Mt=et.length),ce.writeVarint(he(1,Mt));for(var tn=Ie===3?et.length-1:et.length,Ht=0;Ht<tn;Ht++){Ht===1&&Ie!==1&&ce.writeVarint(he(2,tn-1));var en=et[Ht].x-je,Dn=et[Ht].y-rt;ce.writeVarint($e(en)),ce.writeVarint($e(Dn)),je+=en,rt+=Dn}Ie===3&&ce.writeVarint(he(7,1))}}function yt(Pe,ce){var _e=typeof Pe;_e==="string"?ce.writeStringField(1,Pe):_e==="boolean"?ce.writeBooleanField(7,Pe):_e==="number"&&(Pe%1!=0?ce.writeDoubleField(3,Pe):Pe<0?ce.writeSVarintField(6,Pe):ce.writeVarintField(5,Pe))}H.exports=we,H.exports.fromVectorTileJs=we,H.exports.fromGeojsonVt=function(Pe,ce){ce=ce||{};var _e={};for(var Ie in Pe)_e[Ie]=new se(Pe[Ie].features,ce),_e[Ie].name=Ie,_e[Ie].version=ce.version,_e[Ie].extent=ce.extent;return we({layers:_e})},H.exports.GeoJSONWrapper=se;var wt=a.bv(H.exports);const st={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Pe=>Pe},mt=Math.fround||(ze=new Float32Array(1),Pe=>(ze[0]=+Pe,ze[0]));var ze;const He=3,Ve=5,Vt=6;class Yt{constructor(ce){this.options=Object.assign(Object.create(st),ce),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ce){const{log:_e,minZoom:Ie,maxZoom:je}=this.options;_e&&console.time("total time");const rt=`prepare ${ce.length} points`;_e&&console.time(rt),this.points=ce;const lt=[];for(let et=0;et<ce.length;et++){const Mt=ce[et];if(!Mt.geometry)continue;const[tn,Ht]=Mt.geometry.coordinates,en=mt($t(tn)),Dn=mt(ke(Ht));lt.push(en,Dn,1/0,et,-1,1),this.options.reduce&&lt.push(0)}let ft=this.trees[je+1]=this._createTree(lt);_e&&console.timeEnd(rt);for(let et=je;et>=Ie;et--){const Mt=+Date.now();ft=this.trees[et]=this._createTree(this._cluster(ft,et)),_e&&console.log("z%d: %d clusters in %dms",et,ft.numItems,+Date.now()-Mt)}return _e&&console.timeEnd("total time"),this}getClusters(ce,_e){let Ie=((ce[0]+180)%360+360)%360-180;const je=Math.max(-90,Math.min(90,ce[1]));let rt=ce[2]===180?180:((ce[2]+180)%360+360)%360-180;const lt=Math.max(-90,Math.min(90,ce[3]));if(ce[2]-ce[0]>=360)Ie=-180,rt=180;else if(Ie>rt){const Ht=this.getClusters([Ie,je,180,lt],_e),en=this.getClusters([-180,je,rt,lt],_e);return Ht.concat(en)}const ft=this.trees[this._limitZoom(_e)],et=ft.range($t(Ie),ke(lt),$t(rt),ke(je)),Mt=ft.data,tn=[];for(const Ht of et){const en=this.stride*Ht;tn.push(Mt[en+Ve]>1?vt(Mt,en,this.clusterProps):this.points[Mt[en+He]])}return tn}getChildren(ce){const _e=this._getOriginId(ce),Ie=this._getOriginZoom(ce),je="No cluster with the specified id.",rt=this.trees[Ie];if(!rt)throw new Error(je);const lt=rt.data;if(_e*this.stride>=lt.length)throw new Error(je);const ft=this.options.radius/(this.options.extent*Math.pow(2,Ie-1)),et=rt.within(lt[_e*this.stride],lt[_e*this.stride+1],ft),Mt=[];for(const tn of et){const Ht=tn*this.stride;lt[Ht+4]===ce&&Mt.push(lt[Ht+Ve]>1?vt(lt,Ht,this.clusterProps):this.points[lt[Ht+He]])}if(Mt.length===0)throw new Error(je);return Mt}getLeaves(ce,_e,Ie){const je=[];return this._appendLeaves(je,ce,_e=_e||10,Ie=Ie||0,0),je}getTile(ce,_e,Ie){const je=this.trees[this._limitZoom(ce)],rt=Math.pow(2,ce),{extent:lt,radius:ft}=this.options,et=ft/lt,Mt=(Ie-et)/rt,tn=(Ie+1+et)/rt,Ht={features:[]};return this._addTileFeatures(je.range((_e-et)/rt,Mt,(_e+1+et)/rt,tn),je.data,_e,Ie,rt,Ht),_e===0&&this._addTileFeatures(je.range(1-et/rt,Mt,1,tn),je.data,rt,Ie,rt,Ht),_e===rt-1&&this._addTileFeatures(je.range(0,Mt,et/rt,tn),je.data,-1,Ie,rt,Ht),Ht.features.length?Ht:null}getClusterExpansionZoom(ce){let _e=this._getOriginZoom(ce)-1;for(;_e<=this.options.maxZoom;){const Ie=this.getChildren(ce);if(_e++,Ie.length!==1)break;ce=Ie[0].properties.cluster_id}return _e}_appendLeaves(ce,_e,Ie,je,rt){const lt=this.getChildren(_e);for(const ft of lt){const et=ft.properties;if(et&&et.cluster?rt+et.point_count<=je?rt+=et.point_count:rt=this._appendLeaves(ce,et.cluster_id,Ie,je,rt):rt<je?rt++:ce.push(ft),ce.length===Ie)break}return rt}_createTree(ce){const _e=new a.au(ce.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ie=0;Ie<ce.length;Ie+=this.stride)_e.add(ce[Ie],ce[Ie+1]);return _e.finish(),_e.data=ce,_e}_addTileFeatures(ce,_e,Ie,je,rt,lt){for(const ft of ce){const et=ft*this.stride,Mt=_e[et+Ve]>1;let tn,Ht,en;if(Mt)tn=Qt(_e,et,this.clusterProps),Ht=_e[et],en=_e[et+1];else{const qn=this.points[_e[et+He]];tn=qn.properties;const[Er,ur]=qn.geometry.coordinates;Ht=$t(Er),en=ke(ur)}const Dn={type:1,geometry:[[Math.round(this.options.extent*(Ht*rt-Ie)),Math.round(this.options.extent*(en*rt-je))]],tags:tn};let Bn;Bn=Mt||this.options.generateId?_e[et+He]:this.points[_e[et+He]].id,Bn!==void 0&&(Dn.id=Bn),lt.features.push(Dn)}}_limitZoom(ce){return Math.max(this.options.minZoom,Math.min(Math.floor(+ce),this.options.maxZoom+1))}_cluster(ce,_e){const{radius:Ie,extent:je,reduce:rt,minPoints:lt}=this.options,ft=Ie/(je*Math.pow(2,_e)),et=ce.data,Mt=[],tn=this.stride;for(let Ht=0;Ht<et.length;Ht+=tn){if(et[Ht+2]<=_e)continue;et[Ht+2]=_e;const en=et[Ht],Dn=et[Ht+1],Bn=ce.within(et[Ht],et[Ht+1],ft),qn=et[Ht+Ve];let Er=qn;for(const ur of Bn){const Yr=ur*tn;et[Yr+2]>_e&&(Er+=et[Yr+Ve])}if(Er>qn&&Er>=lt){let ur,Yr=en*qn,Br=Dn*qn,Fr=-1;const or=((Ht/tn|0)<<5)+(_e+1)+this.points.length;for(const di of Bn){const Ri=di*tn;if(et[Ri+2]<=_e)continue;et[Ri+2]=_e;const ro=et[Ri+Ve];Yr+=et[Ri]*ro,Br+=et[Ri+1]*ro,et[Ri+4]=or,rt&&(ur||(ur=this._map(et,Ht,!0),Fr=this.clusterProps.length,this.clusterProps.push(ur)),rt(ur,this._map(et,Ri)))}et[Ht+4]=or,Mt.push(Yr/Er,Br/Er,1/0,or,-1,Er),rt&&Mt.push(Fr)}else{for(let ur=0;ur<tn;ur++)Mt.push(et[Ht+ur]);if(Er>1)for(const ur of Bn){const Yr=ur*tn;if(!(et[Yr+2]<=_e)){et[Yr+2]=_e;for(let Br=0;Br<tn;Br++)Mt.push(et[Yr+Br])}}}}return Mt}_getOriginId(ce){return ce-this.points.length>>5}_getOriginZoom(ce){return(ce-this.points.length)%32}_map(ce,_e,Ie){if(ce[_e+Ve]>1){const lt=this.clusterProps[ce[_e+Vt]];return Ie?Object.assign({},lt):lt}const je=this.points[ce[_e+He]].properties,rt=this.options.map(je);return Ie&&rt===je?Object.assign({},rt):rt}}function vt(Pe,ce,_e){return{type:"Feature",id:Pe[ce+He],properties:Qt(Pe,ce,_e),geometry:{type:"Point",coordinates:[(Ie=Pe[ce],360*(Ie-.5)),pe(Pe[ce+1])]}};var Ie}function Qt(Pe,ce,_e){const Ie=Pe[ce+Ve],je=Ie>=1e4?`${Math.round(Ie/1e3)}k`:Ie>=1e3?Math.round(Ie/100)/10+"k":Ie,rt=Pe[ce+Vt],lt=rt===-1?{}:Object.assign({},_e[rt]);return Object.assign(lt,{cluster:!0,cluster_id:Pe[ce+He],point_count:Ie,point_count_abbreviated:je})}function $t(Pe){return Pe/360+.5}function ke(Pe){const ce=Math.sin(Pe*Math.PI/180),_e=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return _e<0?0:_e>1?1:_e}function pe(Pe){const ce=(180-360*Pe)*Math.PI/180;return 360*Math.atan(Math.exp(ce))/Math.PI-90}function Se(Pe,ce,_e,Ie){for(var je,rt=Ie,lt=_e-ce>>1,ft=_e-ce,et=Pe[ce],Mt=Pe[ce+1],tn=Pe[_e],Ht=Pe[_e+1],en=ce+3;en<_e;en+=3){var Dn=Re(Pe[en],Pe[en+1],et,Mt,tn,Ht);if(Dn>rt)je=en,rt=Dn;else if(Dn===rt){var Bn=Math.abs(en-lt);Bn<ft&&(je=en,ft=Bn)}}rt>Ie&&(je-ce>3&&Se(Pe,ce,je,Ie),Pe[je+2]=rt,_e-je>3&&Se(Pe,je,_e,Ie))}function Re(Pe,ce,_e,Ie,je,rt){var lt=je-_e,ft=rt-Ie;if(lt!==0||ft!==0){var et=((Pe-_e)*lt+(ce-Ie)*ft)/(lt*lt+ft*ft);et>1?(_e=je,Ie=rt):et>0&&(_e+=lt*et,Ie+=ft*et)}return(lt=Pe-_e)*lt+(ft=ce-Ie)*ft}function it(Pe,ce,_e,Ie){var je={id:Pe===void 0?null:Pe,type:ce,geometry:_e,tags:Ie,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(rt){var lt=rt.geometry,ft=rt.type;if(ft==="Point"||ft==="MultiPoint"||ft==="LineString")ot(rt,lt);else if(ft==="Polygon"||ft==="MultiLineString")for(var et=0;et<lt.length;et++)ot(rt,lt[et]);else if(ft==="MultiPolygon")for(et=0;et<lt.length;et++)for(var Mt=0;Mt<lt[et].length;Mt++)ot(rt,lt[et][Mt])}(je),je}function ot(Pe,ce){for(var _e=0;_e<ce.length;_e+=3)Pe.minX=Math.min(Pe.minX,ce[_e]),Pe.minY=Math.min(Pe.minY,ce[_e+1]),Pe.maxX=Math.max(Pe.maxX,ce[_e]),Pe.maxY=Math.max(Pe.maxY,ce[_e+1])}function St(Pe,ce,_e,Ie){if(ce.geometry){var je=ce.geometry.coordinates,rt=ce.geometry.type,lt=Math.pow(_e.tolerance/((1<<_e.maxZoom)*_e.extent),2),ft=[],et=ce.id;if(_e.promoteId?et=ce.properties[_e.promoteId]:_e.generateId&&(et=Ie||0),rt==="Point")Rt(je,ft);else if(rt==="MultiPoint")for(var Mt=0;Mt<je.length;Mt++)Rt(je[Mt],ft);else if(rt==="LineString")zt(je,ft,lt,!1);else if(rt==="MultiLineString"){if(_e.lineMetrics){for(Mt=0;Mt<je.length;Mt++)zt(je[Mt],ft=[],lt,!1),Pe.push(it(et,"LineString",ft,ce.properties));return}pt(je,ft,lt,!1)}else if(rt==="Polygon")pt(je,ft,lt,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(Mt=0;Mt<ce.geometry.geometries.length;Mt++)St(Pe,{id:et,geometry:ce.geometry.geometries[Mt],properties:ce.properties},_e,Ie);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Mt=0;Mt<je.length;Mt++){var tn=[];pt(je[Mt],tn,lt,!0),ft.push(tn)}}Pe.push(it(et,rt,ft,ce.properties))}}function Rt(Pe,ce){ce.push(ir(Pe[0])),ce.push(gn(Pe[1])),ce.push(0)}function zt(Pe,ce,_e,Ie){for(var je,rt,lt=0,ft=0;ft<Pe.length;ft++){var et=ir(Pe[ft][0]),Mt=gn(Pe[ft][1]);ce.push(et),ce.push(Mt),ce.push(0),ft>0&&(lt+=Ie?(je*Mt-et*rt)/2:Math.sqrt(Math.pow(et-je,2)+Math.pow(Mt-rt,2))),je=et,rt=Mt}var tn=ce.length-3;ce[2]=1,Se(ce,0,tn,_e),ce[tn+2]=1,ce.size=Math.abs(lt),ce.start=0,ce.end=ce.size}function pt(Pe,ce,_e,Ie){for(var je=0;je<Pe.length;je++){var rt=[];zt(Pe[je],rt,_e,Ie),ce.push(rt)}}function ir(Pe){return Pe/360+.5}function gn(Pe){var ce=Math.sin(Pe*Math.PI/180),_e=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return _e<0?0:_e>1?1:_e}function yn(Pe,ce,_e,Ie,je,rt,lt,ft){if(Ie/=ce,rt>=(_e/=ce)&&lt<Ie)return Pe;if(lt<_e||rt>=Ie)return null;for(var et=[],Mt=0;Mt<Pe.length;Mt++){var tn=Pe[Mt],Ht=tn.geometry,en=tn.type,Dn=je===0?tn.minX:tn.minY,Bn=je===0?tn.maxX:tn.maxY;if(Dn>=_e&&Bn<Ie)et.push(tn);else if(!(Bn<_e||Dn>=Ie)){var qn=[];if(en==="Point"||en==="MultiPoint")er(Ht,qn,_e,Ie,je);else if(en==="LineString")cr(Ht,qn,_e,Ie,je,!1,ft.lineMetrics);else if(en==="MultiLineString")Gr(Ht,qn,_e,Ie,je,!1);else if(en==="Polygon")Gr(Ht,qn,_e,Ie,je,!0);else if(en==="MultiPolygon")for(var Er=0;Er<Ht.length;Er++){var ur=[];Gr(Ht[Er],ur,_e,Ie,je,!0),ur.length&&qn.push(ur)}if(qn.length){if(ft.lineMetrics&&en==="LineString"){for(Er=0;Er<qn.length;Er++)et.push(it(tn.id,en,qn[Er],tn.tags));continue}en!=="LineString"&&en!=="MultiLineString"||(qn.length===1?(en="LineString",qn=qn[0]):en="MultiLineString"),en!=="Point"&&en!=="MultiPoint"||(en=qn.length===3?"Point":"MultiPoint"),et.push(it(tn.id,en,qn,tn.tags))}}}return et.length?et:null}function er(Pe,ce,_e,Ie,je){for(var rt=0;rt<Pe.length;rt+=3){var lt=Pe[rt+je];lt>=_e&&lt<=Ie&&(ce.push(Pe[rt]),ce.push(Pe[rt+1]),ce.push(Pe[rt+2]))}}function cr(Pe,ce,_e,Ie,je,rt,lt){for(var ft,et,Mt=Sr(Pe),tn=je===0?_i:Ee,Ht=Pe.start,en=0;en<Pe.length-3;en+=3){var Dn=Pe[en],Bn=Pe[en+1],qn=Pe[en+2],Er=Pe[en+3],ur=Pe[en+4],Yr=je===0?Dn:Bn,Br=je===0?Er:ur,Fr=!1;lt&&(ft=Math.sqrt(Math.pow(Dn-Er,2)+Math.pow(Bn-ur,2))),Yr<_e?Br>_e&&(et=tn(Mt,Dn,Bn,Er,ur,_e),lt&&(Mt.start=Ht+ft*et)):Yr>Ie?Br<Ie&&(et=tn(Mt,Dn,Bn,Er,ur,Ie),lt&&(Mt.start=Ht+ft*et)):yr(Mt,Dn,Bn,qn),Br<_e&&Yr>=_e&&(et=tn(Mt,Dn,Bn,Er,ur,_e),Fr=!0),Br>Ie&&Yr<=Ie&&(et=tn(Mt,Dn,Bn,Er,ur,Ie),Fr=!0),!rt&&Fr&&(lt&&(Mt.end=Ht+ft*et),ce.push(Mt),Mt=Sr(Pe)),lt&&(Ht+=ft)}var or=Pe.length-3;Dn=Pe[or],Bn=Pe[or+1],qn=Pe[or+2],(Yr=je===0?Dn:Bn)>=_e&&Yr<=Ie&&yr(Mt,Dn,Bn,qn),or=Mt.length-3,rt&&or>=3&&(Mt[or]!==Mt[0]||Mt[or+1]!==Mt[1])&&yr(Mt,Mt[0],Mt[1],Mt[2]),Mt.length&&ce.push(Mt)}function Sr(Pe){var ce=[];return ce.size=Pe.size,ce.start=Pe.start,ce.end=Pe.end,ce}function Gr(Pe,ce,_e,Ie,je,rt){for(var lt=0;lt<Pe.length;lt++)cr(Pe[lt],ce,_e,Ie,je,rt,!1)}function yr(Pe,ce,_e,Ie){Pe.push(ce),Pe.push(_e),Pe.push(Ie)}function _i(Pe,ce,_e,Ie,je,rt){var lt=(rt-ce)/(Ie-ce);return Pe.push(rt),Pe.push(_e+(je-_e)*lt),Pe.push(1),lt}function Ee(Pe,ce,_e,Ie,je,rt){var lt=(rt-_e)/(je-_e);return Pe.push(ce+(Ie-ce)*lt),Pe.push(rt),Pe.push(1),lt}function J(Pe,ce){for(var _e=[],Ie=0;Ie<Pe.length;Ie++){var je,rt=Pe[Ie],lt=rt.type;if(lt==="Point"||lt==="MultiPoint"||lt==="LineString")je=q(rt.geometry,ce);else if(lt==="MultiLineString"||lt==="Polygon"){je=[];for(var ft=0;ft<rt.geometry.length;ft++)je.push(q(rt.geometry[ft],ce))}else if(lt==="MultiPolygon")for(je=[],ft=0;ft<rt.geometry.length;ft++){for(var et=[],Mt=0;Mt<rt.geometry[ft].length;Mt++)et.push(q(rt.geometry[ft][Mt],ce));je.push(et)}_e.push(it(rt.id,lt,je,rt.tags))}return _e}function q(Pe,ce){var _e=[];_e.size=Pe.size,Pe.start!==void 0&&(_e.start=Pe.start,_e.end=Pe.end);for(var Ie=0;Ie<Pe.length;Ie+=3)_e.push(Pe[Ie]+ce,Pe[Ie+1],Pe[Ie+2]);return _e}function Te(Pe,ce){if(Pe.transformed)return Pe;var _e,Ie,je,rt=1<<Pe.z,lt=Pe.x,ft=Pe.y;for(_e=0;_e<Pe.features.length;_e++){var et=Pe.features[_e],Mt=et.geometry,tn=et.type;if(et.geometry=[],tn===1)for(Ie=0;Ie<Mt.length;Ie+=2)et.geometry.push(At(Mt[Ie],Mt[Ie+1],ce,rt,lt,ft));else for(Ie=0;Ie<Mt.length;Ie++){var Ht=[];for(je=0;je<Mt[Ie].length;je+=2)Ht.push(At(Mt[Ie][je],Mt[Ie][je+1],ce,rt,lt,ft));et.geometry.push(Ht)}}return Pe.transformed=!0,Pe}function At(Pe,ce,_e,Ie,je,rt){return[Math.round(_e*(Pe*Ie-je)),Math.round(_e*(ce*Ie-rt))]}function Bt(Pe,ce,_e,Ie,je){for(var rt=ce===je.maxZoom?0:je.tolerance/((1<<ce)*je.extent),lt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:_e,y:Ie,z:ce,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ft=0;ft<Pe.length;ft++){lt.numFeatures++,kt(lt,Pe[ft],rt,je);var et=Pe[ft].minX,Mt=Pe[ft].minY,tn=Pe[ft].maxX,Ht=Pe[ft].maxY;et<lt.minX&&(lt.minX=et),Mt<lt.minY&&(lt.minY=Mt),tn>lt.maxX&&(lt.maxX=tn),Ht>lt.maxY&&(lt.maxY=Ht)}return lt}function kt(Pe,ce,_e,Ie){var je=ce.geometry,rt=ce.type,lt=[];if(rt==="Point"||rt==="MultiPoint")for(var ft=0;ft<je.length;ft+=3)lt.push(je[ft]),lt.push(je[ft+1]),Pe.numPoints++,Pe.numSimplified++;else if(rt==="LineString")Ut(lt,je,Pe,_e,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(ft=0;ft<je.length;ft++)Ut(lt,je[ft],Pe,_e,rt==="Polygon",ft===0);else if(rt==="MultiPolygon")for(var et=0;et<je.length;et++){var Mt=je[et];for(ft=0;ft<Mt.length;ft++)Ut(lt,Mt[ft],Pe,_e,!0,ft===0)}if(lt.length){var tn=ce.tags||null;if(rt==="LineString"&&Ie.lineMetrics){for(var Ht in tn={},ce.tags)tn[Ht]=ce.tags[Ht];tn.mapbox_clip_start=je.start/je.size,tn.mapbox_clip_end=je.end/je.size}var en={geometry:lt,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:tn};ce.id!==null&&(en.id=ce.id),Pe.features.push(en)}}function Ut(Pe,ce,_e,Ie,je,rt){var lt=Ie*Ie;if(Ie>0&&ce.size<(je?lt:Ie))_e.numPoints+=ce.length/3;else{for(var ft=[],et=0;et<ce.length;et+=3)(Ie===0||ce[et+2]>lt)&&(_e.numSimplified++,ft.push(ce[et]),ft.push(ce[et+1])),_e.numPoints++;je&&function(Mt,tn){for(var Ht=0,en=0,Dn=Mt.length,Bn=Dn-2;en<Dn;Bn=en,en+=2)Ht+=(Mt[en]-Mt[Bn])*(Mt[en+1]+Mt[Bn+1]);if(Ht>0===tn)for(en=0,Dn=Mt.length;en<Dn/2;en+=2){var qn=Mt[en],Er=Mt[en+1];Mt[en]=Mt[Dn-2-en],Mt[en+1]=Mt[Dn-1-en],Mt[Dn-2-en]=qn,Mt[Dn-1-en]=Er}}(ft,rt),Pe.push(ft)}}function fn(Pe,ce){var _e=(ce=this.options=function(je,rt){for(var lt in rt)je[lt]=rt[lt];return je}(Object.create(this.options),ce)).debug;if(_e&&console.time("preprocess data"),ce.maxZoom<0||ce.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ce.promoteId&&ce.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ie=function(je,rt){var lt=[];if(je.type==="FeatureCollection")for(var ft=0;ft<je.features.length;ft++)St(lt,je.features[ft],rt,ft);else St(lt,je.type==="Feature"?je:{geometry:je},rt);return lt}(Pe,ce);this.tiles={},this.tileCoords=[],_e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ce.indexMaxZoom,ce.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ie=function(je,rt){var lt=rt.buffer/rt.extent,ft=je,et=yn(je,1,-1-lt,lt,0,-1,2,rt),Mt=yn(je,1,1-lt,2+lt,0,-1,2,rt);return(et||Mt)&&(ft=yn(je,1,-lt,1+lt,0,-1,2,rt)||[],et&&(ft=J(et,1).concat(ft)),Mt&&(ft=ft.concat(J(Mt,-1)))),ft}(Ie,ce),Ie.length&&this.splitTile(Ie,0,0,0),_e&&(Ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pn(Pe,ce,_e){return 32*((1<<Pe)*_e+ce)+Pe}function On(Pe,ce){return ce?Pe.properties[ce]:Pe.id}function g(Pe,ce){if(Pe==null)return!0;if(Pe.type==="Feature")return On(Pe,ce)!=null;if(Pe.type==="FeatureCollection"){const _e=new Set;for(const Ie of Pe.features){const je=On(Ie,ce);if(je==null||_e.has(je))return!1;_e.add(je)}return!0}return!1}function Kt(Pe,ce){const _e=new Map;if(Pe!=null)if(Pe.type==="Feature")_e.set(On(Pe,ce),Pe);else for(const Ie of Pe.features)_e.set(On(Ie,ce),Ie);return _e}fn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},fn.prototype.splitTile=function(Pe,ce,_e,Ie,je,rt,lt){for(var ft=[Pe,ce,_e,Ie],et=this.options,Mt=et.debug;ft.length;){Ie=ft.pop(),_e=ft.pop(),ce=ft.pop(),Pe=ft.pop();var tn=1<<ce,Ht=Pn(ce,_e,Ie),en=this.tiles[Ht];if(!en&&(Mt>1&&console.time("creation"),en=this.tiles[Ht]=Bt(Pe,ce,_e,Ie,et),this.tileCoords.push({z:ce,x:_e,y:Ie}),Mt)){Mt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ce,_e,Ie,en.numFeatures,en.numPoints,en.numSimplified),console.timeEnd("creation"));var Dn="z"+ce;this.stats[Dn]=(this.stats[Dn]||0)+1,this.total++}if(en.source=Pe,je){if(ce===et.maxZoom||ce===je)continue;var Bn=1<<je-ce;if(_e!==Math.floor(rt/Bn)||Ie!==Math.floor(lt/Bn))continue}else if(ce===et.indexMaxZoom||en.numPoints<=et.indexMaxPoints)continue;if(en.source=null,Pe.length!==0){Mt>1&&console.time("clipping");var qn,Er,ur,Yr,Br,Fr,or=.5*et.buffer/et.extent,di=.5-or,Ri=.5+or,ro=1+or;qn=Er=ur=Yr=null,Br=yn(Pe,tn,_e-or,_e+Ri,0,en.minX,en.maxX,et),Fr=yn(Pe,tn,_e+di,_e+ro,0,en.minX,en.maxX,et),Pe=null,Br&&(qn=yn(Br,tn,Ie-or,Ie+Ri,1,en.minY,en.maxY,et),Er=yn(Br,tn,Ie+di,Ie+ro,1,en.minY,en.maxY,et),Br=null),Fr&&(ur=yn(Fr,tn,Ie-or,Ie+Ri,1,en.minY,en.maxY,et),Yr=yn(Fr,tn,Ie+di,Ie+ro,1,en.minY,en.maxY,et),Fr=null),Mt>1&&console.timeEnd("clipping"),ft.push(qn||[],ce+1,2*_e,2*Ie),ft.push(Er||[],ce+1,2*_e,2*Ie+1),ft.push(ur||[],ce+1,2*_e+1,2*Ie),ft.push(Yr||[],ce+1,2*_e+1,2*Ie+1)}}},fn.prototype.getTile=function(Pe,ce,_e){var Ie=this.options,je=Ie.extent,rt=Ie.debug;if(Pe<0||Pe>24)return null;var lt=1<<Pe,ft=Pn(Pe,ce=(ce%lt+lt)%lt,_e);if(this.tiles[ft])return Te(this.tiles[ft],je);rt>1&&console.log("drilling down to z%d-%d-%d",Pe,ce,_e);for(var et,Mt=Pe,tn=ce,Ht=_e;!et&&Mt>0;)Mt--,tn=Math.floor(tn/2),Ht=Math.floor(Ht/2),et=this.tiles[Pn(Mt,tn,Ht)];return et&&et.source?(rt>1&&console.log("found parent tile z%d-%d-%d",Mt,tn,Ht),rt>1&&console.time("drilling down"),this.splitTile(et.source,Mt,tn,Ht,Pe,ce,_e),rt>1&&console.timeEnd("drilling down"),this.tiles[ft]?Te(this.tiles[ft],je):null):null};class Pr extends E{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ce,_e){return a._(this,void 0,void 0,function*(){const Ie=ce.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const je=this._geoJSONIndex.getTile(Ie.z,Ie.x,Ie.y);if(!je)return null;const rt=new class{constructor(ft){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.W,this.length=ft.length,this._features=ft}feature(ft){return new class{constructor(et){this._feature=et,this.extent=a.W,this.type=et.type,this.properties=et.tags,"id"in et&&!isNaN(et.id)&&(this.id=parseInt(et.id,10))}loadGeometry(){if(this._feature.type===1){const et=[];for(const Mt of this._feature.geometry)et.push([new a.P(Mt[0],Mt[1])]);return et}{const et=[];for(const Mt of this._feature.geometry){const tn=[];for(const Ht of Mt)tn.push(new a.P(Ht[0],Ht[1]));et.push(tn)}return et}}toGeoJSON(et,Mt,tn){return ee.call(this,et,Mt,tn)}}(this._features[ft])}}(je.features);let lt=wt(rt);return lt.byteOffset===0&&lt.byteLength===lt.buffer.byteLength||(lt=new Uint8Array(lt)),{vectorTile:rt,rawData:lt.buffer}})}loadData(ce){return a._(this,void 0,void 0,function*(){var _e;(_e=this._pendingRequest)===null||_e===void 0||_e.abort();const Ie=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new a.bs(ce.request);this._pendingRequest=new AbortController;try{let je=yield this.loadGeoJSON(ce,this._pendingRequest);if(delete this._pendingRequest,typeof je!="object")throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`);if($(je,!0),ce.filter){const lt=a.by(ce.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(lt.result==="error")throw new Error(lt.value.map(et=>`${et.key}: ${et.message}`).join(", "));je={type:"FeatureCollection",features:je.features.filter(et=>lt.value.evaluate({zoom:0},et))}}this._geoJSONIndex=ce.cluster?new Yt(function({superclusterOptions:lt,clusterProperties:ft}){if(!ft||!lt)return lt;const et={},Mt={},tn={accumulated:null,zoom:0},Ht={properties:null},en=Object.keys(ft);for(const Dn of en){const[Bn,qn]=ft[Dn],Er=a.by(qn),ur=a.by(typeof Bn=="string"?[Bn,["accumulated"],["get",Dn]]:Bn);et[Dn]=Er.value,Mt[Dn]=ur.value}return lt.map=Dn=>{Ht.properties=Dn;const Bn={};for(const qn of en)Bn[qn]=et[qn].evaluate(tn,Ht);return Bn},lt.reduce=(Dn,Bn)=>{Ht.properties=Bn;for(const qn of en)tn.accumulated=Dn[qn],Dn[qn]=Mt[qn].evaluate(tn,Ht)},lt}(ce)).load(je.features):function(lt,ft){return new fn(lt,ft)}(je,ce.geojsonVtOptions),this.loaded={};const rt={};if(Ie){const lt=Ie.finish();lt&&(rt.resourceTiming={},rt.resourceTiming[ce.source]=JSON.parse(JSON.stringify(lt)))}return rt}catch(je){if(delete this._pendingRequest,a.bz(je))return{abandoned:!0};throw je}})}reloadTile(ce){const _e=this.loaded;return _e&&_e[ce.uid]?super.reloadTile(ce):this.loadTile(ce)}loadGeoJSON(ce,_e){return a._(this,void 0,void 0,function*(){const{promoteId:Ie}=ce;if(ce.request){const je=yield a.h(ce.request,_e);return this._dataUpdateable=g(je.data,Ie)?Kt(je.data,Ie):void 0,je.data}if(typeof ce.data=="string")try{const je=JSON.parse(ce.data);return this._dataUpdateable=g(je,Ie)?Kt(je,Ie):void 0,je}catch{throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`)}if(!ce.dataDiff)throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ce.source}`);return function(je,rt,lt){var ft,et,Mt,tn;if(rt.removeAll&&je.clear(),rt.remove)for(const Ht of rt.remove)je.delete(Ht);if(rt.add)for(const Ht of rt.add){const en=On(Ht,lt);en!=null&&je.set(en,Ht)}if(rt.update)for(const Ht of rt.update){let en=je.get(Ht.id);if(en==null)continue;const Dn=!Ht.removeAllProperties&&(((ft=Ht.removeProperties)===null||ft===void 0?void 0:ft.length)>0||((et=Ht.addOrUpdateProperties)===null||et===void 0?void 0:et.length)>0);if((Ht.newGeometry||Ht.removeAllProperties||Dn)&&(en=Object.assign({},en),je.set(Ht.id,en),Dn&&(en.properties=Object.assign({},en.properties))),Ht.newGeometry&&(en.geometry=Ht.newGeometry),Ht.removeAllProperties)en.properties={};else if(((Mt=Ht.removeProperties)===null||Mt===void 0?void 0:Mt.length)>0)for(const Bn of Ht.removeProperties)Object.prototype.hasOwnProperty.call(en.properties,Bn)&&delete en.properties[Bn];if(((tn=Ht.addOrUpdateProperties)===null||tn===void 0?void 0:tn.length)>0)for(const{key:Bn,value:qn}of Ht.addOrUpdateProperties)en.properties[Bn]=qn}}(this._dataUpdateable,ce.dataDiff,Ie),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ce){return a._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ce){return this._geoJSONIndex.getClusterExpansionZoom(ce.clusterId)}getClusterChildren(ce){return this._geoJSONIndex.getChildren(ce.clusterId)}getClusterLeaves(ce){return this._geoJSONIndex.getLeaves(ce.clusterId,ce.limit,ce.offset)}}class nr{constructor(ce){this.self=ce,this.actor=new a.C(ce),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(_e,Ie)=>{if(this.externalWorkerSourceTypes[_e])throw new Error(`Worker source with name "${_e}" already registered.`);this.externalWorkerSourceTypes[_e]=Ie},this.self.addProtocol=a.bf,this.self.removeProtocol=a.bg,this.self.registerRTLTextPlugin=_e=>{if(a.bA.isParsed())throw new Error("RTL text plugin already registered.");a.bA.setMethods(_e)},this.actor.registerMessageHandler("loadDEMTile",(_e,Ie)=>this._getDEMWorkerSource(_e,Ie.source).loadTile(Ie)),this.actor.registerMessageHandler("removeDEMTile",(_e,Ie)=>a._(this,void 0,void 0,function*(){this._getDEMWorkerSource(_e,Ie.source).removeTile(Ie)})),this.actor.registerMessageHandler("getClusterExpansionZoom",(_e,Ie)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(_e,Ie.type,Ie.source).getClusterExpansionZoom(Ie)})),this.actor.registerMessageHandler("getClusterChildren",(_e,Ie)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(_e,Ie.type,Ie.source).getClusterChildren(Ie)})),this.actor.registerMessageHandler("getClusterLeaves",(_e,Ie)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(_e,Ie.type,Ie.source).getClusterLeaves(Ie)})),this.actor.registerMessageHandler("loadData",(_e,Ie)=>this._getWorkerSource(_e,Ie.type,Ie.source).loadData(Ie)),this.actor.registerMessageHandler("loadTile",(_e,Ie)=>this._getWorkerSource(_e,Ie.type,Ie.source).loadTile(Ie)),this.actor.registerMessageHandler("reloadTile",(_e,Ie)=>this._getWorkerSource(_e,Ie.type,Ie.source).reloadTile(Ie)),this.actor.registerMessageHandler("abortTile",(_e,Ie)=>this._getWorkerSource(_e,Ie.type,Ie.source).abortTile(Ie)),this.actor.registerMessageHandler("removeTile",(_e,Ie)=>this._getWorkerSource(_e,Ie.type,Ie.source).removeTile(Ie)),this.actor.registerMessageHandler("removeSource",(_e,Ie)=>a._(this,void 0,void 0,function*(){if(!this.workerSources[_e]||!this.workerSources[_e][Ie.type]||!this.workerSources[_e][Ie.type][Ie.source])return;const je=this.workerSources[_e][Ie.type][Ie.source];delete this.workerSources[_e][Ie.type][Ie.source],je.removeSource!==void 0&&je.removeSource(Ie)})),this.actor.registerMessageHandler("removeMap",_e=>a._(this,void 0,void 0,function*(){delete this.layerIndexes[_e],delete this.availableImages[_e],delete this.workerSources[_e],delete this.demWorkerSources[_e]})),this.actor.registerMessageHandler("setReferrer",(_e,Ie)=>a._(this,void 0,void 0,function*(){this.referrer=Ie})),this.actor.registerMessageHandler("syncRTLPluginState",(_e,Ie)=>this._syncRTLPluginState(_e,Ie)),this.actor.registerMessageHandler("importScript",(_e,Ie)=>a._(this,void 0,void 0,function*(){this.self.importScripts(Ie)})),this.actor.registerMessageHandler("setImages",(_e,Ie)=>this._setImages(_e,Ie)),this.actor.registerMessageHandler("updateLayers",(_e,Ie)=>a._(this,void 0,void 0,function*(){this._getLayerIndex(_e).update(Ie.layers,Ie.removedIds)})),this.actor.registerMessageHandler("setLayers",(_e,Ie)=>a._(this,void 0,void 0,function*(){this._getLayerIndex(_e).replace(Ie)}))}_setImages(ce,_e){return a._(this,void 0,void 0,function*(){this.availableImages[ce]=_e;for(const Ie in this.workerSources[ce]){const je=this.workerSources[ce][Ie];for(const rt in je)je[rt].availableImages=_e}})}_syncRTLPluginState(ce,_e){return a._(this,void 0,void 0,function*(){if(a.bA.isParsed())return a.bA.getState();if(_e.pluginStatus!=="loading")return a.bA.setState(_e),_e;const Ie=_e.pluginURL;if(this.self.importScripts(Ie),a.bA.isParsed()){const je={pluginStatus:"loaded",pluginURL:Ie};return a.bA.setState(je),je}throw a.bA.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Ie}`)})}_getAvailableImages(ce){let _e=this.availableImages[ce];return _e||(_e=[]),_e}_getLayerIndex(ce){let _e=this.layerIndexes[ce];return _e||(_e=this.layerIndexes[ce]=new s),_e}_getWorkerSource(ce,_e,Ie){if(this.workerSources[ce]||(this.workerSources[ce]={}),this.workerSources[ce][_e]||(this.workerSources[ce][_e]={}),!this.workerSources[ce][_e][Ie]){const je={sendAsync:(rt,lt)=>(rt.targetMapId=ce,this.actor.sendAsync(rt,lt))};switch(_e){case"vector":this.workerSources[ce][_e][Ie]=new E(je,this._getLayerIndex(ce),this._getAvailableImages(ce));break;case"geojson":this.workerSources[ce][_e][Ie]=new Pr(je,this._getLayerIndex(ce),this._getAvailableImages(ce));break;default:this.workerSources[ce][_e][Ie]=new this.externalWorkerSourceTypes[_e](je,this._getLayerIndex(ce),this._getAvailableImages(ce))}}return this.workerSources[ce][_e][Ie]}_getDEMWorkerSource(ce,_e){return this.demWorkerSources[ce]||(this.demWorkerSources[ce]={}),this.demWorkerSources[ce][_e]||(this.demWorkerSources[ce][_e]=new O),this.demWorkerSources[ce][_e]}}return a.i(self)&&(self.worker=new nr(self)),nr}),i("index",["exports","./shared"],function(a,s){var h="4.1.2";let m,C;const E={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:I=>new Promise((u,p)=>{const _=requestAnimationFrame(u);I.signal.addEventListener("abort",()=>{cancelAnimationFrame(_),p(s.c())})}),getImageData(I,u=0){return this.getImageCanvasContext(I).getImageData(-u,-u,I.width+2*u,I.height+2*u)},getImageCanvasContext(I){const u=window.document.createElement("canvas"),p=u.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return u.width=I.width,u.height=I.height,p.drawImage(I,0,0,I.width,I.height),p},resolveURL:I=>(m||(m=document.createElement("a")),m.href=I,m.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(C==null&&(C=matchMedia("(prefers-reduced-motion: reduce)")),C.matches)}};class O{static testProp(u){if(!O.docStyle)return u[0];for(let p=0;p<u.length;p++)if(u[p]in O.docStyle)return u[p];return u[0]}static create(u,p,_){const w=window.document.createElement(u);return p!==void 0&&(w.className=p),_&&_.appendChild(w),w}static createNS(u,p){return window.document.createElementNS(u,p)}static disableDrag(){O.docStyle&&O.selectProp&&(O.userSelect=O.docStyle[O.selectProp],O.docStyle[O.selectProp]="none")}static enableDrag(){O.docStyle&&O.selectProp&&(O.docStyle[O.selectProp]=O.userSelect)}static setTransform(u,p){u.style[O.transformProp]=p}static addEventListener(u,p,_,w={}){u.addEventListener(p,_,"passive"in w?w:w.capture)}static removeEventListener(u,p,_,w={}){u.removeEventListener(p,_,"passive"in w?w:w.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",O.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",O.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",O.suppressClickInternal,!0)},0)}static getScale(u){const p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}static getPoint(u,p,_){const w=p.boundingClientRect;return new s.P((_.clientX-w.left)/p.x-u.clientLeft,(_.clientY-w.top)/p.y-u.clientTop)}static mousePos(u,p){const _=O.getScale(u);return O.getPoint(u,_,p)}static touchPos(u,p){const _=[],w=O.getScale(u);for(let k=0;k<p.length;k++)_.push(O.getPoint(u,w,p[k]));return _}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}}O.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,O.selectProp=O.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),O.transformProp=O.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(I){!ee&&$&&(H?G(I):D=I)}};let D,$,ee=!1,H=!1;function G(I){const u=I.createTexture();I.bindTexture(I.TEXTURE_2D,u);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,$),I.isContextLost())return;P.supported=!0}catch{}I.deleteTexture(u),ee=!0}var Z,ue;typeof document<"u"&&($=document.createElement("img"),$.onload=function(){D&&G(D),D=null,H=!0},$.onerror=function(){ee=!0,D=null},$.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(I){let u,p,_,w;I.resetRequestQueue=()=>{u=[],p=0,_=0,w={}},I.addThrottleControl=Q=>{const ie=_++;return w[ie]=Q,ie},I.removeThrottleControl=Q=>{delete w[Q],R()},I.getImage=(Q,ie,de=!0)=>new Promise((fe,Oe)=>{P.supported&&(Q.headers||(Q.headers={}),Q.headers.accept="image/webp,*/*"),s.e(Q,{type:"image"}),u.push({abortController:ie,requestParameters:Q,supportImageRefresh:de,state:"queued",onError:qe=>{Oe(qe)},onSuccess:qe=>{fe(qe)}}),R()});const k=Q=>s._(this,void 0,void 0,function*(){Q.state="running";const{requestParameters:ie,supportImageRefresh:de,onError:fe,onSuccess:Oe,abortController:qe}=Q,Ye=de===!1&&!s.i(self)&&!s.g(ie.url)&&(!ie.headers||Object.keys(ie.headers).reduce((ht,Dt)=>ht&&Dt==="accept",!0));p++;const Ze=Ye?j(ie,qe):s.m(ie,qe);try{const ht=yield Ze;delete Q.abortController,Q.state="completed",ht.data instanceof HTMLImageElement||s.b(ht.data)?Oe(ht):ht.data&&Oe({data:yield(Ne=ht.data,typeof createImageBitmap=="function"?s.d(Ne):s.f(Ne)),cacheControl:ht.cacheControl,expires:ht.expires})}catch(ht){delete Q.abortController,fe(ht)}finally{p--,R()}var Ne}),R=()=>{const Q=(()=>{for(const ie of Object.keys(w))if(w[ie]())return!0;return!1})()?s.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let ie=p;ie<Q&&u.length>0;ie++){const de=u.shift();de.abortController.signal.aborted?ie--:k(de)}},j=(Q,ie)=>new Promise((de,fe)=>{const Oe=new Image,qe=Q.url,Ye=Q.credentials;Ye&&Ye==="include"?Oe.crossOrigin="use-credentials":(Ye&&Ye==="same-origin"||!s.s(qe))&&(Oe.crossOrigin="anonymous"),ie.signal.addEventListener("abort",()=>{Oe.src="",fe(s.c())}),Oe.fetchPriority="high",Oe.onload=()=>{Oe.onerror=Oe.onload=null,de({data:Oe})},Oe.onerror=()=>{Oe.onerror=Oe.onload=null,ie.signal.aborted||fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Oe.src=qe})}(Z||(Z={})),Z.resetRequestQueue(),function(I){I.Glyphs="Glyphs",I.Image="Image",I.Source="Source",I.SpriteImage="SpriteImage",I.SpriteJSON="SpriteJSON",I.Style="Style",I.Tile="Tile",I.Unknown="Unknown"}(ue||(ue={}));class ye{constructor(u){this._transformRequestFn=u}transformRequest(u,p){return this._transformRequestFn&&this._transformRequestFn(u,p)||{url:u}}normalizeSpriteURL(u,p,_){const w=function(k){const R=k.match(be);if(!R)throw new Error(`Unable to parse URL "${k}"`);return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}(u);return w.path+=`${p}${_}`,function(k){const R=k.params.length?`?${k.params.join("&")}`:"";return`${k.protocol}://${k.authority}${k.path}${R}`}(w)}setTransformRequest(u){this._transformRequestFn=u}}const be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(I){var u=new s.A(3);return u[0]=I[0],u[1]=I[1],u[2]=I[2],u}var se,we=function(I,u,p){return I[0]=u[0]-p[0],I[1]=u[1]-p[1],I[2]=u[2]-p[2],I};se=new s.A(3),s.A!=Float32Array&&(se[0]=0,se[1]=0,se[2]=0);var xe=function(I){var u=I[0],p=I[1];return u*u+p*p};function De(I){const u=[];if(typeof I=="string")u.push({id:"default",url:I});else if(I&&I.length>0){const p=[];for(const{id:_,url:w}of I){const k=`${_}${w}`;p.indexOf(k)===-1&&(p.push(k),u.push({id:_,url:w}))}}return u}(function(){var I=new s.A(2);s.A!=Float32Array&&(I[0]=0,I[1]=0)})();class Ue{constructor(u,p,_,w){this.context=u,this.format=_,this.texture=u.gl.createTexture(),this.update(p,w)}update(u,p,_){const{width:w,height:k}=u,R=!(this.size&&this.size[0]===w&&this.size[1]===k||_),{context:j}=this,{gl:Q}=j;if(this.useMipmap=!!(p&&p.useMipmap),Q.bindTexture(Q.TEXTURE_2D,this.texture),j.pixelStoreUnpackFlipY.set(!1),j.pixelStoreUnpack.set(1),j.pixelStoreUnpackPremultiplyAlpha.set(this.format===Q.RGBA&&(!p||p.premultiply!==!1)),R)this.size=[w,k],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||s.b(u)?Q.texImage2D(Q.TEXTURE_2D,0,this.format,this.format,Q.UNSIGNED_BYTE,u):Q.texImage2D(Q.TEXTURE_2D,0,this.format,w,k,0,this.format,Q.UNSIGNED_BYTE,u.data);else{const{x:ie,y:de}=_||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||s.b(u)?Q.texSubImage2D(Q.TEXTURE_2D,0,ie,de,Q.RGBA,Q.UNSIGNED_BYTE,u):Q.texSubImage2D(Q.TEXTURE_2D,0,ie,de,w,k,Q.RGBA,Q.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Q.generateMipmap(Q.TEXTURE_2D)}bind(u,p,_){const{context:w}=this,{gl:k}=w;k.bindTexture(k.TEXTURE_2D,this.texture),_!==k.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(_=k.LINEAR),u!==this.filter&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,u),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,_||u),this.filter=u),p!==this.wrap&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,p),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}function he(I){const{userImage:u}=I;return!!(u&&u.render&&u.render())&&(I.data.replace(new Uint8Array(u.data.buffer)),!0)}class $e extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:p,promiseResolve:_}of this.requestors)_(this._getImagesForIds(p));this.requestors=[]}}getImage(u){const p=this.images[u];if(p&&!p.data&&p.spriteData){const _=p.spriteData;p.data=new s.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),p.spriteData=null}return p}addImage(u,p){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,p)&&(this.images[u]=p)}_validate(u,p){let _=!0;const w=p.data||p.spriteData;return this._validateStretch(p.stretchX,w&&w.width)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "stretchX" value`))),_=!1),this._validateStretch(p.stretchY,w&&w.height)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "stretchY" value`))),_=!1),this._validateContent(p.content,p)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "content" value`))),_=!1),_}_validateStretch(u,p){if(!u)return!0;let _=0;for(const w of u){if(w[0]<_||w[1]<w[0]||p<w[1])return!1;_=w[1]}return!0}_validateContent(u,p){if(!u)return!0;if(u.length!==4)return!1;const _=p.spriteData,w=_&&_.width||p.data.width,k=_&&_.height||p.data.height;return!(u[0]<0||w<u[0]||u[1]<0||k<u[1]||u[2]<0||w<u[2]||u[3]<0||k<u[3]||u[2]<u[0]||u[3]<u[1])}updateImage(u,p,_=!0){const w=this.getImage(u);if(_&&(w.data.width!==p.data.width||w.data.height!==p.data.height))throw new Error(`size mismatch between old image (${w.data.width}x${w.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=w.version+1,this.images[u]=p,this.updatedImages[u]=!0}removeImage(u){const p=this.images[u];delete this.images[u],delete this.patterns[u],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u){return new Promise((p,_)=>{let w=!0;if(!this.isLoaded())for(const k of u)this.images[k]||(w=!1);this.isLoaded()||w?p(this._getImagesForIds(u)):this.requestors.push({ids:u,promiseResolve:p})})}_getImagesForIds(u){const p={};for(const _ of u){let w=this.getImage(_);w||(this.fire(new s.k("styleimagemissing",{id:_})),w=this.getImage(_)),w?p[_]={data:w.data.clone(),pixelRatio:w.pixelRatio,sdf:w.sdf,version:w.version,stretchX:w.stretchX,stretchY:w.stretchY,content:w.content,hasRenderCallback:!!(w.userImage&&w.userImage.render)}:s.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return p}getPixelSize(){const{width:u,height:p}=this.atlasImage;return{width:u,height:p}}getPattern(u){const p=this.patterns[u],_=this.getImage(u);if(!_)return null;if(p&&p.position.version===_.version)return p.position;if(p)p.position.version=_.version;else{const w={w:_.data.width+2,h:_.data.height+2,x:0,y:0},k=new s.I(w,_);this.patterns[u]={bin:w,position:k}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const p=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Ue(u,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const k in this.patterns)u.push(this.patterns[k].bin);const{w:p,h:_}=s.p(u),w=this.atlasImage;w.resize({width:p||1,height:_||1});for(const k in this.patterns){const{bin:R}=this.patterns[k],j=R.x+1,Q=R.y+1,ie=this.getImage(k).data,de=ie.width,fe=ie.height;s.R.copy(ie,w,{x:0,y:0},{x:j,y:Q},{width:de,height:fe}),s.R.copy(ie,w,{x:0,y:fe-1},{x:j,y:Q-1},{width:de,height:1}),s.R.copy(ie,w,{x:0,y:0},{x:j,y:Q+fe},{width:de,height:1}),s.R.copy(ie,w,{x:de-1,y:0},{x:j-1,y:Q},{width:1,height:fe}),s.R.copy(ie,w,{x:0,y:0},{x:j+de,y:Q},{width:1,height:fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const p of u){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const _=this.getImage(p);_||s.w(`Image with ID: "${p}" was not found`),he(_)&&this.updateImage(p,_)}}}const ge=1e20;function yt(I,u,p,_,w,k,R,j,Q){for(let ie=u;ie<u+_;ie++)wt(I,p*k+ie,k,w,R,j,Q);for(let ie=p;ie<p+w;ie++)wt(I,ie*k+u,1,_,R,j,Q)}function wt(I,u,p,_,w,k,R){k[0]=0,R[0]=-ge,R[1]=ge,w[0]=I[u];for(let j=1,Q=0,ie=0;j<_;j++){w[j]=I[u+j*p];const de=j*j;do{const fe=k[Q];ie=(w[j]-w[fe]+de-fe*fe)/(j-fe)/2}while(ie<=R[Q]&&--Q>-1);Q++,k[Q]=j,R[Q]=ie,R[Q+1]=ge}for(let j=0,Q=0;j<_;j++){for(;R[Q+1]<j;)Q++;const ie=k[Q],de=j-ie;I[u+j*p]=w[ie]+de*de}}class st{constructor(u,p){this.requestManager=u,this.localIdeographFontFamily=p,this.entries={}}setURL(u){this.url=u}getGlyphs(u){return s._(this,void 0,void 0,function*(){const p=[];for(const k in u)for(const R of u[k])p.push(this._getAndCacheGlyphsPromise(k,R));const _=yield Promise.all(p),w={};for(const{stack:k,id:R,glyph:j}of _)w[k]||(w[k]={}),w[k][R]=j&&{id:j.id,bitmap:j.bitmap.clone(),metrics:j.metrics};return w})}_getAndCacheGlyphsPromise(u,p){return s._(this,void 0,void 0,function*(){let _=this.entries[u];_||(_=this.entries[u]={glyphs:{},requests:{},ranges:{}});let w=_.glyphs[p];if(w!==void 0)return{stack:u,id:p,glyph:w};if(w=this._tinySDF(_,u,p),w)return _.glyphs[p]=w,{stack:u,id:p,glyph:w};const k=Math.floor(p/256);if(256*k>65535)throw new Error("glyphs > 65535 not supported");if(_.ranges[k])return{stack:u,id:p,glyph:w};if(!this.url)throw new Error("glyphsUrl is not set");if(!_.requests[k]){const j=st.loadGlyphRange(u,k,this.url,this.requestManager);_.requests[k]=j}const R=yield _.requests[k];for(const j in R)this._doesCharSupportLocalGlyph(+j)||(_.glyphs[+j]=R[+j]);return _.ranges[k]=!0,{stack:u,id:p,glyph:R[p]||null}})}_doesCharSupportLocalGlyph(u){return!!this.localIdeographFontFamily&&(s.u["CJK Unified Ideographs"](u)||s.u["Hangul Syllables"](u)||s.u.Hiragana(u)||s.u.Katakana(u))}_tinySDF(u,p,_){const w=this.localIdeographFontFamily;if(!w||!this._doesCharSupportLocalGlyph(_))return;let k=u.tinySDF;if(!k){let j="400";/bold/i.test(p)?j="900":/medium/i.test(p)?j="500":/light/i.test(p)&&(j="200"),k=u.tinySDF=new st.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:w,fontWeight:j})}const R=k.draw(String.fromCharCode(_));return{id:_,bitmap:new s.o({width:R.width||60,height:R.height||60},R.data),metrics:{width:R.glyphWidth/2||24,height:R.glyphHeight/2||24,left:R.glyphLeft/2+.5||0,top:R.glyphTop/2-27.5||-8,advance:R.glyphAdvance/2||24,isDoubleResolution:!0}}}}st.loadGlyphRange=function(I,u,p,_){return s._(this,void 0,void 0,function*(){const w=256*u,k=w+255,R=_.transformRequest(p.replace("{fontstack}",I).replace("{range}",`${w}-${k}`),ue.Glyphs),j=yield s.l(R,new AbortController);if(!j||!j.data)throw new Error(`Could not load glyph range. range: ${u}, ${w}-${k}`);const Q={};for(const ie of s.n(j.data))Q[ie.id]=ie;return Q})},st.TinySDF=class{constructor({fontSize:I=24,buffer:u=3,radius:p=8,cutoff:_=.25,fontFamily:w="sans-serif",fontWeight:k="normal",fontStyle:R="normal"}={}){this.buffer=u,this.cutoff=_,this.radius=p;const j=this.size=I+4*u,Q=this._createCanvas(j),ie=this.ctx=Q.getContext("2d",{willReadFrequently:!0});ie.font=`${R} ${k} ${I}px ${w}`,ie.textBaseline="alphabetic",ie.textAlign="left",ie.fillStyle="black",this.gridOuter=new Float64Array(j*j),this.gridInner=new Float64Array(j*j),this.f=new Float64Array(j),this.z=new Float64Array(j+1),this.v=new Uint16Array(j)}_createCanvas(I){const u=document.createElement("canvas");return u.width=u.height=I,u}draw(I){const{width:u,actualBoundingBoxAscent:p,actualBoundingBoxDescent:_,actualBoundingBoxLeft:w,actualBoundingBoxRight:k}=this.ctx.measureText(I),R=Math.ceil(p),j=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(k-w))),Q=Math.min(this.size-this.buffer,R+Math.ceil(_)),ie=j+2*this.buffer,de=Q+2*this.buffer,fe=Math.max(ie*de,0),Oe=new Uint8ClampedArray(fe),qe={data:Oe,width:ie,height:de,glyphWidth:j,glyphHeight:Q,glyphTop:R,glyphLeft:0,glyphAdvance:u};if(j===0||Q===0)return qe;const{ctx:Ye,buffer:Ze,gridInner:Ne,gridOuter:ht}=this;Ye.clearRect(Ze,Ze,j,Q),Ye.fillText(I,Ze,Ze+R);const Dt=Ye.getImageData(Ze,Ze,j,Q);ht.fill(ge,0,fe),Ne.fill(0,0,fe);for(let tt=0;tt<Q;tt++)for(let bt=0;bt<j;bt++){const Pt=Dt.data[4*(tt*j+bt)+3]/255;if(Pt===0)continue;const Lt=(tt+Ze)*ie+bt+Ze;if(Pt===1)ht[Lt]=0,Ne[Lt]=ge;else{const Xt=.5-Pt;ht[Lt]=Xt>0?Xt*Xt:0,Ne[Lt]=Xt<0?Xt*Xt:0}}yt(ht,0,0,ie,de,ie,this.f,this.v,this.z),yt(Ne,Ze,Ze,j,Q,ie,this.f,this.v,this.z);for(let tt=0;tt<fe;tt++){const bt=Math.sqrt(ht[tt])-Math.sqrt(Ne[tt]);Oe[tt]=Math.round(255-255*(bt/this.radius+this.cutoff))}return qe}};class mt{constructor(){this.specification=s.v.light.position}possiblyEvaluate(u,p){return s.y(u.expression.evaluate(p))}interpolate(u,p,_){return{x:s.z.number(u.x,p.x,_),y:s.z.number(u.y,p.y,_),z:s.z.number(u.z,p.z,_)}}}let ze;class He extends s.E{constructor(u){super(),ze=ze||new s.q({anchor:new s.D(s.v.light.anchor),position:new mt,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T(ze),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,p={}){if(!this._validate(s.r,u,p))for(const _ in u){const w=u[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),w):this._transitionable.setValue(_,w)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,p,_){return(!_||_.validate!==!1)&&s.t(this,u.call(s.x,{value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.v}))}}class Ve{constructor(u,p){this.width=u,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,p){const _=u.join(",")+String(p);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(u,p)),this.dashEntry[_]}getDashRanges(u,p,_){const w=[];let k=u.length%2==1?-u[u.length-1]*_:0,R=u[0]*_,j=!0;w.push({left:k,right:R,isDash:j,zeroLength:u[0]===0});let Q=u[0];for(let ie=1;ie<u.length;ie++){j=!j;const de=u[ie];k=Q*_,Q+=de,R=Q*_,w.push({left:k,right:R,isDash:j,zeroLength:de===0})}return w}addRoundDash(u,p,_){const w=p/2;for(let k=-_;k<=_;k++){const R=this.width*(this.nextRow+_+k);let j=0,Q=u[j];for(let ie=0;ie<this.width;ie++){ie/Q.right>1&&(Q=u[++j]);const de=Math.abs(ie-Q.left),fe=Math.abs(ie-Q.right),Oe=Math.min(de,fe);let qe;const Ye=k/_*(w+1);if(Q.isDash){const Ze=w-Math.abs(Ye);qe=Math.sqrt(Oe*Oe+Ze*Ze)}else qe=w-Math.sqrt(Oe*Oe+Ye*Ye);this.data[R+ie]=Math.max(0,Math.min(255,qe+128))}}}addRegularDash(u){for(let j=u.length-1;j>=0;--j){const Q=u[j],ie=u[j+1];Q.zeroLength?u.splice(j,1):ie&&ie.isDash===Q.isDash&&(ie.left=Q.left,u.splice(j,1))}const p=u[0],_=u[u.length-1];p.isDash===_.isDash&&(p.left=_.left-this.width,_.right=p.right+this.width);const w=this.width*this.nextRow;let k=0,R=u[k];for(let j=0;j<this.width;j++){j/R.right>1&&(R=u[++k]);const Q=Math.abs(j-R.left),ie=Math.abs(j-R.right),de=Math.min(Q,ie);this.data[w+j]=Math.max(0,Math.min(255,(R.isDash?de:-de)+128))}}addDash(u,p){const _=p?7:0,w=2*_+1;if(this.nextRow+w>this.height)return s.w("LineAtlas out of space"),null;let k=0;for(let j=0;j<u.length;j++)k+=u[j];if(k!==0){const j=this.width/k,Q=this.getDashRanges(u,this.width,j);p?this.addRoundDash(Q,j,_):this.addRegularDash(Q)}const R={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:k};return this.nextRow+=w,this.dirty=!0,R}bind(u){const p=u.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}const Vt="maplibre_preloaded_worker_pool";class Yt{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<Yt.workerCount;)this.workers.push(new Worker(s.a.WORKER_URL));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Vt]}numActive(){return Object.keys(this.active).length}}const vt=Math.floor(E.hardwareConcurrency/2);let Qt,$t;function ke(){return Qt||(Qt=new Yt),Qt}Yt.workerCount=s.B(globalThis)?Math.max(Math.min(vt,3),1):1;class pe{constructor(u,p){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=p;const _=this.workerPool.acquire(p);for(let w=0;w<_.length;w++){const k=new s.C(_[w],p);k.name=`Worker ${w}`,this.actors.push(k)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,p){const _=[];for(const w of this.actors)_.push(w.sendAsync({type:u,data:p}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(u=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],u&&this.workerPool.release(this.id)}registerMessageHandler(u,p){for(const _ of this.actors)_.registerMessageHandler(u,p)}}function Se(){return $t||($t=new pe(ke(),s.G),$t.registerMessageHandler("getResource",(I,u,p)=>s.m(u,p))),$t}function Re(I,u){const p=s.F();return s.H(p,p,[1,1,0]),s.J(p,p,[.5*I.width,.5*I.height,1]),s.K(p,p,I.calculatePosMatrix(u.toUnwrapped()))}function it(I,u,p,_,w,k){const R=function(fe,Oe,qe){if(fe)for(const Ye of fe){const Ze=Oe[Ye];if(Ze&&Ze.source===qe&&Ze.type==="fill-extrusion")return!0}else for(const Ye in Oe){const Ze=Oe[Ye];if(Ze.source===qe&&Ze.type==="fill-extrusion")return!0}return!1}(w&&w.layers,u,I.id),j=k.maxPitchScaleFactor(),Q=I.tilesIn(_,j,R);Q.sort(ot);const ie=[];for(const fe of Q)ie.push({wrappedTileID:fe.tileID.wrapped().key,queryResults:fe.tile.queryRenderedFeatures(u,p,I._state,fe.queryGeometry,fe.cameraQueryGeometry,fe.scale,w,k,j,Re(I.transform,fe.tileID))});const de=function(fe){const Oe={},qe={};for(const Ye of fe){const Ze=Ye.queryResults,Ne=Ye.wrappedTileID,ht=qe[Ne]=qe[Ne]||{};for(const Dt in Ze){const tt=Ze[Dt],bt=ht[Dt]=ht[Dt]||{},Pt=Oe[Dt]=Oe[Dt]||[];for(const Lt of tt)bt[Lt.featureIndex]||(bt[Lt.featureIndex]=!0,Pt.push(Lt))}}return Oe}(ie);for(const fe in de)de[fe].forEach(Oe=>{const qe=Oe.feature,Ye=I.getFeatureState(qe.layer["source-layer"],qe.id);qe.source=qe.layer.source,qe.layer["source-layer"]&&(qe.sourceLayer=qe.layer["source-layer"]),qe.state=Ye});return de}function ot(I,u){const p=I.tileID,_=u.tileID;return p.overscaledZ-_.overscaledZ||p.canonical.y-_.canonical.y||p.wrap-_.wrap||p.canonical.x-_.canonical.x}function St(I,u,p){return s._(this,void 0,void 0,function*(){let _=I;if(I.url?_=(yield s.h(u.transformRequest(I.url,ue.Source),p)).data:yield E.frameAsync(p),!_)return null;const w=s.L(s.e(_,I),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(w.vectorLayerIds=_.vector_layers.map(k=>k.id)),w})}class Rt{constructor(u,p){u&&(p?this.setSouthWest(u).setNorthEast(p):Array.isArray(u)&&(u.length===4?this.setSouthWest([u[0],u[1]]).setNorthEast([u[2],u[3]]):this.setSouthWest(u[0]).setNorthEast(u[1])))}setNorthEast(u){return this._ne=u instanceof s.M?new s.M(u.lng,u.lat):s.M.convert(u),this}setSouthWest(u){return this._sw=u instanceof s.M?new s.M(u.lng,u.lat):s.M.convert(u),this}extend(u){const p=this._sw,_=this._ne;let w,k;if(u instanceof s.M)w=u,k=u;else{if(!(u instanceof Rt))return Array.isArray(u)?u.length===4||u.every(Array.isArray)?this.extend(Rt.convert(u)):this.extend(s.M.convert(u)):u&&("lng"in u||"lon"in u)&&"lat"in u?this.extend(s.M.convert(u)):this;if(w=u._sw,k=u._ne,!w||!k)return this}return p||_?(p.lng=Math.min(w.lng,p.lng),p.lat=Math.min(w.lat,p.lat),_.lng=Math.max(k.lng,_.lng),_.lat=Math.max(k.lat,_.lat)):(this._sw=new s.M(w.lng,w.lat),this._ne=new s.M(k.lng,k.lat)),this}getCenter(){return new s.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.M(this.getWest(),this.getNorth())}getSouthEast(){return new s.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(u){const{lng:p,lat:_}=s.M.convert(u);let w=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(w=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&w}static convert(u){return u instanceof Rt?u:u&&new Rt(u)}static fromLngLat(u,p=0){const _=360*p/40075017,w=_/Math.cos(Math.PI/180*u.lat);return new Rt(new s.M(u.lng-w,u.lat-_),new s.M(u.lng+w,u.lat+_))}}class zt{constructor(u,p,_){this.bounds=Rt.convert(this.validateBounds(u)),this.minzoom=p||0,this.maxzoom=_||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const p=Math.pow(2,u.z),_=Math.floor(s.N(this.bounds.getWest())*p),w=Math.floor(s.O(this.bounds.getNorth())*p),k=Math.ceil(s.N(this.bounds.getEast())*p),R=Math.ceil(s.O(this.bounds.getSouth())*p);return u.x>=_&&u.x<k&&u.y>=w&&u.y<R}}class pt extends s.E{constructor(u,p,_,w){if(super(),this.id=u,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.L(p,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w)}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),u&&(s.e(this,u),u.bounds&&(this.tileBounds=new zt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new s.j(u))}})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.abort(),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(p,ue.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};_.request.collectResourceTiming=this._collectResourceTiming;let w="reloadTile";if(u.actor&&u.state!=="expired"){if(u.state==="loading")return new Promise((k,R)=>{u.reloadPromise={resolve:k,reject:R}})}else u.actor=this.dispatcher.getActor(),w="loadTile";u.abortController=new AbortController;try{const k=yield u.actor.sendAsync({type:w,data:_},u.abortController);if(delete u.abortController,u.aborted)return;this._afterTileLoadWorkerResponse(u,k)}catch(k){if(delete u.abortController,u.aborted)return;if(k&&k.status!==404)throw k;this._afterTileLoadWorkerResponse(u,null)}})}_afterTileLoadWorkerResponse(u,p){if(p&&p.resourceTiming&&(u.resourceTiming=p.resourceTiming),p&&this.map._refreshExpiredTiles&&u.setExpiryData(p),u.loadVectorData(p,this.map.painter),u.reloadPromise){const _=u.reloadPromise;u.reloadPromise=null,this.loadTile(u).then(_.resolve).catch(_.reject)}}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.actor&&(yield u.actor.sendAsync({type:"abortTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.unloadVectorData(),u.actor&&(yield u.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class ir extends s.E{constructor(u,p,_,w){super(),this.id=u,this.dispatcher=_,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},p),s.e(this,s.L(p,["url","scheme","tileSize"]))}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,u&&(s.e(this,u),u.bounds&&(this.tileBounds=new zt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new s.j(u))}})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(u){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}serialize(){return s.e({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.abortController=new AbortController;try{const _=yield Z.getImage(this.map._requestManager.transformRequest(p,ue.Tile),u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&_.cacheControl&&_.expires&&u.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const w=this.map.painter.context,k=w.gl,R=_.data;u.texture=this.map.painter.getTileTexture(R.width),u.texture?u.texture.update(R,{useMipmap:!0}):(u.texture=new Ue(w,R,k.RGBA,{useMipmap:!0}),u.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),w.extTextureFilterAnisotropic&&k.texParameterf(k.TEXTURE_2D,w.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,w.extTextureFilterAnisotropicMax)),u.state="loaded"}}catch(_){if(delete u.abortController,u.aborted)u.state="unloaded";else if(_)throw u.state="errored",_}})}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController)})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.texture&&this.map.painter.saveTileTexture(u.texture)})}hasTransition(){return!1}}class gn extends ir{constructor(u,p,_,w){super(u,p,_,w),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(p,ue.Tile);u.neighboringTiles=this._getNeighboringTiles(u.tileID),u.abortController=new AbortController;try{const w=yield Z.getImage(_,u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(w&&w.data){const k=w.data;this.map._refreshExpiredTiles&&w.cacheControl&&w.expires&&u.setExpiryData({cacheControl:w.cacheControl,expires:w.expires});const R=s.b(k)&&s.S()?k:yield this.readImageNow(k),j={type:this.type,uid:u.uid,source:this.id,rawImageData:R,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!u.actor||u.state==="expired"){u.actor=this.dispatcher.getActor();const Q=yield u.actor.sendAsync({type:"loadDEMTile",data:j});u.dem=Q,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded"}}}catch(w){if(delete u.abortController,u.aborted)u.state="unloaded";else if(w)throw u.state="errored",w}})}readImageNow(u){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.U()){const p=u.width+2,_=u.height+2;try{return new s.R({width:p,height:_},yield s.V(u,-1,-1,p,_))}catch{}}return E.getImageData(u,1)})}_getNeighboringTiles(u){const p=u.canonical,_=Math.pow(2,p.z),w=(p.x-1+_)%_,k=p.x===0?u.wrap-1:u.wrap,R=(p.x+1+_)%_,j=p.x+1===_?u.wrap+1:u.wrap,Q={};return Q[new s.Q(u.overscaledZ,k,p.z,w,p.y).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,j,p.z,R,p.y).key]={backfilled:!1},p.y>0&&(Q[new s.Q(u.overscaledZ,k,p.z,w,p.y-1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,j,p.z,R,p.y-1).key]={backfilled:!1}),p.y+1<_&&(Q[new s.Q(u.overscaledZ,k,p.z,w,p.y+1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,j,p.z,R,p.y+1).key]={backfilled:!1}),Q}unloadTile(u){return s._(this,void 0,void 0,function*(){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&(yield u.actor.sendAsync({type:"removeDEMTile",data:{type:this.type,uid:u.uid,source:this.id}}))})}}class yn extends s.E{constructor(u,p,_,w){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=_.getActor(),this.setEventedParent(w),this._data=p.data,this._options=s.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const k=s.W/this.tileSize;this.workerOptions=s.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*k,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*k,extent:s.W,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:s.W,radius:(p.clusterRadius||50)*k,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return s._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(u){this.map=u,this.load()}setData(u){return this._data=u,this._updateWorkerData(),this}updateData(u){return this._updateWorkerData(u),this}setClusterOptions(u){return this.workerOptions.cluster=u.cluster,u&&(u.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=u.clusterRadius),u.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=u.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(u){return this.actor.sendAsync({type:"getClusterExpansionZoom",data:{type:this.type,clusterId:u,source:this.id}})}getClusterChildren(u){return this.actor.sendAsync({type:"getClusterChildren",data:{type:this.type,clusterId:u,source:this.id}})}getClusterLeaves(u,p,_){return this.actor.sendAsync({type:"getClusterLeaves",data:{type:this.type,source:this.id,clusterId:u,limit:p,offset:_}})}_updateWorkerData(u){return s._(this,void 0,void 0,function*(){const p=s.e({type:this.type},this.workerOptions);u?p.dataDiff=u:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(E.resolveURL(this._data),ue.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.k("dataloading",{dataType:"source"}));try{const _=yield this.actor.sendAsync({type:"loadData",data:p});if(this._pendingLoads--,this._removed||_.abandoned)return void this.fire(new s.k("dataabort",{dataType:"source"}));let w=null;_.resourceTiming&&_.resourceTiming[this.id]&&(w=_.resourceTiming[this.id].slice(0));const k={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&s.e(k,{resourceTiming:w}),this.fire(new s.k("data",Object.assign(Object.assign({},k),{sourceDataType:"metadata"}))),this.fire(new s.k("data",Object.assign(Object.assign({},k),{sourceDataType:"content"})))}catch(_){if(this._pendingLoads--,this._removed)return void this.fire(new s.k("dataabort",{dataType:"source"}));this.fire(new s.j(_))}})}loaded(){return this._pendingLoads===0}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.actor?"reloadTile":"loadTile";u.actor=this.actor;const _={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.abortController=new AbortController;const w=yield this.actor.sendAsync({type:p,data:_},u.abortController);delete u.abortController,u.unloadVectorData(),u.aborted||u.loadVectorData(w,this.map.painter,p==="reloadTile")})}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.aborted=!0})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.unloadVectorData(),yield this.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"removeSource",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var er=s.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class cr extends s.E{constructor(u,p,_,w){super(),this.id=u,this.dispatcher=_,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=p}load(u){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const p=yield Z.getImage(this.map._requestManager.transformRequest(this.url,ue.Image),this._request);this._request=null,this._loaded=!0,p&&p.data&&(this.image=p.data,u&&(this.coordinates=u),this._finishLoading())}catch(p){this._request=null,this.fire(new s.j(p))}})}loaded(){return this._loaded}updateImage(u){return u.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=u.url,this.load(u.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(u){this.coordinates=u;const p=u.map(s.Y.fromLngLat);this.tileID=function(w){let k=1/0,R=1/0,j=-1/0,Q=-1/0;for(const Oe of w)k=Math.min(k,Oe.x),R=Math.min(R,Oe.y),j=Math.max(j,Oe.x),Q=Math.max(Q,Oe.y);const ie=Math.max(j-k,Q-R),de=Math.max(0,Math.floor(-Math.log(ie)/Math.LN2)),fe=Math.pow(2,de);return new s.a0(de,Math.floor((k+j)/2*fe),Math.floor((R+Q)/2*fe))}(p),this.minzoom=this.maxzoom=this.tileID.z;const _=p.map(w=>this.tileID.getTilePoint(w)._round());return this._boundsArray=new s.Z,this._boundsArray.emplaceBack(_[0].x,_[0].y,0,0),this._boundsArray.emplaceBack(_[1].x,_[1].y,s.W,0),this._boundsArray.emplaceBack(_[3].x,_[3].y,0,s.W),this._boundsArray.emplaceBack(_[2].x,_[2].y,s.W,s.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Ue(u,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let _=!1;for(const w in this.tiles){const k=this.tiles[w];k.state!=="loaded"&&(k.state="loaded",k.texture=this.texture,_=!0)}_&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(u){return s._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={}):u.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Sr extends cr{constructor(u,p,_,w){super(u,p,_,w),this.roundZoom=!0,this.type="video",this.options=p}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1;const u=this.options;this.urls=[];for(const p of u.urls)this.urls.push(this.map._requestManager.transformRequest(p,ue.Source).url);try{const p=yield s.a2(this.urls);if(this._loaded=!0,!p)return;this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(p){this.fire(new s.j(p))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const p=this.video.seekable;u<p.start(0)||u>p.end(0)?this.fire(new s.j(new s.a1(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new Ue(u,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let _=!1;for(const w in this.tiles){const k=this.tiles[w];k.state!=="loaded"&&(k.state="loaded",k.texture=this.texture,_=!0)}_&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Gr extends cr{constructor(u,p,_,w){super(u,p,_,w),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(k=>!Array.isArray(k)||k.length!==2||k.some(R=>typeof R!="number"))||this.fire(new s.j(new s.a1(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.j(new s.a1(`sources.${u}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new s.j(new s.a1(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new s.j(new s.a1(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.j(new s.a1(`sources.${u}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){return s._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const p=this.map.painter.context,_=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Ue(p,this.canvas,_.RGBA,{premultiply:!0});let w=!1;for(const k in this.tiles){const R=this.tiles[k];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,w=!0)}w&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const yr={},_i=I=>{switch(I){case"geojson":return yn;case"image":return cr;case"raster":return ir;case"raster-dem":return gn;case"vector":return pt;case"video":return Sr;case"canvas":return Gr}return yr[I]},Ee="RTLPluginLoaded";class J extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Se()}_syncState(u){return this.status=u,this.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:u,pluginURL:this.url}).catch(p=>{throw this.status="error",p})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(u){return s._(this,arguments,void 0,function*(p,_=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=E.resolveURL(p),!this.url)throw new Error(`requested url ${p} is invalid`);if(this.status==="unavailable"){if(!_)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return s._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.k(Ee))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let q=null;function Te(){return q||(q=new J),q}class At{constructor(u,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=u,this.uid=s.a3(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(u){const p=u+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(u,p,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=function(w,k){const R={};if(!k)return R;for(const j of w){const Q=j.layerIds.map(ie=>k.getLayer(ie)).filter(Boolean);if(Q.length!==0){j.layers=Q,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(ie=>Q.filter(de=>de.id===ie)[0]));for(const ie of Q)R[ie.id]=j}}return R}(u.buckets,p.style),this.hasSymbolBuckets=!1;for(const w in this.buckets){const k=this.buckets[w];if(k instanceof s.a5){if(this.hasSymbolBuckets=!0,!_)break;k.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const w in this.buckets){const k=this.buckets[w];if(k instanceof s.a5&&k.hasRTLText){this.hasRTLText=!0,Te().lazyLoad();break}}this.queryPadding=0;for(const w in this.buckets){const k=this.buckets[w];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(w).queryRadius(k))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage)}else this.collisionBoxArray=new s.a4}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const _ in this.buckets){const w=this.buckets[_];w.uploadPending()&&w.upload(u)}const p=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ue(u,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ue(u,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,p,_,w,k,R,j,Q,ie,de){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:w,cameraQueryGeometry:k,scale:R,tileSize:this.tileSize,pixelPosMatrix:de,transform:Q,params:j,queryPadding:this.queryPadding*ie},u,p,_):{}}querySourceFeatures(u,p){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const w=_.loadVTLayers(),k=p&&p.sourceLayer?p.sourceLayer:"",R=w._geojsonTileLayer||w[k];if(!R)return;const j=s.a6(p&&p.filter),{z:Q,x:ie,y:de}=this.tileID.canonical,fe={z:Q,x:ie,y:de};for(let Oe=0;Oe<R.length;Oe++){const qe=R.feature(Oe);if(j.needGeometry){const Ne=s.a7(qe,!0);if(!j.filter(new s.a8(this.tileID.overscaledZ),Ne,this.tileID.canonical))continue}else if(!j.filter(new s.a8(this.tileID.overscaledZ),qe))continue;const Ye=_.getId(qe,k),Ze=new s.a9(qe,Q,ie,de,Ye);Ze.tile=fe,u.push(Ze)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const p=this.expirationTime;if(u.cacheControl){const _=s.aa(u.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const _=Date.now();let w=!1;if(this.expirationTime>_)w=!1;else if(p)if(this.expirationTime<p)w=!0;else{const k=this.expirationTime-p;k?this.expirationTime=_+Math.max(k,3e4):w=!0}else w=!0;w?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const w in this.buckets){if(!p.style.hasLayer(w))continue;const k=this.buckets[w],R=k.layers[0].sourceLayer||"_geojsonTileLayer",j=_[R],Q=u[R];if(!j||!Q||Object.keys(Q).length===0)continue;k.update(Q,j,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ie=p&&p.style&&p.style.getLayer(w);ie&&(this.queryPadding=Math.max(this.queryPadding,ie.queryRadius(k)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<E.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(u){this.symbolFadeHoldUntil=E.now()+u}setDependencies(u,p){const _={};for(const w of p)_[w]=!0;this.dependencies[u]=_}hasDependency(u,p){for(const _ of u){const w=this.dependencies[_];if(w){for(const k of p)if(w[k])return!0}}return!1}}class Bt{constructor(u,p){this.max=u,this.onRemove=p,this.reset()}reset(){for(const u in this.data)for(const p of this.data[u])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(u,p,_){const w=u.wrapped().key;this.data[w]===void 0&&(this.data[w]=[]);const k={value:p,timeout:void 0};if(_!==void 0&&(k.timeout=setTimeout(()=>{this.remove(u,k)},_)),this.data[w].push(k),this.order.push(w),this.order.length>this.max){const R=this._getAndRemoveByKey(this.order[0]);R&&this.onRemove(R)}return this}has(u){return u.wrapped().key in this.data}getAndRemove(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null}_getAndRemoveByKey(u){const p=this.data[u].shift();return p.timeout&&clearTimeout(p.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),p.value}getByKey(u){const p=this.data[u];return p?p[0].value:null}get(u){return this.has(u)?this.data[u.wrapped().key][0].value:null}remove(u,p){if(!this.has(u))return this;const _=u.wrapped().key,w=p===void 0?0:this.data[_].indexOf(p),k=this.data[_][w];return this.data[_].splice(w,1),k.timeout&&clearTimeout(k.timeout),this.data[_].length===0&&delete this.data[_],this.onRemove(k.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(u){for(this.max=u;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(u){const p=[];for(const _ in this.data)for(const w of this.data[_])u(w.value)||p.push(w);for(const _ of p)this.remove(_.value.tileID,_)}}class kt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,p,_){const w=String(p);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][w]=this.stateChanges[u][w]||{},s.e(this.stateChanges[u][w],_),this.deletedStates[u]===null){this.deletedStates[u]={};for(const k in this.state[u])k!==w&&(this.deletedStates[u][k]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][w]===null){this.deletedStates[u][w]={};for(const k in this.state[u][w])_[k]||(this.deletedStates[u][w][k]=null)}else for(const k in _)this.deletedStates[u]&&this.deletedStates[u][w]&&this.deletedStates[u][w][k]===null&&delete this.deletedStates[u][w][k]}removeFeatureState(u,p,_){if(this.deletedStates[u]===null)return;const w=String(p);if(this.deletedStates[u]=this.deletedStates[u]||{},_&&p!==void 0)this.deletedStates[u][w]!==null&&(this.deletedStates[u][w]=this.deletedStates[u][w]||{},this.deletedStates[u][w][_]=null);else if(p!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][w])for(_ in this.deletedStates[u][w]={},this.stateChanges[u][w])this.deletedStates[u][w][_]=null;else this.deletedStates[u][w]=null;else this.deletedStates[u]=null}getState(u,p){const _=String(p),w=s.e({},(this.state[u]||{})[_],(this.stateChanges[u]||{})[_]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const k=this.deletedStates[u][p];if(k===null)return{};for(const R in k)delete w[R]}return w}initializeTileState(u,p){u.setFeatureState(this.state,p)}coalesceChanges(u,p){const _={};for(const w in this.stateChanges){this.state[w]=this.state[w]||{};const k={};for(const R in this.stateChanges[w])this.state[w][R]||(this.state[w][R]={}),s.e(this.state[w][R],this.stateChanges[w][R]),k[R]=this.state[w][R];_[w]=k}for(const w in this.deletedStates){this.state[w]=this.state[w]||{};const k={};if(this.deletedStates[w]===null)for(const R in this.state[w])k[R]={},this.state[w][R]={};else for(const R in this.deletedStates[w]){if(this.deletedStates[w][R]===null)this.state[w][R]={};else for(const j of Object.keys(this.deletedStates[w][R]))delete this.state[w][R][j];k[R]=this.state[w][R]}_[w]=_[w]||{},s.e(_[w],k)}if(this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0)for(const w in u)u[w].setFeatureState(_,p)}}class Ut extends s.E{constructor(u,p,_){super(),this.id=u,this.dispatcher=_,this.on("data",w=>{w.dataType==="source"&&w.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&w.dataType==="source"&&w.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((w,k,R,j)=>{const Q=new(_i(k.type))(w,k,R,j);if(Q.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${Q.id}`);return Q})(u,p,_,this),this._tiles={},this._cache=new Bt(0,w=>this._unloadTile(w)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new kt,this._didEmitContent=!1,this._updated=!1}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._maxTileCacheZoomLevels=u?u._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const u in this._tiles){const p=this._tiles[u];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,p,_){return s._(this,void 0,void 0,function*(){try{yield this._source.loadTile(u),this._tileLoaded(u,p,_)}catch(w){u.state="errored",w.status!==404?this._source.fire(new s.j(w,{tile:u})):this.update(this.transform,this.terrain)}})}_unloadTile(u){this._source.unloadTile&&this._source.unloadTile(u)}_abortTile(u){this._source.abortTile&&this._source.abortTile(u),this._source.fire(new s.k("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const _=this._tiles[p];_.upload(u),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(u=>u.tileID).sort(fn).map(u=>u.key)}getRenderableIds(u){const p=[];for(const _ in this._tiles)this._isIdRenderable(_,u)&&p.push(this._tiles[_]);return u?p.sort((_,w)=>{const k=_.tileID,R=w.tileID,j=new s.P(k.canonical.x,k.canonical.y)._rotate(this.transform.angle),Q=new s.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return k.overscaledZ-R.overscaledZ||Q.y-j.y||Q.x-j.x}).map(_=>_.tileID.key):p.map(_=>_.tileID).sort(fn).map(_=>_.key)}hasRenderableParent(u){const p=this.findLoadedParent(u,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(u,p){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(p||!this._tiles[u].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(u,p){return s._(this,void 0,void 0,function*(){const _=this._tiles[u];_&&(_.state!=="loading"&&(_.state=p),yield this._loadTile(_,u,p))})}_tileLoaded(u,p,_){u.timeAdded=E.now(),_==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(p,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new s.k("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const p=this.getRenderableIds();for(let w=0;w<p.length;w++){const k=p[w];if(u.neighboringTiles&&u.neighboringTiles[k]){const R=this.getTileByID(k);_(u,R),_(R,u)}}function _(w,k){w.needsHillshadePrepare=!0,w.needsTerrainPrepare=!0;let R=k.tileID.canonical.x-w.tileID.canonical.x;const j=k.tileID.canonical.y-w.tileID.canonical.y,Q=Math.pow(2,w.tileID.canonical.z),ie=k.tileID.key;R===0&&j===0||Math.abs(j)>1||(Math.abs(R)>1&&(Math.abs(R+Q)===1?R+=Q:Math.abs(R-Q)===1&&(R-=Q)),k.dem&&w.dem&&(w.dem.backfillBorder(k.dem,R,j),w.neighboringTiles&&w.neighboringTiles[ie]&&(w.neighboringTiles[ie].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,p,_,w){for(const k in this._tiles){let R=this._tiles[k];if(w[k]||!R.hasData()||R.tileID.overscaledZ<=p||R.tileID.overscaledZ>_)continue;let j=R.tileID;for(;R&&R.tileID.overscaledZ>p+1;){const ie=R.tileID.scaledTo(R.tileID.overscaledZ-1);R=this._tiles[ie.key],R&&R.hasData()&&(j=ie)}let Q=j;for(;Q.overscaledZ>p;)if(Q=Q.scaledTo(Q.overscaledZ-1),u[Q.key]){w[j.key]=j;break}}}findLoadedParent(u,p){if(u.key in this._loadedParentTiles){const _=this._loadedParentTiles[u.key];return _&&_.tileID.overscaledZ>=p?_:null}for(let _=u.overscaledZ-1;_>=p;_--){const w=u.scaledTo(_),k=this._getLoadedTile(w);if(k)return k}}_getLoadedTile(u){const p=this._tiles[u.key];return p&&p.hasData()?p:this._cache.getByKey(u.wrapped().key)}updateCacheSize(u){const p=Math.ceil(u.width/this._source.tileSize)+1,_=Math.ceil(u.height/this._source.tileSize)+1,w=Math.floor(p*_*(this._maxTileCacheZoomLevels===null?s.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),k=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(k)}handleWrapJump(u){const p=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,p){const _={};for(const w in this._tiles){const k=this._tiles[w];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+p),_[k.tileID.key]=k}this._tiles=_;for(const w in this._timers)clearTimeout(this._timers[w]),delete this._timers[w];for(const w in this._tiles)this._setTileReloadTimer(w,this._tiles[w])}}update(u,p){if(this.transform=u,this.terrain=p,!this._sourceLoaded||this._paused)return;let _;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(de=>new s.Q(de.canonical.z,de.wrap,de.canonical.z,de.canonical.x,de.canonical.y)):(_=u.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(_=_.filter(de=>this._source.hasTile(de)))):_=[];const w=u.coveringZoomLevel(this._source),k=Math.max(w-Ut.maxOverzooming,this._source.minzoom),R=Math.max(w+Ut.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const de={};for(const fe of _)if(fe.canonical.z>this._source.minzoom){const Oe=fe.scaledTo(fe.canonical.z-1);de[Oe.key]=Oe;const qe=fe.scaledTo(Math.max(this._source.minzoom,Math.min(fe.canonical.z,5)));de[qe.key]=qe}_=_.concat(Object.values(de))}const j=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,j&&this.fire(new s.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const Q=this._updateRetainedTiles(_,w);if(Pn(this._source.type)){const de={},fe={},Oe=Object.keys(Q),qe=E.now();for(const Ye of Oe){const Ze=Q[Ye],Ne=this._tiles[Ye];if(!Ne||Ne.fadeEndTime!==0&&Ne.fadeEndTime<=qe)continue;const ht=this.findLoadedParent(Ze,k);ht&&(this._addTile(ht.tileID),de[ht.tileID.key]=ht.tileID),fe[Ye]=Ze}this._retainLoadedChildren(fe,w,R,Q);for(const Ye in de)Q[Ye]||(this._coveredTiles[Ye]=!0,Q[Ye]=de[Ye]);if(p){const Ye={},Ze={};for(const Ne of _)this._tiles[Ne.key].hasData()?Ye[Ne.key]=Ne:Ze[Ne.key]=Ne;for(const Ne in Ze){const ht=Ze[Ne].children(this._source.maxzoom);this._tiles[ht[0].key]&&this._tiles[ht[1].key]&&this._tiles[ht[2].key]&&this._tiles[ht[3].key]&&(Ye[ht[0].key]=Q[ht[0].key]=ht[0],Ye[ht[1].key]=Q[ht[1].key]=ht[1],Ye[ht[2].key]=Q[ht[2].key]=ht[2],Ye[ht[3].key]=Q[ht[3].key]=ht[3],delete Ze[Ne])}for(const Ne in Ze){const ht=this.findLoadedParent(Ze[Ne],this._source.minzoom);if(ht){Ye[ht.tileID.key]=Q[ht.tileID.key]=ht.tileID;for(const Dt in Ye)Ye[Dt].isChildOf(ht.tileID)&&delete Ye[Dt]}}for(const Ne in this._tiles)Ye[Ne]||(this._coveredTiles[Ne]=!0)}}for(const de in Q)this._tiles[de].clearFadeHold();const ie=s.ab(this._tiles,Q);for(const de of ie){const fe=this._tiles[de];fe.hasSymbolBuckets&&!fe.holdingForFade()?fe.setHoldDuration(this.map._fadeDuration):fe.hasSymbolBuckets&&!fe.symbolFadeFinished()||this._removeTile(de)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)}_updateRetainedTiles(u,p){const _={},w={},k=Math.max(p-Ut.maxOverzooming,this._source.minzoom),R=Math.max(p+Ut.maxUnderzooming,this._source.minzoom),j={};for(const Q of u){const ie=this._addTile(Q);_[Q.key]=Q,ie.hasData()||p<this._source.maxzoom&&(j[Q.key]=Q)}this._retainLoadedChildren(j,p,R,_);for(const Q of u){let ie=this._tiles[Q.key];if(ie.hasData())continue;if(p+1>this._source.maxzoom){const fe=Q.children(this._source.maxzoom)[0],Oe=this.getTile(fe);if(Oe&&Oe.hasData()){_[fe.key]=fe;continue}}else{const fe=Q.children(this._source.maxzoom);if(_[fe[0].key]&&_[fe[1].key]&&_[fe[2].key]&&_[fe[3].key])continue}let de=ie.wasRequested();for(let fe=Q.overscaledZ-1;fe>=k;--fe){const Oe=Q.scaledTo(fe);if(w[Oe.key])break;if(w[Oe.key]=!0,ie=this.getTile(Oe),!ie&&de&&(ie=this._addTile(Oe)),ie){const qe=ie.hasData();if((de||qe)&&(_[Oe.key]=Oe),de=ie.wasRequested(),qe)break}}}return _}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const u in this._tiles){const p=[];let _,w=this._tiles[u].tileID;for(;w.overscaledZ>0;){if(w.key in this._loadedParentTiles){_=this._loadedParentTiles[w.key];break}p.push(w.key);const k=w.scaledTo(w.overscaledZ-1);if(_=this._getLoadedTile(k),_)break;w=k}for(const k of p)this._loadedParentTiles[k]=_}}_addTile(u){let p=this._tiles[u.key];if(p)return p;p=this._cache.getAndRemove(u),p&&(this._setTileReloadTimer(u.key,p),p.tileID=u,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,p)));const _=p;return p||(p=new At(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(p,u.key,p.state)),p.uses++,this._tiles[u.key]=p,_||this._source.fire(new s.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(u,p){u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);const _=p.getExpiryTimeout();_&&(this._timers[u]=setTimeout(()=>{this._reloadTile(u,"expired"),delete this._timers[u]},_))}_removeTile(u){const p=this._tiles[u];p&&(p.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,p,_){const w=[],k=this.transform;if(!k)return w;const R=_?k.getCameraQueryGeometry(u):u,j=u.map(Ye=>k.pointCoordinate(Ye,this.terrain)),Q=R.map(Ye=>k.pointCoordinate(Ye,this.terrain)),ie=this.getIds();let de=1/0,fe=1/0,Oe=-1/0,qe=-1/0;for(const Ye of Q)de=Math.min(de,Ye.x),fe=Math.min(fe,Ye.y),Oe=Math.max(Oe,Ye.x),qe=Math.max(qe,Ye.y);for(let Ye=0;Ye<ie.length;Ye++){const Ze=this._tiles[ie[Ye]];if(Ze.holdingForFade())continue;const Ne=Ze.tileID,ht=Math.pow(2,k.zoom-Ze.tileID.overscaledZ),Dt=p*Ze.queryPadding*s.W/Ze.tileSize/ht,tt=[Ne.getTilePoint(new s.Y(de,fe)),Ne.getTilePoint(new s.Y(Oe,qe))];if(tt[0].x-Dt<s.W&&tt[0].y-Dt<s.W&&tt[1].x+Dt>=0&&tt[1].y+Dt>=0){const bt=j.map(Lt=>Ne.getTilePoint(Lt)),Pt=Q.map(Lt=>Ne.getTilePoint(Lt));w.push({tile:Ze,tileID:Ne,queryGeometry:bt,cameraQueryGeometry:Pt,scale:ht})}}return w}getVisibleCoordinates(u){const p=this.getRenderableIds(u).map(_=>this._tiles[_].tileID);for(const _ of p)_.posMatrix=this.transform.calculatePosMatrix(_.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(Pn(this._source.type)){const u=E.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=u)return!0}return!1}setFeatureState(u,p,_){this._state.updateState(u=u||"_geojsonTileLayer",p,_)}removeFeatureState(u,p,_){this._state.removeFeatureState(u=u||"_geojsonTileLayer",p,_)}getFeatureState(u,p){return this._state.getState(u=u||"_geojsonTileLayer",p)}setDependencies(u,p,_){const w=this._tiles[u];w&&w.setDependencies(p,_)}reloadTilesForDependencies(u,p){for(const _ in this._tiles)this._tiles[_].hasDependency(u,p)&&this._reloadTile(_,"reloading");this._cache.filter(_=>!_.hasDependency(u,p))}}function fn(I,u){const p=Math.abs(2*I.wrap)-+(I.wrap<0),_=Math.abs(2*u.wrap)-+(u.wrap<0);return I.overscaledZ-u.overscaledZ||_-p||u.canonical.y-I.canonical.y||u.canonical.x-I.canonical.x}function Pn(I){return I==="raster"||I==="image"||I==="video"}Ut.maxOverzooming=10,Ut.maxUnderzooming=3;class On{constructor(u,p){this.reset(u,p)}reset(u,p){this.points=u||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=s.ac(u,0,1);let p=1,_=this._distances[p];const w=u*this.paddedLength+this.padding;for(;_<w&&p<this._distances.length;)_=this._distances[++p];const k=p-1,R=this._distances[k],j=_-R,Q=j>0?(w-R)/j:0;return this.points[k].mult(1-Q).add(this.points[p].mult(Q))}}function g(I,u){let p=!0;return I==="always"||I!=="never"&&u!=="never"||(p=!1),p}class Kt{constructor(u,p,_){const w=this.boxCells=[],k=this.circleCells=[];this.xCellCount=Math.ceil(u/_),this.yCellCount=Math.ceil(p/_);for(let R=0;R<this.xCellCount*this.yCellCount;R++)w.push([]),k.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=p,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,p,_,w,k){this._forEachCell(p,_,w,k,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(p),this.bboxes.push(_),this.bboxes.push(w),this.bboxes.push(k)}insertCircle(u,p,_,w){this._forEachCell(p-w,_-w,p+w,_+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(p),this.circles.push(_),this.circles.push(w)}_insertBoxCell(u,p,_,w,k,R){this.boxCells[k].push(R)}_insertCircleCell(u,p,_,w,k,R){this.circleCells[k].push(R)}_query(u,p,_,w,k,R,j){if(_<0||u>this.width||w<0||p>this.height)return[];const Q=[];if(u<=0&&p<=0&&this.width<=_&&this.height<=w){if(k)return[{key:null,x1:u,y1:p,x2:_,y2:w}];for(let ie=0;ie<this.boxKeys.length;ie++)Q.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(let ie=0;ie<this.circleKeys.length;ie++){const de=this.circles[3*ie],fe=this.circles[3*ie+1],Oe=this.circles[3*ie+2];Q.push({key:this.circleKeys[ie],x1:de-Oe,y1:fe-Oe,x2:de+Oe,y2:fe+Oe})}}else this._forEachCell(u,p,_,w,this._queryCell,Q,{hitTest:k,overlapMode:R,seenUids:{box:{},circle:{}}},j);return Q}query(u,p,_,w){return this._query(u,p,_,w,!1,null)}hitTest(u,p,_,w,k,R){return this._query(u,p,_,w,!0,k,R).length>0}hitTestCircle(u,p,_,w,k){const R=u-_,j=u+_,Q=p-_,ie=p+_;if(j<0||R>this.width||ie<0||Q>this.height)return!1;const de=[];return this._forEachCell(R,Q,j,ie,this._queryCellCircle,de,{hitTest:!0,overlapMode:w,circle:{x:u,y:p,radius:_},seenUids:{box:{},circle:{}}},k),de.length>0}_queryCell(u,p,_,w,k,R,j,Q){const{seenUids:ie,hitTest:de,overlapMode:fe}=j,Oe=this.boxCells[k];if(Oe!==null){const Ye=this.bboxes;for(const Ze of Oe)if(!ie.box[Ze]){ie.box[Ze]=!0;const Ne=4*Ze,ht=this.boxKeys[Ze];if(u<=Ye[Ne+2]&&p<=Ye[Ne+3]&&_>=Ye[Ne+0]&&w>=Ye[Ne+1]&&(!Q||Q(ht))&&(!de||!g(fe,ht.overlapMode))&&(R.push({key:ht,x1:Ye[Ne],y1:Ye[Ne+1],x2:Ye[Ne+2],y2:Ye[Ne+3]}),de))return!0}}const qe=this.circleCells[k];if(qe!==null){const Ye=this.circles;for(const Ze of qe)if(!ie.circle[Ze]){ie.circle[Ze]=!0;const Ne=3*Ze,ht=this.circleKeys[Ze];if(this._circleAndRectCollide(Ye[Ne],Ye[Ne+1],Ye[Ne+2],u,p,_,w)&&(!Q||Q(ht))&&(!de||!g(fe,ht.overlapMode))){const Dt=Ye[Ne],tt=Ye[Ne+1],bt=Ye[Ne+2];if(R.push({key:ht,x1:Dt-bt,y1:tt-bt,x2:Dt+bt,y2:tt+bt}),de)return!0}}}return!1}_queryCellCircle(u,p,_,w,k,R,j,Q){const{circle:ie,seenUids:de,overlapMode:fe}=j,Oe=this.boxCells[k];if(Oe!==null){const Ye=this.bboxes;for(const Ze of Oe)if(!de.box[Ze]){de.box[Ze]=!0;const Ne=4*Ze,ht=this.boxKeys[Ze];if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,Ye[Ne+0],Ye[Ne+1],Ye[Ne+2],Ye[Ne+3])&&(!Q||Q(ht))&&!g(fe,ht.overlapMode))return R.push(!0),!0}}const qe=this.circleCells[k];if(qe!==null){const Ye=this.circles;for(const Ze of qe)if(!de.circle[Ze]){de.circle[Ze]=!0;const Ne=3*Ze,ht=this.circleKeys[Ze];if(this._circlesCollide(Ye[Ne],Ye[Ne+1],Ye[Ne+2],ie.x,ie.y,ie.radius)&&(!Q||Q(ht))&&!g(fe,ht.overlapMode))return R.push(!0),!0}}}_forEachCell(u,p,_,w,k,R,j,Q){const ie=this._convertToXCellCoord(u),de=this._convertToYCellCoord(p),fe=this._convertToXCellCoord(_),Oe=this._convertToYCellCoord(w);for(let qe=ie;qe<=fe;qe++)for(let Ye=de;Ye<=Oe;Ye++)if(k.call(this,u,p,_,w,this.xCellCount*Ye+qe,R,j,Q))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,p,_,w,k,R){const j=w-u,Q=k-p,ie=_+R;return ie*ie>j*j+Q*Q}_circleAndRectCollide(u,p,_,w,k,R,j){const Q=(R-w)/2,ie=Math.abs(u-(w+Q));if(ie>Q+_)return!1;const de=(j-k)/2,fe=Math.abs(p-(k+de));if(fe>de+_)return!1;if(ie<=Q||fe<=de)return!0;const Oe=ie-Q,qe=fe-de;return Oe*Oe+qe*qe<=_*_}}function Pr(I,u,p,_,w){const k=s.F();return u?(s.J(k,k,[1/w,1/w,1]),p||s.ad(k,k,_.angle)):s.K(k,_.labelPlaneMatrix,I),k}function nr(I,u,p,_,w){if(u){const k=s.ae(I);return s.J(k,k,[w,w,1]),p||s.ad(k,k,-_.angle),k}return _.glCoordMatrix}function Pe(I,u,p){let _;p?(_=[I.x,I.y,p(I.x,I.y),1],s.af(_,_,u)):(_=[I.x,I.y,0,1],Bn(_,_,u));const w=_[3];return{point:new s.P(_[0]/w,_[1]/w),signedDistanceFromCamera:w}}function ce(I,u){return .5+I/u*.5}function _e(I,u){const p=I[0]/I[3],_=I[1]/I[3];return p>=-u[0]&&p<=u[0]&&_>=-u[1]&&_<=u[1]}function Ie(I,u,p,_,w,k,R,j,Q,ie){const de=_?I.textSizeData:I.iconSizeData,fe=s.ag(de,p.transform.zoom),Oe=[256/p.width*2+1,256/p.height*2+1],qe=_?I.text.dynamicLayoutVertexArray:I.icon.dynamicLayoutVertexArray;qe.clear();const Ye=I.lineVertexArray,Ze=_?I.text.placedSymbolArray:I.icon.placedSymbolArray,Ne=p.transform.width/p.transform.height;let ht=!1;for(let Dt=0;Dt<Ze.length;Dt++){const tt=Ze.get(Dt);if(tt.hidden||tt.writingMode===s.ah.vertical&&!ht){Dn(tt.numGlyphs,qe);continue}let bt;if(ht=!1,ie?(bt=[tt.anchorX,tt.anchorY,ie(tt.anchorX,tt.anchorY),1],s.af(bt,bt,u)):(bt=[tt.anchorX,tt.anchorY,0,1],Bn(bt,bt,u)),!_e(bt,Oe)){Dn(tt.numGlyphs,qe);continue}const Pt=ce(p.transform.cameraToCenterDistance,bt[3]),Lt=s.ai(de,fe,tt),Xt=R?Lt/Pt:Lt*Pt,dn=new s.P(tt.anchorX,tt.anchorY),un=Pe(dn,w,ie).point,pn={projections:{},offsets:{}},$n=lt(tt,Xt,!1,j,u,w,k,I.glyphOffsetArray,Ye,qe,un,dn,pn,Ne,Q,ie);ht=$n.useVertical,($n.notEnoughRoom||ht||$n.needsFlipping&&lt(tt,Xt,!0,j,u,w,k,I.glyphOffsetArray,Ye,qe,un,dn,pn,Ne,Q,ie).notEnoughRoom)&&Dn(tt.numGlyphs,qe)}_?I.text.dynamicLayoutVertexBuffer.updateData(qe):I.icon.dynamicLayoutVertexBuffer.updateData(qe)}function je(I,u,p,_,w,k,R,j,Q,ie,de,fe,Oe){const qe=j.glyphStartIndex+j.numGlyphs,Ye=j.lineStartIndex,Ze=j.lineStartIndex+j.lineLength,Ne=u.getoffsetX(j.glyphStartIndex),ht=u.getoffsetX(qe-1),Dt=Ht(I*Ne,p,_,w,k,R,j.segment,Ye,Ze,Q,ie,de,fe,Oe);if(!Dt)return null;const tt=Ht(I*ht,p,_,w,k,R,j.segment,Ye,Ze,Q,ie,de,fe,Oe);return tt?{first:Dt,last:tt}:null}function rt(I,u,p,_){return I===s.ah.horizontal&&Math.abs(p.y-u.y)>Math.abs(p.x-u.x)*_?{useVertical:!0}:(I===s.ah.vertical?u.y<p.y:u.x>p.x)?{needsFlipping:!0}:null}function lt(I,u,p,_,w,k,R,j,Q,ie,de,fe,Oe,qe,Ye,Ze){const Ne=u/24,ht=I.lineOffsetX*Ne,Dt=I.lineOffsetY*Ne;let tt;if(I.numGlyphs>1){const bt=I.glyphStartIndex+I.numGlyphs,Pt=I.lineStartIndex,Lt=I.lineStartIndex+I.lineLength,Xt=je(Ne,j,ht,Dt,p,de,fe,I,Q,k,Oe,Ye,Ze);if(!Xt)return{notEnoughRoom:!0};const dn=Pe(Xt.first.point,R,Ze).point,un=Pe(Xt.last.point,R,Ze).point;if(_&&!p){const pn=rt(I.writingMode,dn,un,qe);if(pn)return pn}tt=[Xt.first];for(let pn=I.glyphStartIndex+1;pn<bt-1;pn++)tt.push(Ht(Ne*j.getoffsetX(pn),ht,Dt,p,de,fe,I.segment,Pt,Lt,Q,k,Oe,Ye,Ze));tt.push(Xt.last)}else{if(_&&!p){const Pt=Pe(fe,w,Ze).point,Lt=I.lineStartIndex+I.segment+1,Xt=new s.P(Q.getx(Lt),Q.gety(Lt)),dn=Pe(Xt,w,Ze),un=dn.signedDistanceFromCamera>0?dn.point:ft(fe,Xt,Pt,1,w,Ze),pn=rt(I.writingMode,Pt,un,qe);if(pn)return pn}const bt=Ht(Ne*j.getoffsetX(I.glyphStartIndex),ht,Dt,p,de,fe,I.segment,I.lineStartIndex,I.lineStartIndex+I.lineLength,Q,k,Oe,Ye,Ze);if(!bt)return{notEnoughRoom:!0};tt=[bt]}for(const bt of tt)s.aj(ie,bt.point,bt.angle);return{}}function ft(I,u,p,_,w,k){const R=Pe(I.add(I.sub(u)._unit()),w,k).point,j=p.sub(R);return p.add(j._mult(_/j.mag()))}function et(I,u){const{projectionCache:p,lineVertexArray:_,labelPlaneMatrix:w,tileAnchorPoint:k,distanceFromAnchor:R,getElevation:j,previousVertex:Q,direction:ie,absOffsetX:de}=u;if(p.projections[I])return p.projections[I];const fe=new s.P(_.getx(I),_.gety(I)),Oe=Pe(fe,w,j);if(Oe.signedDistanceFromCamera>0)return p.projections[I]=Oe.point,Oe.point;const qe=I-ie;return ft(R===0?k:new s.P(_.getx(qe),_.gety(qe)),fe,Q,de-R+1,w,j)}function Mt(I,u,p){return I._unit()._perp()._mult(u*p)}function tn(I,u,p,_,w,k,R,j){const{projectionCache:Q,direction:ie}=j;if(Q.offsets[I])return Q.offsets[I];const de=p.add(u);if(I+ie<_||I+ie>=w)return Q.offsets[I]=de,de;const fe=et(I+ie,j),Oe=Mt(fe.sub(p),R,ie),qe=p.add(Oe),Ye=fe.add(Oe);return Q.offsets[I]=s.ak(k,de,qe,Ye)||de,Q.offsets[I]}function Ht(I,u,p,_,w,k,R,j,Q,ie,de,fe,Oe,qe){const Ye=_?I-u:I+u;let Ze=Ye>0?1:-1,Ne=0;_&&(Ze*=-1,Ne=Math.PI),Ze<0&&(Ne+=Math.PI);let ht,Dt,tt=Ze>0?j+R:j+R+1,bt=w,Pt=w,Lt=0,Xt=0;const dn=Math.abs(Ye),un=[];let pn;for(;Lt+Xt<=dn;){if(tt+=Ze,tt<j||tt>=Q)return null;Lt+=Xt,Pt=bt,Dt=ht;const In={projectionCache:fe,lineVertexArray:ie,labelPlaneMatrix:de,tileAnchorPoint:k,distanceFromAnchor:Lt,getElevation:qe,previousVertex:Pt,direction:Ze,absOffsetX:dn};if(bt=et(tt,In),p===0)un.push(Pt),pn=bt.sub(Pt);else{let Cr;const hi=bt.sub(Pt);Cr=hi.mag()===0?Mt(et(tt+Ze,In).sub(bt),p,Ze):Mt(hi,p,Ze),Dt||(Dt=Pt.add(Cr)),ht=tn(tt,Cr,bt,j,Q,Dt,p,In),un.push(Dt),pn=ht.sub(Dt)}Xt=pn.mag()}const $n=pn._mult((dn-Lt)/Xt)._add(Dt||Pt),Hr=Ne+Math.atan2(bt.y-Pt.y,bt.x-Pt.x);return un.push($n),{point:$n,angle:Oe?Hr:0,path:un}}const en=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Dn(I,u){for(let p=0;p<I;p++){const _=u.length;u.resize(_+4),u.float32.set(en,3*_)}}function Bn(I,u,p){const _=u[0],w=u[1];return I[0]=p[0]*_+p[4]*w+p[12],I[1]=p[1]*_+p[5]*w+p[13],I[3]=p[3]*_+p[7]*w+p[15],I}const qn=100;class Er{constructor(u,p=new Kt(u.width+200,u.height+200,25),_=new Kt(u.width+200,u.height+200,25)){this.transform=u,this.grid=p,this.ignoredGrid=_,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+qn,this.screenBottomBoundary=u.height+qn,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,p,_,w,k,R){const j=this.projectAndGetPerspectiveRatio(w,u.anchorPointX,u.anchorPointY,R),Q=_*j.perspectiveRatio,ie=u.x1*Q+j.point.x,de=u.y1*Q+j.point.y,fe=u.x2*Q+j.point.x,Oe=u.y2*Q+j.point.y;return!this.isInsideGrid(ie,de,fe,Oe)||p!=="always"&&this.grid.hitTest(ie,de,fe,Oe,p,k)||j.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[ie,de,fe,Oe],offscreen:this.isOffscreen(ie,de,fe,Oe)}}placeCollisionCircles(u,p,_,w,k,R,j,Q,ie,de,fe,Oe,qe,Ye){const Ze=[],Ne=new s.P(p.anchorX,p.anchorY),ht=Pe(Ne,R,Ye),Dt=ce(this.transform.cameraToCenterDistance,ht.signedDistanceFromCamera),tt=(de?k/Dt:k*Dt)/s.ao,bt=Pe(Ne,j,Ye).point,Pt=je(tt,w,p.lineOffsetX*tt,p.lineOffsetY*tt,!1,bt,Ne,p,_,j,{projections:{},offsets:{}},!1,Ye);let Lt=!1,Xt=!1,dn=!0;if(Pt){const un=.5*Oe*Dt+qe,pn=new s.P(-100,-100),$n=new s.P(this.screenRightBoundary,this.screenBottomBoundary),Hr=new On,In=Pt.first,Cr=Pt.last;let hi=[];for(let ti=In.path.length-1;ti>=1;ti--)hi.push(In.path[ti]);for(let ti=1;ti<Cr.path.length;ti++)hi.push(Cr.path[ti]);const Pi=2.5*un;if(Q){const ti=hi.map(Wr=>Pe(Wr,Q,Ye));hi=ti.some(Wr=>Wr.signedDistanceFromCamera<=0)?[]:ti.map(Wr=>Wr.point)}let Vr=[];if(hi.length>0){const ti=hi[0].clone(),Wr=hi[0].clone();for(let Zo=1;Zo<hi.length;Zo++)ti.x=Math.min(ti.x,hi[Zo].x),ti.y=Math.min(ti.y,hi[Zo].y),Wr.x=Math.max(Wr.x,hi[Zo].x),Wr.y=Math.max(Wr.y,hi[Zo].y);Vr=ti.x>=pn.x&&Wr.x<=$n.x&&ti.y>=pn.y&&Wr.y<=$n.y?[hi]:Wr.x<pn.x||ti.x>$n.x||Wr.y<pn.y||ti.y>$n.y?[]:s.al([hi],pn.x,pn.y,$n.x,$n.y)}for(const ti of Vr){Hr.reset(ti,.25*un);let Wr=0;Wr=Hr.length<=.5*un?1:Math.ceil(Hr.paddedLength/Pi)+1;for(let Zo=0;Zo<Wr;Zo++){const Ro=Zo/Math.max(Wr-1,1),Ns=Hr.lerp(Ro),Ra=Ns.x+qn,yo=Ns.y+qn;Ze.push(Ra,yo,un,0);const uo=Ra-un,tl=yo-un,cu=Ra+un,Os=yo+un;if(dn=dn&&this.isOffscreen(uo,tl,cu,Os),Xt=Xt||this.isInsideGrid(uo,tl,cu,Os),u!=="always"&&this.grid.hitTestCircle(Ra,yo,un,u,fe)&&(Lt=!0,!ie))return{circles:[],offscreen:!1,collisionDetected:Lt}}}}return{circles:!ie&&Lt||!Xt||Dt<this.perspectiveRatioCutoff?[]:Ze,offscreen:dn,collisionDetected:Lt}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let _=1/0,w=1/0,k=-1/0,R=-1/0;for(const de of u){const fe=new s.P(de.x+qn,de.y+qn);_=Math.min(_,fe.x),w=Math.min(w,fe.y),k=Math.max(k,fe.x),R=Math.max(R,fe.y),p.push(fe)}const j=this.grid.query(_,w,k,R).concat(this.ignoredGrid.query(_,w,k,R)),Q={},ie={};for(const de of j){const fe=de.key;if(Q[fe.bucketInstanceId]===void 0&&(Q[fe.bucketInstanceId]={}),Q[fe.bucketInstanceId][fe.featureIndex])continue;const Oe=[new s.P(de.x1,de.y1),new s.P(de.x2,de.y1),new s.P(de.x2,de.y2),new s.P(de.x1,de.y2)];s.am(p,Oe)&&(Q[fe.bucketInstanceId][fe.featureIndex]=!0,ie[fe.bucketInstanceId]===void 0&&(ie[fe.bucketInstanceId]=[]),ie[fe.bucketInstanceId].push(fe.featureIndex))}return ie}insertCollisionBox(u,p,_,w,k,R){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:k,collisionGroupID:R,overlapMode:p},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,p,_,w,k,R){const j=_?this.ignoredGrid:this.grid,Q={bucketInstanceId:w,featureIndex:k,collisionGroupID:R,overlapMode:p};for(let ie=0;ie<u.length;ie+=4)j.insertCircle(Q,u[ie],u[ie+1],u[ie+2])}projectAndGetPerspectiveRatio(u,p,_,w){let k;return w?(k=[p,_,w(p,_),1],s.af(k,k,u)):(k=[p,_,0,1],Bn(k,k,u)),{point:new s.P((k[0]/k[3]+1)/2*this.transform.width+qn,(-k[1]/k[3]+1)/2*this.transform.height+qn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/k[3]*.5}}isOffscreen(u,p,_,w){return _<qn||u>=this.screenRightBoundary||w<qn||p>this.screenBottomBoundary}isInsideGrid(u,p,_,w){return _>=0&&u<this.gridRightBoundary&&w>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const u=s.an([]);return s.H(u,u,[-100,-100,0]),u}}function ur(I,u,p){return u*(s.W/(I.tileSize*Math.pow(2,p-I.tileID.overscaledZ)))}class Yr{constructor(u,p,_,w){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?p:-p))):w&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class Br{constructor(u,p,_,w,k){this.text=new Yr(u?u.text:null,p,_,k),this.icon=new Yr(u?u.icon:null,p,w,k)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Fr{constructor(u,p,_){this.text=u,this.icon=p,this.skipFade=_}}class or{constructor(){this.invProjMatrix=s.F(),this.viewportMatrix=s.F(),this.circles=[]}}class di{constructor(u,p,_,w,k){this.bucketInstanceId=u,this.featureIndex=p,this.sourceLayerIndex=_,this.bucketIndex=w,this.tileID=k}}class Ri{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const p=++this.maxGroupID;this.collisionGroups[u]={ID:p,predicate:_=>_.collisionGroupID===p}}return this.collisionGroups[u]}}function ro(I,u,p,_,w){const{horizontalAlign:k,verticalAlign:R}=s.at(I);return new s.P(-(k-.5)*u+_[0]*w,-(R-.5)*p+_[1]*w)}function po(I,u,p,_,w,k){const{x1:R,x2:j,y1:Q,y2:ie,anchorPointX:de,anchorPointY:fe}=I,Oe=new s.P(u,p);return _&&Oe._rotate(w?k:-k),{x1:R+Oe.x,y1:Q+Oe.y,x2:j+Oe.x,y2:ie+Oe.y,anchorPointX:de,anchorPointY:fe}}class si{constructor(u,p,_,w,k){this.transform=u.clone(),this.terrain=p,this.collisionIndex=new Er(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Ri(w),this.collisionCircleArrays={},this.prevPlacement=k,k&&(k.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,p,_,w){const k=_.getBucket(p),R=_.latestFeatureIndex;if(!k||!R||p.id!==k.layerIds[0])return;const j=_.collisionBoxArray,Q=k.layers[0].layout,ie=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),de=_.tileSize/s.W,fe=this.transform.calculatePosMatrix(_.tileID.toUnwrapped()),Oe=Q.get("text-pitch-alignment")==="map",qe=Q.get("text-rotation-alignment")==="map",Ye=ur(_,1,this.transform.zoom),Ze=Pr(fe,Oe,qe,this.transform,Ye);let Ne=null;if(Oe){const Dt=nr(fe,Oe,qe,this.transform,Ye);Ne=s.K([],this.transform.labelPlaneMatrix,Dt)}this.retainedQueryData[k.bucketInstanceId]=new di(k.bucketInstanceId,R,k.sourceLayerIndex,k.index,_.tileID);const ht={bucket:k,layout:Q,posMatrix:fe,textLabelPlaneMatrix:Ze,labelToScreenMatrix:Ne,scale:ie,textPixelRatio:de,holdingForFade:_.holdingForFade(),collisionBoxArray:j,partiallyEvaluatedTextSize:s.ag(k.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(k.sourceID)};if(w)for(const Dt of k.sortKeyRanges){const{sortKey:tt,symbolInstanceStart:bt,symbolInstanceEnd:Pt}=Dt;u.push({sortKey:tt,symbolInstanceStart:bt,symbolInstanceEnd:Pt,parameters:ht})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:k.symbolInstances.length,parameters:ht})}attemptAnchorPlacement(u,p,_,w,k,R,j,Q,ie,de,fe,Oe,qe,Ye,Ze,Ne){const ht=s.ap[u.textAnchor],Dt=[u.textOffset0,u.textOffset1],tt=ro(ht,_,w,Dt,k),bt=this.collisionIndex.placeCollisionBox(po(p,tt.x,tt.y,R,j,this.transform.angle),fe,Q,ie,de.predicate,Ne);if((!Ze||this.collisionIndex.placeCollisionBox(po(Ze,tt.x,tt.y,R,j,this.transform.angle),fe,Q,ie,de.predicate,Ne).box.length!==0)&&bt.box.length>0){let Pt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Oe.crossTileID]&&this.prevPlacement.placements[Oe.crossTileID]&&this.prevPlacement.placements[Oe.crossTileID].text&&(Pt=this.prevPlacement.variableOffsets[Oe.crossTileID].anchor),Oe.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Oe.crossTileID]={textOffset:Dt,width:_,height:w,anchor:ht,textBoxScale:k,prevAnchor:Pt},this.markUsedJustification(qe,ht,Oe,Ye),qe.allowVerticalPlacement&&(this.markUsedOrientation(qe,Ye,Oe),this.placedOrientations[Oe.crossTileID]=Ye),{shift:tt,placedGlyphBoxes:bt}}}placeLayerBucketPart(u,p,_){const{bucket:w,layout:k,posMatrix:R,textLabelPlaneMatrix:j,labelToScreenMatrix:Q,textPixelRatio:ie,holdingForFade:de,collisionBoxArray:fe,partiallyEvaluatedTextSize:Oe,collisionGroup:qe}=u.parameters,Ye=k.get("text-optional"),Ze=k.get("icon-optional"),Ne=s.aq(k,"text-overlap","text-allow-overlap"),ht=Ne==="always",Dt=s.aq(k,"icon-overlap","icon-allow-overlap"),tt=Dt==="always",bt=k.get("text-rotation-alignment")==="map",Pt=k.get("text-pitch-alignment")==="map",Lt=k.get("icon-text-fit")!=="none",Xt=k.get("symbol-z-order")==="viewport-y",dn=ht&&(tt||!w.hasIconData()||Ze),un=tt&&(ht||!w.hasTextData()||Ye);!w.collisionArrays&&fe&&w.deserializeCollisionBoxes(fe);const pn=this.retainedQueryData[w.bucketInstanceId].tileID,$n=this.terrain?(In,Cr)=>this.terrain.getElevation(pn,In,Cr):null,Hr=(In,Cr)=>{var hi,Pi;if(p[In.crossTileID])return;if(de)return void(this.placements[In.crossTileID]=new Fr(!1,!1,!1));let Vr=!1,ti=!1,Wr=!0,Zo=null,Ro={box:null,offscreen:null},Ns={box:null,offscreen:null},Ra=null,yo=null,uo=null,tl=0,cu=0,Os=0;Cr.textFeatureIndex?tl=Cr.textFeatureIndex:In.useRuntimeCollisionCircles&&(tl=In.featureIndex),Cr.verticalTextFeatureIndex&&(cu=Cr.verticalTextFeatureIndex);const sA=Cr.textBox;if(sA){const ji=Xo=>{let xa=s.ah.horizontal;if(w.allowVerticalPlacement&&!Xo&&this.prevPlacement){const Is=this.prevPlacement.placedOrientations[In.crossTileID];Is&&(this.placedOrientations[In.crossTileID]=Is,xa=Is,this.markUsedOrientation(w,xa,In))}return xa},Bi=(Xo,xa)=>{if(w.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&Cr.verticalTextBox){for(const Is of w.writingModes)if(Is===s.ah.vertical?(Ro=xa(),Ns=Ro):Ro=Xo(),Ro&&Ro.box&&Ro.box.length)break}else Ro=Xo()},oa=In.textAnchorOffsetStartIndex,Rc=In.textAnchorOffsetEndIndex;if(Rc===oa){const Xo=(xa,Is)=>{const Di=this.collisionIndex.placeCollisionBox(xa,Ne,ie,R,qe.predicate,$n);return Di&&Di.box&&Di.box.length&&(this.markUsedOrientation(w,Is,In),this.placedOrientations[In.crossTileID]=Is),Di};Bi(()=>Xo(sA,s.ah.horizontal),()=>{const xa=Cr.verticalTextBox;return w.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&xa?Xo(xa,s.ah.vertical):{box:null,offscreen:null}}),ji(Ro&&Ro.box&&Ro.box.length)}else{let Xo=s.ap[(Pi=(hi=this.prevPlacement)===null||hi===void 0?void 0:hi.variableOffsets[In.crossTileID])===null||Pi===void 0?void 0:Pi.anchor];const xa=(Di,Ac,ef)=>{const du=Di.x2-Di.x1,cc=Di.y2-Di.y1,Pu=In.textBoxScale,tf=Lt&&Dt==="never"?Ac:null;let Du={box:[],offscreen:!1},nf=Ne==="never"?1:2,kA="never";Xo&&nf++;for(let cp=0;cp<nf;cp++){for(let bd=oa;bd<Rc;bd++){const dp=w.textAnchorOffsets.get(bd);if(Xo&&dp.textAnchor!==Xo)continue;const lA=this.attemptAnchorPlacement(dp,Di,du,cc,Pu,bt,Pt,ie,R,qe,kA,In,w,ef,tf,$n);if(lA&&(Du=lA.placedGlyphBoxes,Du&&Du.box&&Du.box.length))return Vr=!0,Zo=lA.shift,Du}Xo?Xo=null:kA=Ne}return Du};Bi(()=>xa(sA,Cr.iconBox,s.ah.horizontal),()=>{const Di=Cr.verticalTextBox;return w.allowVerticalPlacement&&!(Ro&&Ro.box&&Ro.box.length)&&In.numVerticalGlyphVertices>0&&Di?xa(Di,Cr.verticalIconBox,s.ah.vertical):{box:null,offscreen:null}}),Ro&&(Vr=Ro.box,Wr=Ro.offscreen);const Is=ji(Ro&&Ro.box);if(!Vr&&this.prevPlacement){const Di=this.prevPlacement.variableOffsets[In.crossTileID];Di&&(this.variableOffsets[In.crossTileID]=Di,this.markUsedJustification(w,Di.anchor,In,Is))}}}if(Ra=Ro,Vr=Ra&&Ra.box&&Ra.box.length>0,Wr=Ra&&Ra.offscreen,In.useRuntimeCollisionCircles){const ji=w.text.placedSymbolArray.get(In.centerJustifiedTextSymbolIndex),Bi=s.ai(w.textSizeData,Oe,ji),oa=k.get("text-padding");yo=this.collisionIndex.placeCollisionCircles(Ne,ji,w.lineVertexArray,w.glyphOffsetArray,Bi,R,j,Q,_,Pt,qe.predicate,In.collisionCircleDiameter,oa,$n),yo.circles.length&&yo.collisionDetected&&!_&&s.w("Collisions detected, but collision boxes are not shown"),Vr=ht||yo.circles.length>0&&!yo.collisionDetected,Wr=Wr&&yo.offscreen}if(Cr.iconFeatureIndex&&(Os=Cr.iconFeatureIndex),Cr.iconBox){const ji=Bi=>{const oa=Lt&&Zo?po(Bi,Zo.x,Zo.y,bt,Pt,this.transform.angle):Bi;return this.collisionIndex.placeCollisionBox(oa,Dt,ie,R,qe.predicate,$n)};Ns&&Ns.box&&Ns.box.length&&Cr.verticalIconBox?(uo=ji(Cr.verticalIconBox),ti=uo.box.length>0):(uo=ji(Cr.iconBox),ti=uo.box.length>0),Wr=Wr&&uo.offscreen}const Ql=Ye||In.numHorizontalGlyphVertices===0&&In.numVerticalGlyphVertices===0,Bs=Ze||In.numIconVertices===0;if(Ql||Bs?Bs?Ql||(ti=ti&&Vr):Vr=ti&&Vr:ti=Vr=ti&&Vr,Vr&&Ra&&Ra.box&&this.collisionIndex.insertCollisionBox(Ra.box,Ne,k.get("text-ignore-placement"),w.bucketInstanceId,Ns&&Ns.box&&cu?cu:tl,qe.ID),ti&&uo&&this.collisionIndex.insertCollisionBox(uo.box,Dt,k.get("icon-ignore-placement"),w.bucketInstanceId,Os,qe.ID),yo&&(Vr&&this.collisionIndex.insertCollisionCircles(yo.circles,Ne,k.get("text-ignore-placement"),w.bucketInstanceId,tl,qe.ID),_)){const ji=w.bucketInstanceId;let Bi=this.collisionCircleArrays[ji];Bi===void 0&&(Bi=this.collisionCircleArrays[ji]=new or);for(let oa=0;oa<yo.circles.length;oa+=4)Bi.circles.push(yo.circles[oa+0]),Bi.circles.push(yo.circles[oa+1]),Bi.circles.push(yo.circles[oa+2]),Bi.circles.push(yo.collisionDetected?1:0)}if(In.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(w.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[In.crossTileID]=new Fr(Vr||dn,ti||un,Wr||w.justReloaded),p[In.crossTileID]=!0};if(Xt){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const In=w.getSortedSymbolIndexes(this.transform.angle);for(let Cr=In.length-1;Cr>=0;--Cr){const hi=In[Cr];Hr(w.symbolInstances.get(hi),w.collisionArrays[hi])}}else for(let In=u.symbolInstanceStart;In<u.symbolInstanceEnd;In++)Hr(w.symbolInstances.get(In),w.collisionArrays[In]);if(_&&w.bucketInstanceId in this.collisionCircleArrays){const In=this.collisionCircleArrays[w.bucketInstanceId];s.ar(In.invProjMatrix,R),In.viewportMatrix=this.collisionIndex.getViewportMatrix()}w.justReloaded=!1}markUsedJustification(u,p,_,w){let k;k=w===s.ah.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[s.as(p)];const R=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const j of R)j>=0&&(u.text.placedSymbolArray.get(j).crossTileID=k>=0&&j!==k?0:_.crossTileID)}markUsedOrientation(u,p,_){const w=p===s.ah.horizontal||p===s.ah.horizontalOnly?p:0,k=p===s.ah.vertical?p:0,R=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const j of R)u.text.placedSymbolArray.get(j).placedOrientation=w;_.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=k)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let _=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const w=p?p.symbolFadeChange(u):1,k=p?p.opacities:{},R=p?p.variableOffsets:{},j=p?p.placedOrientations:{};for(const Q in this.placements){const ie=this.placements[Q],de=k[Q];de?(this.opacities[Q]=new Br(de,w,ie.text,ie.icon),_=_||ie.text!==de.text.placed||ie.icon!==de.icon.placed):(this.opacities[Q]=new Br(null,w,ie.text,ie.icon,ie.skipFade),_=_||ie.text||ie.icon)}for(const Q in k){const ie=k[Q];if(!this.opacities[Q]){const de=new Br(ie,w,!1,!1);de.isHidden()||(this.opacities[Q]=de,_=_||ie.text.placed||ie.icon.placed)}}for(const Q in R)this.variableOffsets[Q]||!this.opacities[Q]||this.opacities[Q].isHidden()||(this.variableOffsets[Q]=R[Q]);for(const Q in j)this.placedOrientations[Q]||!this.opacities[Q]||this.opacities[Q].isHidden()||(this.placedOrientations[Q]=j[Q]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:u)}updateLayerOpacities(u,p){const _={};for(const w of p){const k=w.getBucket(u);k&&w.latestFeatureIndex&&u.id===k.layerIds[0]&&this.updateBucketOpacities(k,_,w.collisionBoxArray)}}updateBucketOpacities(u,p,_){u.hasTextData()&&(u.text.opacityVertexArray.clear(),u.text.hasVisibleVertices=!1),u.hasIconData()&&(u.icon.opacityVertexArray.clear(),u.icon.hasVisibleVertices=!1),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const w=u.layers[0],k=w.layout,R=new Br(null,0,!1,!1,!0),j=k.get("text-allow-overlap"),Q=k.get("icon-allow-overlap"),ie=w._unevaluatedLayout.hasValue("text-variable-anchor")||w._unevaluatedLayout.hasValue("text-variable-anchor-offset"),de=k.get("text-rotation-alignment")==="map",fe=k.get("text-pitch-alignment")==="map",Oe=k.get("icon-text-fit")!=="none",qe=new Br(null,0,j&&(Q||!u.hasIconData()||k.get("icon-optional")),Q&&(j||!u.hasTextData()||k.get("text-optional")),!0);!u.collisionArrays&&_&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(_);const Ye=(Ze,Ne,ht)=>{for(let Dt=0;Dt<Ne/4;Dt++)Ze.opacityVertexArray.emplaceBack(ht);Ze.hasVisibleVertices=Ze.hasVisibleVertices||ht!==zi};for(let Ze=0;Ze<u.symbolInstances.length;Ze++){const Ne=u.symbolInstances.get(Ze),{numHorizontalGlyphVertices:ht,numVerticalGlyphVertices:Dt,crossTileID:tt}=Ne;let bt=this.opacities[tt];p[tt]?bt=R:bt||(bt=qe,this.opacities[tt]=bt),p[tt]=!0;const Pt=Ne.numIconVertices>0,Lt=this.placedOrientations[Ne.crossTileID],Xt=Lt===s.ah.vertical,dn=Lt===s.ah.horizontal||Lt===s.ah.horizontalOnly;if(ht>0||Dt>0){const un=bo(bt.text);Ye(u.text,ht,Xt?zi:un),Ye(u.text,Dt,dn?zi:un);const pn=bt.text.isHidden();[Ne.rightJustifiedTextSymbolIndex,Ne.centerJustifiedTextSymbolIndex,Ne.leftJustifiedTextSymbolIndex].forEach(In=>{In>=0&&(u.text.placedSymbolArray.get(In).hidden=pn||Xt?1:0)}),Ne.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(Ne.verticalPlacedTextSymbolIndex).hidden=pn||dn?1:0);const $n=this.variableOffsets[Ne.crossTileID];$n&&this.markUsedJustification(u,$n.anchor,Ne,Lt);const Hr=this.placedOrientations[Ne.crossTileID];Hr&&(this.markUsedJustification(u,"left",Ne,Hr),this.markUsedOrientation(u,Hr,Ne))}if(Pt){const un=bo(bt.icon),pn=!(Oe&&Ne.verticalPlacedIconSymbolIndex&&Xt);Ne.placedIconSymbolIndex>=0&&(Ye(u.icon,Ne.numIconVertices,pn?un:zi),u.icon.placedSymbolArray.get(Ne.placedIconSymbolIndex).hidden=bt.icon.isHidden()),Ne.verticalPlacedIconSymbolIndex>=0&&(Ye(u.icon,Ne.numVerticalIconVertices,pn?zi:un),u.icon.placedSymbolArray.get(Ne.verticalPlacedIconSymbolIndex).hidden=bt.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const un=u.collisionArrays[Ze];if(un){let pn=new s.P(0,0);if(un.textBox||un.verticalTextBox){let Hr=!0;if(ie){const In=this.variableOffsets[tt];In?(pn=ro(In.anchor,In.width,In.height,In.textOffset,In.textBoxScale),de&&pn._rotate(fe?this.transform.angle:-this.transform.angle)):Hr=!1}un.textBox&&mo(u.textCollisionBox.collisionVertexArray,bt.text.placed,!Hr||Xt,pn.x,pn.y),un.verticalTextBox&&mo(u.textCollisionBox.collisionVertexArray,bt.text.placed,!Hr||dn,pn.x,pn.y)}const $n=!!(!dn&&un.verticalIconBox);un.iconBox&&mo(u.iconCollisionBox.collisionVertexArray,bt.icon.placed,$n,Oe?pn.x:0,Oe?pn.y:0),un.verticalIconBox&&mo(u.iconCollisionBox.collisionVertexArray,bt.icon.placed,!$n,Oe?pn.x:0,Oe?pn.y:0)}}}if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);if(u.bucketInstanceId in this.collisionCircleArrays){const Ze=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=Ze.invProjMatrix,u.placementViewportMatrix=Ze.viewportMatrix,u.collisionCircleArray=Ze.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,p){const _=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*_>u}setStale(){this.stale=!0}}function mo(I,u,p,_,w){I.emplaceBack(u?1:0,p?1:0,_||0,w||0),I.emplaceBack(u?1:0,p?1:0,_||0,w||0),I.emplaceBack(u?1:0,p?1:0,_||0,w||0),I.emplaceBack(u?1:0,p?1:0,_||0,w||0)}const Qa=Math.pow(2,25),Pa=Math.pow(2,24),Ei=Math.pow(2,17),ls=Math.pow(2,16),yi=Math.pow(2,9),Nn=Math.pow(2,8),oo=Math.pow(2,1);function bo(I){if(I.opacity===0&&!I.placed)return 0;if(I.opacity===1&&I.placed)return 4294967295;const u=I.placed?1:0,p=Math.floor(127*I.opacity);return p*Qa+u*Pa+p*Ei+u*ls+p*yi+u*Nn+p*oo+u}const zi=0;class ve{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,p,_,w,k){const R=this._bucketParts;for(;this._currentTileIndex<u.length;)if(p.getBucketParts(R,w,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,k())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((j,Q)=>j.sortKey-Q.sortKey));this._currentPartIndex<R.length;)if(p.placeLayerBucketPart(R[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,k())return!0;return!1}}class Je{constructor(u,p,_,w,k,R,j,Q){this.placement=new si(u,p,R,j,Q),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=k,this._done=!1}isDone(){return this._done}continuePlacement(u,p,_){const w=E.now(),k=()=>!this._forceFullPlacement&&E.now()-w>2;for(;this._currentPlacementIndex>=0;){const R=p[u[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(R.type==="symbol"&&(!R.minzoom||R.minzoom<=j)&&(!R.maxzoom||R.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new ve(R)),this._inProgressLayer.continuePlacement(_[R.source],this.placement,this._showCollisionBoxes,R,k))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const Zt=512/s.W/2;class sn{constructor(u,p,_){this.tileID=u,this.bucketInstanceId=_,this._symbolsByKey={};const w=new Map;for(let k=0;k<p.length;k++){const R=p.get(k),j=R.key,Q=w.get(j);Q?Q.push(R):w.set(j,[R])}for(const[k,R]of w){const j={positions:R.map(Q=>({x:Math.floor(Q.anchorX*Zt),y:Math.floor(Q.anchorY*Zt)})),crossTileIDs:R.map(Q=>Q.crossTileID)};if(j.positions.length>128){const Q=new s.au(j.positions.length,16,Uint16Array);for(const{x:ie,y:de}of j.positions)Q.add(ie,de);Q.finish(),delete j.positions,j.index=Q}this._symbolsByKey[k]=j}}getScaledCoordinates(u,p){const{x:_,y:w,z:k}=this.tileID.canonical,{x:R,y:j,z:Q}=p.canonical,ie=Zt/Math.pow(2,Q-k),de=(j*s.W+u.anchorY)*ie,fe=w*s.W*Zt;return{x:Math.floor((R*s.W+u.anchorX)*ie-_*s.W*Zt),y:Math.floor(de-fe)}}findMatches(u,p,_){const w=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let k=0;k<u.length;k++){const R=u.get(k);if(R.crossTileID)continue;const j=this._symbolsByKey[R.key];if(!j)continue;const Q=this.getScaledCoordinates(R,p);if(j.index){const ie=j.index.range(Q.x-w,Q.y-w,Q.x+w,Q.y+w).sort();for(const de of ie){const fe=j.crossTileIDs[de];if(!_[fe]){_[fe]=!0,R.crossTileID=fe;break}}}else if(j.positions)for(let ie=0;ie<j.positions.length;ie++){const de=j.positions[ie],fe=j.crossTileIDs[ie];if(Math.abs(de.x-Q.x)<=w&&Math.abs(de.y-Q.y)<=w&&!_[fe]){_[fe]=!0,R.crossTileID=fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:u})=>u)}}class Ft{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class wn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const p=Math.round((u-this.lng)/360);if(p!==0)for(const _ in this.indexes){const w=this.indexes[_],k={};for(const R in w){const j=w[R];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+p),k[j.tileID.key]=j}this.indexes[_]=k}this.lng=u}addBucket(u,p,_){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let k=0;k<p.symbolInstances.length;k++)p.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const w=this.usedCrossTileIDs[u.overscaledZ];for(const k in this.indexes){const R=this.indexes[k];if(Number(k)>u.overscaledZ)for(const j in R){const Q=R[j];Q.tileID.isChildOf(u)&&Q.findMatches(p.symbolInstances,u,w)}else{const j=R[u.scaledTo(Number(k)).key];j&&j.findMatches(p.symbolInstances,u,w)}}for(let k=0;k<p.symbolInstances.length;k++){const R=p.symbolInstances.get(k);R.crossTileID||(R.crossTileID=_.generate(),w[R.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new sn(u,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(u,p){for(const _ of p.getCrossTileIDsLists())for(const w of _)delete this.usedCrossTileIDs[u][w]}removeStaleBuckets(u){let p=!1;for(const _ in this.indexes){const w=this.indexes[_];for(const k in w)u[w[k].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,w[k]),delete w[k],p=!0)}return p}}class hr{constructor(){this.layerIndexes={},this.crossTileIDs=new Ft,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,p,_){let w=this.layerIndexes[u.id];w===void 0&&(w=this.layerIndexes[u.id]=new wn);let k=!1;const R={};w.handleWrapJump(_);for(const j of p){const Q=j.getBucket(u);Q&&u.id===Q.layerIds[0]&&(Q.bucketInstanceId||(Q.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(j.tileID,Q,this.crossTileIDs)&&(k=!0),R[Q.bucketInstanceId]=!0)}return w.removeStaleBuckets(R)&&(k=!0),k}pruneUnusedLayers(u){const p={};u.forEach(_=>{p[_]=!0});for(const _ in this.layerIndexes)p[_]||delete this.layerIndexes[_]}}const ii=(I,u)=>s.t(I,u&&u.filter(p=>p.identifier!=="source.canvas")),li=s.av();class ea extends s.E{constructor(u,p={}){super(),this._rtlPluginLoaded=()=>{for(const _ in this.sourceCaches){const w=this.sourceCaches[_].getSource().type;w!=="vector"&&w!=="geojson"||this.sourceCaches[_].reload()}},this.map=u,this.dispatcher=new pe(ke(),u._getMapId()),this.dispatcher.registerMessageHandler("getGlyphs",(_,w)=>this.getGlyphs(_,w)),this.dispatcher.registerMessageHandler("getImages",(_,w)=>this.getImages(_,w)),this.imageManager=new $e,this.imageManager.setEventedParent(this),this.glyphManager=new st(u._requestManager,p.localIdeographFontFamily),this.lineAtlas=new Ve(256,512),this.crossTileSymbolIndex=new hr,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.aw,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.ax()),Te().on(Ee,this._rtlPluginLoaded),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const w=this.sourceCaches[_.sourceId];if(!w)return;const k=w.getSource();if(k&&k.vectorLayerIds)for(const R in this._layers){const j=this._layers[R];j.source===k.id&&this._validateLayer(j)}})}loadURL(u,p={},_){this.fire(new s.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const w=this.map._requestManager.transformRequest(u,ue.Style);this._loadStyleRequest=new AbortController,s.h(w,this._loadStyleRequest).then(k=>{this._loadStyleRequest=null,this._load(k.data,p,_)}).catch(k=>{this._loadStyleRequest=null,k&&this.fire(new s.j(k))})}loadJSON(u,p={},_){this.fire(new s.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,E.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,p.validate=p.validate!==!1,this._load(u,p,_)}).catch(()=>{})}loadEmpty(){this.fire(new s.k("dataloading",{dataType:"style"})),this._load(li,{validate:!1})}_load(u,p,_){var w;const k=p.transformStyle?p.transformStyle(_,u):u;if(!p.validate||!ii(this,s.x(k))){this._loaded=!0,this.stylesheet=k;for(const R in k.sources)this.addSource(R,k.sources[R],{validate:!1});k.sprite?this._loadSprite(k.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(k.glyphs),this._createLayers(),this.light=new He(this.stylesheet.light),this.map.setTerrain((w=this.stylesheet.terrain)!==null&&w!==void 0?w:null),this.fire(new s.k("data",{dataType:"style"})),this.fire(new s.k("style.load"))}}_createLayers(){const u=s.ay(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",u),this._order=u.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of u){const _=s.az(p);_.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=_}}_loadSprite(u,p=!1,_=void 0){let w;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(k,R,j,Q){return s._(this,void 0,void 0,function*(){const ie=De(k),de=j>1?"@2x":"",fe={},Oe={};for(const{id:qe,url:Ye}of ie){const Ze=R.transformRequest(R.normalizeSpriteURL(Ye,de,".json"),ue.SpriteJSON);fe[qe]=s.h(Ze,Q);const Ne=R.transformRequest(R.normalizeSpriteURL(Ye,de,".png"),ue.SpriteImage);Oe[qe]=Z.getImage(Ne,Q)}return yield Promise.all([...Object.values(fe),...Object.values(Oe)]),function(qe,Ye){return s._(this,void 0,void 0,function*(){const Ze={};for(const Ne in qe){Ze[Ne]={};const ht=E.getImageCanvasContext((yield Ye[Ne]).data),Dt=(yield qe[Ne]).data;for(const tt in Dt){const{width:bt,height:Pt,x:Lt,y:Xt,sdf:dn,pixelRatio:un,stretchX:pn,stretchY:$n,content:Hr}=Dt[tt];Ze[Ne][tt]={data:null,pixelRatio:un,sdf:dn,stretchX:pn,stretchY:$n,content:Hr,spriteData:{width:bt,height:Pt,x:Lt,y:Xt,context:ht}}}}return Ze})}(fe,Oe)})}(u,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(k=>{if(this._spriteRequest=null,k)for(const R in k){this._spritesImagesIds[R]=[];const j=this._spritesImagesIds[R]?this._spritesImagesIds[R].filter(Q=>!(Q in k)):[];for(const Q of j)this.imageManager.removeImage(Q),this._changedImages[Q]=!0;for(const Q in k[R]){const ie=R==="default"?Q:`${R}:${Q}`;this._spritesImagesIds[R].push(ie),ie in this.imageManager.images?this.imageManager.updateImage(ie,k[R][Q],!1):this.imageManager.addImage(ie,k[R][Q]),p&&(this._changedImages[ie]=!0)}}}).catch(k=>{this._spriteRequest=null,w=k,this.fire(new s.j(w))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"})),_&&_(w)})}_unloadSprite(){for(const u of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(u),this._changedImages[u]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}_validateLayer(u){const p=this.sourceCaches[u.source];if(!p)return;const _=u.sourceLayer;if(!_)return;const w=p.getSource();(w.type==="geojson"||w.vectorLayerIds&&w.vectorLayerIds.indexOf(_)===-1)&&this.fire(new s.j(new Error(`Source layer "${_}" does not exist on source "${w.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(u){const p=this._serializedAllLayers();if(!u||u.length===0)return Object.values(p);const _=[];for(const w of u)p[w]&&_.push(p[w]);return _}_serializedAllLayers(){let u=this._serializedLayers;if(u)return u;u=this._serializedLayers={};const p=Object.keys(this._layers);for(const _ of p){const w=this._layers[_];w.type!=="custom"&&(u[_]=w.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const p=this._changed;if(this._changed){const w=Object.keys(this._updatedLayers),k=Object.keys(this._removedLayers);(w.length||k.length)&&this._updateWorkerLayers(w,k);for(const R in this._updatedSources){const j=this._updatedSources[R];if(j==="reload")this._reloadSource(R);else{if(j!=="clear")throw new Error(`Invalid action ${j}`);this._clearSource(R)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const R in this._updatedPaintProps)this._layers[R].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}const _={};for(const w in this.sourceCaches){const k=this.sourceCaches[w];_[w]=k.used,k.used=!1}for(const w of this._order){const k=this._layers[w];k.recalculate(u,this._availableImages),!k.isHidden(u.zoom)&&k.source&&(this.sourceCaches[k.source].used=!0)}for(const w in _){const k=this.sourceCaches[w];_[w]!==k.used&&k.fire(new s.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:w}))}this.light.recalculate(u),this.z=u.zoom,p&&this.fire(new s.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(u,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(u),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(u,p={}){var _;this._checkLoaded();const w=this.serialize();if(u=p.transformStyle?p.transformStyle(w,u):u,((_=p.validate)===null||_===void 0||_)&&ii(this,s.x(u)))return!1;(u=s.aA(u)).layers=s.ay(u.layers);const k=s.aB(w,u),R=this._getOperationsToPerform(k);if(R.unimplemented.length>0)throw new Error(`Unimplemented: ${R.unimplemented.join(", ")}.`);if(R.operations.length===0)return!1;for(const j of R.operations)j();return this.stylesheet=u,this._serializedLayers=null,!0}_getOperationsToPerform(u){const p=[],_=[];for(const w of u)switch(w.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":p.push(()=>this.addLayer.apply(this,w.args));break;case"removeLayer":p.push(()=>this.removeLayer.apply(this,w.args));break;case"setPaintProperty":p.push(()=>this.setPaintProperty.apply(this,w.args));break;case"setLayoutProperty":p.push(()=>this.setLayoutProperty.apply(this,w.args));break;case"setFilter":p.push(()=>this.setFilter.apply(this,w.args));break;case"addSource":p.push(()=>this.addSource.apply(this,w.args));break;case"removeSource":p.push(()=>this.removeSource.apply(this,w.args));break;case"setLayerZoomRange":p.push(()=>this.setLayerZoomRange.apply(this,w.args));break;case"setLight":p.push(()=>this.setLight.apply(this,w.args));break;case"setGeoJSONSourceData":p.push(()=>this.setGeoJSONSourceData.apply(this,w.args));break;case"setGlyphs":p.push(()=>this.setGlyphs.apply(this,w.args));break;case"setSprite":p.push(()=>this.setSprite.apply(this,w.args));break;case"setTerrain":p.push(()=>this.map.setTerrain.apply(this,w.args));break;case"setTransition":p.push(()=>{});break;default:_.push(w.command)}return{operations:p,unimplemented:_}}addImage(u,p){if(this.getImage(u))return this.fire(new s.j(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,p),this._afterImageUpdated(u)}updateImage(u,p){this.imageManager.updateImage(u,p)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new s.j(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,p,_={}){if(this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(s.x.source,`sources.${u}`,p,null,_))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const w=this.sourceCaches[u]=new Ut(u,p,this.dispatcher);w.style=this,w.setEventedParent(this,()=>({isSourceLoaded:w.loaded(),source:w.serialize(),sourceId:u})),w.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===u)return this.fire(new s.j(new Error(`Source "${u}" cannot be removed while layer "${_}" is using it.`)));const p=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],p.fire(new s.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,p){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const _=this.sourceCaches[u].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(p),this._changed=!0}getSource(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()}addLayer(u,p,_={}){this._checkLoaded();const w=u.id;if(this.getLayer(w))return void this.fire(new s.j(new Error(`Layer "${w}" already exists on this map.`)));let k;if(u.type==="custom"){if(ii(this,s.aC(u)))return;k=s.az(u)}else{if("source"in u&&typeof u.source=="object"&&(this.addSource(w,u.source),u=s.aA(u),u=s.e(u,{source:w})),this._validate(s.x.layer,`layers.${w}`,u,{arrayIndex:-1},_))return;k=s.az(u),this._validateLayer(k),k.setEventedParent(this,{layer:{id:w}})}const R=p?this._order.indexOf(p):this._order.length;if(p&&R===-1)this.fire(new s.j(new Error(`Cannot add layer "${w}" before non-existing layer "${p}".`)));else{if(this._order.splice(R,0,w),this._layerOrderChanged=!0,this._layers[w]=k,this._removedLayers[w]&&k.source&&k.type!=="custom"){const j=this._removedLayers[w];delete this._removedLayers[w],j.type!==k.type?this._updatedSources[k.source]="clear":(this._updatedSources[k.source]="reload",this.sourceCaches[k.source].pause())}this._updateLayer(k),k.onAdd&&k.onAdd(this.map)}}moveLayer(u,p){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new s.j(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===p)return;const _=this._order.indexOf(u);this._order.splice(_,1);const w=p?this._order.indexOf(p):this._order.length;p&&w===-1?this.fire(new s.j(new Error(`Cannot move layer "${u}" before non-existing layer "${p}".`))):(this._order.splice(w,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const p=this._layers[u];if(!p)return void this.fire(new s.j(new Error(`Cannot remove non-existing layer "${u}".`)));p.setEventedParent(null);const _=this._order.indexOf(u);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=p,delete this._layers[u],this._serializedLayers&&delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],p.onRemove&&p.onRemove(this.map)}getLayer(u){return this._layers[u]}getLayersOrder(){return[...this._order]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,p,_){this._checkLoaded();const w=this.getLayer(u);w?w.minzoom===p&&w.maxzoom===_||(p!=null&&(w.minzoom=p),_!=null&&(w.maxzoom=_),this._updateLayer(w)):this.fire(new s.j(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,p,_={}){this._checkLoaded();const w=this.getLayer(u);if(w){if(!s.aD(w.filter,p))return p==null?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(s.x.filter,`layers.${w.id}.filter`,p,null,_)||(w.filter=s.aA(p),this._updateLayer(w)))}else this.fire(new s.j(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return s.aA(this.getLayer(u).filter)}setLayoutProperty(u,p,_,w={}){this._checkLoaded();const k=this.getLayer(u);k?s.aD(k.getLayoutProperty(p),_)||(k.setLayoutProperty(p,_,w),this._updateLayer(k)):this.fire(new s.j(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,p){const _=this.getLayer(u);if(_)return _.getLayoutProperty(p);this.fire(new s.j(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,p,_,w={}){this._checkLoaded();const k=this.getLayer(u);k?s.aD(k.getPaintProperty(p),_)||(k.setPaintProperty(p,_,w)&&this._updateLayer(k),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new s.j(new Error(`Cannot style non-existing layer "${u}".`)))}getPaintProperty(u,p){return this.getLayer(u).getPaintProperty(p)}setFeatureState(u,p){this._checkLoaded();const _=u.source,w=u.sourceLayer,k=this.sourceCaches[_];if(k===void 0)return void this.fire(new s.j(new Error(`The source '${_}' does not exist in the map's style.`)));const R=k.getSource().type;R==="geojson"&&w?this.fire(new s.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):R!=="vector"||w?(u.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),k.setFeatureState(w,u.id,p)):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,p){this._checkLoaded();const _=u.source,w=this.sourceCaches[_];if(w===void 0)return void this.fire(new s.j(new Error(`The source '${_}' does not exist in the map's style.`)));const k=w.getSource().type,R=k==="vector"?u.sourceLayer:void 0;k!=="vector"||R?p&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new s.j(new Error("A feature id is required to remove its specific state property."))):w.removeFeatureState(R,u.id,p):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const p=u.source,_=u.sourceLayer,w=this.sourceCaches[p];if(w!==void 0)return w.getSource().type!=="vector"||_?(u.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),w.getFeatureState(_,u.id)):void this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const u=s.aE(this.sourceCaches,k=>k.serialize()),p=this._serializeByIds(this._order),_=this.map.getTerrain()||void 0,w=this.stylesheet;return s.aF({version:w.version,name:w.name,metadata:w.metadata,light:w.light,center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch,sprite:w.sprite,glyphs:w.glyphs,transition:w.transition,sources:u,layers:p,terrain:_},k=>k!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(u){const p=R=>this._layers[R].type==="fill-extrusion",_={},w=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j)){_[j]=R;for(const Q of u){const ie=Q[j];if(ie)for(const de of ie)w.push(de)}}}w.sort((R,j)=>j.intersectionZ-R.intersectionZ);const k=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j))for(let Q=w.length-1;Q>=0;Q--){const ie=w[Q].feature;if(_[ie.layer.id]<R)break;k.push(ie),w.pop()}else for(const Q of u){const ie=Q[j];if(ie)for(const de of ie)k.push(de.feature)}}return k}queryRenderedFeatures(u,p,_){p&&p.filter&&this._validate(s.x.filter,"queryRenderedFeatures.filter",p.filter,null,p);const w={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new s.j(new Error("parameters.layers must be an Array."))),[];for(const j of p.layers){const Q=this._layers[j];if(!Q)return this.fire(new s.j(new Error(`The layer '${j}' does not exist in the map's style and cannot be queried for features.`))),[];w[Q.source]=!0}}const k=[];p.availableImages=this._availableImages;const R=this._serializedAllLayers();for(const j in this.sourceCaches)p.layers&&!w[j]||k.push(it(this.sourceCaches[j],this._layers,R,u,p,_));return this.placement&&k.push(function(j,Q,ie,de,fe,Oe,qe){const Ye={},Ze=Oe.queryRenderedSymbols(de),Ne=[];for(const ht of Object.keys(Ze).map(Number))Ne.push(qe[ht]);Ne.sort(ot);for(const ht of Ne){const Dt=ht.featureIndex.lookupSymbolFeatures(Ze[ht.bucketInstanceId],Q,ht.bucketIndex,ht.sourceLayerIndex,fe.filter,fe.layers,fe.availableImages,j);for(const tt in Dt){const bt=Ye[tt]=Ye[tt]||[],Pt=Dt[tt];Pt.sort((Lt,Xt)=>{const dn=ht.featureSortOrder;if(dn){const un=dn.indexOf(Lt.featureIndex);return dn.indexOf(Xt.featureIndex)-un}return Xt.featureIndex-Lt.featureIndex});for(const Lt of Pt)bt.push(Lt)}}for(const ht in Ye)Ye[ht].forEach(Dt=>{const tt=Dt.feature,bt=ie[j[ht].source].getFeatureState(tt.layer["source-layer"],tt.id);tt.source=tt.layer.source,tt.layer["source-layer"]&&(tt.sourceLayer=tt.layer["source-layer"]),tt.state=bt});return Ye}(this._layers,R,this.sourceCaches,u,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(k)}querySourceFeatures(u,p){p&&p.filter&&this._validate(s.x.filter,"querySourceFeatures.filter",p.filter,null,p);const _=this.sourceCaches[u];return _?function(w,k){const R=w.getRenderableIds().map(ie=>w.getTileByID(ie)),j=[],Q={};for(let ie=0;ie<R.length;ie++){const de=R[ie],fe=de.tileID.canonical.key;Q[fe]||(Q[fe]=!0,de.querySourceFeatures(j,k))}return j}(_,p):[]}getLight(){return this.light.getLight()}setLight(u,p={}){this._checkLoaded();const _=this.light.getLight();let w=!1;for(const R in u)if(!s.aD(u[R],_[R])){w=!0;break}if(!w)return;const k={now:E.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,p),this.light.updateTransitions(k)}_validate(u,p,_,w,k={}){return(!k||k.validate!==!1)&&ii(this,u.call(s.x,s.e({key:p,style:this.serialize(),value:_,styleSpec:s.v},w)))}_remove(u=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Te().off(Ee,this._rtlPluginLoaded);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const _=this.sourceCaches[p];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),u&&this.dispatcher.broadcast("removeMap",void 0),this.dispatcher.remove(u)}_clearSource(u){this.sourceCaches[u].clearTiles()}_reloadSource(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()}_updateSources(u){for(const p in this.sourceCaches)this.sourceCaches[p].update(u,this.map.terrain)}_generateCollisionBoxes(){for(const u in this.sourceCaches)this._reloadSource(u)}_updatePlacement(u,p,_,w,k=!1){let R=!1,j=!1;const Q={};for(const ie of this._order){const de=this._layers[ie];if(de.type!=="symbol")continue;if(!Q[de.source]){const Oe=this.sourceCaches[de.source];Q[de.source]=Oe.getRenderableIds(!0).map(qe=>Oe.getTileByID(qe)).sort((qe,Ye)=>Ye.tileID.overscaledZ-qe.tileID.overscaledZ||(qe.tileID.isLessThan(Ye.tileID)?-1:1))}const fe=this.crossTileSymbolIndex.addLayer(de,Q[de.source],u.center.lng);R=R||fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((k=k||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(E.now(),u.zoom))&&(this.pauseablePlacement=new Je(u,this.map.terrain,this._order,k,p,_,w,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Q),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(E.now()),j=!0),R&&this.pauseablePlacement.placement.setStale()),j||R)for(const ie of this._order){const de=this._layers[ie];de.type==="symbol"&&this.placement.updateLayerOpacities(de,Q[de.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(E.now())}_releaseSymbolFadeTiles(){for(const u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,p){return s._(this,void 0,void 0,function*(){const _=yield this.imageManager.getImages(p.icons);this._updateTilesForChangedImages();const w=this.sourceCaches[p.source];return w&&w.setDependencies(p.tileID.key,p.type,p.icons),_})}getGlyphs(u,p){return s._(this,void 0,void 0,function*(){const _=yield this.glyphManager.getGlyphs(p.stacks),w=this.sourceCaches[p.source];return w&&w.setDependencies(p.tileID.key,p.type,[""]),_})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(u,p={}){this._checkLoaded(),u&&this._validate(s.x.glyphs,"glyphs",u,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=u,this.glyphManager.entries={},this.glyphManager.setURL(u))}addSprite(u,p,_={},w){this._checkLoaded();const k=[{id:u,url:p}],R=[...De(this.stylesheet.sprite),...k];this._validate(s.x.sprite,"sprite",R,null,_)||(this.stylesheet.sprite=R,this._loadSprite(k,!0,w))}removeSprite(u){this._checkLoaded();const p=De(this.stylesheet.sprite);if(p.find(_=>_.id===u)){if(this._spritesImagesIds[u])for(const _ of this._spritesImagesIds[u])this.imageManager.removeImage(_),this._changedImages[_]=!0;p.splice(p.findIndex(_=>_.id===u),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[u],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}else this.fire(new s.j(new Error(`Sprite "${u}" doesn't exists on this map.`)))}getSprite(){return De(this.stylesheet.sprite)}setSprite(u,p={},_){this._checkLoaded(),u&&this._validate(s.x.sprite,"sprite",u,null,p)||(this.stylesheet.sprite=u,u?this._loadSprite(u,!0,_):(this._unloadSprite(),_&&_(null)))}}var Fa=s.X([{name:"a_pos",type:"Int16",components:2}]),Dr="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const $a={prelude:vi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:vi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:vi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:vi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:vi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:vi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:vi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:vi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:vi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:vi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:vi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:vi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:vi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:vi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:vi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:vi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:vi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:vi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:vi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:vi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:vi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:vi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:vi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:vi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:vi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:vi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:vi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Dr),terrainDepth:vi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Dr),terrainCoords:vi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Dr)};function vi(I,u){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=u.match(/attribute ([\w]+) ([\w]+)/g),w=I.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),k=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),R=k?k.concat(w):w,j={};return{fragmentSource:I=I.replace(p,(Q,ie,de,fe,Oe)=>(j[Oe]=!0,ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
varying ${de} ${fe} ${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`)),vertexSource:u=u.replace(p,(Q,ie,de,fe,Oe)=>{const qe=fe==="float"?"vec2":"vec4",Ye=Oe.match(/color/)?"color":qe;return j[Oe]?ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
uniform lowp float u_${Oe}_t;
attribute ${de} ${qe} a_${Oe};
varying ${de} ${fe} ${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:Ye==="vec4"?`
#ifndef HAS_UNIFORM_u_${Oe}
    ${Oe} = a_${Oe};
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Oe}
    ${Oe} = unpack_mix_${Ye}(a_${Oe}, u_${Oe}_t);
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
uniform lowp float u_${Oe}_t;
attribute ${de} ${qe} a_${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:Ye==="vec4"?`
#ifndef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = a_${Oe};
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = unpack_mix_${Ye}(a_${Oe}, u_${Oe}_t);
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`}),staticAttributes:_,staticUniforms:R}}class Ya{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,p,_,w,k,R,j,Q,ie){this.context=u;let de=this.boundPaintVertexBuffers.length!==w.length;for(let fe=0;!de&&fe<w.length;fe++)this.boundPaintVertexBuffers[fe]!==w[fe]&&(de=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==_||de||this.boundIndexBuffer!==k||this.boundVertexOffset!==R||this.boundDynamicVertexBuffer!==j||this.boundDynamicVertexBuffer2!==Q||this.boundDynamicVertexBuffer3!==ie?this.freshBind(p,_,w,k,R,j,Q,ie):(u.bindVertexArray.set(this.vao),j&&j.bind(),k&&k.dynamicDraw&&k.bind(),Q&&Q.bind(),ie&&ie.bind())}freshBind(u,p,_,w,k,R,j,Q){const ie=u.numAttributes,de=this.context,fe=de.gl;this.vao&&this.destroy(),this.vao=de.createVertexArray(),de.bindVertexArray.set(this.vao),this.boundProgram=u,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=w,this.boundVertexOffset=k,this.boundDynamicVertexBuffer=R,this.boundDynamicVertexBuffer2=j,this.boundDynamicVertexBuffer3=Q,p.enableAttributes(fe,u);for(const Oe of _)Oe.enableAttributes(fe,u);R&&R.enableAttributes(fe,u),j&&j.enableAttributes(fe,u),Q&&Q.enableAttributes(fe,u),p.bind(),p.setVertexAttribPointers(fe,u,k);for(const Oe of _)Oe.bind(),Oe.setVertexAttribPointers(fe,u,k);R&&(R.bind(),R.setVertexAttribPointers(fe,u,k)),w&&w.bind(),j&&(j.bind(),j.setVertexAttribPointers(fe,u,k)),Q&&(Q.bind(),Q.setVertexAttribPointers(fe,u,k)),de.currentNumAttributes=ie}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function ta(I){const u=[];for(let p=0;p<I.length;p++){if(I[p]===null)continue;const _=I[p].split(" ");u.push(_.pop())}return u}class Su{constructor(u,p,_,w,k,R){const j=u.gl;this.program=j.createProgram();const Q=ta(p.staticAttributes),ie=_?_.getBinderAttributes():[],de=Q.concat(ie),fe=$a.prelude.staticUniforms?ta($a.prelude.staticUniforms):[],Oe=p.staticUniforms?ta(p.staticUniforms):[],qe=_?_.getBinderUniforms():[],Ye=fe.concat(Oe).concat(qe),Ze=[];for(const Lt of Ye)Ze.indexOf(Lt)<0&&Ze.push(Lt);const Ne=_?_.defines():[];k&&Ne.push("#define OVERDRAW_INSPECTOR;"),R&&Ne.push("#define TERRAIN3D;");const ht=Ne.concat($a.prelude.fragmentSource,p.fragmentSource).join(`
`),Dt=Ne.concat($a.prelude.vertexSource,p.vertexSource).join(`
`),tt=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(tt,ht),j.compileShader(tt),!j.getShaderParameter(tt,j.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${j.getShaderInfoLog(tt)}`);j.attachShader(this.program,tt);const bt=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(bt,Dt),j.compileShader(bt),!j.getShaderParameter(bt,j.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${j.getShaderInfoLog(bt)}`);j.attachShader(this.program,bt),this.attributes={};const Pt={};this.numAttributes=de.length;for(let Lt=0;Lt<this.numAttributes;Lt++)de[Lt]&&(j.bindAttribLocation(this.program,Lt,de[Lt]),this.attributes[de[Lt]]=Lt);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error(`Program failed to link: ${j.getProgramInfoLog(this.program)}`);j.deleteShader(bt),j.deleteShader(tt);for(let Lt=0;Lt<Ze.length;Lt++){const Xt=Ze[Lt];if(Xt&&!Pt[Xt]){const dn=j.getUniformLocation(this.program,Xt);dn&&(Pt[Xt]=dn)}}this.fixedUniforms=w(u,Pt),this.terrainUniforms=((Lt,Xt)=>({u_depth:new s.aG(Lt,Xt.u_depth),u_terrain:new s.aG(Lt,Xt.u_terrain),u_terrain_dim:new s.aH(Lt,Xt.u_terrain_dim),u_terrain_matrix:new s.aI(Lt,Xt.u_terrain_matrix),u_terrain_unpack:new s.aJ(Lt,Xt.u_terrain_unpack),u_terrain_exaggeration:new s.aH(Lt,Xt.u_terrain_exaggeration)}))(u,Pt),this.binderUniforms=_?_.getUniforms(u,Pt):[]}draw(u,p,_,w,k,R,j,Q,ie,de,fe,Oe,qe,Ye,Ze,Ne,ht,Dt){const tt=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(_),u.setStencilMode(w),u.setColorMode(k),u.setCullFace(R),Q){u.activeTexture.set(tt.TEXTURE2),tt.bindTexture(tt.TEXTURE_2D,Q.depthTexture),u.activeTexture.set(tt.TEXTURE3),tt.bindTexture(tt.TEXTURE_2D,Q.texture);for(const Pt in this.terrainUniforms)this.terrainUniforms[Pt].set(Q[Pt])}for(const Pt in this.fixedUniforms)this.fixedUniforms[Pt].set(j[Pt]);Ze&&Ze.setUniforms(u,this.binderUniforms,qe,{zoom:Ye});let bt=0;switch(p){case tt.LINES:bt=2;break;case tt.TRIANGLES:bt=3;break;case tt.LINE_STRIP:bt=1}for(const Pt of Oe.get()){const Lt=Pt.vaos||(Pt.vaos={});(Lt[ie]||(Lt[ie]=new Ya)).bind(u,this,de,Ze?Ze.getPaintVertexBuffers():[],fe,Pt.vertexOffset,Ne,ht,Dt),tt.drawElements(p,Pt.primitiveLength*bt,tt.UNSIGNED_SHORT,Pt.primitiveOffset*bt*2)}}}function us(I,u,p){const _=1/ur(p,1,u.transform.tileZoom),w=Math.pow(2,p.tileID.overscaledZ),k=p.tileSize*Math.pow(2,u.transform.tileZoom)/w,R=k*(p.tileID.canonical.x+p.tileID.wrap*w),j=k*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[_,I.fromScale,I.toScale],u_fade:I.t,u_pixel_coord_upper:[R>>16,j>>16],u_pixel_coord_lower:[65535&R,65535&j]}}const na=(I,u,p,_)=>{const w=u.style.light,k=w.properties.get("position"),R=[k.x,k.y,k.z],j=function(){var ie=new s.A(9);return s.A!=Float32Array&&(ie[1]=0,ie[2]=0,ie[3]=0,ie[5]=0,ie[6]=0,ie[7]=0),ie[0]=1,ie[4]=1,ie[8]=1,ie}();w.properties.get("anchor")==="viewport"&&function(ie,de){var fe=Math.sin(de),Oe=Math.cos(de);ie[0]=Oe,ie[1]=fe,ie[2]=0,ie[3]=-fe,ie[4]=Oe,ie[5]=0,ie[6]=0,ie[7]=0,ie[8]=1}(j,-u.transform.angle),function(ie,de,fe){var Oe=de[0],qe=de[1],Ye=de[2];ie[0]=Oe*fe[0]+qe*fe[3]+Ye*fe[6],ie[1]=Oe*fe[1]+qe*fe[4]+Ye*fe[7],ie[2]=Oe*fe[2]+qe*fe[5]+Ye*fe[8]}(R,R,j);const Q=w.properties.get("color");return{u_matrix:I,u_lightpos:R,u_lightintensity:w.properties.get("intensity"),u_lightcolor:[Q.r,Q.g,Q.b],u_vertical_gradient:+p,u_opacity:_}},ra=(I,u,p,_,w,k,R)=>s.e(na(I,u,p,_),us(k,u,R),{u_height_factor:-Math.pow(2,w.overscaledZ)/R.tileSize/8}),Ms=I=>({u_matrix:I}),Eu=(I,u,p,_)=>s.e(Ms(I),us(p,u,_)),ya=(I,u)=>({u_matrix:I,u_world:u}),bA=(I,u,p,_,w)=>s.e(Eu(I,u,p,_),{u_world:w}),$u=(I,u,p,_)=>{const w=I.transform;let k,R;if(_.paint.get("circle-pitch-alignment")==="map"){const j=ur(p,1,w.zoom);k=!0,R=[j,j]}else k=!1,R=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(_.paint.get("circle-pitch-scale")==="map"),u_matrix:I.translatePosMatrix(u.posMatrix,p,_.paint.get("circle-translate"),_.paint.get("circle-translate-anchor")),u_pitch_with_map:+k,u_device_pixel_ratio:I.pixelRatio,u_extrude_scale:R}},xA=(I,u,p)=>{const _=ur(p,1,u.zoom),w=Math.pow(2,u.zoom-p.tileID.overscaledZ),k=p.tileID.overscaleFactor();return{u_matrix:I,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:_,u_extrude_scale:[u.pixelsToGLUnits[0]/(_*w),u.pixelsToGLUnits[1]/(_*w)],u_overscale_factor:k}},Ou=(I,u,p=1)=>({u_matrix:I,u_color:u,u_overlay:0,u_overlay_scale:p}),Yu=I=>({u_matrix:I}),Wo=(I,u,p,_)=>({u_matrix:I,u_extrude_scale:ur(u,1,p),u_intensity:_});function Ss(I,u){const p=Math.pow(2,u.canonical.z),_=u.canonical.y;return[new s.Y(0,_/p).toLngLat().lat,new s.Y(0,(_+1)/p).toLngLat().lat]}const ru=(I,u,p,_)=>{const w=I.transform;return{u_matrix:cl(I,u,p,_),u_ratio:1/ur(u,1,w.zoom),u_device_pixel_ratio:I.pixelRatio,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},As=(I,u,p,_,w)=>s.e(ru(I,u,p,w),{u_image:0,u_image_height:_}),Al=(I,u,p,_,w)=>{const k=I.transform,R=Bu(u,k);return{u_matrix:cl(I,u,p,w),u_texsize:u.imageAtlasTexture.size,u_ratio:1/ur(u,1,k.zoom),u_device_pixel_ratio:I.pixelRatio,u_image:0,u_scale:[R,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},Qo=(I,u,p,_,w,k)=>{const R=I.lineAtlas,j=Bu(u,I.transform),Q=p.layout.get("line-cap")==="round",ie=R.getDash(_.from,Q),de=R.getDash(_.to,Q),fe=ie.width*w.fromScale,Oe=de.width*w.toScale;return s.e(ru(I,u,p,k),{u_patternscale_a:[j/fe,-ie.height/2],u_patternscale_b:[j/Oe,-de.height/2],u_sdfgamma:R.width/(256*Math.min(fe,Oe)*I.pixelRatio)/2,u_image:0,u_tex_y_a:ie.y,u_tex_y_b:de.y,u_mix:w.t})};function Bu(I,u){return 1/ur(I,1,u.tileZoom)}function cl(I,u,p,_){return I.translatePosMatrix(_?_.posMatrix:u.tileID.posMatrix,u,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const Sl=(I,u,p,_,w)=>{return{u_matrix:I,u_tl_parent:u,u_scale_parent:p,u_buffer_scale:1,u_fade_t:_.mix,u_opacity:_.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(R=w.paint.get("raster-saturation"),R>0?1-1/(1.001-R):-R),u_contrast_factor:(k=w.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:iu(w.paint.get("raster-hue-rotate"))};var k,R};function iu(I){I*=Math.PI/180;const u=Math.sin(I),p=Math.cos(I);return[(2*p+1)/3,(-Math.sqrt(3)*u-p+1)/3,(Math.sqrt(3)*u-p+1)/3]}const Aa=(I,u,p,_,w,k,R,j,Q,ie)=>{const de=w.transform;return{u_is_size_zoom_constant:+(I==="constant"||I==="source"),u_is_size_feature_constant:+(I==="constant"||I==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:de.cameraToCenterDistance,u_pitch:de.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:de.width/de.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:k,u_label_plane_matrix:R,u_coord_matrix:j,u_is_text:+Q,u_pitch_with_map:+_,u_texsize:ie,u_texture:0}},dl=(I,u,p,_,w,k,R,j,Q,ie,de)=>{const fe=w.transform;return s.e(Aa(I,u,p,_,w,k,R,j,Q,ie),{u_gamma_scale:_?Math.cos(fe._pitch)*fe.cameraToCenterDistance:1,u_device_pixel_ratio:w.pixelRatio,u_is_halo:+de})},wA=(I,u,p,_,w,k,R,j,Q,ie)=>s.e(dl(I,u,p,_,w,k,R,j,!0,Q,!0),{u_texsize_icon:ie,u_texture_icon:1}),_o=(I,u,p)=>({u_matrix:I,u_opacity:u,u_color:p}),ao=(I,u,p,_,w,k)=>s.e(function(R,j,Q,ie){const de=Q.imageManager.getPattern(R.from.toString()),fe=Q.imageManager.getPattern(R.to.toString()),{width:Oe,height:qe}=Q.imageManager.getPixelSize(),Ye=Math.pow(2,ie.tileID.overscaledZ),Ze=ie.tileSize*Math.pow(2,Q.transform.tileZoom)/Ye,Ne=Ze*(ie.tileID.canonical.x+ie.tileID.wrap*Ye),ht=Ze*ie.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:fe.tl,u_pattern_br_b:fe.br,u_texsize:[Oe,qe],u_mix:j.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:fe.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/ur(ie,1,Q.transform.tileZoom),u_pixel_coord_upper:[Ne>>16,ht>>16],u_pixel_coord_lower:[65535&Ne,65535&ht]}}(_,k,p,w),{u_matrix:I,u_opacity:u}),z={fillExtrusion:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_lightpos:new s.aK(I,u.u_lightpos),u_lightintensity:new s.aH(I,u.u_lightintensity),u_lightcolor:new s.aK(I,u.u_lightcolor),u_vertical_gradient:new s.aH(I,u.u_vertical_gradient),u_opacity:new s.aH(I,u.u_opacity)}),fillExtrusionPattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_lightpos:new s.aK(I,u.u_lightpos),u_lightintensity:new s.aH(I,u.u_lightintensity),u_lightcolor:new s.aK(I,u.u_lightcolor),u_vertical_gradient:new s.aH(I,u.u_vertical_gradient),u_height_factor:new s.aH(I,u.u_height_factor),u_image:new s.aG(I,u.u_image),u_texsize:new s.aL(I,u.u_texsize),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade),u_opacity:new s.aH(I,u.u_opacity)}),fill:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix)}),fillPattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_image:new s.aG(I,u.u_image),u_texsize:new s.aL(I,u.u_texsize),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade)}),fillOutline:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_world:new s.aL(I,u.u_world)}),fillOutlinePattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_world:new s.aL(I,u.u_world),u_image:new s.aG(I,u.u_image),u_texsize:new s.aL(I,u.u_texsize),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade)}),circle:(I,u)=>({u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_scale_with_map:new s.aG(I,u.u_scale_with_map),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_extrude_scale:new s.aL(I,u.u_extrude_scale),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_matrix:new s.aI(I,u.u_matrix)}),collisionBox:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pixels_to_tile_units:new s.aH(I,u.u_pixels_to_tile_units),u_extrude_scale:new s.aL(I,u.u_extrude_scale),u_overscale_factor:new s.aH(I,u.u_overscale_factor)}),collisionCircle:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_inv_matrix:new s.aI(I,u.u_inv_matrix),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_viewport_size:new s.aL(I,u.u_viewport_size)}),debug:(I,u)=>({u_color:new s.aM(I,u.u_color),u_matrix:new s.aI(I,u.u_matrix),u_overlay:new s.aG(I,u.u_overlay),u_overlay_scale:new s.aH(I,u.u_overlay_scale)}),clippingMask:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix)}),heatmap:(I,u)=>({u_extrude_scale:new s.aH(I,u.u_extrude_scale),u_intensity:new s.aH(I,u.u_intensity),u_matrix:new s.aI(I,u.u_matrix)}),heatmapTexture:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_world:new s.aL(I,u.u_world),u_image:new s.aG(I,u.u_image),u_color_ramp:new s.aG(I,u.u_color_ramp),u_opacity:new s.aH(I,u.u_opacity)}),hillshade:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_image:new s.aG(I,u.u_image),u_latrange:new s.aL(I,u.u_latrange),u_light:new s.aL(I,u.u_light),u_shadow:new s.aM(I,u.u_shadow),u_highlight:new s.aM(I,u.u_highlight),u_accent:new s.aM(I,u.u_accent)}),hillshadePrepare:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_image:new s.aG(I,u.u_image),u_dimension:new s.aL(I,u.u_dimension),u_zoom:new s.aH(I,u.u_zoom),u_unpack:new s.aJ(I,u.u_unpack)}),line:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels)}),lineGradient:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels),u_image:new s.aG(I,u.u_image),u_image_height:new s.aH(I,u.u_image_height)}),linePattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_texsize:new s.aL(I,u.u_texsize),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_image:new s.aG(I,u.u_image),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade)}),lineSDF:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels),u_patternscale_a:new s.aL(I,u.u_patternscale_a),u_patternscale_b:new s.aL(I,u.u_patternscale_b),u_sdfgamma:new s.aH(I,u.u_sdfgamma),u_image:new s.aG(I,u.u_image),u_tex_y_a:new s.aH(I,u.u_tex_y_a),u_tex_y_b:new s.aH(I,u.u_tex_y_b),u_mix:new s.aH(I,u.u_mix)}),raster:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_tl_parent:new s.aL(I,u.u_tl_parent),u_scale_parent:new s.aH(I,u.u_scale_parent),u_buffer_scale:new s.aH(I,u.u_buffer_scale),u_fade_t:new s.aH(I,u.u_fade_t),u_opacity:new s.aH(I,u.u_opacity),u_image0:new s.aG(I,u.u_image0),u_image1:new s.aG(I,u.u_image1),u_brightness_low:new s.aH(I,u.u_brightness_low),u_brightness_high:new s.aH(I,u.u_brightness_high),u_saturation_factor:new s.aH(I,u.u_saturation_factor),u_contrast_factor:new s.aH(I,u.u_contrast_factor),u_spin_weights:new s.aK(I,u.u_spin_weights)}),symbolIcon:(I,u)=>({u_is_size_zoom_constant:new s.aG(I,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(I,u.u_is_size_feature_constant),u_size_t:new s.aH(I,u.u_size_t),u_size:new s.aH(I,u.u_size),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pitch:new s.aH(I,u.u_pitch),u_rotate_symbol:new s.aG(I,u.u_rotate_symbol),u_aspect_ratio:new s.aH(I,u.u_aspect_ratio),u_fade_change:new s.aH(I,u.u_fade_change),u_matrix:new s.aI(I,u.u_matrix),u_label_plane_matrix:new s.aI(I,u.u_label_plane_matrix),u_coord_matrix:new s.aI(I,u.u_coord_matrix),u_is_text:new s.aG(I,u.u_is_text),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_texsize:new s.aL(I,u.u_texsize),u_texture:new s.aG(I,u.u_texture)}),symbolSDF:(I,u)=>({u_is_size_zoom_constant:new s.aG(I,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(I,u.u_is_size_feature_constant),u_size_t:new s.aH(I,u.u_size_t),u_size:new s.aH(I,u.u_size),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pitch:new s.aH(I,u.u_pitch),u_rotate_symbol:new s.aG(I,u.u_rotate_symbol),u_aspect_ratio:new s.aH(I,u.u_aspect_ratio),u_fade_change:new s.aH(I,u.u_fade_change),u_matrix:new s.aI(I,u.u_matrix),u_label_plane_matrix:new s.aI(I,u.u_label_plane_matrix),u_coord_matrix:new s.aI(I,u.u_coord_matrix),u_is_text:new s.aG(I,u.u_is_text),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_texsize:new s.aL(I,u.u_texsize),u_texture:new s.aG(I,u.u_texture),u_gamma_scale:new s.aH(I,u.u_gamma_scale),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_is_halo:new s.aG(I,u.u_is_halo)}),symbolTextAndIcon:(I,u)=>({u_is_size_zoom_constant:new s.aG(I,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(I,u.u_is_size_feature_constant),u_size_t:new s.aH(I,u.u_size_t),u_size:new s.aH(I,u.u_size),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pitch:new s.aH(I,u.u_pitch),u_rotate_symbol:new s.aG(I,u.u_rotate_symbol),u_aspect_ratio:new s.aH(I,u.u_aspect_ratio),u_fade_change:new s.aH(I,u.u_fade_change),u_matrix:new s.aI(I,u.u_matrix),u_label_plane_matrix:new s.aI(I,u.u_label_plane_matrix),u_coord_matrix:new s.aI(I,u.u_coord_matrix),u_is_text:new s.aG(I,u.u_is_text),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_texsize:new s.aL(I,u.u_texsize),u_texsize_icon:new s.aL(I,u.u_texsize_icon),u_texture:new s.aG(I,u.u_texture),u_texture_icon:new s.aG(I,u.u_texture_icon),u_gamma_scale:new s.aH(I,u.u_gamma_scale),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_is_halo:new s.aG(I,u.u_is_halo)}),background:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_opacity:new s.aH(I,u.u_opacity),u_color:new s.aM(I,u.u_color)}),backgroundPattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_opacity:new s.aH(I,u.u_opacity),u_image:new s.aG(I,u.u_image),u_pattern_tl_a:new s.aL(I,u.u_pattern_tl_a),u_pattern_br_a:new s.aL(I,u.u_pattern_br_a),u_pattern_tl_b:new s.aL(I,u.u_pattern_tl_b),u_pattern_br_b:new s.aL(I,u.u_pattern_br_b),u_texsize:new s.aL(I,u.u_texsize),u_mix:new s.aH(I,u.u_mix),u_pattern_size_a:new s.aL(I,u.u_pattern_size_a),u_pattern_size_b:new s.aL(I,u.u_pattern_size_b),u_scale_a:new s.aH(I,u.u_scale_a),u_scale_b:new s.aH(I,u.u_scale_b),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_tile_units_to_pixels:new s.aH(I,u.u_tile_units_to_pixels)}),terrain:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_texture:new s.aG(I,u.u_texture),u_ele_delta:new s.aH(I,u.u_ele_delta)}),terrainDepth:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ele_delta:new s.aH(I,u.u_ele_delta)}),terrainCoords:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_texture:new s.aG(I,u.u_texture),u_terrain_coords_id:new s.aH(I,u.u_terrain_coords_id),u_ele_delta:new s.aH(I,u.u_ele_delta)})};class ae{constructor(u,p,_){this.context=u;const w=u.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Le={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class gt{constructor(u,p,_,w){this.length=p.length,this.attributes=_,this.itemSize=p.bytesPerElement,this.dynamicDraw=w,this.context=u;const k=u.gl;this.buffer=k.createBuffer(),u.bindVertexBuffer.set(this.buffer),k.bufferData(k.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,p){for(let _=0;_<this.attributes.length;_++){const w=p.attributes[this.attributes[_].name];w!==void 0&&u.enableVertexAttribArray(w)}}setVertexAttribPointers(u,p,_){for(let w=0;w<this.attributes.length;w++){const k=this.attributes[w],R=p.attributes[k.name];R!==void 0&&u.vertexAttribPointer(R,k.components,u[Le[k.type]],!1,this.itemSize,k.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Gn=new WeakMap;function vn(I){var u;if(Gn.has(I))return Gn.get(I);{const p=(u=I.getParameter(I.VERSION))===null||u===void 0?void 0:u.startsWith("WebGL 2.0");return Gn.set(I,p),p}}class Kn{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Lr extends Kn{getDefault(){return s.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class vr extends Kn{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class kr extends Kn{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class Ti extends Kn{getDefault(){return[!0,!0,!0,!0]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class go extends Kn{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class Oi extends Kn{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class Xr extends Kn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const p=this.current;(u.func!==p.func||u.ref!==p.ref||u.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class Zi extends Kn{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class ko extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=u,this.dirty=!1}}class Mo extends Kn{getDefault(){return[0,1]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class qa extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=u,this.dirty=!1}}class Ll extends Kn{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class ou extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.BLEND):p.disable(p.BLEND),this.current=u,this.dirty=!1}}class va extends Kn{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class M0 extends Kn{getDefault(){return s.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class au extends Kn{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class Gh extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=u,this.dirty=!1}}class dd extends Kn{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class qu extends Kn{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class hd extends Kn{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class qA extends Kn{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class ia extends Kn{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Hu extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class Xd extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class HA extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class Tc extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class Iu extends Kn{getDefault(){return null}set(u){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class fd extends Kn{getDefault(){return null}set(u){var p;if(u===this.current&&!this.dirty)return;const _=this.gl;vn(_)?_.bindVertexArray(u):(p=_.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(u),this.current=u,this.dirty=!1}}class om extends Kn{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class Wh extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class Ki extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class To extends Kn{constructor(u,p){super(u),this.context=u,this.parent=p}getDefault(){return null}}class S0 extends To{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class Qh extends To{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Vu extends To{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class tp{constructor(u,p,_,w,k){this.context=u,this.width=p,this.height=_;const R=u.gl,j=this.framebuffer=R.createFramebuffer();if(this.colorAttachment=new S0(u,j),w)this.depthAttachment=k?new Vu(u,j):new Qh(u,j);else if(k)throw new Error("Stencil cannot be set without depth");if(R.checkFramebufferStatus(R.FRAMEBUFFER)!==R.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const u=this.context.gl,p=this.colorAttachment.get();if(p&&u.deleteTexture(p),this.depthAttachment){const _=this.depthAttachment.get();_&&u.deleteRenderbuffer(_)}u.deleteFramebuffer(this.framebuffer)}}class ca{constructor(u,p,_){this.blendFunction=u,this.blendColor=p,this.mask=_}}ca.Replace=[1,0],ca.disabled=new ca(ca.Replace,s.aO.transparent,[!1,!1,!1,!1]),ca.unblended=new ca(ca.Replace,s.aO.transparent,[!0,!0,!0,!0]),ca.alphaBlended=new ca([1,771],s.aO.transparent,[!0,!0,!0,!0]);class np{constructor(u){var p,_;if(this.gl=u,this.clearColor=new Lr(this),this.clearDepth=new vr(this),this.clearStencil=new kr(this),this.colorMask=new Ti(this),this.depthMask=new go(this),this.stencilMask=new Oi(this),this.stencilFunc=new Xr(this),this.stencilOp=new Zi(this),this.stencilTest=new ko(this),this.depthRange=new Mo(this),this.depthTest=new qa(this),this.depthFunc=new Ll(this),this.blend=new ou(this),this.blendFunc=new va(this),this.blendColor=new M0(this),this.blendEquation=new au(this),this.cullFace=new Gh(this),this.cullFaceSide=new dd(this),this.frontFace=new qu(this),this.program=new hd(this),this.activeTexture=new qA(this),this.viewport=new ia(this),this.bindFramebuffer=new Hu(this),this.bindRenderbuffer=new Xd(this),this.bindTexture=new HA(this),this.bindVertexBuffer=new Tc(this),this.bindElementBuffer=new Iu(this),this.bindVertexArray=new fd(this),this.pixelStoreUnpack=new om(this),this.pixelStoreUnpackPremultiplyAlpha=new Wh(this),this.pixelStoreUnpackFlipY=new Ki(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),vn(u)){this.HALF_FLOAT=u.HALF_FLOAT;const w=u.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=u.RGBA16F)!==null&&p!==void 0?p:w==null?void 0:w.RGBA16F_EXT,this.RGB16F=(_=u.RGB16F)!==null&&_!==void 0?_:w==null?void 0:w.RGB16F_EXT,u.getExtension("EXT_color_buffer_float")}else{u.getExtension("EXT_color_buffer_half_float"),u.getExtension("OES_texture_half_float_linear");const w=u.getExtension("OES_texture_half_float");this.HALF_FLOAT=w==null?void 0:w.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,p){return new ae(this,u,p)}createVertexBuffer(u,p,_){return new gt(this,u,p,_)}createRenderbuffer(u,p,_){const w=this.gl,k=w.createRenderbuffer();return this.bindRenderbuffer.set(k),w.renderbufferStorage(w.RENDERBUFFER,u,p,_),this.bindRenderbuffer.set(null),k}createFramebuffer(u,p,_,w){return new tp(this,u,p,_,w)}clear({color:u,depth:p,stencil:_}){const w=this.gl;let k=0;u&&(k|=w.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(k|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),_!==void 0&&(k|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),w.clear(k)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){s.aD(u.blendFunction,ca.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}createVertexArray(){var u;return vn(this.gl)?this.gl.createVertexArray():(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.createVertexArrayOES()}deleteVertexArray(u){var p;return vn(this.gl)?this.gl.deleteVertexArray(u):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(u)}unbindVAO(){this.bindVertexArray.set(null)}}class Wi{constructor(u,p,_){this.func=u,this.mask=p,this.range=_}}Wi.ReadOnly=!1,Wi.ReadWrite=!0,Wi.disabled=new Wi(519,Wi.ReadOnly,[0,1]);const VA=7680;class Ko{constructor(u,p,_,w,k,R){this.test=u,this.ref=p,this.mask=_,this.fail=w,this.depthFail=k,this.pass=R}}Ko.disabled=new Ko({func:519,mask:0},0,0,VA,VA,VA);class Lo{constructor(u,p,_){this.enable=u,this.mode=p,this.frontFace=_}}let ZA;function js(I,u,p,_,w,k,R){const j=I.context,Q=j.gl,ie=I.useProgram("collisionBox"),de=[];let fe=0,Oe=0;for(let tt=0;tt<_.length;tt++){const bt=_[tt],Pt=u.getTile(bt),Lt=Pt.getBucket(p);if(!Lt)continue;let Xt=bt.posMatrix;w[0]===0&&w[1]===0||(Xt=I.translatePosMatrix(bt.posMatrix,Pt,w,k));const dn=R?Lt.textCollisionBox:Lt.iconCollisionBox,un=Lt.collisionCircleArray;if(un.length>0){const pn=s.F(),$n=Xt;s.aP(pn,Lt.placementInvProjMatrix,I.transform.glCoordMatrix),s.aP(pn,pn,Lt.placementViewportMatrix),de.push({circleArray:un,circleOffset:Oe,transform:$n,invTransform:pn,coord:bt}),fe+=un.length/4,Oe=fe}dn&&ie.draw(j,Q.LINES,Wi.disabled,Ko.disabled,I.colorModeForRenderPass(),Lo.disabled,xA(Xt,I.transform,Pt),I.style.map.terrain&&I.style.map.terrain.getTerrainData(bt),p.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,null,I.transform.zoom,null,null,dn.collisionVertexBuffer)}if(!R||!de.length)return;const qe=I.useProgram("collisionCircle"),Ye=new s.aQ;Ye.resize(4*fe),Ye._trim();let Ze=0;for(const tt of de)for(let bt=0;bt<tt.circleArray.length/4;bt++){const Pt=4*bt,Lt=tt.circleArray[Pt+0],Xt=tt.circleArray[Pt+1],dn=tt.circleArray[Pt+2],un=tt.circleArray[Pt+3];Ye.emplace(Ze++,Lt,Xt,dn,un,0),Ye.emplace(Ze++,Lt,Xt,dn,un,1),Ye.emplace(Ze++,Lt,Xt,dn,un,2),Ye.emplace(Ze++,Lt,Xt,dn,un,3)}(!ZA||ZA.length<2*fe)&&(ZA=function(tt){const bt=2*tt,Pt=new s.aS;Pt.resize(bt),Pt._trim();for(let Lt=0;Lt<bt;Lt++){const Xt=6*Lt;Pt.uint16[Xt+0]=4*Lt+0,Pt.uint16[Xt+1]=4*Lt+1,Pt.uint16[Xt+2]=4*Lt+2,Pt.uint16[Xt+3]=4*Lt+2,Pt.uint16[Xt+4]=4*Lt+3,Pt.uint16[Xt+5]=4*Lt+0}return Pt}(fe));const Ne=j.createIndexBuffer(ZA,!0),ht=j.createVertexBuffer(Ye,s.aR.members,!0);for(const tt of de){const bt={u_matrix:tt.transform,u_inv_matrix:tt.invTransform,u_camera_to_center_distance:(Dt=I.transform).cameraToCenterDistance,u_viewport_size:[Dt.width,Dt.height]};qe.draw(j,Q.TRIANGLES,Wi.disabled,Ko.disabled,I.colorModeForRenderPass(),Lo.disabled,bt,I.style.map.terrain&&I.style.map.terrain.getTerrainData(tt.coord),p.id,ht,Ne,s.$.simpleSegment(0,2*tt.circleOffset,tt.circleArray.length,tt.circleArray.length/2),null,I.transform.zoom,null,null,null)}var Dt;ht.destroy(),Ne.destroy()}Lo.disabled=new Lo(!1,1029,2305),Lo.backCCW=new Lo(!0,1029,2305);const $h=s.an(new Float32Array(16));function su(I,u,p,_,w,k){const{horizontalAlign:R,verticalAlign:j}=s.at(I);return new s.P((-(R-.5)*u/w+_[0])*k,(-(j-.5)*p/w+_[1])*k)}function Rl(I,u,p,_,w,k,R,j,Q,ie,de){const fe=I.text.placedSymbolArray,Oe=I.text.dynamicLayoutVertexArray,qe=I.icon.dynamicLayoutVertexArray,Ye={};Oe.clear();for(let Ze=0;Ze<fe.length;Ze++){const Ne=fe.get(Ze),ht=Ne.hidden||!Ne.crossTileID||I.allowVerticalPlacement&&!Ne.placedOrientation?null:_[Ne.crossTileID];if(ht){const Dt=new s.P(Ne.anchorX,Ne.anchorY),tt=Pe(Dt,p?R:k,de),bt=ce(w.cameraToCenterDistance,tt.signedDistanceFromCamera);let Pt=s.ai(I.textSizeData,Q,Ne)*bt/s.ao;p&&(Pt*=I.tilePixelRatio/j);const{width:Lt,height:Xt,anchor:dn,textOffset:un,textBoxScale:pn}=ht,$n=su(dn,Lt,Xt,un,pn,Pt),Hr=p?Pe(Dt.add($n),k,de).point:tt.point.add(u?$n.rotate(-w.angle):$n),In=I.allowVerticalPlacement&&Ne.placedOrientation===s.ah.vertical?Math.PI/2:0;for(let Cr=0;Cr<Ne.numGlyphs;Cr++)s.aj(Oe,Hr,In);ie&&Ne.associatedIconIndex>=0&&(Ye[Ne.associatedIconIndex]={shiftedAnchor:Hr,angle:In})}else Dn(Ne.numGlyphs,Oe)}if(ie){qe.clear();const Ze=I.icon.placedSymbolArray;for(let Ne=0;Ne<Ze.length;Ne++){const ht=Ze.get(Ne);if(ht.hidden)Dn(ht.numGlyphs,qe);else{const Dt=Ye[Ne];if(Dt)for(let tt=0;tt<ht.numGlyphs;tt++)s.aj(qe,Dt.shiftedAnchor,Dt.angle);else Dn(ht.numGlyphs,qe)}}I.icon.dynamicLayoutVertexBuffer.updateData(qe)}I.text.dynamicLayoutVertexBuffer.updateData(Oe)}function Kc(I,u,p){return p.iconsInText&&u?"symbolTextAndIcon":I?"symbolSDF":"symbolIcon"}function Yh(I,u,p,_,w,k,R,j,Q,ie,de,fe){const Oe=I.context,qe=Oe.gl,Ye=I.transform,Ze=j==="map",Ne=Q==="map",ht=j!=="viewport"&&p.layout.get("symbol-placement")!=="point",Dt=Ze&&!Ne&&!ht,tt=!p.layout.get("symbol-sort-key").isConstant();let bt=!1;const Pt=I.depthModeForSublayer(0,Wi.ReadOnly),Lt=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Xt=[];for(const dn of _){const un=u.getTile(dn),pn=un.getBucket(p);if(!pn)continue;const $n=w?pn.text:pn.icon;if(!$n||!$n.segments.get().length||!$n.hasVisibleVertices)continue;const Hr=$n.programConfigurations.get(p.id),In=w||pn.sdfIcons,Cr=w?pn.textSizeData:pn.iconSizeData,hi=Ne||Ye.pitch!==0,Pi=I.useProgram(Kc(In,w,pn),Hr),Vr=s.ag(Cr,Ye.zoom),ti=I.style.map.terrain&&I.style.map.terrain.getTerrainData(dn);let Wr,Zo,Ro,Ns,Ra=[0,0],yo=null;if(w)Zo=un.glyphAtlasTexture,Ro=qe.LINEAR,Wr=un.glyphAtlasTexture.size,pn.iconsInText&&(Ra=un.imageAtlasTexture.size,yo=un.imageAtlasTexture,Ns=hi||I.options.rotating||I.options.zooming||Cr.kind==="composite"||Cr.kind==="camera"?qe.LINEAR:qe.NEAREST);else{const Xo=p.layout.get("icon-size").constantOr(0)!==1||pn.iconsNeedLinear;Zo=un.imageAtlasTexture,Ro=In||I.options.rotating||I.options.zooming||Xo||hi?qe.LINEAR:qe.NEAREST,Wr=un.imageAtlasTexture.size}const uo=ur(un,1,I.transform.zoom),tl=Pr(dn.posMatrix,Ne,Ze,I.transform,uo),cu=nr(dn.posMatrix,Ne,Ze,I.transform,uo),Os=Lt&&pn.hasTextData(),sA=p.layout.get("icon-text-fit")!=="none"&&Os&&pn.hasIconData();if(ht){const Xo=I.style.map.terrain?(Is,Di)=>I.style.map.terrain.getElevation(dn,Is,Di):null,xa=p.layout.get("text-rotation-alignment")==="map";Ie(pn,dn.posMatrix,I,w,tl,cu,Ne,ie,xa,Xo)}const Ql=I.translatePosMatrix(dn.posMatrix,un,k,R),Bs=ht||w&&Lt||sA?$h:tl,ji=I.translatePosMatrix(cu,un,k,R,!0),Bi=In&&p.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let oa;oa=In?pn.iconsInText?wA(Cr.kind,Vr,Dt,Ne,I,Ql,Bs,ji,Wr,Ra):dl(Cr.kind,Vr,Dt,Ne,I,Ql,Bs,ji,w,Wr,!0):Aa(Cr.kind,Vr,Dt,Ne,I,Ql,Bs,ji,w,Wr);const Rc={program:Pi,buffers:$n,uniformValues:oa,atlasTexture:Zo,atlasTextureIcon:yo,atlasInterpolation:Ro,atlasInterpolationIcon:Ns,isSDF:In,hasHalo:Bi};if(tt&&pn.canOverlap){bt=!0;const Xo=$n.segments.get();for(const xa of Xo)Xt.push({segments:new s.$([xa]),sortKey:xa.sortKey,state:Rc,terrainData:ti})}else Xt.push({segments:$n.segments,sortKey:0,state:Rc,terrainData:ti})}bt&&Xt.sort((dn,un)=>dn.sortKey-un.sortKey);for(const dn of Xt){const un=dn.state;if(Oe.activeTexture.set(qe.TEXTURE0),un.atlasTexture.bind(un.atlasInterpolation,qe.CLAMP_TO_EDGE),un.atlasTextureIcon&&(Oe.activeTexture.set(qe.TEXTURE1),un.atlasTextureIcon&&un.atlasTextureIcon.bind(un.atlasInterpolationIcon,qe.CLAMP_TO_EDGE)),un.isSDF){const pn=un.uniformValues;un.hasHalo&&(pn.u_is_halo=1,Jd(un.buffers,dn.segments,p,I,un.program,Pt,de,fe,pn,dn.terrainData)),pn.u_is_halo=0}Jd(un.buffers,dn.segments,p,I,un.program,Pt,de,fe,un.uniformValues,dn.terrainData)}}function Jd(I,u,p,_,w,k,R,j,Q,ie){const de=_.context;w.draw(de,de.gl.TRIANGLES,k,R,j,Lo.disabled,Q,ie,p.id,I.layoutVertexBuffer,I.indexBuffer,u,p.paint,_.transform.zoom,I.programConfigurations.get(p.id),I.dynamicLayoutVertexBuffer,I.opacityVertexBuffer)}function ku(I,u,p,_,w){if(!p||!_||!_.imageAtlas)return;const k=_.imageAtlas.patternPositions;let R=k[p.to.toString()],j=k[p.from.toString()];if(!R&&j&&(R=j),!j&&R&&(j=R),!R||!j){const Q=w.getPaintProperty(u);R=k[Q],j=k[Q]}R&&j&&I.setConstantPatternPositions(R,j)}function MA(I,u,p,_,w,k,R){const j=I.context.gl,Q="fill-pattern",ie=p.paint.get(Q),de=ie&&ie.constantOr(1),fe=p.getCrossfadeParameters();let Oe,qe,Ye,Ze,Ne;R?(qe=de&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Oe=j.LINES):(qe=de?"fillPattern":"fill",Oe=j.TRIANGLES);const ht=ie.constantOr(null);for(const Dt of _){const tt=u.getTile(Dt);if(de&&!tt.patternsLoaded())continue;const bt=tt.getBucket(p);if(!bt)continue;const Pt=bt.programConfigurations.get(p.id),Lt=I.useProgram(qe,Pt),Xt=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Dt);de&&(I.context.activeTexture.set(j.TEXTURE0),tt.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),Pt.updatePaintBuffers(fe)),ku(Pt,Q,ht,tt,p);const dn=Xt?Dt:null,un=I.translatePosMatrix(dn?dn.posMatrix:Dt.posMatrix,tt,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(R){Ze=bt.indexBuffer2,Ne=bt.segments2;const pn=[j.drawingBufferWidth,j.drawingBufferHeight];Ye=qe==="fillOutlinePattern"&&de?bA(un,I,fe,tt,pn):ya(un,pn)}else Ze=bt.indexBuffer,Ne=bt.segments,Ye=de?Eu(un,I,fe,tt):Ms(un);Lt.draw(I.context,Oe,w,I.stencilModeForClipping(Dt),k,Lo.disabled,Ye,Xt,p.id,bt.layoutVertexBuffer,Ze,Ne,p.paint,I.transform.zoom,Pt)}}function XA(I,u,p,_,w,k,R){const j=I.context,Q=j.gl,ie="fill-extrusion-pattern",de=p.paint.get(ie),fe=de.constantOr(1),Oe=p.getCrossfadeParameters(),qe=p.paint.get("fill-extrusion-opacity"),Ye=de.constantOr(null);for(const Ze of _){const Ne=u.getTile(Ze),ht=Ne.getBucket(p);if(!ht)continue;const Dt=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ze),tt=ht.programConfigurations.get(p.id),bt=I.useProgram(fe?"fillExtrusionPattern":"fillExtrusion",tt);fe&&(I.context.activeTexture.set(Q.TEXTURE0),Ne.imageAtlasTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),tt.updatePaintBuffers(Oe)),ku(tt,ie,Ye,Ne,p);const Pt=I.translatePosMatrix(Ze.posMatrix,Ne,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Lt=p.paint.get("fill-extrusion-vertical-gradient"),Xt=fe?ra(Pt,I,Lt,qe,Ze,Oe,Ne):na(Pt,I,Lt,qe);bt.draw(j,j.gl.TRIANGLES,w,k,R,Lo.backCCW,Xt,Dt,p.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,p.paint,I.transform.zoom,tt,I.style.map.terrain&&ht.centroidVertexBuffer)}}function JA(I,u,p,_,w,k,R){const j=I.context,Q=j.gl,ie=p.fbo;if(!ie)return;const de=I.useProgram("hillshade"),fe=I.style.map.terrain&&I.style.map.terrain.getTerrainData(u);j.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,ie.colorAttachment.get()),de.draw(j,Q.TRIANGLES,w,k,R,Lo.disabled,((Oe,qe,Ye,Ze)=>{const Ne=Ye.paint.get("hillshade-shadow-color"),ht=Ye.paint.get("hillshade-highlight-color"),Dt=Ye.paint.get("hillshade-accent-color");let tt=Ye.paint.get("hillshade-illumination-direction")*(Math.PI/180);Ye.paint.get("hillshade-illumination-anchor")==="viewport"&&(tt-=Oe.transform.angle);const bt=!Oe.options.moving;return{u_matrix:Ze?Ze.posMatrix:Oe.transform.calculatePosMatrix(qe.tileID.toUnwrapped(),bt),u_image:0,u_latrange:Ss(0,qe.tileID),u_light:[Ye.paint.get("hillshade-exaggeration"),tt],u_shadow:Ne,u_highlight:ht,u_accent:Dt}})(I,p,_,fe?u:null),fe,_.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}function rp(I,u,p,_,w,k){const R=I.context,j=R.gl,Q=u.dem;if(Q&&Q.data){const ie=Q.dim,de=Q.stride,fe=Q.getPixels();if(R.activeTexture.set(j.TEXTURE1),R.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||I.getTileTexture(de),u.demTexture){const qe=u.demTexture;qe.update(fe,{premultiply:!1}),qe.bind(j.NEAREST,j.CLAMP_TO_EDGE)}else u.demTexture=new Ue(R,fe,j.RGBA,{premultiply:!1}),u.demTexture.bind(j.NEAREST,j.CLAMP_TO_EDGE);R.activeTexture.set(j.TEXTURE0);let Oe=u.fbo;if(!Oe){const qe=new Ue(R,{width:ie,height:ie,data:null},j.RGBA);qe.bind(j.LINEAR,j.CLAMP_TO_EDGE),Oe=u.fbo=R.createFramebuffer(ie,ie,!0,!1),Oe.colorAttachment.set(qe.texture)}R.bindFramebuffer.set(Oe.framebuffer),R.viewport.set([0,0,ie,ie]),I.useProgram("hillshadePrepare").draw(R,j.TRIANGLES,_,w,k,Lo.disabled,((qe,Ye)=>{const Ze=Ye.stride,Ne=s.F();return s.aN(Ne,0,s.W,-s.W,0,0,1),s.H(Ne,Ne,[0,-s.W,0]),{u_matrix:Ne,u_image:1,u_dimension:[Ze,Ze],u_zoom:qe.overscaledZ,u_unpack:Ye.getUnpackVector()}})(u.tileID,Q),null,p.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function am(I,u,p,_,w,k){const R=_.paint.get("raster-fade-duration");if(!k&&R>0){const j=E.now(),Q=(j-I.timeAdded)/R,ie=u?(j-u.timeAdded)/R:-1,de=p.getSource(),fe=w.coveringZoomLevel({tileSize:de.tileSize,roundZoom:de.roundZoom}),Oe=!u||Math.abs(u.tileID.overscaledZ-fe)>Math.abs(I.tileID.overscaledZ-fe),qe=Oe&&I.refreshedUponExpiration?1:s.ac(Oe?Q:1-ie,0,1);return I.refreshedUponExpiration&&Q>=1&&(I.refreshedUponExpiration=!1),u?{opacity:1,mix:1-qe}:{opacity:qe,mix:0}}return{opacity:1,mix:0}}const Pc=new s.aO(1,0,0,1),pd=new s.aO(0,1,0,1),zl=new s.aO(0,0,1,1),El=new s.aO(1,0,1,1),Ca=new s.aO(0,1,1,1);function SA(I,u,p,_){Tu(I,0,u+p/2,I.transform.width,p,_)}function jl(I,u,p,_){Tu(I,u-p/2,0,p,I.transform.height,_)}function Tu(I,u,p,_,w,k){const R=I.context,j=R.gl;j.enable(j.SCISSOR_TEST),j.scissor(u*I.pixelRatio,p*I.pixelRatio,_*I.pixelRatio,w*I.pixelRatio),R.clear({color:k}),j.disable(j.SCISSOR_TEST)}function Nl(I,u,p){const _=I.context,w=_.gl,k=p.posMatrix,R=I.useProgram("debug"),j=Wi.disabled,Q=Ko.disabled,ie=I.colorModeForRenderPass(),de="$debug",fe=I.style.map.terrain&&I.style.map.terrain.getTerrainData(p);_.activeTexture.set(w.TEXTURE0);const Oe=u.getTileByID(p.key).latestRawTileData,qe=Math.floor((Oe&&Oe.byteLength||0)/1024),Ye=u.getTile(p).tileSize,Ze=512/Math.min(Ye,512)*(p.overscaledZ/I.transform.zoom)*.5;let Ne=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(Ne+=` => ${p.overscaledZ}`),function(ht,Dt){ht.initDebugOverlayCanvas();const tt=ht.debugOverlayCanvas,bt=ht.context.gl,Pt=ht.debugOverlayCanvas.getContext("2d");Pt.clearRect(0,0,tt.width,tt.height),Pt.shadowColor="white",Pt.shadowBlur=2,Pt.lineWidth=1.5,Pt.strokeStyle="white",Pt.textBaseline="top",Pt.font="bold 36px Open Sans, sans-serif",Pt.fillText(Dt,5,5),Pt.strokeText(Dt,5,5),ht.debugOverlayTexture.update(tt),ht.debugOverlayTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE)}(I,`${Ne} ${qe}kB`),R.draw(_,w.TRIANGLES,j,Q,ca.alphaBlended,Lo.disabled,Ou(k,s.aO.transparent,Ze),null,de,I.debugBuffer,I.quadTriangleIndexBuffer,I.debugSegments),R.draw(_,w.LINE_STRIP,j,Q,ie,Lo.disabled,Ou(k,s.aO.red),fe,de,I.debugBuffer,I.tileBorderIndexBuffer,I.debugSegments)}function eh(I,u,p){const _=I.context,w=_.gl,k=I.colorModeForRenderPass(),R=new Wi(w.LEQUAL,Wi.ReadWrite,I.depthRangeFor3D),j=I.useProgram("terrain"),Q=u.getTerrainMesh();_.bindFramebuffer.set(null),_.viewport.set([0,0,I.width,I.height]);for(const ie of p){const de=I.renderToTexture.getTexture(ie),fe=u.getTerrainData(ie.tileID);_.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,de.texture);const Oe={u_matrix:I.transform.calculatePosMatrix(ie.tileID.toUnwrapped()),u_texture:0,u_ele_delta:u.getMeshFrameDelta(I.transform.zoom)};j.draw(_,w.TRIANGLES,R,Ko.disabled,k,Lo.backCCW,Oe,fe,"terrain",Q.vertexBuffer,Q.indexBuffer,Q.segments)}}class Dc{constructor(u,p){this.context=new np(u),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Ut.maxUnderzooming+Ut.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new hr}resize(u,p,_){if(this.width=Math.floor(u*_),this.height=Math.floor(p*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style._order)this.style._layers[w].resize()}setup(){const u=this.context,p=new s.aV;p.emplaceBack(0,0),p.emplaceBack(s.W,0),p.emplaceBack(0,s.W),p.emplaceBack(s.W,s.W),this.tileExtentBuffer=u.createVertexBuffer(p,Fa.members),this.tileExtentSegments=s.$.simpleSegment(0,0,4,2);const _=new s.aV;_.emplaceBack(0,0),_.emplaceBack(s.W,0),_.emplaceBack(0,s.W),_.emplaceBack(s.W,s.W),this.debugBuffer=u.createVertexBuffer(_,Fa.members),this.debugSegments=s.$.simpleSegment(0,0,4,5);const w=new s.Z;w.emplaceBack(0,0,0,0),w.emplaceBack(s.W,0,s.W,0),w.emplaceBack(0,s.W,0,s.W),w.emplaceBack(s.W,s.W,s.W,s.W),this.rasterBoundsBuffer=u.createVertexBuffer(w,er.members),this.rasterBoundsSegments=s.$.simpleSegment(0,0,4,2);const k=new s.aV;k.emplaceBack(0,0),k.emplaceBack(1,0),k.emplaceBack(0,1),k.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(k,Fa.members),this.viewportSegments=s.$.simpleSegment(0,0,4,2);const R=new s.aW;R.emplaceBack(0),R.emplaceBack(1),R.emplaceBack(3),R.emplaceBack(2),R.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(R);const j=new s.aX;j.emplaceBack(0,1,2),j.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(j);const Q=this.context.gl;this.stencilClearMode=new Ko({func:Q.ALWAYS,mask:0},0,255,Q.ZERO,Q.ZERO,Q.ZERO)}clearStencil(){const u=this.context,p=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=s.F();s.aN(_,0,this.width,this.height,0,0,1),s.J(_,_,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,p.TRIANGLES,Wi.disabled,this.stencilClearMode,ca.disabled,Lo.disabled,Yu(_),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,p){if(this.currentStencilSource===u.source||!u.isTileClipped()||!p||!p.length)return;this.currentStencilSource=u.source;const _=this.context,w=_.gl;this.nextStencilID+p.length>256&&this.clearStencil(),_.setColorMode(ca.disabled),_.setDepthMode(Wi.disabled);const k=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of p){const j=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,Q=this.style.map.terrain&&this.style.map.terrain.getTerrainData(R);k.draw(_,w.TRIANGLES,Wi.disabled,new Ko({func:w.ALWAYS,mask:0},j,255,w.KEEP,w.KEEP,w.REPLACE),ca.disabled,Lo.disabled,Yu(R.posMatrix),Q,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,p=this.context.gl;return new Ko({func:p.NOTEQUAL,mask:255},u,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(u){const p=this.context.gl;return new Ko({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(u){const p=this.context.gl,_=u.sort((R,j)=>j.overscaledZ-R.overscaledZ),w=_[_.length-1].overscaledZ,k=_[0].overscaledZ-w+1;if(k>1){this.currentStencilSource=void 0,this.nextStencilID+k>256&&this.clearStencil();const R={};for(let j=0;j<k;j++)R[j+w]=new Ko({func:p.GEQUAL,mask:255},j+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=k,[R,_]}return[{[w]:Ko.disabled},_]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new ca([u.CONSTANT_COLOR,u.ONE],new s.aO(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ca.unblended:ca.alphaBlended}depthModeForSublayer(u,p,_){if(!this.opaquePassEnabledForLayer())return Wi.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Wi(_||this.context.gl.LEQUAL,p,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,p){this.style=u,this.options=p,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(E.now()),this.imageManager.beginFrame();const _=this.style._order,w=this.style.sourceCaches,k={},R={},j={};for(const Q in w){const ie=w[Q];ie.used&&ie.prepare(this.context),k[Q]=ie.getVisibleCoordinates(),R[Q]=k[Q].slice().reverse(),j[Q]=ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Q=0;Q<_.length;Q++)if(this.style._layers[_[Q]].is3D()){this.opaquePassCutoff=Q;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Q of _){const ie=this.style._layers[Q];if(!ie.hasOffscreenPass()||ie.isHidden(this.transform.zoom))continue;const de=R[ie.source];(ie.type==="custom"||de.length)&&this.renderLayer(this,w[ie.source],ie,de)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?s.aO.black:s.aO.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const Q=this.style._layers[_[this.currentLayer]],ie=w[Q.source],de=k[Q.source];this._renderTileClippingMasks(Q,de),this.renderLayer(this,ie,Q,de)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const Q=this.style._layers[_[this.currentLayer]],ie=w[Q.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Q))continue;const de=(Q.type==="symbol"?j:R)[Q.source];this._renderTileClippingMasks(Q,k[Q.source]),this.renderLayer(this,ie,Q,de)}if(this.options.showTileBoundaries){const Q=function(ie,de){let fe=null;const Oe=Object.values(ie._layers).flatMap(Ne=>Ne.source&&!Ne.isHidden(de)?[ie.sourceCaches[Ne.source]]:[]),qe=Oe.filter(Ne=>Ne.getSource().type==="vector"),Ye=Oe.filter(Ne=>Ne.getSource().type!=="vector"),Ze=Ne=>{(!fe||fe.getSource().maxzoom<Ne.getSource().maxzoom)&&(fe=Ne)};return qe.forEach(Ne=>Ze(Ne)),fe||Ye.forEach(Ne=>Ze(Ne)),fe}(this.style,this.transform.zoom);Q&&function(ie,de,fe){for(let Oe=0;Oe<fe.length;Oe++)Nl(ie,de,fe[Oe])}(this,Q,Q.getVisibleCoordinates())}this.options.showPadding&&function(Q){const ie=Q.transform.padding;SA(Q,Q.transform.height-(ie.top||0),3,Pc),SA(Q,ie.bottom||0,3,pd),jl(Q,ie.left||0,3,zl),jl(Q,Q.transform.width-(ie.right||0),3,El);const de=Q.transform.centerPoint;(function(fe,Oe,qe,Ye){Tu(fe,Oe-1,qe-10,2,20,Ye),Tu(fe,Oe-10,qe-1,20,2,Ye)})(Q,de.x,Q.transform.height-de.y,Ca)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(u){if(!this.style||!this.style.map||!this.style.map.terrain)return;const p=this.terrainFacilitator.matrix,_=this.transform.projMatrix;let w=this.terrainFacilitator.dirty;w||(w=u?!s.aY(p,_):!s.aZ(p,_)),w||(w=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),w&&(s.a_(p,_),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(k,R){const j=k.context,Q=j.gl,ie=ca.unblended,de=new Wi(Q.LEQUAL,Wi.ReadWrite,[0,1]),fe=R.getTerrainMesh(),Oe=R.sourceCache.getRenderableTiles(),qe=k.useProgram("terrainDepth");j.bindFramebuffer.set(R.getFramebuffer("depth").framebuffer),j.viewport.set([0,0,k.width/devicePixelRatio,k.height/devicePixelRatio]),j.clear({color:s.aO.transparent,depth:1});for(const Ye of Oe){const Ze=R.getTerrainData(Ye.tileID),Ne={u_matrix:k.transform.calculatePosMatrix(Ye.tileID.toUnwrapped()),u_ele_delta:R.getMeshFrameDelta(k.transform.zoom)};qe.draw(j,Q.TRIANGLES,de,Ko.disabled,ie,Lo.backCCW,Ne,Ze,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}j.bindFramebuffer.set(null),j.viewport.set([0,0,k.width,k.height])}(this,this.style.map.terrain),function(k,R){const j=k.context,Q=j.gl,ie=ca.unblended,de=new Wi(Q.LEQUAL,Wi.ReadWrite,[0,1]),fe=R.getTerrainMesh(),Oe=R.getCoordsTexture(),qe=R.sourceCache.getRenderableTiles(),Ye=k.useProgram("terrainCoords");j.bindFramebuffer.set(R.getFramebuffer("coords").framebuffer),j.viewport.set([0,0,k.width/devicePixelRatio,k.height/devicePixelRatio]),j.clear({color:s.aO.transparent,depth:1}),R.coordsIndex=[];for(const Ze of qe){const Ne=R.getTerrainData(Ze.tileID);j.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,Oe.texture);const ht={u_matrix:k.transform.calculatePosMatrix(Ze.tileID.toUnwrapped()),u_terrain_coords_id:(255-R.coordsIndex.length)/255,u_texture:0,u_ele_delta:R.getMeshFrameDelta(k.transform.zoom)};Ye.draw(j,Q.TRIANGLES,de,Ko.disabled,ie,Lo.backCCW,ht,Ne,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments),R.coordsIndex.push(Ze.tileID.key)}j.bindFramebuffer.set(null),j.viewport.set([0,0,k.width,k.height])}(this,this.style.map.terrain))}renderLayer(u,p,_,w){if(!_.isHidden(this.transform.zoom)&&(_.type==="background"||_.type==="custom"||(w||[]).length))switch(this.id=_.id,_.type){case"symbol":(function(k,R,j,Q,ie){if(k.renderPass!=="translucent")return;const de=Ko.disabled,fe=k.colorModeForRenderPass();(j._unevaluatedLayout.hasValue("text-variable-anchor")||j._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Oe,qe,Ye,Ze,Ne,ht,Dt){const tt=qe.transform,bt=Ne==="map",Pt=ht==="map";for(const Lt of Oe){const Xt=Ze.getTile(Lt),dn=Xt.getBucket(Ye);if(!dn||!dn.text||!dn.text.segments.get().length)continue;const un=s.ag(dn.textSizeData,tt.zoom),pn=ur(Xt,1,qe.transform.zoom),$n=Pr(Lt.posMatrix,Pt,bt,qe.transform,pn),Hr=Ye.layout.get("icon-text-fit")!=="none"&&dn.hasIconData();if(un){const In=Math.pow(2,tt.zoom-Xt.tileID.overscaledZ);Rl(dn,bt,Pt,Dt,tt,$n,Lt.posMatrix,In,un,Hr,qe.style.map.terrain?(Cr,hi)=>qe.style.map.terrain.getElevation(Lt,Cr,hi):null)}}}(Q,k,j,R,j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),ie),j.paint.get("icon-opacity").constantOr(1)!==0&&Yh(k,R,j,Q,!1,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),j.layout.get("icon-rotation-alignment"),j.layout.get("icon-pitch-alignment"),j.layout.get("icon-keep-upright"),de,fe),j.paint.get("text-opacity").constantOr(1)!==0&&Yh(k,R,j,Q,!0,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),j.layout.get("text-keep-upright"),de,fe),R.map.showCollisionBoxes&&(js(k,R,j,Q,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),!0),js(k,R,j,Q,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),!1))})(u,p,_,w,this.style.placement.variableOffsets);break;case"circle":(function(k,R,j,Q){if(k.renderPass!=="translucent")return;const ie=j.paint.get("circle-opacity"),de=j.paint.get("circle-stroke-width"),fe=j.paint.get("circle-stroke-opacity"),Oe=!j.layout.get("circle-sort-key").isConstant();if(ie.constantOr(1)===0&&(de.constantOr(1)===0||fe.constantOr(1)===0))return;const qe=k.context,Ye=qe.gl,Ze=k.depthModeForSublayer(0,Wi.ReadOnly),Ne=Ko.disabled,ht=k.colorModeForRenderPass(),Dt=[];for(let tt=0;tt<Q.length;tt++){const bt=Q[tt],Pt=R.getTile(bt),Lt=Pt.getBucket(j);if(!Lt)continue;const Xt=Lt.programConfigurations.get(j.id),dn=k.useProgram("circle",Xt),un=Lt.layoutVertexBuffer,pn=Lt.indexBuffer,$n=k.style.map.terrain&&k.style.map.terrain.getTerrainData(bt),Hr={programConfiguration:Xt,program:dn,layoutVertexBuffer:un,indexBuffer:pn,uniformValues:$u(k,bt,Pt,j),terrainData:$n};if(Oe){const In=Lt.segments.get();for(const Cr of In)Dt.push({segments:new s.$([Cr]),sortKey:Cr.sortKey,state:Hr})}else Dt.push({segments:Lt.segments,sortKey:0,state:Hr})}Oe&&Dt.sort((tt,bt)=>tt.sortKey-bt.sortKey);for(const tt of Dt){const{programConfiguration:bt,program:Pt,layoutVertexBuffer:Lt,indexBuffer:Xt,uniformValues:dn,terrainData:un}=tt.state;Pt.draw(qe,Ye.TRIANGLES,Ze,Ne,ht,Lo.disabled,dn,un,j.id,Lt,Xt,tt.segments,j.paint,k.transform.zoom,bt)}})(u,p,_,w);break;case"heatmap":(function(k,R,j,Q){if(j.paint.get("heatmap-opacity")!==0)if(k.renderPass==="offscreen"){const ie=k.context,de=ie.gl,fe=Ko.disabled,Oe=new ca([de.ONE,de.ONE],s.aO.transparent,[!0,!0,!0,!0]);(function(qe,Ye,Ze){const Ne=qe.gl;qe.activeTexture.set(Ne.TEXTURE1),qe.viewport.set([0,0,Ye.width/4,Ye.height/4]);let ht=Ze.heatmapFbo;if(ht)Ne.bindTexture(Ne.TEXTURE_2D,ht.colorAttachment.get()),qe.bindFramebuffer.set(ht.framebuffer);else{const Dt=Ne.createTexture();Ne.bindTexture(Ne.TEXTURE_2D,Dt),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_S,Ne.CLAMP_TO_EDGE),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_T,Ne.CLAMP_TO_EDGE),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MIN_FILTER,Ne.LINEAR),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MAG_FILTER,Ne.LINEAR),ht=Ze.heatmapFbo=qe.createFramebuffer(Ye.width/4,Ye.height/4,!1,!1),function(tt,bt,Pt,Lt){var Xt,dn;const un=tt.gl,pn=(Xt=tt.HALF_FLOAT)!==null&&Xt!==void 0?Xt:un.UNSIGNED_BYTE,$n=(dn=tt.RGBA16F)!==null&&dn!==void 0?dn:un.RGBA;un.texImage2D(un.TEXTURE_2D,0,$n,bt.width/4,bt.height/4,0,un.RGBA,pn,null),Lt.colorAttachment.set(Pt)}(qe,Ye,Dt,ht)}})(ie,k,j),ie.clear({color:s.aO.transparent});for(let qe=0;qe<Q.length;qe++){const Ye=Q[qe];if(R.hasRenderableParent(Ye))continue;const Ze=R.getTile(Ye),Ne=Ze.getBucket(j);if(!Ne)continue;const ht=Ne.programConfigurations.get(j.id),Dt=k.useProgram("heatmap",ht),{zoom:tt}=k.transform;Dt.draw(ie,de.TRIANGLES,Wi.disabled,fe,Oe,Lo.disabled,Wo(Ye.posMatrix,Ze,tt,j.paint.get("heatmap-intensity")),null,j.id,Ne.layoutVertexBuffer,Ne.indexBuffer,Ne.segments,j.paint,k.transform.zoom,ht)}ie.viewport.set([0,0,k.width,k.height])}else k.renderPass==="translucent"&&(k.context.setColorMode(k.colorModeForRenderPass()),function(ie,de){const fe=ie.context,Oe=fe.gl,qe=de.heatmapFbo;if(!qe)return;fe.activeTexture.set(Oe.TEXTURE0),Oe.bindTexture(Oe.TEXTURE_2D,qe.colorAttachment.get()),fe.activeTexture.set(Oe.TEXTURE1);let Ye=de.colorRampTexture;Ye||(Ye=de.colorRampTexture=new Ue(fe,de.colorRamp,Oe.RGBA)),Ye.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(fe,Oe.TRIANGLES,Wi.disabled,Ko.disabled,ie.colorModeForRenderPass(),Lo.disabled,((Ze,Ne,ht,Dt)=>{const tt=s.F();s.aN(tt,0,Ze.width,Ze.height,0,0,1);const bt=Ze.context.gl;return{u_matrix:tt,u_world:[bt.drawingBufferWidth,bt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Ne.paint.get("heatmap-opacity")}})(ie,de),null,de.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,de.paint,ie.transform.zoom)}(k,j))})(u,p,_,w);break;case"line":(function(k,R,j,Q){if(k.renderPass!=="translucent")return;const ie=j.paint.get("line-opacity"),de=j.paint.get("line-width");if(ie.constantOr(1)===0||de.constantOr(1)===0)return;const fe=k.depthModeForSublayer(0,Wi.ReadOnly),Oe=k.colorModeForRenderPass(),qe=j.paint.get("line-dasharray"),Ye=j.paint.get("line-pattern"),Ze=Ye.constantOr(1),Ne=j.paint.get("line-gradient"),ht=j.getCrossfadeParameters(),Dt=Ze?"linePattern":qe?"lineSDF":Ne?"lineGradient":"line",tt=k.context,bt=tt.gl;let Pt=!0;for(const Lt of Q){const Xt=R.getTile(Lt);if(Ze&&!Xt.patternsLoaded())continue;const dn=Xt.getBucket(j);if(!dn)continue;const un=dn.programConfigurations.get(j.id),pn=k.context.program.get(),$n=k.useProgram(Dt,un),Hr=Pt||$n.program!==pn,In=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Lt),Cr=Ye.constantOr(null);if(Cr&&Xt.imageAtlas){const Vr=Xt.imageAtlas,ti=Vr.patternPositions[Cr.to.toString()],Wr=Vr.patternPositions[Cr.from.toString()];ti&&Wr&&un.setConstantPatternPositions(ti,Wr)}const hi=In?Lt:null,Pi=Ze?Al(k,Xt,j,ht,hi):qe?Qo(k,Xt,j,qe,ht,hi):Ne?As(k,Xt,j,dn.lineClipsArray.length,hi):ru(k,Xt,j,hi);if(Ze)tt.activeTexture.set(bt.TEXTURE0),Xt.imageAtlasTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE),un.updatePaintBuffers(ht);else if(qe&&(Hr||k.lineAtlas.dirty))tt.activeTexture.set(bt.TEXTURE0),k.lineAtlas.bind(tt);else if(Ne){const Vr=dn.gradients[j.id];let ti=Vr.texture;if(j.gradientVersion!==Vr.version){let Wr=256;if(j.stepInterpolant){const Zo=R.getSource().maxzoom,Ro=Lt.canonical.z===Zo?Math.ceil(1<<k.transform.maxZoom-Lt.canonical.z):1;Wr=s.ac(s.aT(dn.maxLineLength/s.W*1024*Ro),256,tt.maxTextureSize)}Vr.gradient=s.aU({expression:j.gradientExpression(),evaluationKey:"lineProgress",resolution:Wr,image:Vr.gradient||void 0,clips:dn.lineClipsArray}),Vr.texture?Vr.texture.update(Vr.gradient):Vr.texture=new Ue(tt,Vr.gradient,bt.RGBA),Vr.version=j.gradientVersion,ti=Vr.texture}tt.activeTexture.set(bt.TEXTURE0),ti.bind(j.stepInterpolant?bt.NEAREST:bt.LINEAR,bt.CLAMP_TO_EDGE)}$n.draw(tt,bt.TRIANGLES,fe,k.stencilModeForClipping(Lt),Oe,Lo.disabled,Pi,In,j.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,j.paint,k.transform.zoom,un,dn.layoutVertexBuffer2),Pt=!1}})(u,p,_,w);break;case"fill":(function(k,R,j,Q){const ie=j.paint.get("fill-color"),de=j.paint.get("fill-opacity");if(de.constantOr(1)===0)return;const fe=k.colorModeForRenderPass(),Oe=j.paint.get("fill-pattern"),qe=k.opaquePassEnabledForLayer()&&!Oe.constantOr(1)&&ie.constantOr(s.aO.transparent).a===1&&de.constantOr(0)===1?"opaque":"translucent";if(k.renderPass===qe){const Ye=k.depthModeForSublayer(1,k.renderPass==="opaque"?Wi.ReadWrite:Wi.ReadOnly);MA(k,R,j,Q,Ye,fe,!1)}if(k.renderPass==="translucent"&&j.paint.get("fill-antialias")){const Ye=k.depthModeForSublayer(j.getPaintProperty("fill-outline-color")?2:0,Wi.ReadOnly);MA(k,R,j,Q,Ye,fe,!0)}})(u,p,_,w);break;case"fill-extrusion":(function(k,R,j,Q){const ie=j.paint.get("fill-extrusion-opacity");if(ie!==0&&k.renderPass==="translucent"){const de=new Wi(k.context.gl.LEQUAL,Wi.ReadWrite,k.depthRangeFor3D);if(ie!==1||j.paint.get("fill-extrusion-pattern").constantOr(1))XA(k,R,j,Q,de,Ko.disabled,ca.disabled),XA(k,R,j,Q,de,k.stencilModeFor3D(),k.colorModeForRenderPass());else{const fe=k.colorModeForRenderPass();XA(k,R,j,Q,de,Ko.disabled,fe)}}})(u,p,_,w);break;case"hillshade":(function(k,R,j,Q){if(k.renderPass!=="offscreen"&&k.renderPass!=="translucent")return;const ie=k.context,de=k.depthModeForSublayer(0,Wi.ReadOnly),fe=k.colorModeForRenderPass(),[Oe,qe]=k.renderPass==="translucent"?k.stencilConfigForOverlap(Q):[{},Q];for(const Ye of qe){const Ze=R.getTile(Ye);Ze.needsHillshadePrepare!==void 0&&Ze.needsHillshadePrepare&&k.renderPass==="offscreen"?rp(k,Ze,j,de,Ko.disabled,fe):k.renderPass==="translucent"&&JA(k,Ye,Ze,j,de,Oe[Ye.overscaledZ],fe)}ie.viewport.set([0,0,k.width,k.height])})(u,p,_,w);break;case"raster":(function(k,R,j,Q){if(k.renderPass!=="translucent"||j.paint.get("raster-opacity")===0||!Q.length)return;const ie=k.context,de=ie.gl,fe=R.getSource(),Oe=k.useProgram("raster"),qe=k.colorModeForRenderPass(),[Ye,Ze]=fe instanceof cr?[{},Q]:k.stencilConfigForOverlap(Q),Ne=Ze[Ze.length-1].overscaledZ,ht=!k.options.moving;for(const Dt of Ze){const tt=k.depthModeForSublayer(Dt.overscaledZ-Ne,j.paint.get("raster-opacity")===1?Wi.ReadWrite:Wi.ReadOnly,de.LESS),bt=R.getTile(Dt);bt.registerFadeDuration(j.paint.get("raster-fade-duration"));const Pt=R.findLoadedParent(Dt,0),Lt=am(bt,Pt,R,j,k.transform,k.style.map.terrain);let Xt,dn;const un=j.paint.get("raster-resampling")==="nearest"?de.NEAREST:de.LINEAR;ie.activeTexture.set(de.TEXTURE0),bt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),ie.activeTexture.set(de.TEXTURE1),Pt?(Pt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),Xt=Math.pow(2,Pt.tileID.overscaledZ-bt.tileID.overscaledZ),dn=[bt.tileID.canonical.x*Xt%1,bt.tileID.canonical.y*Xt%1]):bt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST);const pn=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Dt),$n=pn?Dt:null,Hr=$n?$n.posMatrix:k.transform.calculatePosMatrix(Dt.toUnwrapped(),ht),In=Sl(Hr,dn||[0,0],Xt||1,Lt,j);fe instanceof cr?Oe.draw(ie,de.TRIANGLES,tt,Ko.disabled,qe,Lo.disabled,In,pn,j.id,fe.boundsBuffer,k.quadTriangleIndexBuffer,fe.boundsSegments):Oe.draw(ie,de.TRIANGLES,tt,Ye[Dt.overscaledZ],qe,Lo.disabled,In,pn,j.id,k.rasterBoundsBuffer,k.quadTriangleIndexBuffer,k.rasterBoundsSegments)}})(u,p,_,w);break;case"background":(function(k,R,j,Q){const ie=j.paint.get("background-color"),de=j.paint.get("background-opacity");if(de===0)return;const fe=k.context,Oe=fe.gl,qe=k.transform,Ye=qe.tileSize,Ze=j.paint.get("background-pattern");if(k.isPatternMissing(Ze))return;const Ne=!Ze&&ie.a===1&&de===1&&k.opaquePassEnabledForLayer()?"opaque":"translucent";if(k.renderPass!==Ne)return;const ht=Ko.disabled,Dt=k.depthModeForSublayer(0,Ne==="opaque"?Wi.ReadWrite:Wi.ReadOnly),tt=k.colorModeForRenderPass(),bt=k.useProgram(Ze?"backgroundPattern":"background"),Pt=Q||qe.coveringTiles({tileSize:Ye,terrain:k.style.map.terrain});Ze&&(fe.activeTexture.set(Oe.TEXTURE0),k.imageManager.bind(k.context));const Lt=j.getCrossfadeParameters();for(const Xt of Pt){const dn=Q?Xt.posMatrix:k.transform.calculatePosMatrix(Xt.toUnwrapped()),un=Ze?ao(dn,de,k,Ze,{tileID:Xt,tileSize:Ye},Lt):_o(dn,de,ie),pn=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Xt);bt.draw(fe,Oe.TRIANGLES,Dt,ht,tt,Lo.disabled,un,pn,j.id,k.tileExtentBuffer,k.quadTriangleIndexBuffer,k.tileExtentSegments)}})(u,0,_,w);break;case"custom":(function(k,R,j){const Q=k.context,ie=j.implementation;if(k.renderPass==="offscreen"){const de=ie.prerender;de&&(k.setCustomLayerDefaults(),Q.setColorMode(k.colorModeForRenderPass()),de.call(ie,Q.gl,k.transform.customLayerMatrix()),Q.setDirty(),k.setBaseState())}else if(k.renderPass==="translucent"){k.setCustomLayerDefaults(),Q.setColorMode(k.colorModeForRenderPass()),Q.setStencilMode(Ko.disabled);const de=ie.renderingMode==="3d"?new Wi(k.context.gl.LEQUAL,Wi.ReadWrite,k.depthRangeFor3D):k.depthModeForSublayer(0,Wi.ReadOnly);Q.setDepthMode(de),ie.render(Q.gl,k.transform.customLayerMatrix()),Q.setDirty(),k.setBaseState(),Q.bindFramebuffer.set(null)}})(u,0,_)}}translatePosMatrix(u,p,_,w,k){if(!_[0]&&!_[1])return u;const R=k?w==="map"?this.transform.angle:0:w==="viewport"?-this.transform.angle:0;if(R){const ie=Math.sin(R),de=Math.cos(R);_=[_[0]*de-_[1]*ie,_[0]*ie+_[1]*de]}const j=[k?_[0]:ur(p,_[0],this.transform.zoom),k?_[1]:ur(p,_[1],this.transform.zoom),0],Q=new Float32Array(16);return s.H(Q,u,j),Q}saveTileTexture(u){const p=this._tileTextures[u.size[0]];p?p.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const p=this._tileTextures[u];return p&&p.length>0?p.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const p=this.imageManager.getPattern(u.from.toString()),_=this.imageManager.getPattern(u.to.toString());return!p||!_}useProgram(u,p){this.cache=this.cache||{};const _=u+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[_]||(this.cache[_]=new Su(this.context,$a[u],p,z[u],this._showOverdrawInspector,this.style.map.terrain)),this.cache[_]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Ue(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:u,drawingBufferHeight:p}=this.context.gl;return this.width!==u||this.height!==p}}class Ku{constructor(u,p){this.points=u,this.planes=p}static fromInvProjectionMatrix(u,p,_){const w=Math.pow(2,_),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>{const Q=1/(j=s.af([],j,u))[3]/p*w;return s.a$(j,j,[Q,Q,1/j[3],Q])}),R=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(j=>{const Q=function(Oe,qe){var Ye=qe[0],Ze=qe[1],Ne=qe[2],ht=Ye*Ye+Ze*Ze+Ne*Ne;return ht>0&&(ht=1/Math.sqrt(ht)),Oe[0]=qe[0]*ht,Oe[1]=qe[1]*ht,Oe[2]=qe[2]*ht,Oe}([],function(Oe,qe,Ye){var Ze=qe[0],Ne=qe[1],ht=qe[2],Dt=Ye[0],tt=Ye[1],bt=Ye[2];return Oe[0]=Ne*bt-ht*tt,Oe[1]=ht*Dt-Ze*bt,Oe[2]=Ze*tt-Ne*Dt,Oe}([],we([],k[j[0]],k[j[1]]),we([],k[j[2]],k[j[1]]))),ie=-((de=Q)[0]*(fe=k[j[1]])[0]+de[1]*fe[1]+de[2]*fe[2]);var de,fe;return Q.concat(ie)});return new Ku(k,R)}}class Uc{constructor(u,p){this.min=u,this.max=p,this.center=function(_,w,k){return _[0]=.5*w[0],_[1]=.5*w[1],_[2]=.5*w[2],_}([],function(_,w,k){return _[0]=w[0]+k[0],_[1]=w[1]+k[1],_[2]=w[2]+k[2],_}([],this.min,this.max))}quadrant(u){const p=[u%2==0,u<2],_=X(this.min),w=X(this.max);for(let k=0;k<p.length;k++)_[k]=p[k]?this.min[k]:this.center[k],w[k]=p[k]?this.center[k]:this.max[k];return w[2]=this.max[2],new Uc(_,w)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersects(u){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let _=!0;for(let w=0;w<u.planes.length;w++){const k=u.planes[w];let R=0;for(let j=0;j<p.length;j++)s.b0(k,p[j])>=0&&R++;if(R===0)return 0;R!==p.length&&(_=!1)}if(_)return 2;for(let w=0;w<3;w++){let k=Number.MAX_VALUE,R=-Number.MAX_VALUE;for(let j=0;j<u.points.length;j++){const Q=u.points[j][w]-this.min[w];k=Math.min(k,Q),R=Math.max(R,Q)}if(R<0||k>this.max[w]-this.min[w])return 0}return 1}}class md{constructor(u=0,p=0,_=0,w=0){if(isNaN(u)||u<0||isNaN(p)||p<0||isNaN(_)||_<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=p,this.left=_,this.right=w}interpolate(u,p,_){return p.top!=null&&u.top!=null&&(this.top=s.z.number(u.top,p.top,_)),p.bottom!=null&&u.bottom!=null&&(this.bottom=s.z.number(u.bottom,p.bottom,_)),p.left!=null&&u.left!=null&&(this.left=s.z.number(u.left,p.left,_)),p.right!=null&&u.right!=null&&(this.right=s.z.number(u.right,p.right,_)),this}getCenter(u,p){const _=s.ac((this.left+u-this.right)/2,0,u),w=s.ac((this.top+p-this.bottom)/2,0,p);return new s.P(_,w)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new md(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const th=85.051129;class lu{constructor(u,p,_,w,k){this.tileSize=512,this._renderWorldCopies=k===void 0||!!k,this._minZoom=u||0,this._maxZoom=p||22,this._minPitch=_??0,this._maxPitch=w??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new md,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const u=new lu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.apply(this),u}apply(u){this.tileSize=u.tileSize,this.latRange=u.latRange,this.width=u.width,this.height=u.height,this._center=u._center,this._elevation=u._elevation,this.minElevationForCurrentTile=u.minElevationForCurrentTile,this.zoom=u.zoom,this.angle=u.angle,this._fov=u._fov,this._pitch=u._pitch,this._unmodified=u._unmodified,this._edgeInsets=u._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(u){const p=-s.b1(u,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var _=new s.A(4);return s.A!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}(),function(_,w,k){var R=w[0],j=w[1],Q=w[2],ie=w[3],de=Math.sin(k),fe=Math.cos(k);_[0]=R*fe+Q*de,_[1]=j*fe+ie*de,_[2]=R*-de+Q*fe,_[3]=j*-de+ie*fe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const p=s.ac(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(u){const p=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(u){u!==this._elevation&&(this._elevation=u,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,p,_){this._unmodified=!1,this._edgeInsets.interpolate(u,p,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const p=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(u){const p=[new s.b2(0,u)];if(this._renderWorldCopies){const _=this.pointCoordinate(new s.P(0,0)),w=this.pointCoordinate(new s.P(this.width,0)),k=this.pointCoordinate(new s.P(this.width,this.height)),R=this.pointCoordinate(new s.P(0,this.height)),j=Math.floor(Math.min(_.x,w.x,k.x,R.x)),Q=Math.floor(Math.max(_.x,w.x,k.x,R.x)),ie=1;for(let de=j-ie;de<=Q+ie;de++)de!==0&&p.push(new s.b2(de,u))}return p}coveringTiles(u){var p,_;let w=this.coveringZoomLevel(u);const k=w;if(u.minzoom!==void 0&&w<u.minzoom)return[];u.maxzoom!==void 0&&w>u.maxzoom&&(w=u.maxzoom);const R=this.pointCoordinate(this.getCameraPoint()),j=s.Y.fromLngLat(this.center),Q=Math.pow(2,w),ie=[Q*R.x,Q*R.y,0],de=[Q*j.x,Q*j.y,0],fe=Ku.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,w);let Oe=u.minzoom||0;!u.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Oe=w);const qe=u.terrain?2/Math.min(this.tileSize,u.tileSize)*this.tileSize:3,Ye=tt=>({aabb:new Uc([tt*Q,0,0],[(tt+1)*Q,Q,0]),zoom:0,x:0,y:0,wrap:tt,fullyVisible:!1}),Ze=[],Ne=[],ht=w,Dt=u.reparseOverscaled?k:w;if(this._renderWorldCopies)for(let tt=1;tt<=3;tt++)Ze.push(Ye(-tt)),Ze.push(Ye(tt));for(Ze.push(Ye(0));Ze.length>0;){const tt=Ze.pop(),bt=tt.x,Pt=tt.y;let Lt=tt.fullyVisible;if(!Lt){const $n=tt.aabb.intersects(fe);if($n===0)continue;Lt=$n===2}const Xt=u.terrain?ie:de,dn=tt.aabb.distanceX(Xt),un=tt.aabb.distanceY(Xt),pn=Math.max(Math.abs(dn),Math.abs(un));if(tt.zoom===ht||pn>qe+(1<<ht-tt.zoom)-2&&tt.zoom>=Oe){const $n=ht-tt.zoom,Hr=ie[0]-.5-(bt<<$n),In=ie[1]-.5-(Pt<<$n);Ne.push({tileID:new s.Q(tt.zoom===ht?Dt:tt.zoom,tt.wrap,tt.zoom,bt,Pt),distanceSq:xe([de[0]-.5-bt,de[1]-.5-Pt]),tileDistanceToCamera:Math.sqrt(Hr*Hr+In*In)})}else for(let $n=0;$n<4;$n++){const Hr=(bt<<1)+$n%2,In=(Pt<<1)+($n>>1),Cr=tt.zoom+1;let hi=tt.aabb.quadrant($n);if(u.terrain){const Pi=new s.Q(Cr,tt.wrap,Cr,Hr,In),Vr=u.terrain.getMinMaxElevation(Pi),ti=(p=Vr.minElevation)!==null&&p!==void 0?p:this.elevation,Wr=(_=Vr.maxElevation)!==null&&_!==void 0?_:this.elevation;hi=new Uc([hi.min[0],hi.min[1],ti],[hi.max[0],hi.max[1],Wr])}Ze.push({aabb:hi,zoom:Cr,x:Hr,y:In,wrap:tt.wrap,fullyVisible:Lt})}}return Ne.sort((tt,bt)=>tt.distanceSq-bt.distanceSq).map(tt=>tt.tileID)}resize(u,p){this.width=u,this.height=p,this.pixelsToGLUnits=[2/u,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const p=s.ac(u.lat,-85.051129,th);return new s.P(s.N(u.lng)*this.worldSize,s.O(p)*this.worldSize)}unproject(u){return new s.Y(u.x/this.worldSize,u.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(u){const p=this.elevation,_=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,w=this.pointLocation(this.centerPoint,u),k=u.getElevationForLngLatZoom(w,this.tileZoom);if(!(this.elevation-k))return;const R=_+p-k,j=Math.cos(this._pitch)*this.cameraToCenterDistance/R/s.b3(1,w.lat),Q=this.scaleZoom(j/this.tileSize);this._elevation=k,this._center=w,this.zoom=Q}setLocationAtPoint(u,p){const _=this.pointCoordinate(p),w=this.pointCoordinate(this.centerPoint),k=this.locationCoordinate(u),R=new s.Y(k.x-(_.x-w.x),k.y-(_.y-w.y));this.center=this.coordinateLocation(R),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(u,p){return p?this.coordinatePoint(this.locationCoordinate(u),p.getElevationForLngLatZoom(u,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(u))}pointLocation(u,p){return this.coordinateLocation(this.pointCoordinate(u,p))}locationCoordinate(u){return s.Y.fromLngLat(u)}coordinateLocation(u){return u&&u.toLngLat()}pointCoordinate(u,p){if(p){const Oe=p.pointCoordinate(u);if(Oe!=null)return Oe}const _=[u.x,u.y,0,1],w=[u.x,u.y,1,1];s.af(_,_,this.pixelMatrixInverse),s.af(w,w,this.pixelMatrixInverse);const k=_[3],R=w[3],j=_[1]/k,Q=w[1]/R,ie=_[2]/k,de=w[2]/R,fe=ie===de?0:(0-ie)/(de-ie);return new s.Y(s.z.number(_[0]/k,w[0]/R,fe)/this.worldSize,s.z.number(j,Q,fe)/this.worldSize)}coordinatePoint(u,p=0,_=this.pixelMatrix){const w=[u.x*this.worldSize,u.y*this.worldSize,p,1];return s.af(w,w,_),new s.P(w[0]/w[3],w[1]/w[3])}getBounds(){const u=Math.max(0,this.height/2-this.getHorizon());return new Rt().extend(this.pointLocation(new s.P(0,u))).extend(this.pointLocation(new s.P(this.width,u))).extend(this.pointLocation(new s.P(this.width,this.height))).extend(this.pointLocation(new s.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Rt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,th])}calculatePosMatrix(u,p=!1){const _=u.key,w=p?this._alignedPosMatrixCache:this._posMatrixCache;if(w[_])return w[_];const k=u.canonical,R=this.worldSize/this.zoomScale(k.z),j=k.x+Math.pow(2,k.z)*u.wrap,Q=s.an(new Float64Array(16));return s.H(Q,Q,[j*R,k.y*R,0]),s.J(Q,Q,[R/s.W,R/s.W,1]),s.K(Q,p?this.alignedProjMatrix:this.projMatrix,Q),w[_]=new Float32Array(Q),w[_]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(u,p){p=s.ac(+p,this.minZoom,this.maxZoom);const _={center:new s.M(u.lng,u.lat),zoom:p};let w=this.lngRange;if(!this._renderWorldCopies&&w===null){const tt=179.9999999999;w=[-tt,tt]}const k=this.tileSize*this.zoomScale(_.zoom);let R=0,j=k,Q=0,ie=k,de=0,fe=0;const{x:Oe,y:qe}=this.size;if(this.latRange){const tt=this.latRange;R=s.O(tt[1])*k,j=s.O(tt[0])*k,j-R<qe&&(de=qe/(j-R))}w&&(Q=s.b1(s.N(w[0])*k,0,k),ie=s.b1(s.N(w[1])*k,0,k),ie<Q&&(ie+=k),ie-Q<Oe&&(fe=Oe/(ie-Q)));const{x:Ye,y:Ze}=this.project.call({worldSize:k},u);let Ne,ht;const Dt=Math.max(fe||0,de||0);if(Dt){const tt=new s.P(fe?(ie+Q)/2:Ye,de?(j+R)/2:Ze);return _.center=this.unproject.call({worldSize:k},tt).wrap(),_.zoom+=this.scaleZoom(Dt),_}if(this.latRange){const tt=qe/2;Ze-tt<R&&(ht=R+tt),Ze+tt>j&&(ht=j-tt)}if(w){const tt=(Q+ie)/2;let bt=Ye;this._renderWorldCopies&&(bt=s.b1(Ye,tt-k/2,tt+k/2));const Pt=Oe/2;bt-Pt<Q&&(Ne=Q+Pt),bt+Pt>ie&&(Ne=ie-Pt)}if(Ne!==void 0||ht!==void 0){const tt=new s.P(Ne??Ye,ht??Ze);_.center=this.unproject.call({worldSize:k},tt).wrap()}return _}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const u=this._unmodified,{center:p,zoom:_}=this.getConstrained(this.center,this.zoom);this.center=p,this.zoom=_,this._unmodified=u,this._constraining=!1}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,p=this.point.x,_=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.b3(1,this.center.lat)*this.worldSize;let w=s.an(new Float64Array(16));s.J(w,w,[this.width/2,-this.height/2,1]),s.H(w,w,[1,-1,0]),this.labelPlaneMatrix=w,w=s.an(new Float64Array(16)),s.J(w,w,[1,-1,1]),s.H(w,w,[-1,-1,0]),s.J(w,w,[2/this.width,2/this.height,1]),this.glCoordMatrix=w;const k=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),R=Math.min(this.elevation,this.minElevationForCurrentTile),j=k-R*this._pixelPerMeter/Math.cos(this._pitch),Q=R<0?j:k,ie=Math.PI/2+this._pitch,de=this._fov*(.5+u.y/this.height),fe=Math.sin(de)*Q/Math.sin(s.ac(Math.PI-ie-de,.01,Math.PI-.01)),Oe=this.getHorizon(),qe=2*Math.atan(Oe/this.cameraToCenterDistance)*(.5+u.y/(2*Oe)),Ye=Math.sin(qe)*Q/Math.sin(s.ac(Math.PI-ie-qe,.01,Math.PI-.01)),Ze=Math.min(fe,Ye),Ne=1.01*(Math.cos(Math.PI/2-this._pitch)*Ze+Q),ht=this.height/50;w=new Float64Array(16),s.b4(w,this._fov,this.width/this.height,ht,Ne),w[8]=2*-u.x/this.width,w[9]=2*u.y/this.height,s.J(w,w,[1,-1,1]),s.H(w,w,[0,0,-this.cameraToCenterDistance]),s.b5(w,w,this._pitch),s.ad(w,w,this.angle),s.H(w,w,[-p,-_,0]),this.mercatorMatrix=s.J([],w,[this.worldSize,this.worldSize,this.worldSize]),s.J(w,w,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.K(new Float64Array(16),this.labelPlaneMatrix,w),s.H(w,w,[0,0,-this.elevation]),this.projMatrix=w,this.invProjMatrix=s.ar([],w),this.pixelMatrix3D=s.K(new Float64Array(16),this.labelPlaneMatrix,w);const Dt=this.width%2/2,tt=this.height%2/2,bt=Math.cos(this.angle),Pt=Math.sin(this.angle),Lt=p-Math.round(p)+bt*Dt+Pt*tt,Xt=_-Math.round(_)+bt*tt+Pt*Dt,dn=new Float64Array(w);if(s.H(dn,dn,[Lt>.5?Lt-1:Lt,Xt>.5?Xt-1:Xt,0]),this.alignedProjMatrix=dn,w=s.ar(new Float64Array(16),this.pixelMatrix),!w)throw new Error("failed to invert matrix");this.pixelMatrixInverse=w,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const u=this.pointCoordinate(new s.P(0,0)),p=[u.x*this.worldSize,u.y*this.worldSize,0,1];return s.af(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(0,u))}getCameraQueryGeometry(u){const p=this.getCameraPoint();if(u.length===1)return[u[0],p];{let _=p.x,w=p.y,k=p.x,R=p.y;for(const j of u)_=Math.min(_,j.x),w=Math.min(w,j.y),k=Math.max(k,j.x),R=Math.max(R,j.y);return[new s.P(_,w),new s.P(k,w),new s.P(k,R),new s.P(_,R),new s.P(_,w)]}}lngLatToCameraDepth(u,p){const _=this.locationCoordinate(u),w=[_.x*this.worldSize,_.y*this.worldSize,p,1];return s.af(w,w,this.projMatrix),w[2]/w[3]}}function Et(I,u){let p,_=!1,w=null,k=null;const R=()=>{w=null,_&&(I.apply(k,p),w=setTimeout(R,u),_=!1)};return(...j)=>(_=!0,k=this,p=j,w||R(),w)}class an{constructor(u){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let _;return p.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(_=w)}),(_&&_[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(_=>isNaN(_))){const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:_,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Et(this._updateHashUnthrottled,300),this._hashName=u&&encodeURIComponent(u)}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(u){const p=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,w=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),k=Math.pow(10,w),R=Math.round(p.lng*k)/k,j=Math.round(p.lat*k)/k,Q=this._map.getBearing(),ie=this._map.getPitch();let de="";if(de+=u?`/${R}/${j}/${_}`:`${_}/${j}/${R}`,(Q||ie)&&(de+="/"+Math.round(10*Q)/10),ie&&(de+=`/${Math.round(ie)}`),this._hashName){const fe=this._hashName;let Oe=!1;const qe=window.location.hash.slice(1).split("&").map(Ye=>{const Ze=Ye.split("=")[0];return Ze===fe?(Oe=!0,`${Ze}=${de}`):Ye}).filter(Ye=>Ye);return Oe||qe.push(`${fe}=${de}`),`#${qe.join("&")}`}return`#${de}`}}const jt={linearity:.3,easing:s.b6(0,0,.3,1)},fr=s.e({deceleration:2500,maxSpeed:1400},jt),ui=s.e({deceleration:20,maxSpeed:1400},jt),so=s.e({deceleration:1e3,maxSpeed:360},jt),La=s.e({deceleration:1e3,maxSpeed:90},jt);class Po{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:E.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,p=E.now();for(;u.length>0&&p-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:k}of this._inertiaBuffer)p.zoom+=k.zoomDelta||0,p.bearing+=k.bearingDelta||0,p.pitch+=k.pitchDelta||0,k.panDelta&&p.pan._add(k.panDelta),k.around&&(p.around=k.around),k.pinchAround&&(p.pinchAround=k.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(p.pan.mag()){const k=nh(p.pan.mag(),_,s.e({},fr,u||{}));w.offset=p.pan.mult(k.amount/p.pan.mag()),w.center=this._map.transform.center,EA(w,k)}if(p.zoom){const k=nh(p.zoom,_,ui);w.zoom=this._map.transform.zoom+k.amount,EA(w,k)}if(p.bearing){const k=nh(p.bearing,_,so);w.bearing=this._map.transform.bearing+s.ac(k.amount,-179,179),EA(w,k)}if(p.pitch){const k=nh(p.pitch,_,La);w.pitch=this._map.transform.pitch+k.amount,EA(w,k)}if(w.zoom||w.bearing){const k=p.pinchAround===void 0?p.around:p.pinchAround;w.around=k?this._map.unproject(k):this._map.getCenter()}return this.clear(),s.e(w,{noMoveStart:!0})}}function EA(I,u){(!I.duration||I.duration<u.duration)&&(I.duration=u.duration,I.easing=u.easing)}function nh(I,u,p){const{maxSpeed:_,linearity:w,deceleration:k}=p,R=s.ac(I*w/(u/1e3),-_,_),j=Math.abs(R)/(k*w);return{easing:p.easing,duration:1e3*j,amount:R*(j/2)}}class Do extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,_,w={}){const k=O.mousePos(p.getCanvas(),_),R=p.unproject(k);super(u,s.e({point:k,lngLat:R,originalEvent:_},w)),this._defaultPrevented=!1,this.target=p}}class OA extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,_){const w=u==="touchend"?_.changedTouches:_.touches,k=O.touchPos(p.getCanvasContainer(),w),R=k.map(Q=>p.unproject(Q)),j=k.reduce((Q,ie,de,fe)=>Q.add(ie.div(fe.length)),new s.P(0,0));super(u,{points:k,point:j,lngLats:R,lngLat:p.unproject(j),originalEvent:_}),this._defaultPrevented=!1}}class Es extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,_){super(u,{originalEvent:_}),this._defaultPrevented=!1}}class Ha{constructor(u,p){this._map=u,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new Es(u.type,this._map,u))}mousedown(u,p){return this._mousedownPos=p,this._firePreventable(new Do(u.type,this._map,u))}mouseup(u){this._map.fire(new Do(u.type,this._map,u))}click(u,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Do(u.type,this._map,u))}dblclick(u){return this._firePreventable(new Do(u.type,this._map,u))}mouseover(u){this._map.fire(new Do(u.type,this._map,u))}mouseout(u){this._map.fire(new Do(u.type,this._map,u))}touchstart(u){return this._firePreventable(new OA(u.type,this._map,u))}touchmove(u){this._map.fire(new OA(u.type,this._map,u))}touchend(u){this._map.fire(new OA(u.type,this._map,u))}touchcancel(u){this._map.fire(new OA(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Zu{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new Do(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Do("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new Do(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cs{constructor(u){this._map=u}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(u){return this.transform.pointLocation(s.P.convert(u),this._map.terrain)}}class Xi{constructor(u,p){this._map=u,this._tr=new cs(u),this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,p){this.isEnabled()&&u.shiftKey&&u.button===0&&(O.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(u,p){if(!this._active)return;const _=p;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const w=this._startPos;this._lastPos=_,this._box||(this._box=O.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",u));const k=Math.min(w.x,_.x),R=Math.max(w.x,_.x),j=Math.min(w.y,_.y),Q=Math.max(w.y,_.y);O.setTransform(this._box,`translate(${k}px,${j}px)`),this._box.style.width=R-k+"px",this._box.style.height=Q-j+"px"}mouseupWindow(u,p){if(!this._active||u.button!==0)return;const _=this._startPos,w=p;if(this.reset(),O.suppressClick(),_.x!==w.x||_.y!==w.y)return this._map.fire(new s.k("boxzoomend",{originalEvent:u})),{cameraAnimation:k=>k.fitScreenCoordinates(_,w,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(O.remove(this._box),this._box=null),O.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,p){return this._map.fire(new s.k(u,{originalEvent:p}))}}function qh(I,u){if(I.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${I.length}, points ${u.length}`);const p={};for(let _=0;_<I.length;_++)p[I[_].identifier]=u[_];return p}class Hh{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,p,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),_.length===this.numTouches&&(this.centroid=function(w){const k=new s.P(0,0);for(const R of w)k._add(R);return k.div(w.length)}(p),this.touches=qh(_,p)))}touchmove(u,p,_){if(this.aborted||!this.centroid)return;const w=qh(_,p);for(const k in this.touches){const R=w[k];(!R||R.dist(this.touches[k])>30)&&(this.aborted=!0)}}touchend(u,p,_){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class uu{constructor(u){this.singleTap=new Hh(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,p,_){this.singleTap.touchstart(u,p,_)}touchmove(u,p,_){this.singleTap.touchmove(u,p,_)}touchend(u,p,_){const w=this.singleTap.touchend(u,p,_);if(w){const k=u.timeStamp-this.lastTime<500,R=!this.lastTap||this.lastTap.dist(w)<30;if(k&&R||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class ec{constructor(u){this._tr=new cs(u),this._zoomIn=new uu({numTouches:1,numTaps:2}),this._zoomOut=new uu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,p,_){this._zoomIn.touchstart(u,p,_),this._zoomOut.touchstart(u,p,_)}touchmove(u,p,_){this._zoomIn.touchmove(u,p,_),this._zoomOut.touchmove(u,p,_)}touchend(u,p,_){const w=this._zoomIn.touchend(u,p,_),k=this._zoomOut.touchend(u,p,_),R=this._tr;return w?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom+1,around:R.unproject(w)},{originalEvent:u})}):k?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom-1,around:R.unproject(k)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _a{constructor(u){this._enabled=!!u.enable,this._moveStateManager=u.moveStateManager,this._clickTolerance=u.clickTolerance||1,this._moveFunction=u.move,this._activateOnStart=!!u.activateOnStart,u.assignEvents(this),this.reset()}reset(u){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(u)}_move(...u){const p=this._moveFunction(...u);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(u,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(u)&&(this._moveStateManager.startMove(u),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(u,p){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(u.preventDefault(),!this._moveStateManager.isValidMoveEvent(u))return void this.reset(u);const w=p.length?p[0]:p;return!this._moved&&w.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=w,this._move(_,w))}dragEnd(u){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(u)&&(this._moved&&O.suppressClick(),this.reset(u))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const hl={0:1,2:2};class Wn{constructor(u){this._correctEvent=u.checkCorrectEvent}startMove(u){const p=O.mouseButton(u);this._eventButton=p}endMove(u){delete this._eventButton}isValidStartEvent(u){return this._correctEvent(u)}isValidMoveEvent(u){return!function(p,_){const w=hl[_];return p.buttons===void 0||(p.buttons&w)!==w}(u,this._eventButton)}isValidEndEvent(u){return O.mouseButton(u)===this._eventButton}}class Gl{constructor(){this._firstTouch=void 0}_isOneFingerTouch(u){return u.targetTouches.length===1}_isSameTouchEvent(u){return u.targetTouches[0].identifier===this._firstTouch}startMove(u){this._firstTouch=u.targetTouches[0].identifier}endMove(u){delete this._firstTouch}isValidStartEvent(u){return this._isOneFingerTouch(u)}isValidMoveEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}isValidEndEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}}const Xu=I=>{I.mousedown=I.dragStart,I.mousemoveWindow=I.dragMove,I.mouseup=I.dragEnd,I.contextmenu=function(u){u.preventDefault()}},tc=({enable:I,clickTolerance:u,bearingDegreesPerPixelMoved:p=.8})=>{const _=new Wn({checkCorrectEvent:w=>O.mouseButton(w)===0&&w.ctrlKey||O.mouseButton(w)===2});return new _a({clickTolerance:u,move:(w,k)=>({bearingDelta:(k.x-w.x)*p}),moveStateManager:_,enable:I,assignEvents:Xu})},Ju=({enable:I,clickTolerance:u,pitchDegreesPerPixelMoved:p=-.5})=>{const _=new Wn({checkCorrectEvent:w=>O.mouseButton(w)===0&&w.ctrlKey||O.mouseButton(w)===2});return new _a({clickTolerance:u,move:(w,k)=>({pitchDelta:(k.y-w.y)*p}),moveStateManager:_,enable:I,assignEvents:Xu})};class Vn{constructor(u,p){this._clickTolerance=u.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(u,p,_){return this._calculateTransform(u,p,_)}touchmove(u,p,_){if(this._active&&!(_.length<this.minTouchs()))return u.preventDefault(),this._calculateTransform(u,p,_)}touchend(u,p,_){this._calculateTransform(u,p,_),this._active&&_.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,p,_){_.length>0&&(this._active=!0);const w=qh(_,p),k=new s.P(0,0),R=new s.P(0,0);let j=0;for(const ie in w){const de=w[ie],fe=this._touches[ie];fe&&(k._add(de),R._add(de.sub(fe)),j++,w[ie]=de)}if(this._touches=w,j<this.minTouchs()||!R.mag())return;const Q=R.div(j);return this._sum._add(Q),this._sum.mag()<this._clickTolerance?void 0:{around:k.div(j),panDelta:Q}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class nc{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(u,p,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([p[0],p[1]]))}touchmove(u,p,_){if(!this._firstTwoTouches)return;u.preventDefault();const[w,k]=this._firstTwoTouches,R=eA(_,p,w),j=eA(_,p,k);if(!R||!j)return;const Q=this._aroundCenter?null:R.add(j).div(2);return this._move([R,j],Q,u)}touchend(u,p,_){if(!this._firstTwoTouches)return;const[w,k]=this._firstTwoTouches,R=eA(_,p,w),j=eA(_,p,k);R&&j||(this._active&&O.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function eA(I,u,p){for(let _=0;_<I.length;_++)if(I[_].identifier===p)return u[_]}function ip(I,u){return Math.log(I/u)/Math.LN2}class tA extends nc{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,p){const _=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(ip(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ip(this._distance,_),pinchAround:p}}}function nA(I,u){return 180*I.angleWith(u)/Math.PI}class rc extends nc{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,p,_){const w=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:nA(this._vector,w),pinchAround:p}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const p=25/(Math.PI*this._minDiameter)*360,_=nA(u,this._startVector);return Math.abs(_)<p}}function rh(I){return Math.abs(I.y)>Math.abs(I.x)}class Fc extends nc{constructor(u){super(),this._currentTouchCount=0,this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,p,_){super.touchstart(u,p,_),this._currentTouchCount=_.length}_start(u){this._lastPoints=u,rh(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,p,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const w=u[0].sub(this._lastPoints[0]),k=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(w,k,_.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(w.y+k.y)/2*-.5}):void 0}gestureBeginsVertically(u,p,_){if(this._valid!==void 0)return this._valid;const w=u.mag()>=2,k=p.mag()>=2;if(!w&&!k)return;if(!w||!k)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const R=u.y>0==p.y>0;return rh(u)&&rh(p)&&R}}const rA={panStep:100,bearingStep:15,pitchStep:10};class So{constructor(u){this._tr=new cs(u);const p=rA;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let p=0,_=0,w=0,k=0,R=0;switch(u.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:u.shiftKey?_=-1:(u.preventDefault(),k=-1);break;case 39:u.shiftKey?_=1:(u.preventDefault(),k=1);break;case 38:u.shiftKey?w=1:(u.preventDefault(),R=-1);break;case 40:u.shiftKey?w=-1:(u.preventDefault(),R=1);break;default:return}return this._rotationDisabled&&(_=0,w=0),{cameraAnimation:j=>{const Q=this._tr;j.easeTo({duration:300,easeId:"keyboardHandler",easing:iA,zoom:p?Math.round(Q.zoom)+p*(u.shiftKey?2:1):Q.zoom,bearing:Q.bearing+_*this._bearingStep,pitch:Q.pitch+w*this._pitchStep,offset:[-k*this._panStep,-R*this._panStep],center:Q.center},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function iA(I){return I*(2-I)}const gd=4.000244140625;class op{constructor(u,p){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=u,this._tr=new cs(u),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(u){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!u[this._map.cooperativeGestures._bypassKey])return;let p=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const _=E.now(),w=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,p!==0&&p%gd==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(w*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),u.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=u,this._delta-=p,this._active||this._start(u)),u.preventDefault()}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=O.mousePos(this._map.getCanvas(),u),_=this._tr;this._around=p.y>_.transform.height/2-_.transform.getHorizon()?s.M.convert(this._aroundCenter?_.center:_.unproject(p)):s.M.convert(_.center),this._aroundPoint=_.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._tr.transform;if(this._delta!==0){const j=this._type==="wheel"&&Math.abs(this._delta)>gd?this._wheelZoomRate:this._defaultZoomRate;let Q=2/(1+Math.exp(-Math.abs(this._delta*j)));this._delta<0&&Q!==0&&(Q=1/Q);const ie=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(ie*Q))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,_=this._startZoom,w=this._easing;let k,R=!1;if(this._type==="wheel"&&_&&w){const j=Math.min((E.now()-this._lastWheelEventTime)/200,1),Q=w(j);k=s.z.number(_,p,Q),j<1?this._frameId||(this._frameId=!0):R=!0}else k=p,R=!0;return this._active=!0,R&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!R,zoomDelta:k-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let p=s.b7;if(this._prevEase){const _=this._prevEase,w=(E.now()-_.start)/_.duration,k=_.easing(w+.01)-_.easing(w),R=.27/Math.sqrt(k*k+1e-4)*.01,j=Math.sqrt(.0729-R*R);p=s.b6(R,j,.25,1)}return this._prevEase={start:E.now(),duration:u,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Vh{constructor(u,p){this._clickZoom=u,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Zh{constructor(u){this._tr=new cs(u),this.reset()}reset(){this._active=!1}dblclick(u,p){return u.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(u.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ap{constructor(){this._tap=new uu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(u,p,_){if(!this._swipePoint)if(this._tapTime){const w=p[0],k=u.timeStamp-this._tapTime<500,R=this._tapPoint.dist(w)<30;k&&R?_.length>0&&(this._swipePoint=w,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(u,p,_)}touchmove(u,p,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const w=p[0],k=w.y-this._swipePoint.y;return this._swipePoint=w,u.preventDefault(),this._active=!0,{zoomDelta:k/128}}}else this._tap.touchmove(u,p,_)}touchend(u,p,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const w=this._tap.touchend(u,p,_);w&&(this._tapTime=u.timeStamp,this._tapPoint=w)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lo{constructor(u,p,_){this._el=u,this._mousePan=p,this._touchPan=_}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class da{constructor(u,p,_){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=p,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class xr{constructor(u,p,_,w){this._el=u,this._touchZoom=p,this._touchRotate=_,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Ir{constructor(u,p){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=u,this._options=p,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const u=this._map.getCanvasContainer();u.classList.add("maplibregl-cooperative-gestures"),this._container=O.create("div","maplibregl-cooperative-gesture-screen",u);let p=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(p=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),w=document.createElement("div");w.className="maplibregl-desktop-message",w.textContent=p,this._container.appendChild(w);const k=document.createElement("div");k.className="maplibregl-mobile-message",k.textContent=_,this._container.appendChild(k),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(O.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(u){this._onCooperativeGesture(u.touches.length===1)}wheel(u){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!u[this._bypassKey])}_onCooperativeGesture(u){this._enabled&&u&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const BA=I=>I.zoom||I.drag||I.pitch||I.rotate;class Lc extends s.k{}function ic(I){return I.panDelta&&I.panDelta.mag()||I.zoomDelta||I.bearingDelta||I.pitchDelta}class ha{constructor(u,p){this.handleWindowEvent=w=>{this.handleEvent(w,`${w.type}Window`)},this.handleEvent=(w,k)=>{if(w.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const R=w.type==="renderFrame"?void 0:w,j={needsRenderFrame:!1},Q={},ie={},de=w.touches,fe=de?this._getMapTouches(de):void 0,Oe=fe?O.touchPos(this._map.getCanvas(),fe):O.mousePos(this._map.getCanvas(),w);for(const{handlerName:Ze,handler:Ne,allowed:ht}of this._handlers){if(!Ne.isEnabled())continue;let Dt;this._blockedByActive(ie,ht,Ze)?Ne.reset():Ne[k||w.type]&&(Dt=Ne[k||w.type](w,Oe,fe),this.mergeHandlerResult(j,Q,Dt,Ze,R),Dt&&Dt.needsRenderFrame&&this._triggerRenderFrame()),(Dt||Ne.isActive())&&(ie[Ze]=Ne)}const qe={};for(const Ze in this._previousActiveHandlers)ie[Ze]||(qe[Ze]=R);this._previousActiveHandlers=ie,(Object.keys(qe).length||ic(j))&&(this._changes.push([j,Q,qe]),this._triggerRenderFrame()),(Object.keys(ie).length||ic(j))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ye}=j;Ye&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ye(this._map))},this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Po(u),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[w,k,R]of this._listeners)O.addEventListener(w,k,w===document?this.handleWindowEvent:this.handleEvent,R)}destroy(){for(const[u,p,_]of this._listeners)O.removeEventListener(u,p,u===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(u){const p=this._map,_=p.getCanvasContainer();this._add("mapEvent",new Ha(p,u));const w=p.boxZoom=new Xi(p,u);this._add("boxZoom",w),u.interactive&&u.boxZoom&&w.enable();const k=p.cooperativeGestures=new Ir(p,u.cooperativeGestures);this._add("cooperativeGestures",k),u.cooperativeGestures&&k.enable();const R=new ec(p),j=new Zh(p);p.doubleClickZoom=new Vh(j,R),this._add("tapZoom",R),this._add("clickZoom",j),u.interactive&&u.doubleClickZoom&&p.doubleClickZoom.enable();const Q=new ap;this._add("tapDragZoom",Q);const ie=p.touchPitch=new Fc(p);this._add("touchPitch",ie),u.interactive&&u.touchPitch&&p.touchPitch.enable(u.touchPitch);const de=tc(u),fe=Ju(u);p.dragRotate=new da(u,de,fe),this._add("mouseRotate",de,["mousePitch"]),this._add("mousePitch",fe,["mouseRotate"]),u.interactive&&u.dragRotate&&p.dragRotate.enable();const Oe=(({enable:Dt,clickTolerance:tt})=>{const bt=new Wn({checkCorrectEvent:Pt=>O.mouseButton(Pt)===0&&!Pt.ctrlKey});return new _a({clickTolerance:tt,move:(Pt,Lt)=>({around:Lt,panDelta:Lt.sub(Pt)}),activateOnStart:!0,moveStateManager:bt,enable:Dt,assignEvents:Xu})})(u),qe=new Vn(u,p);p.dragPan=new lo(_,Oe,qe),this._add("mousePan",Oe),this._add("touchPan",qe,["touchZoom","touchRotate"]),u.interactive&&u.dragPan&&p.dragPan.enable(u.dragPan);const Ye=new rc,Ze=new tA;p.touchZoomRotate=new xr(_,Ze,Ye,Q),this._add("touchRotate",Ye,["touchPan","touchZoom"]),this._add("touchZoom",Ze,["touchPan","touchRotate"]),u.interactive&&u.touchZoomRotate&&p.touchZoomRotate.enable(u.touchZoomRotate);const Ne=p.scrollZoom=new op(p,()=>this._triggerRenderFrame());this._add("scrollZoom",Ne,["mousePan"]),u.interactive&&u.scrollZoom&&p.scrollZoom.enable(u.scrollZoom);const ht=p.keyboard=new So(p);this._add("keyboard",ht),u.interactive&&u.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new Zu(p))}_add(u,p,_){this._handlers.push({handlerName:u,handler:p,allowed:_}),this._handlersById[u]=p}stop(u){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!BA(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,p,_){for(const w in u)if(w!==_&&(!p||p.indexOf(w)<0))return!0;return!1}_getMapTouches(u){const p=[];for(const _ of u)this._el.contains(_.target)&&p.push(_);return p}mergeHandlerResult(u,p,_,w,k){if(!_)return;s.e(u,_);const R={handlerName:w,originalEvent:_.originalEvent||k};_.zoomDelta!==void 0&&(p.zoom=R),_.panDelta!==void 0&&(p.drag=R),_.pitchDelta!==void 0&&(p.pitch=R),_.bearingDelta!==void 0&&(p.rotate=R)}_applyChanges(){const u={},p={},_={};for(const[w,k,R]of this._changes)w.panDelta&&(u.panDelta=(u.panDelta||new s.P(0,0))._add(w.panDelta)),w.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+w.pitchDelta),w.around!==void 0&&(u.around=w.around),w.pinchAround!==void 0&&(u.pinchAround=w.pinchAround),w.noInertia&&(u.noInertia=w.noInertia),s.e(p,k),s.e(_,R);this._updateMapTransform(u,p,_),this._changes=[]}_updateMapTransform(u,p,_){const w=this._map,k=w._getTransformForUpdate(),R=w.terrain;if(!(ic(u)||R&&this._terrainMovement))return this._fireEvents(p,_,!0);let{panDelta:j,zoomDelta:Q,bearingDelta:ie,pitchDelta:de,around:fe,pinchAround:Oe}=u;Oe!==void 0&&(fe=Oe),w._stop(!0),fe=fe||w.transform.centerPoint;const qe=k.pointLocation(j?fe.sub(j):fe);ie&&(k.bearing+=ie),de&&(k.pitch+=de),Q&&(k.zoom+=Q),R?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?k.center=k.pointLocation(k.centerPoint.sub(j)):k.setLocationAtPoint(qe,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,k.setLocationAtPoint(qe,fe),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,k.recalculateZoom(w.terrain)})):k.setLocationAtPoint(qe,fe),w._applyUpdatedTransform(k),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(p,_,!0)}_fireEvents(u,p,_){const w=BA(this._eventsInProgress),k=BA(u),R={};for(const de in u){const{originalEvent:fe}=u[de];this._eventsInProgress[de]||(R[`${de}start`]=fe),this._eventsInProgress[de]=u[de]}!w&&k&&this._fireEvent("movestart",k.originalEvent);for(const de in R)this._fireEvent(de,R[de]);k&&this._fireEvent("move",k.originalEvent);for(const de in u){const{originalEvent:fe}=u[de];this._fireEvent(de,fe)}const j={};let Q;for(const de in this._eventsInProgress){const{handlerName:fe,originalEvent:Oe}=this._eventsInProgress[de];this._handlersById[fe].isActive()||(delete this._eventsInProgress[de],Q=p[fe]||Oe,j[`${de}end`]=Q)}for(const de in j)this._fireEvent(de,j[de]);const ie=BA(this._eventsInProgress);if(_&&(w||k)&&!ie){this._updatingCamera=!0;const de=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),fe=Oe=>Oe!==0&&-this._bearingSnap<Oe&&Oe<this._bearingSnap;!de||!de.essential&&E.prefersReducedMotion?(this._map.fire(new s.k("moveend",{originalEvent:Q})),fe(this._map.getBearing())&&this._map.resetNorth()):(fe(de.bearing||this._map.getBearing())&&(de.bearing=0),de.freezeElevation=!0,this._map.easeTo(de,{originalEvent:Q})),this._updatingCamera=!1}}_fireEvent(u,p){this._map.fire(new s.k(u,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{delete this._frameId,this.handleEvent(new Lc("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class oc extends s.E{constructor(u,p){super(),this._renderFrameCallback=()=>{const _=Math.min((E.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(_)),_<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new s.M(this.transform.center.lng,this.transform.center.lat)}setCenter(u,p){return this.jumpTo({center:u},p)}panBy(u,p,_){return u=s.P.convert(u).mult(-1),this.panTo(this.transform.center,s.e({offset:u},p),_)}panTo(u,p,_){return this.easeTo(s.e({center:u},p),_)}getZoom(){return this.transform.zoom}setZoom(u,p){return this.jumpTo({zoom:u},p),this}zoomTo(u,p,_){return this.easeTo(s.e({zoom:u},p),_)}zoomIn(u,p){return this.zoomTo(this.getZoom()+1,u,p),this}zoomOut(u,p){return this.zoomTo(this.getZoom()-1,u,p),this}getBearing(){return this.transform.bearing}setBearing(u,p){return this.jumpTo({bearing:u},p),this}getPadding(){return this.transform.padding}setPadding(u,p){return this.jumpTo({padding:u},p),this}rotateTo(u,p,_){return this.easeTo(s.e({bearing:u},p),_)}resetNorth(u,p){return this.rotateTo(0,s.e({duration:1e3},u),p),this}resetNorthPitch(u,p){return this.easeTo(s.e({bearing:0,pitch:0,duration:1e3},u),p),this}snapToNorth(u,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,p):this}getPitch(){return this.transform.pitch}setPitch(u,p){return this.jumpTo({pitch:u},p),this}cameraForBounds(u,p){u=Rt.convert(u);const _=p&&p.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),_,p)}_cameraForBoxAndBearing(u,p,_,w){const k={top:0,bottom:0,right:0,left:0};if(typeof(w=s.e({padding:k,offset:[0,0],maxZoom:this.transform.maxZoom},w)).padding=="number"){const $n=w.padding;w.padding={top:$n,bottom:$n,right:$n,left:$n}}w.padding=s.e(k,w.padding);const R=this.transform,j=R.padding,Q=new Rt(u,p),ie=R.project(Q.getNorthWest()),de=R.project(Q.getNorthEast()),fe=R.project(Q.getSouthEast()),Oe=R.project(Q.getSouthWest()),qe=s.b8(-_),Ye=ie.rotate(qe),Ze=de.rotate(qe),Ne=fe.rotate(qe),ht=Oe.rotate(qe),Dt=new s.P(Math.max(Ye.x,Ze.x,ht.x,Ne.x),Math.max(Ye.y,Ze.y,ht.y,Ne.y)),tt=new s.P(Math.min(Ye.x,Ze.x,ht.x,Ne.x),Math.min(Ye.y,Ze.y,ht.y,Ne.y)),bt=Dt.sub(tt),Pt=(R.width-(j.left+j.right+w.padding.left+w.padding.right))/bt.x,Lt=(R.height-(j.top+j.bottom+w.padding.top+w.padding.bottom))/bt.y;if(Lt<0||Pt<0)return void s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Xt=Math.min(R.scaleZoom(R.scale*Math.min(Pt,Lt)),w.maxZoom),dn=s.P.convert(w.offset),un=new s.P((w.padding.left-w.padding.right)/2,(w.padding.top-w.padding.bottom)/2).rotate(s.b8(_)),pn=dn.add(un).mult(R.scale/R.zoomScale(Xt));return{center:R.unproject(ie.add(fe).div(2).sub(pn)),zoom:Xt,bearing:_}}fitBounds(u,p,_){return this._fitInternal(this.cameraForBounds(u,p),p,_)}fitScreenCoordinates(u,p,_,w,k){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.P.convert(u)),this.transform.pointLocation(s.P.convert(p)),_,w),w,k)}_fitInternal(u,p,_){return u?(delete(p=s.e(u,p)).padding,p.linear?this.easeTo(p,_):this.flyTo(p,_)):this}jumpTo(u,p){this.stop();const _=this._getTransformForUpdate();let w=!1,k=!1,R=!1;return"zoom"in u&&_.zoom!==+u.zoom&&(w=!0,_.zoom=+u.zoom),u.center!==void 0&&(_.center=s.M.convert(u.center)),"bearing"in u&&_.bearing!==+u.bearing&&(k=!0,_.bearing=+u.bearing),"pitch"in u&&_.pitch!==+u.pitch&&(R=!0,_.pitch=+u.pitch),u.padding==null||_.isPaddingEqual(u.padding)||(_.padding=u.padding),this._applyUpdatedTransform(_),this.fire(new s.k("movestart",p)).fire(new s.k("move",p)),w&&this.fire(new s.k("zoomstart",p)).fire(new s.k("zoom",p)).fire(new s.k("zoomend",p)),k&&this.fire(new s.k("rotatestart",p)).fire(new s.k("rotate",p)).fire(new s.k("rotateend",p)),R&&this.fire(new s.k("pitchstart",p)).fire(new s.k("pitch",p)).fire(new s.k("pitchend",p)),this.fire(new s.k("moveend",p))}calculateCameraOptionsFromTo(u,p,_,w=0){const k=s.Y.fromLngLat(u,p),R=s.Y.fromLngLat(_,w),j=R.x-k.x,Q=R.y-k.y,ie=R.z-k.z,de=Math.hypot(j,Q,ie);if(de===0)throw new Error("Can't calculate camera options with same From and To");const fe=Math.hypot(j,Q),Oe=this.transform.scaleZoom(this.transform.cameraToCenterDistance/de/this.transform.tileSize),qe=180*Math.atan2(j,-Q)/Math.PI;let Ye=180*Math.acos(fe/de)/Math.PI;return Ye=ie<0?90-Ye:90+Ye,{center:R.toLngLat(),zoom:Oe,pitch:Ye,bearing:qe}}easeTo(u,p){var _;this._stop(!1,u.easeId),((u=s.e({offset:[0,0],duration:500,easing:s.b7},u)).animate===!1||!u.essential&&E.prefersReducedMotion)&&(u.duration=0);const w=this._getTransformForUpdate(),k=this.getZoom(),R=this.getBearing(),j=this.getPitch(),Q=this.getPadding(),ie="bearing"in u?this._normalizeBearing(u.bearing,R):R,de="pitch"in u?+u.pitch:j,fe="padding"in u?u.padding:w.padding,Oe=s.P.convert(u.offset);let qe=w.centerPoint.add(Oe);const Ye=w.pointLocation(qe),{center:Ze,zoom:Ne}=w.getConstrained(s.M.convert(u.center||Ye),(_=u.zoom)!==null&&_!==void 0?_:k);this._normalizeCenter(Ze);const ht=w.project(Ye),Dt=w.project(Ze).sub(ht),tt=w.zoomScale(Ne-k);let bt,Pt;u.around&&(bt=s.M.convert(u.around),Pt=w.locationPoint(bt));const Lt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ne!==k,this._rotating=this._rotating||R!==ie,this._pitching=this._pitching||de!==j,this._padding=!w.isPaddingEqual(fe),this._easeId=u.easeId,this._prepareEase(p,u.noMoveStart,Lt),this.terrain&&this._prepareElevation(Ze),this._ease(Xt=>{if(this._zooming&&(w.zoom=s.z.number(k,Ne,Xt)),this._rotating&&(w.bearing=s.z.number(R,ie,Xt)),this._pitching&&(w.pitch=s.z.number(j,de,Xt)),this._padding&&(w.interpolatePadding(Q,fe,Xt),qe=w.centerPoint.add(Oe)),this.terrain&&!u.freezeElevation&&this._updateElevation(Xt),bt)w.setLocationAtPoint(bt,Pt);else{const dn=w.zoomScale(w.zoom-k),un=Ne>k?Math.min(2,tt):Math.max(.5,tt),pn=Math.pow(un,1-Xt),$n=w.unproject(ht.add(Dt.mult(Xt*pn)).mult(dn));w.setLocationAtPoint(w.renderWorldCopies?$n.wrap():$n,qe)}this._applyUpdatedTransform(w),this._fireMoveEvents(p)},Xt=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Xt)},u),this}_prepareEase(u,p,_={}){this._moving=!0,p||_.moving||this.fire(new s.k("movestart",u)),this._zooming&&!_.zooming&&this.fire(new s.k("zoomstart",u)),this._rotating&&!_.rotating&&this.fire(new s.k("rotatestart",u)),this._pitching&&!_.pitching&&this.fire(new s.k("pitchstart",u))}_prepareElevation(u){this._elevationCenter=u,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(u){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(u<1&&p!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=u*(_-(p-(_*u+this._elevationStart))/(1-u)),this._elevationTarget=p}this.transform.elevation=s.z.number(this._elevationStart,this._elevationTarget,u)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(u){if(!this.transformCameraUpdate)return;const p=u.clone(),{center:_,zoom:w,pitch:k,bearing:R,elevation:j}=this.transformCameraUpdate(p);_&&(p.center=_),w!==void 0&&(p.zoom=w),k!==void 0&&(p.pitch=k),R!==void 0&&(p.bearing=R),j!==void 0&&(p.elevation=j),this.transform.apply(p)}_fireMoveEvents(u){this.fire(new s.k("move",u)),this._zooming&&this.fire(new s.k("zoom",u)),this._rotating&&this.fire(new s.k("rotate",u)),this._pitching&&this.fire(new s.k("pitch",u))}_afterEase(u,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const _=this._zooming,w=this._rotating,k=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new s.k("zoomend",u)),w&&this.fire(new s.k("rotateend",u)),k&&this.fire(new s.k("pitchend",u)),this.fire(new s.k("moveend",u))}flyTo(u,p){var _;if(!u.essential&&E.prefersReducedMotion){const Pi=s.L(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Pi,p)}this.stop(),u=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.b7},u);const w=this._getTransformForUpdate(),k=this.getZoom(),R=this.getBearing(),j=this.getPitch(),Q=this.getPadding(),ie="bearing"in u?this._normalizeBearing(u.bearing,R):R,de="pitch"in u?+u.pitch:j,fe="padding"in u?u.padding:w.padding,Oe=s.P.convert(u.offset);let qe=w.centerPoint.add(Oe);const Ye=w.pointLocation(qe),{center:Ze,zoom:Ne}=w.getConstrained(s.M.convert(u.center||Ye),(_=u.zoom)!==null&&_!==void 0?_:k);this._normalizeCenter(Ze);const ht=w.zoomScale(Ne-k),Dt=w.project(Ye),tt=w.project(Ze).sub(Dt);let bt=u.curve;const Pt=Math.max(w.width,w.height),Lt=Pt/ht,Xt=tt.mag();if("minZoom"in u){const Pi=s.ac(Math.min(u.minZoom,k,Ne),w.minZoom,w.maxZoom),Vr=Pt/w.zoomScale(Pi-k);bt=Math.sqrt(Vr/Xt*2)}const dn=bt*bt;function un(Pi){const Vr=(Lt*Lt-Pt*Pt+(Pi?-1:1)*dn*dn*Xt*Xt)/(2*(Pi?Lt:Pt)*dn*Xt);return Math.log(Math.sqrt(Vr*Vr+1)-Vr)}function pn(Pi){return(Math.exp(Pi)-Math.exp(-Pi))/2}function $n(Pi){return(Math.exp(Pi)+Math.exp(-Pi))/2}const Hr=un(!1);let In=function(Pi){return $n(Hr)/$n(Hr+bt*Pi)},Cr=function(Pi){return Pt*(($n(Hr)*(pn(Vr=Hr+bt*Pi)/$n(Vr))-pn(Hr))/dn)/Xt;var Vr},hi=(un(!0)-Hr)/bt;if(Math.abs(Xt)<1e-6||!isFinite(hi)){if(Math.abs(Pt-Lt)<1e-6)return this.easeTo(u,p);const Pi=Lt<Pt?-1:1;hi=Math.abs(Math.log(Lt/Pt))/bt,Cr=function(){return 0},In=function(Vr){return Math.exp(Pi*bt*Vr)}}return u.duration="duration"in u?+u.duration:1e3*hi/("screenSpeed"in u?+u.screenSpeed/bt:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=R!==ie,this._pitching=de!==j,this._padding=!w.isPaddingEqual(fe),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(Ze),this._ease(Pi=>{const Vr=Pi*hi,ti=1/In(Vr);w.zoom=Pi===1?Ne:k+w.scaleZoom(ti),this._rotating&&(w.bearing=s.z.number(R,ie,Pi)),this._pitching&&(w.pitch=s.z.number(j,de,Pi)),this._padding&&(w.interpolatePadding(Q,fe,Pi),qe=w.centerPoint.add(Oe)),this.terrain&&!u.freezeElevation&&this._updateElevation(Pi);const Wr=Pi===1?Ze:w.unproject(Dt.add(tt.mult(Cr(Vr))).mult(ti));w.setLocationAtPoint(w.renderWorldCopies?Wr.wrap():Wr,qe),this._applyUpdatedTransform(w),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const _=this._onEaseEnd;delete this._onEaseEnd,_.call(this,p)}if(!u){const _=this.handlers;_&&_.stop(!1)}return this}_ease(u,p,_){_.animate===!1||_.duration===0?(u(1),p()):(this._easeStart=E.now(),this._easeOptions=_,this._onEaseFrame=u,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(u,p){u=s.b1(u,-180,180);const _=Math.abs(u-p);return Math.abs(u-360-p)<_&&(u-=360),Math.abs(u+360-p)<_&&(u+=360),u}_normalizeCenter(u){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const _=u.lng-p.center.lng;u.lng+=_>180?-360:_<-180?360:0}queryTerrainElevation(u){return this.terrain?this.terrain.getElevationForLngLatZoom(s.M.convert(u),this.transform.tileZoom)-this.transform.elevation:null}}const Da={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class oA{constructor(u=Da){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=u}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options.compact,this._container=O.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=O.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=O.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){O.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,p){const _=this._map._getUIString(`AttributionControl.${p}`);u.title=_,u.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(w=>typeof w!="string"?"":w)):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const p=this._map.style.sourceCaches;for(const w in p){const k=p[w];if(k.used||k.usedForTerrain){const R=k.getSource();R.attribution&&u.indexOf(R.attribution)<0&&u.push(R.attribution)}}u=u.filter(w=>String(w).trim()),u.sort((w,k)=>w.length-k.length),u=u.filter((w,k)=>{for(let R=k+1;R<u.length;R++)if(u[R].indexOf(w)>=0)return!1;return!0});const _=u.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,u.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class fl{constructor(u={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const _=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=u}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=O.create("div","maplibregl-ctrl");const p=O.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){O.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class $o{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const p=++this._id;return this._queue.push({callback:u,id:p,cancelled:!1}),p}remove(u){const p=this._currentlyRunning,_=p?this._queue.concat(p):this._queue;for(const w of _)if(w.id===u)return void(w.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const _ of p)if(!_.cancelled&&(_.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Yo=s.X([{name:"a_pos3d",type:"Int16",components:3}]);class sp extends s.E{constructor(u){super(),this.sourceCache=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,u.usedForTerrain=!0,u.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(u,p){this.sourceCache.update(u,p),this._renderableTilesKeys=[];const _={};for(const w of u.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))_[w.key]=!0,this._renderableTilesKeys.push(w.key),this._tiles[w.key]||(w.posMatrix=new Float64Array(16),s.aN(w.posMatrix,0,s.W,0,s.W,0,1),this._tiles[w.key]=new At(w,this.tileSize));for(const w in this._tiles)_[w]||delete this._tiles[w]}freeRtt(u){for(const p in this._tiles){const _=this._tiles[p];(!u||_.tileID.equals(u)||_.tileID.isChildOf(u)||u.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(u=>this.getTileByID(u))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u){const p={};for(const _ of this._renderableTilesKeys){const w=this._tiles[_].tileID;if(w.canonical.equals(u.canonical)){const k=u.clone();k.posMatrix=new Float64Array(16),s.aN(k.posMatrix,0,s.W,0,s.W,0,1),p[_]=k}else if(w.canonical.isChildOf(u.canonical)){const k=u.clone();k.posMatrix=new Float64Array(16);const R=w.canonical.z-u.canonical.z,j=w.canonical.x-(w.canonical.x>>R<<R),Q=w.canonical.y-(w.canonical.y>>R<<R),ie=s.W>>R;s.aN(k.posMatrix,0,ie,0,ie,0,1),s.H(k.posMatrix,k.posMatrix,[-j*ie,-Q*ie,0]),p[_]=k}else if(u.canonical.isChildOf(w.canonical)){const k=u.clone();k.posMatrix=new Float64Array(16);const R=u.canonical.z-w.canonical.z,j=u.canonical.x-(u.canonical.x>>R<<R),Q=u.canonical.y-(u.canonical.y>>R<<R),ie=s.W>>R;s.aN(k.posMatrix,0,s.W,0,s.W,0,1),s.H(k.posMatrix,k.posMatrix,[j*ie,Q*ie,0]),s.J(k.posMatrix,k.posMatrix,[1/2**R,1/2**R,0]),p[_]=k}}return p}getSourceTile(u,p){const _=this.sourceCache._source;let w=u.overscaledZ-this.deltaZoom;if(w>_.maxzoom&&(w=_.maxzoom),w<_.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(w).key);let k=this.sourceCache.getTileByID(this._sourceTileCache[u.key]);if((!k||!k.dem)&&p)for(;w>=_.minzoom&&(!k||!k.dem);)k=this.sourceCache.getTileByID(u.scaledTo(w--).key);return k}tilesAfterTime(u=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=u)}}class ih{constructor(u,p,_){this.painter=u,this.sourceCache=new sp(p),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(u,p,_,w=s.W){var k;if(!(p>=0&&p<w&&_>=0&&_<w))return 0;const R=this.getTerrainData(u),j=(k=R.tile)===null||k===void 0?void 0:k.dem;if(!j)return 0;const Q=function(Ye,Ze,Ne){var ht=Ze[0],Dt=Ze[1];return Ye[0]=Ne[0]*ht+Ne[4]*Dt+Ne[12],Ye[1]=Ne[1]*ht+Ne[5]*Dt+Ne[13],Ye}([],[p/w*s.W,_/w*s.W],R.u_terrain_matrix),ie=[Q[0]*j.dim,Q[1]*j.dim],de=Math.floor(ie[0]),fe=Math.floor(ie[1]),Oe=ie[0]-de,qe=ie[1]-fe;return j.get(de,fe)*(1-Oe)*(1-qe)+j.get(de+1,fe)*Oe*(1-qe)+j.get(de,fe+1)*(1-Oe)*qe+j.get(de+1,fe+1)*Oe*qe}getElevationForLngLatZoom(u,p){const{tileID:_,mercatorX:w,mercatorY:k}=this._getOverscaledTileIDFromLngLatZoom(u,p);return this.getElevation(_,w%s.W,k%s.W,s.W)}getElevation(u,p,_,w=s.W){return this.getDEMElevation(u,p,_,w)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const w=this.painter.context,k=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Ue(w,k,w.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Ue(w,new s.R({width:1,height:1}),w.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.an([])}const p=this.sourceCache.getSourceTile(u,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const w=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new Ue(w,p.dem.getPixels(),w.gl.RGBA,{premultiply:!1}),p.demTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const _=p&&p+p.tileID.key+u.key;if(_&&!this._demMatrixCache[_]){const w=this.sourceCache.sourceCache._source.maxzoom;let k=u.canonical.z-p.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=w?k=u.canonical.z-w:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const R=u.canonical.x-(u.canonical.x>>k<<k),j=u.canonical.y-(u.canonical.y>>k<<k),Q=s.b9(new Float64Array(16),[1/(s.W<<k),1/(s.W<<k),0]);s.H(Q,Q,[R*s.W,j*s.W,0]),this._demMatrixCache[u.key]={matrix:Q,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(u){const p=this.painter,_=p.width/devicePixelRatio,w=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===w||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Ue(p.context,{width:_,height:w,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Ue(p.context,{width:_,height:w,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(_,w,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,_,w))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let k=0,R=0;k<this._coordsTextureSize;k++)for(let j=0;j<this._coordsTextureSize;j++,R+=4)p[R+0]=255&j,p[R+1]=255&k,p[R+2]=j>>8<<4|k>>8,p[R+3]=0;const _=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),w=new Ue(u,_,u.gl.RGBA,{premultiply:!1});return w.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=w,w}pointCoordinate(u){this.painter.maybeDrawDepthAndCoords(!0);const p=new Uint8Array(4),_=this.painter.context,w=_.gl;_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),w.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,p),_.bindFramebuffer.set(null);const k=p[0]+(p[2]>>4<<8),R=p[1]+((15&p[2])<<8),j=this.coordsIndex[255-p[3]],Q=j&&this.sourceCache.getTileByID(j);if(!Q)return null;const ie=this._coordsTextureSize,de=(1<<Q.tileID.canonical.z)*ie;return new s.Y((Q.tileID.canonical.x*ie+k)/de+Q.tileID.wrap,(Q.tileID.canonical.y*ie+R)/de,this.getElevation(Q.tileID,k,R,ie))}depthAtPoint(u){const p=new Uint8Array(4),_=this.painter.context,w=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),w.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,p),_.bindFramebuffer.set(null),(p[0]/16777216+p[1]/65536+p[2]/256+p[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const u=this.painter.context,p=new s.ba,_=new s.aX,w=this.meshSize,k=s.W/w,R=w*w;for(let fe=0;fe<=w;fe++)for(let Oe=0;Oe<=w;Oe++)p.emplaceBack(Oe*k,fe*k,0);for(let fe=0;fe<R;fe+=w+1)for(let Oe=0;Oe<w;Oe++)_.emplaceBack(Oe+fe,w+Oe+fe+1,w+Oe+fe+2),_.emplaceBack(Oe+fe,w+Oe+fe+2,Oe+fe+1);const j=p.length,Q=j+2*(w+1);for(const fe of[0,1])for(let Oe=0;Oe<=w;Oe++)for(const qe of[0,1])p.emplaceBack(Oe*k,fe*s.W,qe);for(let fe=0;fe<2*w;fe+=2)_.emplaceBack(Q+fe,Q+fe+1,Q+fe+3),_.emplaceBack(Q+fe,Q+fe+3,Q+fe+2),_.emplaceBack(j+fe,j+fe+3,j+fe+1),_.emplaceBack(j+fe,j+fe+2,j+fe+3);const ie=p.length,de=ie+2*(w+1);for(const fe of[0,1])for(let Oe=0;Oe<=w;Oe++)for(const qe of[0,1])p.emplaceBack(fe*s.W,Oe*k,qe);for(let fe=0;fe<2*w;fe+=2)_.emplaceBack(ie+fe,ie+fe+1,ie+fe+3),_.emplaceBack(ie+fe,ie+fe+3,ie+fe+2),_.emplaceBack(de+fe,de+fe+3,de+fe+1),_.emplaceBack(de+fe,de+fe+2,de+fe+3);return this._mesh={indexBuffer:u.createIndexBuffer(_),vertexBuffer:u.createVertexBuffer(p,Yo.members),segments:s.$.simpleSegment(0,0,p.length,_.length)},this._mesh}getMeshFrameDelta(u){return 2*Math.PI*s.bb/Math.pow(2,u)/5}getMinTileElevationForLngLatZoom(u,p){var _;const{tileID:w}=this._getOverscaledTileIDFromLngLatZoom(u,p);return(_=this.getMinMaxElevation(w).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(u){const p=this.getTerrainData(u).tile,_={minElevation:null,maxElevation:null};return p&&p.dem&&(_.minElevation=p.dem.min*this.exaggeration,_.maxElevation=p.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(u,p){const _=s.Y.fromLngLat(u.wrap()),w=(1<<p)*s.W,k=_.x*w,R=_.y*w,j=Math.floor(k/s.W),Q=Math.floor(R/s.W);return{tileID:new s.Q(p,0,p,j,Q),mercatorX:k,mercatorY:R}}}class aA{constructor(u,p,_){this._context=u,this._size=p,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const u of this._objects)u.texture.destroy(),u.fbo.destroy()}_createObject(u){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new Ue(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(_.texture),{id:u,fbo:p,texture:_,stamp:-1,inUse:!1}}getObjectForId(u){return this._objects[u]}useObject(u){u.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>u.id!==p),this._recentlyUsed.push(u.id)}stampObject(u){u.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const u=this._createObject(this._objects.length);return this._objects.push(u),u}freeObject(u){u.inUse=!1}freeAllObjects(){for(const u of this._objects)this.freeObject(u)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(u=>!u.inUse)===!1}}const Ol={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class lp{constructor(u,p){this.painter=u,this.terrain=p,this.pool=new aA(u.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(u){return this.pool.getObjectForId(u.rtt[this._stacks.length-1].id).texture}prepareForRender(u,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=u._order.filter(_=>!u._layers[_].isHidden(p)),this._coordsDescendingInv={};for(const _ in u.sourceCaches){this._coordsDescendingInv[_]={};const w=u.sourceCaches[_].getVisibleCoordinates();for(const k of w){const R=this.terrain.sourceCache.getTerrainCoords(k);for(const j in R)this._coordsDescendingInv[_][j]||(this._coordsDescendingInv[_][j]=[]),this._coordsDescendingInv[_][j].push(R[j])}}this._coordsDescendingInvStr={};for(const _ of u._order){const w=u._layers[_],k=w.source;if(Ol[w.type]&&!this._coordsDescendingInvStr[k]){this._coordsDescendingInvStr[k]={};for(const R in this._coordsDescendingInv[k])this._coordsDescendingInvStr[k][R]=this._coordsDescendingInv[k][R].map(j=>j.key).sort().join()}}for(const _ of this._renderableTiles)for(const w in this._coordsDescendingInvStr){const k=this._coordsDescendingInvStr[w][_.tileID.key];k&&k!==_.rttCoords[w]&&(_.rtt=[])}}renderLayer(u){if(u.isHidden(this.painter.transform.zoom))return!1;const p=u.type,_=this.painter,w=this._renderableLayerIds[this._renderableLayerIds.length-1]===u.id;if(Ol[p]&&(this._prevType&&Ol[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(u.id),!w))return!0;if(Ol[this._prevType]||Ol[p]&&w){this._prevType=p;const k=this._stacks.length-1,R=this._stacks[k]||[];for(const j of this._renderableTiles){if(this.pool.isFull()&&(eh(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(j),j.rtt[k]){const ie=this.pool.getObjectForId(j.rtt[k].id);if(ie.stamp===j.rtt[k].stamp){this.pool.useObject(ie);continue}}const Q=this.pool.getOrCreateFreeObject();this.pool.useObject(Q),this.pool.stampObject(Q),j.rtt[k]={id:Q.id,stamp:Q.stamp},_.context.bindFramebuffer.set(Q.fbo.framebuffer),_.context.clear({color:s.aO.transparent,stencil:0}),_.currentStencilSource=void 0;for(let ie=0;ie<R.length;ie++){const de=_.style._layers[R[ie]],fe=de.source?this._coordsDescendingInv[de.source][j.tileID.key]:[j.tileID];_.context.viewport.set([0,0,Q.fbo.width,Q.fbo.height]),_._renderTileClippingMasks(de,fe),_.renderLayer(_,_.style.sourceCaches[de.source],de,fe),de.source&&(j.rttCoords[de.source]=this._coordsDescendingInvStr[de.source][j.tileID.key])}}return eh(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Ol[p]}return!1}}const yd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},IA=h,Xh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:Da,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.a.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Fe=I=>{I.touchstart=I.dragStart,I.touchmoveWindow=I.dragMove,I.touchend=I.dragEnd},ac={showCompass:!0,showZoom:!0,visualizePitch:!1};class ds{constructor(u,p,_=!1){this.mousedown=R=>{this.startMouse(s.e({},R,{ctrlKey:!0,preventDefault:()=>R.preventDefault()}),O.mousePos(this.element,R)),O.addEventListener(window,"mousemove",this.mousemove),O.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=R=>{this.moveMouse(R,O.mousePos(this.element,R))},this.mouseup=R=>{this.mouseRotate.dragEnd(R),this.mousePitch&&this.mousePitch.dragEnd(R),this.offTemp()},this.touchstart=R=>{R.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=O.touchPos(this.element,R.targetTouches)[0],this.startTouch(R,this._startPos),O.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.addEventListener(window,"touchend",this.touchend))},this.touchmove=R=>{R.targetTouches.length!==1?this.reset():(this._lastPos=O.touchPos(this.element,R.targetTouches)[0],this.moveTouch(R,this._lastPos))},this.touchend=R=>{R.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const w=u.dragRotate._mouseRotate.getClickTolerance(),k=u.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=tc({clickTolerance:w,enable:!0}),this.touchRotate=(({enable:R,clickTolerance:j,bearingDegreesPerPixelMoved:Q=.8})=>{const ie=new Gl;return new _a({clickTolerance:j,move:(de,fe)=>({bearingDelta:(fe.x-de.x)*Q}),moveStateManager:ie,enable:R,assignEvents:Fe})})({clickTolerance:w,enable:!0}),this.map=u,_&&(this.mousePitch=Ju({clickTolerance:k,enable:!0}),this.touchPitch=(({enable:R,clickTolerance:j,pitchDegreesPerPixelMoved:Q=-.5})=>{const ie=new Gl;return new _a({clickTolerance:j,move:(de,fe)=>({pitchDelta:(fe.y-de.y)*Q}),moveStateManager:ie,enable:R,assignEvents:Fe})})({clickTolerance:k,enable:!0})),O.addEventListener(p,"mousedown",this.mousedown),O.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),O.addEventListener(p,"touchcancel",this.reset)}startMouse(u,p){this.mouseRotate.dragStart(u,p),this.mousePitch&&this.mousePitch.dragStart(u,p),O.disableDrag()}startTouch(u,p){this.touchRotate.dragStart(u,p),this.touchPitch&&this.touchPitch.dragStart(u,p),O.disableDrag()}moveMouse(u,p){const _=this.map,{bearingDelta:w}=this.mouseRotate.dragMove(u,p)||{};if(w&&_.setBearing(_.getBearing()+w),this.mousePitch){const{pitchDelta:k}=this.mousePitch.dragMove(u,p)||{};k&&_.setPitch(_.getPitch()+k)}}moveTouch(u,p){const _=this.map,{bearingDelta:w}=this.touchRotate.dragMove(u,p)||{};if(w&&_.setBearing(_.getBearing()+w),this.touchPitch){const{pitchDelta:k}=this.touchPitch.dragMove(u,p)||{};k&&_.setPitch(_.getPitch()+k)}}off(){const u=this.element;O.removeEventListener(u,"mousedown",this.mousedown),O.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend),O.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){O.enableDrag(),O.removeEventListener(window,"mousemove",this.mousemove),O.removeEventListener(window,"mouseup",this.mouseup),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend)}}let Yi;function qr(I,u,p){const _=new s.M(I.lng,I.lat);if(I=new s.M(I.lng,I.lat),u){const w=new s.M(I.lng-360,I.lat),k=new s.M(I.lng+360,I.lat),R=p.locationPoint(I).distSqr(u);p.locationPoint(w).distSqr(u)<R?I=w:p.locationPoint(k).distSqr(u)<R&&(I=k)}for(;Math.abs(I.lng-p.center.lng)>180;){const w=p.locationPoint(I);if(w.x>=0&&w.y>=0&&w.x<=p.width&&w.y<=p.height)break;I.lng>p.center.lng?I.lng-=360:I.lng+=360}return I.lng!==_.lng&&p.locationPoint(I).y>p.height/2-p.getHorizon()?I:_}const ba={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function sc(I,u,p){const _=I.classList;for(const w in ba)_.remove(`maplibregl-${p}-anchor-${w}`);_.add(`maplibregl-${p}-anchor-${u}`)}class vd extends s.E{constructor(u){if(super(),this._onKeyPress=p=>{const _=p.code,w=p.charCode||p.keyCode;_!=="Space"&&_!=="Enter"&&w!==32&&w!==13||this.togglePopup()},this._onMapClick=p=>{const _=p.originalEvent.target,w=this._element;this._popup&&(_===w||w.contains(_))&&this.togglePopup()},this._update=p=>{var _;if(!this._map)return;const w=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!w)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?qr(this._lngLat,this._flatPos,this._map.transform):(_=this._lngLat)===null||_===void 0?void 0:_.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let k="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?k=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(k=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let R="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?R="rotateX(0deg)":this._pitchAlignment==="map"&&(R=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),O.setTransform(this._element,`${ba[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${R} ${k}`),E.frameAsync(new AbortController).then(()=>{this._updateOpacity(p&&p.type==="moveend")}).catch(()=>{})},this._onMove=p=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.k("dragstart"))),this.fire(new s.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(u==null?void 0:u.opacity,u==null?void 0:u.opacityWhenCovered),u&&u.element)this._element=u.element,this._offset=s.P.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=O.create("div"),this._element.setAttribute("aria-label","Map marker");const p=O.createNS("http://www.w3.org/2000/svg","svg"),_=41,w=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${_}px`),p.setAttributeNS(null,"width",`${w}px`),p.setAttributeNS(null,"viewBox",`0 0 ${w} ${_}`);const k=O.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"stroke","none"),k.setAttributeNS(null,"stroke-width","1"),k.setAttributeNS(null,"fill","none"),k.setAttributeNS(null,"fill-rule","evenodd");const R=O.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill-rule","nonzero");const j=O.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(3.0, 29.0)"),j.setAttributeNS(null,"fill","#000000");const Q=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ht of Q){const Dt=O.createNS("http://www.w3.org/2000/svg","ellipse");Dt.setAttributeNS(null,"opacity","0.04"),Dt.setAttributeNS(null,"cx","10.5"),Dt.setAttributeNS(null,"cy","5.80029008"),Dt.setAttributeNS(null,"rx",ht.rx),Dt.setAttributeNS(null,"ry",ht.ry),j.appendChild(Dt)}const ie=O.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill",this._color);const de=O.createNS("http://www.w3.org/2000/svg","path");de.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ie.appendChild(de);const fe=O.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"fill","#000000");const Oe=O.createNS("http://www.w3.org/2000/svg","path");Oe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),fe.appendChild(Oe);const qe=O.createNS("http://www.w3.org/2000/svg","g");qe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),qe.setAttributeNS(null,"fill","#FFFFFF");const Ye=O.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ze=O.createNS("http://www.w3.org/2000/svg","circle");Ze.setAttributeNS(null,"fill","#000000"),Ze.setAttributeNS(null,"opacity","0.25"),Ze.setAttributeNS(null,"cx","5.5"),Ze.setAttributeNS(null,"cy","5.5"),Ze.setAttributeNS(null,"r","5.4999962");const Ne=O.createNS("http://www.w3.org/2000/svg","circle");Ne.setAttributeNS(null,"fill","#FFFFFF"),Ne.setAttributeNS(null,"cx","5.5"),Ne.setAttributeNS(null,"cy","5.5"),Ne.setAttributeNS(null,"r","5.4999962"),Ye.appendChild(Ze),Ye.appendChild(Ne),R.appendChild(j),R.appendChild(ie),R.appendChild(fe),R.appendChild(qe),R.appendChild(Ye),p.appendChild(R),p.setAttributeNS(null,"height",_*this._scale+"px"),p.setAttributeNS(null,"width",w*this._scale+"px"),this._element.appendChild(p),this._offset=s.P.convert(u&&u.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),sc(this._element,this._anchor,"marker"),u&&u.className)for(const p of u.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),u.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),O.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=s.M.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const w=Math.abs(13.5)/Math.SQRT2;u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(38.1-13.5+w)],"bottom-right":[-w,-1*(38.1-13.5+w)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const u=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:u?(u.isOpen()?u.remove():(u.setLngLat(this._lngLat),u.addTo(this._map)),this):this}_updateOpacity(u=!1){var p,_;if(!(!((p=this._map)===null||p===void 0)&&p.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(u)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const w=this._map,k=w.terrain.depthAtPoint(this._pos),R=w.terrain.getElevationForLngLatZoom(this._lngLat,w.transform.tileZoom);if(w.transform.lngLatToCameraDepth(this._lngLat,R)-k<.006)return void(this._element.style.opacity=this._opacity);const j=-this._offset.y/w.transform._pixelPerMeter,Q=Math.sin(w.getPitch()*Math.PI/180)*j,ie=w.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),de=w.transform.lngLatToCameraDepth(this._lngLat,R+Q)-ie>.006;!((_=this._popup)===null||_===void 0)&&_.isOpen()&&de&&this._popup.remove(),this._element.style.opacity=de?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(u){return this._offset=s.P.convert(u),this._update(),this}addClassName(u){this._element.classList.add(u)}removeClassName(u){this._element.classList.remove(u)}toggleClassName(u){return this._element.classList.toggle(u)}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(u,p){return u===void 0&&p===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),u!==void 0&&(this._opacity=u),p!==void 0&&(this._opacityWhenCovered=p),this._map&&this._updateOpacity(!0),this}}const Au={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Cd=0,lc=!1;const up={maxWidth:100,unit:"metric"};function _d(I,u,p){const _=p&&p.maxWidth||100,w=I._container.clientHeight/2,k=I.unproject([0,w]),R=I.unproject([_,w]),j=k.distanceTo(R);if(p&&p.unit==="imperial"){const Q=3.2808*j;Q>5280?uc(u,_,Q/5280,I._getUIString("ScaleControl.Miles")):uc(u,_,Q,I._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?uc(u,_,j/1852,I._getUIString("ScaleControl.NauticalMiles")):j>=1e3?uc(u,_,j/1e3,I._getUIString("ScaleControl.Kilometers")):uc(u,_,j,I._getUIString("ScaleControl.Meters"))}function uc(I,u,p,_){const w=function(k){const R=Math.pow(10,`${Math.floor(k)}`.length-1);let j=k/R;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function(Q){const ie=Math.pow(10,Math.ceil(-Math.log(Q)/Math.LN10));return Math.round(Q*ie)/ie}(j),R*j}(p);I.style.width=u*(w/p)+"px",I.innerHTML=`${w}&nbsp;${_}`}const Wl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Ap=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function oh(I){if(I){if(typeof I=="number"){const u=Math.round(Math.abs(I)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,I),"top-left":new s.P(u,u),"top-right":new s.P(-u,u),bottom:new s.P(0,-I),"bottom-left":new s.P(u,-u),"bottom-right":new s.P(-u,-u),left:new s.P(I,0),right:new s.P(-I,0)}}if(I instanceof s.P||Array.isArray(I)){const u=s.P.convert(I);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:s.P.convert(I.center||[0,0]),top:s.P.convert(I.top||[0,0]),"top-left":s.P.convert(I["top-left"]||[0,0]),"top-right":s.P.convert(I["top-right"]||[0,0]),bottom:s.P.convert(I.bottom||[0,0]),"bottom-left":s.P.convert(I["bottom-left"]||[0,0]),"bottom-right":s.P.convert(I["bottom-right"]||[0,0]),left:s.P.convert(I.left||[0,0]),right:s.P.convert(I.right||[0,0])}}return oh(new s.P(0,0))}const Jh=h;a.AJAXError=s.be,a.Evented=s.E,a.LngLat=s.M,a.MercatorCoordinate=s.Y,a.Point=s.P,a.addProtocol=s.bf,a.config=s.a,a.removeProtocol=s.bg,a.AttributionControl=oA,a.BoxZoomHandler=Xi,a.CanvasSource=Gr,a.CooperativeGesturesHandler=Ir,a.DoubleClickZoomHandler=Vh,a.DragPanHandler=lo,a.DragRotateHandler=da,a.EdgeInsets=md,a.FullscreenControl=class extends s.E{constructor(I={}){super(),this._onFullscreenChange=()=>{var u;let p=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((u=p==null?void 0:p.shadowRoot)===null||u===void 0)&&u.fullscreenElement;)p=p.shadowRoot.fullscreenElement;p===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,I&&I.container&&(I.container instanceof HTMLElement?this._container=I.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(I){return this._map=I,this._container||(this._container=this._map.getContainer()),this._controlContainer=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){O.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const I=this._fullscreenButton=O.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);O.create("span","maplibregl-ctrl-icon",I).setAttribute("aria-hidden","true"),I.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const I=this._getTitle();this._fullscreenButton.setAttribute("aria-label",I),this._fullscreenButton.title=I}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},a.GeoJSONSource=yn,a.GeolocateControl=class extends s.E{constructor(I){super(),this._onSuccess=u=>{if(this._map){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new s.k("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.k("geolocate",u)),this._finish()}},this._updateCamera=u=>{const p=new s.M(u.coords.longitude,u.coords.latitude),_=u.coords.accuracy,w=this._map.getBearing(),k=s.e({bearing:w},this.options.fitBoundsOptions),R=Rt.fromLngLat(p,_);this._map.fitBounds(R,k,{geolocateSource:!0})},this._updateMarker=u=>{if(u){const p=new s.M(u.coords.longitude,u.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=u.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=u=>{if(this._map){if(this.options.trackUserLocation)if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(u.code===3&&lc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.k("error",u)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=u=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=O.create("button","maplibregl-ctrl-geolocate",this._container),O.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",u===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=O.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new vd({element:this._dotElement}),this._circleElement=O.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new vd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.k("trackuserlocationend")))})}},this.options=s.e({},Au,I)}onAdd(I){return this._map=I,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(){return s._(this,arguments,void 0,function*(u=!1){if(Yi!==void 0&&!u)return Yi;if(window.navigator.permissions===void 0)return Yi=!!window.navigator.geolocation,Yi;try{Yi=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Yi=!!window.navigator.geolocation}return Yi})}().then(u=>this._setupUI(u)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),O.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Cd=0,lc=!1}_isOutOfMapMaxBounds(I){const u=this._map.getMaxBounds(),p=I.coords;return u&&(p.longitude<u.getWest()||p.longitude>u.getEast()||p.latitude<u.getSouth()||p.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const I=this._map.getBounds(),u=I.getSouthEast(),p=I.getNorthEast(),_=u.distanceTo(p),w=Math.ceil(this._accuracy/(_/this._map._container.clientHeight)*2);this._circleElement.style.width=`${w}px`,this._circleElement.style.height=`${w}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Cd--,lc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let I;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Cd++,Cd>1?(I={maximumAge:6e5,timeout:0},lc=!0):(I=this.options.positionOptions,lc=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,I)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},a.Hash=an,a.ImageSource=cr,a.KeyboardHandler=So,a.LngLatBounds=Rt,a.LogoControl=fl,a.Map=class extends oc{constructor(I){if(s.bc.mark(s.bd.create),(I=s.e({},Xh,I)).minZoom!=null&&I.maxZoom!=null&&I.minZoom>I.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(I.minPitch!=null&&I.maxPitch!=null&&I.minPitch>I.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(I.minPitch!=null&&I.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(I.maxPitch!=null&&I.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new lu(I.minZoom,I.maxZoom,I.minPitch,I.maxPitch,I.renderWorldCopies),{bearingSnap:I.bearingSnap}),this._contextLost=u=>{u.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new s.k("webglcontextlost",{originalEvent:u}))},this._contextRestored=u=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.k("webglcontextrestored",{originalEvent:u}))},this._onMapScroll=u=>{if(u.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=I.interactive,this._maxTileCacheSize=I.maxTileCacheSize,this._maxTileCacheZoomLevels=I.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=I.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=I.preserveDrawingBuffer,this._antialias=I.antialias,this._trackResize=I.trackResize,this._bearingSnap=I.bearingSnap,this._refreshExpiredTiles=I.refreshExpiredTiles,this._fadeDuration=I.fadeDuration,this._crossSourceCollisions=I.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=I.collectResourceTiming,this._renderTaskQueue=new $o,this._controls=[],this._mapId=s.a3(),this._locale=s.e({},yd,I.locale),this._clickTolerance=I.clickTolerance,this._overridePixelRatio=I.pixelRatio,this._maxCanvasSize=I.maxCanvasSize,this.transformCameraUpdate=I.transformCameraUpdate,this._imageQueueHandle=Z.addThrottleControl(()=>this.isMoving()),this._requestManager=new ye(I.transformRequest),typeof I.container=="string"){if(this._container=document.getElementById(I.container),!this._container)throw new Error(`Container '${I.container}' not found.`)}else{if(!(I.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=I.container}if(I.maxBounds&&this.setMaxBounds(I.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let u=!1;const p=Et(_=>{this._trackResize&&!this._removed&&this.resize(_)._update()},50);this._resizeObserver=new ResizeObserver(_=>{u?p(_):u=!0}),this._resizeObserver.observe(this._container)}this.handlers=new ha(this,I),this._hash=I.hash&&new an(typeof I.hash=="string"&&I.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:I.center,zoom:I.zoom,bearing:I.bearing,pitch:I.pitch}),I.bounds&&(this.resize(),this.fitBounds(I.bounds,s.e({},I.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=I.localIdeographFontFamily,this._validateStyle=I.validateStyle,I.style&&this.setStyle(I.style,{localIdeographFontFamily:I.localIdeographFontFamily}),I.attributionControl&&this.addControl(new oA(typeof I.attributionControl=="boolean"?void 0:I.attributionControl)),I.maplibreLogo&&this.addControl(new fl,I.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new s.k(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new s.k(`${u.dataType}dataloading`,u))}),this.on("dataabort",u=>{this.fire(new s.k("sourcedataabort",u))})}_getMapId(){return this._mapId}addControl(I,u){if(u===void 0&&(u=I.getDefaultPosition?I.getDefaultPosition():"top-right"),!I||!I.onAdd)return this.fire(new s.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=I.onAdd(this);this._controls.push(I);const _=this._controlPositions[u];return u.indexOf("bottom")!==-1?_.insertBefore(p,_.firstChild):_.appendChild(p),this}removeControl(I){if(!I||!I.onRemove)return this.fire(new s.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(I);return u>-1&&this._controls.splice(u,1),I.onRemove(this),this}hasControl(I){return this._controls.indexOf(I)>-1}calculateCameraOptionsFromTo(I,u,p,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(I,u,p,_)}resize(I){var u;const p=this._containerDimensions(),_=p[0],w=p[1],k=this._getClampedPixelRatio(_,w);if(this._resizeCanvas(_,w,k),this.painter.resize(_,w,k),this.painter.overLimit()){const j=this.painter.context.gl;this._maxCanvasSize=[j.drawingBufferWidth,j.drawingBufferHeight];const Q=this._getClampedPixelRatio(_,w);this._resizeCanvas(_,w,Q),this.painter.resize(_,w,Q)}this.transform.resize(_,w),(u=this._requestedCameraState)===null||u===void 0||u.resize(_,w);const R=!this._moving;return R&&(this.stop(),this.fire(new s.k("movestart",I)).fire(new s.k("move",I))),this.fire(new s.k("resize",I)),R&&this.fire(new s.k("moveend",I)),this}_getClampedPixelRatio(I,u){const{0:p,1:_}=this._maxCanvasSize,w=this.getPixelRatio(),k=I*w,R=u*w;return Math.min(k>p?p/k:1,R>_?_/R:1)*w}getPixelRatio(){var I;return(I=this._overridePixelRatio)!==null&&I!==void 0?I:devicePixelRatio}setPixelRatio(I){this._overridePixelRatio=I,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(I){return this.transform.setMaxBounds(Rt.convert(I)),this._update()}setMinZoom(I){if((I=I??-2)>=-2&&I<=this.transform.maxZoom)return this.transform.minZoom=I,this._update(),this.getZoom()<I&&this.setZoom(I),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(I){if((I=I??22)>=this.transform.minZoom)return this.transform.maxZoom=I,this._update(),this.getZoom()>I&&this.setZoom(I),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(I){if((I=I??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(I>=0&&I<=this.transform.maxPitch)return this.transform.minPitch=I,this._update(),this.getPitch()<I&&this.setPitch(I),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(I){if((I=I??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(I>=this.transform.minPitch)return this.transform.maxPitch=I,this._update(),this.getPitch()>I&&this.setPitch(I),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(I){return this.transform.renderWorldCopies=I,this._update()}project(I){return this.transform.locationPoint(s.M.convert(I),this.style&&this.terrain)}unproject(I){return this.transform.pointLocation(s.P.convert(I),this.terrain)}isMoving(){var I;return this._moving||((I=this.handlers)===null||I===void 0?void 0:I.isMoving())}isZooming(){var I;return this._zooming||((I=this.handlers)===null||I===void 0?void 0:I.isZooming())}isRotating(){var I;return this._rotating||((I=this.handlers)===null||I===void 0?void 0:I.isRotating())}_createDelegatedListener(I,u,p){if(I==="mouseenter"||I==="mouseover"){let _=!1;return{layer:u,listener:p,delegates:{mousemove:k=>{const R=this.getLayer(u)?this.queryRenderedFeatures(k.point,{layers:[u]}):[];R.length?_||(_=!0,p.call(this,new Do(I,this,k.originalEvent,{features:R}))):_=!1},mouseout:()=>{_=!1}}}}if(I==="mouseleave"||I==="mouseout"){let _=!1;return{layer:u,listener:p,delegates:{mousemove:R=>{(this.getLayer(u)?this.queryRenderedFeatures(R.point,{layers:[u]}):[]).length?_=!0:_&&(_=!1,p.call(this,new Do(I,this,R.originalEvent)))},mouseout:R=>{_&&(_=!1,p.call(this,new Do(I,this,R.originalEvent)))}}}}{const _=w=>{const k=this.getLayer(u)?this.queryRenderedFeatures(w.point,{layers:[u]}):[];k.length&&(w.features=k,p.call(this,w),delete w.features)};return{layer:u,listener:p,delegates:{[I]:_}}}}on(I,u,p){if(p===void 0)return super.on(I,u);const _=this._createDelegatedListener(I,u,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[I]=this._delegatedListeners[I]||[],this._delegatedListeners[I].push(_);for(const w in _.delegates)this.on(w,_.delegates[w]);return this}once(I,u,p){if(p===void 0)return super.once(I,u);const _=this._createDelegatedListener(I,u,p);for(const w in _.delegates)this.once(w,_.delegates[w]);return this}off(I,u,p){return p===void 0?super.off(I,u):(this._delegatedListeners&&this._delegatedListeners[I]&&(_=>{const w=this._delegatedListeners[I];for(let k=0;k<w.length;k++){const R=w[k];if(R.layer===u&&R.listener===p){for(const j in R.delegates)this.off(j,R.delegates[j]);return w.splice(k,1),this}}})(),this)}queryRenderedFeatures(I,u){if(!this.style)return[];let p;const _=I instanceof s.P||Array.isArray(I),w=_?I:[[0,0],[this.transform.width,this.transform.height]];if(u=u||(_?{}:I)||{},w instanceof s.P||typeof w[0]=="number")p=[s.P.convert(w)];else{const k=s.P.convert(w[0]),R=s.P.convert(w[1]);p=[k,new s.P(R.x,k.y),R,new s.P(k.x,R.y),k]}return this.style.queryRenderedFeatures(p,u,this.transform)}querySourceFeatures(I,u){return this.style.querySourceFeatures(I,u)}setStyle(I,u){return(u=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&I?(this._diffStyle(I,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(I,u))}setTransformRequest(I){return this._requestManager.setTransformRequest(I),this}_getUIString(I){const u=this._locale[I];if(u==null)throw new Error(`Missing UI string '${I}'`);return u}_updateStyle(I,u){if(u.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(I,u));const p=this.style&&u.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!I)),I?(this.style=new ea(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof I=="string"?this.style.loadURL(I,u,p):this.style.loadJSON(I,u,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ea(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(I,u){if(typeof I=="string"){const p=this._requestManager.transformRequest(I,ue.Style);s.h(p,new AbortController).then(_=>{this._updateDiff(_.data,u)}).catch(_=>{_&&this.fire(new s.j(_))})}else typeof I=="object"&&this._updateDiff(I,u)}_updateDiff(I,u){try{this.style.setState(I,u)&&this._update(!0)}catch(p){s.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(I,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(I,u){return this._lazyInitEmptyStyle(),this.style.addSource(I,u),this._update(!0)}isSourceLoaded(I){const u=this.style&&this.style.sourceCaches[I];if(u!==void 0)return u.loaded();this.fire(new s.j(new Error(`There is no source with ID '${I}'`)))}setTerrain(I){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),I){const u=this.style.sourceCaches[I.source];if(!u)throw new Error(`cannot load terrain, because there exists no source with ID: ${I.source}`);this.terrain===null&&u.reload();for(const p in this.style._layers){const _=this.style._layers[p];_.type==="hillshade"&&_.source===I.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ih(this.painter,u,I),this.painter.renderToTexture=new lp(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==I.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new s.k("terrain",{terrain:I})),this}getTerrain(){var I,u;return(u=(I=this.terrain)===null||I===void 0?void 0:I.options)!==null&&u!==void 0?u:null}areTilesLoaded(){const I=this.style&&this.style.sourceCaches;for(const u in I){const p=I[u]._tiles;for(const _ in p){const w=p[_];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0}removeSource(I){return this.style.removeSource(I),this._update(!0)}getSource(I){return this.style.getSource(I)}addImage(I,u,p={}){const{pixelRatio:_=1,sdf:w=!1,stretchX:k,stretchY:R,content:j}=p;if(this._lazyInitEmptyStyle(),!(u instanceof HTMLImageElement||s.b(u))){if(u.width===void 0||u.height===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:Q,height:ie,data:de}=u,fe=u;return this.style.addImage(I,{data:new s.R({width:Q,height:ie},new Uint8Array(de)),pixelRatio:_,stretchX:k,stretchY:R,content:j,sdf:w,version:0,userImage:fe}),fe.onAdd&&fe.onAdd(this,I),this}}{const{width:Q,height:ie,data:de}=E.getImageData(u);this.style.addImage(I,{data:new s.R({width:Q,height:ie},de),pixelRatio:_,stretchX:k,stretchY:R,content:j,sdf:w,version:0})}}updateImage(I,u){const p=this.style.getImage(I);if(!p)return this.fire(new s.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=u instanceof HTMLImageElement||s.b(u)?E.getImageData(u):u,{width:w,height:k,data:R}=_;if(w===void 0||k===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(w!==p.data.width||k!==p.data.height)return this.fire(new s.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const j=!(u instanceof HTMLImageElement||s.b(u));return p.data.replace(R,j),this.style.updateImage(I,p),this}getImage(I){return this.style.getImage(I)}hasImage(I){return I?!!this.style.getImage(I):(this.fire(new s.j(new Error("Missing required image id"))),!1)}removeImage(I){this.style.removeImage(I)}loadImage(I){return Z.getImage(this._requestManager.transformRequest(I,ue.Image),new AbortController)}listImages(){return this.style.listImages()}addLayer(I,u){return this._lazyInitEmptyStyle(),this.style.addLayer(I,u),this._update(!0)}moveLayer(I,u){return this.style.moveLayer(I,u),this._update(!0)}removeLayer(I){return this.style.removeLayer(I),this._update(!0)}getLayer(I){return this.style.getLayer(I)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(I,u,p){return this.style.setLayerZoomRange(I,u,p),this._update(!0)}setFilter(I,u,p={}){return this.style.setFilter(I,u,p),this._update(!0)}getFilter(I){return this.style.getFilter(I)}setPaintProperty(I,u,p,_={}){return this.style.setPaintProperty(I,u,p,_),this._update(!0)}getPaintProperty(I,u){return this.style.getPaintProperty(I,u)}setLayoutProperty(I,u,p,_={}){return this.style.setLayoutProperty(I,u,p,_),this._update(!0)}getLayoutProperty(I,u){return this.style.getLayoutProperty(I,u)}setGlyphs(I,u={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(I,u),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(I,u,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(I,u,p,_=>{_||this._update(!0)}),this}removeSprite(I){return this._lazyInitEmptyStyle(),this.style.removeSprite(I),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(I,u={}){return this._lazyInitEmptyStyle(),this.style.setSprite(I,u,p=>{p||this._update(!0)}),this}setLight(I,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(I,u),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(I,u){return this.style.setFeatureState(I,u),this._update()}removeFeatureState(I,u){return this.style.removeFeatureState(I,u),this._update()}getFeatureState(I){return this.style.getFeatureState(I)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let I=0,u=0;return this._container&&(I=this._container.clientWidth||400,u=this._container.clientHeight||300),[I,u]}_setupContainer(){const I=this._container;I.classList.add("maplibregl-map");const u=this._canvasContainer=O.create("div","maplibregl-canvas-container",I);this._interactive&&u.classList.add("maplibregl-interactive"),this._canvas=O.create("canvas","maplibregl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),_=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],_);const w=this._controlContainer=O.create("div","maplibregl-control-container",I),k=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(R=>{k[R]=O.create("div",`maplibregl-ctrl-${R} `,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(I,u,p){this._canvas.width=Math.floor(p*I),this._canvas.height=Math.floor(p*u),this._canvas.style.width=`${I}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const I={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let u=null;this._canvas.addEventListener("webglcontextcreationerror",_=>{u={requestedAttributes:I},_&&(u.statusMessage=_.statusMessage,u.type=_.type)},{once:!0});const p=this._canvas.getContext("webgl2",I)||this._canvas.getContext("webgl",I);if(!p){const _="Failed to initialize WebGL";throw u?(u.message=_,new Error(JSON.stringify(u))):new Error(_)}this.painter=new Dc(p,this.transform),P.testSupport(p)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(I){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||I,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(I){return this._update(),this._renderTaskQueue.add(I)}_cancelRenderFrame(I){this._renderTaskQueue.remove(I)}_render(I){const u=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(I),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const w=this.transform.zoom,k=E.now();this.style.zoomHistory.update(w,k);const R=new s.a8(w,{now:k,fadeDuration:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),j=R.crossFadingFactor();j===1&&j===this._crossFadingFactor||(p=!0,this._crossFadingFactor=j),this.style.update(R)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,u,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:u,showPadding:this.showPadding}),this.fire(new s.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.bc.mark(s.bd.load),this.fire(new s.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const _=this._sourcesDirty||this._styleDirty||this._placementDirty;return _||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.k("idle")),!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,s.bc.mark(s.bd.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var I;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Z.removeThrottleControl(this._imageQueueHandle),(I=this._resizeObserver)===null||I===void 0||I.disconnect();const u=this.painter.context.gl.getExtension("WEBGL_lose_context");u&&u.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),O.remove(this._canvasContainer),O.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),s.bc.clearMetrics(),this._removed=!0,this.fire(new s.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,E.frameAsync(this._frameRequest).then(I=>{s.bc.frame(I),this._frameRequest=null,this._render(I)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(I){this._showTileBoundaries!==I&&(this._showTileBoundaries=I,this._update())}get showPadding(){return!!this._showPadding}set showPadding(I){this._showPadding!==I&&(this._showPadding=I,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(I){this._showCollisionBoxes!==I&&(this._showCollisionBoxes=I,I?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(I){this._showOverdrawInspector!==I&&(this._showOverdrawInspector=I,this._update())}get repaint(){return!!this._repaint}set repaint(I){this._repaint!==I&&(this._repaint=I,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(I){this._vertices=I,this._update()}get version(){return IA}getCameraTargetElevation(){return this.transform.elevation}},a.MapMouseEvent=Do,a.MapTouchEvent=OA,a.MapWheelEvent=Es,a.Marker=vd,a.NavigationControl=class{constructor(I){this._updateZoomButtons=()=>{const u=this._map.getZoom(),p=u===this._map.getMaxZoom(),_=u===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{const u=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=u},this._setButtonTitle=(u,p)=>{const _=this._map._getUIString(`NavigationControl.${p}`);u.title=_,u.setAttribute("aria-label",_)},this.options=s.e({},ac,I),this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",u=>this._map.zoomIn({},{originalEvent:u})),O.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",u=>this._map.zoomOut({},{originalEvent:u})),O.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})}),this._compassIcon=O.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(I){return this._map=I,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ds(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){O.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(I,u){const p=O.create("button",I,this._container);return p.type="button",p.addEventListener("click",u),p}},a.Popup=class extends s.E{constructor(I){super(),this.remove=()=>(this._content&&O.remove(this._content),this._container&&(O.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.k("close"))),this),this._onMouseUp=u=>{this._update(u.point)},this._onMouseMove=u=>{this._update(u.point)},this._onDrag=u=>{this._update(u.point)},this._update=u=>{var p;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=O.create("div","maplibregl-popup",this._map.getContainer()),this._tip=O.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const j of this.options.className.split(" "))this._container.classList.add(j);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?qr(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._trackPointer&&!u)return;const _=this._flatPos=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&u?u:this._map.transform.locationPoint(this._lngLat));let w=this.options.anchor;const k=oh(this.options.offset);if(!w){const j=this._container.offsetWidth,Q=this._container.offsetHeight;let ie;ie=_.y+k.bottom.y<Q?["top"]:_.y>this._map.transform.height-Q?["bottom"]:[],_.x<j/2?ie.push("left"):_.x>this._map.transform.width-j/2&&ie.push("right"),w=ie.length===0?"bottom":ie.join("-")}let R=_.add(k[w]);this.options.subpixelPositioning||(R=R.round()),O.setTransform(this._container,`${ba[w]} translate(${R.x}px,${R.y}px)`),sc(this._container,w,"popup")},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(Wl),I)}addTo(I){return this._map&&this.remove(),this._map=I,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(I){return this._lngLat=s.M.convert(I),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(I){return this.setDOMContent(document.createTextNode(I))}setHTML(I){const u=document.createDocumentFragment(),p=document.createElement("body");let _;for(p.innerHTML=I;_=p.firstChild,_;)u.appendChild(_);return this.setDOMContent(u)}getMaxWidth(){var I;return(I=this._container)===null||I===void 0?void 0:I.style.maxWidth}setMaxWidth(I){return this.options.maxWidth=I,this._update(),this}setDOMContent(I){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=O.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(I),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(I){this._container&&this._container.classList.add(I)}removeClassName(I){this._container&&this._container.classList.remove(I)}setOffset(I){return this.options.offset=I,this._update(),this}toggleClassName(I){if(this._container)return this._container.classList.toggle(I)}setSubpixelPositioning(I){this.options.subpixelPositioning=I}_createCloseButton(){this.options.closeButton&&(this._closeButton=O.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const I=this._container.querySelector(Ap);I&&I.focus()}},a.RasterDEMTileSource=gn,a.RasterTileSource=ir,a.ScaleControl=class{constructor(I){this._onMove=()=>{_d(this._map,this._container,this.options)},this.setUnit=u=>{this.options.unit=u,_d(this._map,this._container,this.options)},this.options=s.e({},up,I)}getDefaultPosition(){return"bottom-left"}onAdd(I){return this._map=I,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-scale",I.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){O.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},a.ScrollZoomHandler=op,a.Style=ea,a.TerrainControl=class{constructor(I){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=I}onAdd(I){return this._map=I,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=O.create("button","maplibregl-ctrl-terrain",this._container),O.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){O.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},a.TwoFingersTouchPitchHandler=Fc,a.TwoFingersTouchRotateHandler=rc,a.TwoFingersTouchZoomHandler=tA,a.TwoFingersTouchZoomRotateHandler=xr,a.VectorTileSource=pt,a.VideoSource=Sr,a.addSourceType=(I,u)=>s._(void 0,void 0,void 0,function*(){if(_i(I))throw new Error(`A source type called "${I}" already exists.`);((p,_)=>{yr[p]=_})(I,u)}),a.clearPrewarmedResources=function(){const I=Qt;I&&(I.isPreloaded()&&I.numActive()===1?(I.release(Vt),Qt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},a.getMaxParallelImageRequests=function(){return s.a.MAX_PARALLEL_IMAGE_REQUESTS},a.getRTLTextPluginStatus=function(){return Te().getRTLTextPluginStatus()},a.getVersion=function(){return Jh},a.getWorkerCount=function(){return Yt.workerCount},a.getWorkerUrl=function(){return s.a.WORKER_URL},a.importScriptInWorkers=function(I){return Se().broadcast("importScript",I)},a.prewarm=function(){ke().acquire(Vt)},a.setMaxParallelImageRequests=function(I){s.a.MAX_PARALLEL_IMAGE_REQUESTS=I},a.setRTLTextPlugin=function(I,u){return Te().setRTLTextPlugin(I,u)},a.setWorkerCount=function(I){Yt.workerCount=I},a.setWorkerUrl=function(I){s.a.WORKER_URL=I}});var o=n;return o})})(xz);var ute=xz.exports;const Jg=Ka(ute);var qC=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Mz(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o4={exports:{}};o4.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",h="[object Array]",m="[object AsyncFunction]",C="[object Boolean]",E="[object Date]",O="[object Error]",P="[object Function]",D="[object GeneratorFunction]",$="[object Map]",ee="[object Number]",H="[object Null]",G="[object Object]",Z="[object Promise]",ue="[object Proxy]",ye="[object RegExp]",be="[object Set]",X="[object String]",se="[object Symbol]",we="[object Undefined]",xe="[object WeakMap]",De="[object ArrayBuffer]",Ue="[object DataView]",he="[object Float32Array]",$e="[object Float64Array]",ge="[object Int8Array]",yt="[object Int16Array]",wt="[object Int32Array]",st="[object Uint8Array]",mt="[object Uint8ClampedArray]",ze="[object Uint16Array]",He="[object Uint32Array]",Ve=/[\\^$.*+?()[\]{}|]/g,Vt=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,vt={};vt[he]=vt[$e]=vt[ge]=vt[yt]=vt[wt]=vt[st]=vt[mt]=vt[ze]=vt[He]=!0,vt[s]=vt[h]=vt[De]=vt[C]=vt[Ue]=vt[E]=vt[O]=vt[P]=vt[$]=vt[ee]=vt[G]=vt[ye]=vt[be]=vt[X]=vt[xe]=!1;var Qt=typeof qC=="object"&&qC&&qC.Object===Object&&qC,$t=typeof self=="object"&&self&&self.Object===Object&&self,ke=Qt||$t||Function("return this")(),pe=t&&!t.nodeType&&t,Se=pe&&!0&&e&&!e.nodeType&&e,Re=Se&&Se.exports===pe,it=Re&&Qt.process,ot=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),St=ot&&ot.isTypedArray;function Rt(z,ae){for(var Le=-1,gt=z==null?0:z.length,Gn=0,vn=[];++Le<gt;){var Kn=z[Le];ae(Kn,Le,z)&&(vn[Gn++]=Kn)}return vn}function zt(z,ae){for(var Le=-1,gt=ae.length,Gn=z.length;++Le<gt;)z[Gn+Le]=ae[Le];return z}function pt(z,ae){for(var Le=-1,gt=z==null?0:z.length;++Le<gt;)if(ae(z[Le],Le,z))return!0;return!1}function ir(z,ae){for(var Le=-1,gt=Array(z);++Le<z;)gt[Le]=ae(Le);return gt}function gn(z){return function(ae){return z(ae)}}function yn(z,ae){return z.has(ae)}function er(z,ae){return z==null?void 0:z[ae]}function cr(z){var ae=-1,Le=Array(z.size);return z.forEach(function(gt,Gn){Le[++ae]=[Gn,gt]}),Le}function Sr(z,ae){return function(Le){return z(ae(Le))}}function Gr(z){var ae=-1,Le=Array(z.size);return z.forEach(function(gt){Le[++ae]=gt}),Le}var yr=Array.prototype,_i=Function.prototype,Ee=Object.prototype,J=ke["__core-js_shared__"],q=_i.toString,Te=Ee.hasOwnProperty,At=function(){var z=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Bt=Ee.toString,kt=RegExp("^"+q.call(Te).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Re?ke.Buffer:void 0,fn=ke.Symbol,Pn=ke.Uint8Array,On=Ee.propertyIsEnumerable,g=yr.splice,Kt=fn?fn.toStringTag:void 0,Pr=Object.getOwnPropertySymbols,nr=Ut?Ut.isBuffer:void 0,Pe=Sr(Object.keys,Object),ce=ra(ke,"DataView"),_e=ra(ke,"Map"),Ie=ra(ke,"Promise"),je=ra(ke,"Set"),rt=ra(ke,"WeakMap"),lt=ra(Object,"create"),ft=Wo(ce),et=Wo(_e),Mt=Wo(Ie),tn=Wo(je),Ht=Wo(rt),en=fn?fn.prototype:void 0,Dn=en?en.valueOf:void 0;function Bn(z){var ae=-1,Le=z==null?0:z.length;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function qn(){this.__data__=lt?lt(null):{},this.size=0}function Er(z){var ae=this.has(z)&&delete this.__data__[z];return this.size-=ae?1:0,ae}function ur(z){var ae=this.__data__;if(lt){var Le=ae[z];return Le===r?void 0:Le}return Te.call(ae,z)?ae[z]:void 0}function Yr(z){var ae=this.__data__;return lt?ae[z]!==void 0:Te.call(ae,z)}function Br(z,ae){var Le=this.__data__;return this.size+=this.has(z)?0:1,Le[z]=lt&&ae===void 0?r:ae,this}Bn.prototype.clear=qn,Bn.prototype.delete=Er,Bn.prototype.get=ur,Bn.prototype.has=Yr,Bn.prototype.set=Br;function Fr(z){var ae=-1,Le=z==null?0:z.length;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function or(){this.__data__=[],this.size=0}function di(z){var ae=this.__data__,Le=wn(ae,z);if(Le<0)return!1;var gt=ae.length-1;return Le==gt?ae.pop():g.call(ae,Le,1),--this.size,!0}function Ri(z){var ae=this.__data__,Le=wn(ae,z);return Le<0?void 0:ae[Le][1]}function ro(z){return wn(this.__data__,z)>-1}function po(z,ae){var Le=this.__data__,gt=wn(Le,z);return gt<0?(++this.size,Le.push([z,ae])):Le[gt][1]=ae,this}Fr.prototype.clear=or,Fr.prototype.delete=di,Fr.prototype.get=Ri,Fr.prototype.has=ro,Fr.prototype.set=po;function si(z){var ae=-1,Le=z==null?0:z.length;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function mo(){this.size=0,this.__data__={hash:new Bn,map:new(_e||Fr),string:new Bn}}function Qa(z){var ae=na(this,z).delete(z);return this.size-=ae?1:0,ae}function Pa(z){return na(this,z).get(z)}function Ei(z){return na(this,z).has(z)}function ls(z,ae){var Le=na(this,z),gt=Le.size;return Le.set(z,ae),this.size+=Le.size==gt?0:1,this}si.prototype.clear=mo,si.prototype.delete=Qa,si.prototype.get=Pa,si.prototype.has=Ei,si.prototype.set=ls;function yi(z){var ae=-1,Le=z==null?0:z.length;for(this.__data__=new si;++ae<Le;)this.add(z[ae])}function Nn(z){return this.__data__.set(z,r),this}function oo(z){return this.__data__.has(z)}yi.prototype.add=yi.prototype.push=Nn,yi.prototype.has=oo;function bo(z){var ae=this.__data__=new Fr(z);this.size=ae.size}function zi(){this.__data__=new Fr,this.size=0}function ve(z){var ae=this.__data__,Le=ae.delete(z);return this.size=ae.size,Le}function Je(z){return this.__data__.get(z)}function Zt(z){return this.__data__.has(z)}function sn(z,ae){var Le=this.__data__;if(Le instanceof Fr){var gt=Le.__data__;if(!_e||gt.length<n-1)return gt.push([z,ae]),this.size=++Le.size,this;Le=this.__data__=new si(gt)}return Le.set(z,ae),this.size=Le.size,this}bo.prototype.clear=zi,bo.prototype.delete=ve,bo.prototype.get=Je,bo.prototype.has=Zt,bo.prototype.set=sn;function Ft(z,ae){var Le=As(z),gt=!Le&&ru(z),Gn=!Le&&!gt&&Qo(z),vn=!Le&&!gt&&!Gn&&dl(z),Kn=Le||gt||Gn||vn,Lr=Kn?ir(z.length,String):[],vr=Lr.length;for(var kr in z)(ae||Te.call(z,kr))&&!(Kn&&(kr=="length"||Gn&&(kr=="offset"||kr=="parent")||vn&&(kr=="buffer"||kr=="byteLength"||kr=="byteOffset")||bA(kr,vr)))&&Lr.push(kr);return Lr}function wn(z,ae){for(var Le=z.length;Le--;)if(Ss(z[Le][0],ae))return Le;return-1}function hr(z,ae,Le){var gt=ae(z);return As(z)?gt:zt(gt,Le(z))}function ii(z){return z==null?z===void 0?we:H:Kt&&Kt in Object(z)?Ms(z):Yu(z)}function li(z){return Aa(z)&&ii(z)==s}function ea(z,ae,Le,gt,Gn){return z===ae?!0:z==null||ae==null||!Aa(z)&&!Aa(ae)?z!==z&&ae!==ae:Fa(z,ae,Le,gt,ea,Gn)}function Fa(z,ae,Le,gt,Gn,vn){var Kn=As(z),Lr=As(ae),vr=Kn?h:ya(z),kr=Lr?h:ya(ae);vr=vr==s?G:vr,kr=kr==s?G:kr;var Ti=vr==G,go=kr==G,Oi=vr==kr;if(Oi&&Qo(z)){if(!Qo(ae))return!1;Kn=!0,Ti=!1}if(Oi&&!Ti)return vn||(vn=new bo),Kn||dl(z)?Ya(z,ae,Le,gt,Gn,vn):ta(z,ae,vr,Le,gt,Gn,vn);if(!(Le&i)){var Xr=Ti&&Te.call(z,"__wrapped__"),Zi=go&&Te.call(ae,"__wrapped__");if(Xr||Zi){var ko=Xr?z.value():z,Mo=Zi?ae.value():ae;return vn||(vn=new bo),Gn(ko,Mo,Le,gt,vn)}}return Oi?(vn||(vn=new bo),Su(z,ae,Le,gt,Gn,vn)):!1}function Dr(z){if(!iu(z)||xA(z))return!1;var ae=cl(z)?kt:Vt;return ae.test(Wo(z))}function $a(z){return Aa(z)&&Sl(z.length)&&!!vt[ii(z)]}function vi(z){if(!Ou(z))return Pe(z);var ae=[];for(var Le in Object(z))Te.call(z,Le)&&Le!="constructor"&&ae.push(Le);return ae}function Ya(z,ae,Le,gt,Gn,vn){var Kn=Le&i,Lr=z.length,vr=ae.length;if(Lr!=vr&&!(Kn&&vr>Lr))return!1;var kr=vn.get(z);if(kr&&vn.get(ae))return kr==ae;var Ti=-1,go=!0,Oi=Le&o?new yi:void 0;for(vn.set(z,ae),vn.set(ae,z);++Ti<Lr;){var Xr=z[Ti],Zi=ae[Ti];if(gt)var ko=Kn?gt(Zi,Xr,Ti,ae,z,vn):gt(Xr,Zi,Ti,z,ae,vn);if(ko!==void 0){if(ko)continue;go=!1;break}if(Oi){if(!pt(ae,function(Mo,qa){if(!yn(Oi,qa)&&(Xr===Mo||Gn(Xr,Mo,Le,gt,vn)))return Oi.push(qa)})){go=!1;break}}else if(!(Xr===Zi||Gn(Xr,Zi,Le,gt,vn))){go=!1;break}}return vn.delete(z),vn.delete(ae),go}function ta(z,ae,Le,gt,Gn,vn,Kn){switch(Le){case Ue:if(z.byteLength!=ae.byteLength||z.byteOffset!=ae.byteOffset)return!1;z=z.buffer,ae=ae.buffer;case De:return!(z.byteLength!=ae.byteLength||!vn(new Pn(z),new Pn(ae)));case C:case E:case ee:return Ss(+z,+ae);case O:return z.name==ae.name&&z.message==ae.message;case ye:case X:return z==ae+"";case $:var Lr=cr;case be:var vr=gt&i;if(Lr||(Lr=Gr),z.size!=ae.size&&!vr)return!1;var kr=Kn.get(z);if(kr)return kr==ae;gt|=o,Kn.set(z,ae);var Ti=Ya(Lr(z),Lr(ae),gt,Gn,vn,Kn);return Kn.delete(z),Ti;case se:if(Dn)return Dn.call(z)==Dn.call(ae)}return!1}function Su(z,ae,Le,gt,Gn,vn){var Kn=Le&i,Lr=us(z),vr=Lr.length,kr=us(ae),Ti=kr.length;if(vr!=Ti&&!Kn)return!1;for(var go=vr;go--;){var Oi=Lr[go];if(!(Kn?Oi in ae:Te.call(ae,Oi)))return!1}var Xr=vn.get(z);if(Xr&&vn.get(ae))return Xr==ae;var Zi=!0;vn.set(z,ae),vn.set(ae,z);for(var ko=Kn;++go<vr;){Oi=Lr[go];var Mo=z[Oi],qa=ae[Oi];if(gt)var Ll=Kn?gt(qa,Mo,Oi,ae,z,vn):gt(Mo,qa,Oi,z,ae,vn);if(!(Ll===void 0?Mo===qa||Gn(Mo,qa,Le,gt,vn):Ll)){Zi=!1;break}ko||(ko=Oi=="constructor")}if(Zi&&!ko){var ou=z.constructor,va=ae.constructor;ou!=va&&"constructor"in z&&"constructor"in ae&&!(typeof ou=="function"&&ou instanceof ou&&typeof va=="function"&&va instanceof va)&&(Zi=!1)}return vn.delete(z),vn.delete(ae),Zi}function us(z){return hr(z,wA,Eu)}function na(z,ae){var Le=z.__data__;return $u(ae)?Le[typeof ae=="string"?"string":"hash"]:Le.map}function ra(z,ae){var Le=er(z,ae);return Dr(Le)?Le:void 0}function Ms(z){var ae=Te.call(z,Kt),Le=z[Kt];try{z[Kt]=void 0;var gt=!0}catch{}var Gn=Bt.call(z);return gt&&(ae?z[Kt]=Le:delete z[Kt]),Gn}var Eu=Pr?function(z){return z==null?[]:(z=Object(z),Rt(Pr(z),function(ae){return On.call(z,ae)}))}:_o,ya=ii;(ce&&ya(new ce(new ArrayBuffer(1)))!=Ue||_e&&ya(new _e)!=$||Ie&&ya(Ie.resolve())!=Z||je&&ya(new je)!=be||rt&&ya(new rt)!=xe)&&(ya=function(z){var ae=ii(z),Le=ae==G?z.constructor:void 0,gt=Le?Wo(Le):"";if(gt)switch(gt){case ft:return Ue;case et:return $;case Mt:return Z;case tn:return be;case Ht:return xe}return ae});function bA(z,ae){return ae=ae??a,!!ae&&(typeof z=="number"||Yt.test(z))&&z>-1&&z%1==0&&z<ae}function $u(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function xA(z){return!!At&&At in z}function Ou(z){var ae=z&&z.constructor,Le=typeof ae=="function"&&ae.prototype||Ee;return z===Le}function Yu(z){return Bt.call(z)}function Wo(z){if(z!=null){try{return q.call(z)}catch{}try{return z+""}catch{}}return""}function Ss(z,ae){return z===ae||z!==z&&ae!==ae}var ru=li(function(){return arguments}())?li:function(z){return Aa(z)&&Te.call(z,"callee")&&!On.call(z,"callee")},As=Array.isArray;function Al(z){return z!=null&&Sl(z.length)&&!cl(z)}var Qo=nr||ao;function Bu(z,ae){return ea(z,ae)}function cl(z){if(!iu(z))return!1;var ae=ii(z);return ae==P||ae==D||ae==m||ae==ue}function Sl(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=a}function iu(z){var ae=typeof z;return z!=null&&(ae=="object"||ae=="function")}function Aa(z){return z!=null&&typeof z=="object"}var dl=St?gn(St):$a;function wA(z){return Al(z)?Ft(z):vi(z)}function _o(){return[]}function ao(){return!1}e.exports=Bu})(o4,o4.exports);var Ate=o4.exports,cte=Mz(Ate);function HE(e,t,n){const r={id:[t,n,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function VE(e,t,n,r){const i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function ZE(e,t,n){const r={id:[t,n,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}function dte(e,t){const n=[],r=[],i=[];function o(a){return{circle:t(a,.8),line:t(a,.6),polygon:t(a,.3),polygonOutline:t(a,.6),default:t(a,1)}}return Object.keys(e).forEach(a=>{const s=e[a];if(!s||s.length===0){const h=o(a);r.push(HE(h.circle,a)),i.push(ZE(h.line,a)),n.push(VE(h.polygon,h.polygonOutline,a))}else s.forEach(h=>{const m=o(h);r.push(HE(m.circle,a,h)),i.push(ZE(m.line,a,h)),n.push(VE(m.polygon,m.polygonOutline,a,h))})}),n.concat(i).concat(r)}function hte(e,t,n){n=Object.assign({backgroundColor:"#fff"},n);const r={id:"background",type:"background",paint:{"background-color":n.backgroundColor}},i={};return Object.keys(e.sources).forEach(o=>{const a=e.sources[o];(a.type==="vector"||a.type==="geojson")&&(i[o]=a)}),Object.assign(e,{layers:[r].concat(t),sources:i})}var xT={polygonLayer:VE,lineLayer:ZE,circleLayer:HE,generateInspectStyle:hte,generateColoredLayers:dte};class fte{constructor(t){t=Object.assign({show:!0,onToggle(){}},t),this._btn=this.createButton(),this._btn.onclick=t.onToggle,this.elem=this.createContainer(this._btn,t.show)}createButton(){const t=document.createElement("button");return t.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",t.type="button",t.setAttribute("aria-label","Inspect"),t}createContainer(t,n){const r=document.createElement("div");return r.className="maplibregl-ctrl maplibregl-ctrl-group",r.appendChild(t),n||(r.style.display="none"),r}setInspectIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"}setMapIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"}}function pte(e){return typeof e>"u"||e===null?e:e instanceof Date?e.toLocaleString():typeof e=="object"||typeof e=="number"||typeof e=="string"?e.toString():e}function wT(e,t){return`<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">${e}</div><div class="maplibregl-inspect_property-value">${pte(t)}</div></div>`}function mte(e){return`<div class="maplibregl-inspect_layer">${e}</div>`}function gte(e){const t=mte(e.layer["source-layer"]||e.layer.source),n=wT("$type",e.geometry.type),r=Object.keys(e.properties).map(i=>wT(i,e.properties[i]));return[t,n].concat(r).join("")}function yte(e){return e.map(t=>`<div class="maplibregl-inspect_feature">${gte(t)}</div>`).join("")}function vte(e){return`<div class="maplibregl-inspect_popup">${yte(e)}</div>`}var XE={exports:{}};(function(e,t){(function(n,r){{var i=r();e&&e.exports&&(t=e.exports=i),t.randomColor=i}})(qC,function(){var n=null,r={};H();var i=[],o=function(X){if(X=X||{},X.seed!==void 0&&X.seed!==null&&X.seed===parseInt(X.seed,10))n=X.seed;else if(typeof X.seed=="string")n=ye(X.seed);else{if(X.seed!==void 0&&X.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var se,we,xe;if(X.count!==null&&X.count!==void 0){for(var De=X.count,Ue=[],he=0;he<X.count;he++)i.push(!1);for(X.count=null;De>Ue.length;){var $e=o(X);n!==null&&(X.seed=n),Ue.push($e)}return X.count=De,Ue}return se=a(X),we=s(se,X),xe=h(se,we,X),m([se,we,xe],X)};function a(X){if(i.length>0){var se=be(X.hue),we=D(se),xe=(se[1]-se[0])/i.length,De=parseInt((we-se[0])/xe);i[De]===!0?De=(De+2)%i.length:i[De]=!0;var Ue=(se[0]+De*xe)%359,he=(se[0]+(De+1)*xe)%359;return se=[Ue,he],we=D(se),we<0&&(we=360+we),we}else{var se=E(X.hue);return we=D(se),we<0&&(we=360+we),we}}function s(X,se){if(se.hue==="monochrome")return 0;if(se.luminosity==="random")return D([0,100]);var we=O(X),xe=we[0],De=we[1];switch(se.luminosity){case"bright":xe=55;break;case"dark":xe=De-10;break;case"light":De=55;break}return D([xe,De])}function h(X,se,we){var xe=C(X,se),De=100;switch(we.luminosity){case"dark":De=xe+20;break;case"light":xe=(De+xe)/2;break;case"random":xe=0,De=100;break}return D([xe,De])}function m(X,se){switch(se.format){case"hsvArray":return X;case"hslArray":return ue(X);case"hsl":var we=ue(X);return"hsl("+we[0]+", "+we[1]+"%, "+we[2]+"%)";case"hsla":var xe=ue(X),he=se.alpha||Math.random();return"hsla("+xe[0]+", "+xe[1]+"%, "+xe[2]+"%, "+he+")";case"rgbArray":return G(X);case"rgb":var De=G(X);return"rgb("+De.join(", ")+")";case"rgba":var Ue=G(X),he=se.alpha||Math.random();return"rgba("+Ue.join(", ")+", "+he+")";default:return $(X)}}function C(X,se){for(var we=P(X).lowerBounds,xe=0;xe<we.length-1;xe++){var De=we[xe][0],Ue=we[xe][1],he=we[xe+1][0],$e=we[xe+1][1];if(se>=De&&se<=he){var ge=($e-Ue)/(he-De),yt=Ue-ge*De;return ge*se+yt}}return 0}function E(X){if(typeof parseInt(X)=="number"){var se=parseInt(X);if(se<360&&se>0)return[se,se]}if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return[xe,xe]}}return[0,360]}function O(X){return P(X).saturationRange}function P(X){X>=334&&X<=360&&(X-=360);for(var se in r){var we=r[se];if(we.hueRange&&X>=we.hueRange[0]&&X<=we.hueRange[1])return r[se]}return"Color not found"}function D(X){if(n===null){var se=.618033988749895,we=Math.random();return we+=se,we%=1,Math.floor(X[0]+we*(X[1]+1-X[0]))}else{var xe=X[1]||1,De=X[0]||0;n=(n*9301+49297)%233280;var Ue=n/233280;return Math.floor(De+Ue*(xe-De))}}function $(X){var se=G(X);function we(De){var Ue=De.toString(16);return Ue.length==1?"0"+Ue:Ue}var xe="#"+we(se[0])+we(se[1])+we(se[2]);return xe}function ee(X,se,we){var xe=we[0][0],De=we[we.length-1][0],Ue=we[we.length-1][1],he=we[0][1];r[X]={hueRange:se,lowerBounds:we,saturationRange:[xe,De],brightnessRange:[Ue,he]}}function H(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function G(X){var se=X[0];se===0&&(se=1),se===360&&(se=359),se=se/360;var we=X[1]/100,xe=X[2]/100,De=Math.floor(se*6),Ue=se*6-De,he=xe*(1-we),$e=xe*(1-Ue*we),ge=xe*(1-(1-Ue)*we),yt=256,wt=256,st=256;switch(De){case 0:yt=xe,wt=ge,st=he;break;case 1:yt=$e,wt=xe,st=he;break;case 2:yt=he,wt=xe,st=ge;break;case 3:yt=he,wt=$e,st=xe;break;case 4:yt=ge,wt=he,st=xe;break;case 5:yt=xe,wt=he,st=$e;break}var mt=[Math.floor(yt*255),Math.floor(wt*255),Math.floor(st*255)];return mt}function Z(X){X=X.replace(/^#/,""),X=X.length===3?X.replace(/(.)/g,"$1$1"):X;var se=parseInt(X.substr(0,2),16)/255,we=parseInt(X.substr(2,2),16)/255,xe=parseInt(X.substr(4,2),16)/255,De=Math.max(se,we,xe),Ue=De-Math.min(se,we,xe),he=De?Ue/De:0;switch(De){case se:return[60*((we-xe)/Ue%6)||0,he,De];case we:return[60*((xe-se)/Ue+2)||0,he,De];case xe:return[60*((se-we)/Ue+4)||0,he,De]}}function ue(X){var se=X[0],we=X[1]/100,xe=X[2]/100,De=(2-we)*xe;return[se,Math.round(we*xe/(De<1?De:2-De)*1e4)/100,De/2*100]}function ye(X){for(var se=0,we=0;we!==X.length&&!(se>=Number.MAX_SAFE_INTEGER);we++)se+=X.charCodeAt(we);return se}function be(X){if(isNaN(X)){if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return P(xe).hueRange}}}else{var se=parseInt(X);if(se<360&&se>0)return P(X).hueRange}return[0,360]}return o})})(XE,XE.exports);var Cte=XE.exports,_te=Mz(Cte);function bte(e,t){let n="bright",r;return/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport|streets/.test(e)&&(r="orange"),/contour|building|earth/.test(e)&&(r="monochrome"),/building/.test(e)&&(n="dark"),/earth/.test(e)&&(n="light"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(e)&&(r="green"),`rgba(${_te({luminosity:n,hue:r,seed:e,format:"rgbArray"}).join(", ")}, ${t||"1"})`}var xte={brightColor:bte};function wte(e){return e.metadata&&e.metadata["maplibregl-inspect:inspect"]}function Mte(e){return Object.assign(e,{metadata:Object.assign({},e.metadata,{"maplibregl-inspect:inspect":!0})})}class i7{constructor(t){if(this._onSourceChange=r=>{if(r.sourceDataType==="visibility"||!r.isSourceLoaded)return;const i=Object.assign({},this.sources);this._setSourcesFromMap(),!cte(i,this.sources)&&Object.keys(this.sources).length>0&&setTimeout(()=>this.render(),1e3)},this._onStyleChange=()=>{const r=this._map.getStyle();wte(r)||(this._originalStyle=r)},this._onRightClick=()=>{!this.options.showMapPopupOnHover&&!this.options.showInspectMapPopupOnHover&&!this.options.blockHoverPopupOnClick&&this._popup&&this._popup.remove()},this._onMousemove=r=>{if(this._showInspectMap){if(!this.options.showInspectMapPopup||r.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;r.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||r.type==="mousemove"&&!this.options.showMapPopupOnHover)return;r.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup){let i;this.options.selectThreshold===0?i=r.point:i=[[r.point.x-this.options.selectThreshold,r.point.y+this.options.selectThreshold],[r.point.x+this.options.selectThreshold,r.point.y-this.options.selectThreshold]];const o=this._map.queryRenderedFeatures(i,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=o.length?"pointer":"",!o.length)this._popup.remove();else{this._popup.setLngLat(r.lngLat);const a=this.options.renderPopup(o);typeof a=="string"?this._popup.setHTML(a):this._popup.setDOMContent(a),this._popup.addTo(this._map)}}},!(this instanceof i7))throw new Error("MaplibreInspect needs to be called with the new keyword");let n=null;window.maplibregl?n=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):t.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:xte.brightColor,buildInspectStyle:xT.generateInspectStyle,renderPopup:vte,popup:n,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{},toggleCallback(){},manageStyleOutside:!1},t),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._toggle=new fte({show:this.options.showInspectButton,onToggle:()=>this.toggleInspector()})}toggleInspector(){this._showInspectMap=!this._showInspectMap,this._popupBlocked=!1,this.options.toggleCallback(this._showInspectMap),this.render()}_inspectStyle(){const t=xT.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),t,{backgroundColor:this.options.backgroundColor})}render(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(Mte(this._inspectStyle())),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())}_setSourcesFromMap(){const t=Object.keys(this._map.getStyle().sources);Object.keys(this._map.style.sourceCaches).forEach(n=>{const r=this._map.style.sourceCaches[n]||{_source:{}},i=r._source.vectorLayerIds;i?this.sources[n]=i:r._source.type==="geojson"&&(this.sources[n]=[])}),Object.keys(this.sources).forEach(n=>{t.indexOf(n)===-1&&delete this.sources[n]})}setOriginalStyle(t){this._originalStyle=t,this._setSourcesFromMap()}onAdd(t){return this._map=t,Object.keys(this.sources).length===0&&(t.on("tiledata",this._onSourceChange),t.on("sourcedata",this._onSourceChange)),t.on("styledata",this._onStyleChange),t.on("load",this._onStyleChange),t.on("mousemove",this._onMousemove),t.on("click",this._onMousemove),t.on("contextmenu",this._onRightClick),this._toggle.elem}onRemove(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove),this._map.off("contextmenu",this._onRightClick);const t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0}}var JE={exports:{}};(function(e,t){(function(n,r){{var i=r();e&&e.exports&&(t=e.exports=i),t.randomColor=i}})(Rh,function(){var n=null,r={};H();var i=[],o=function(X){if(X=X||{},X.seed!==void 0&&X.seed!==null&&X.seed===parseInt(X.seed,10))n=X.seed;else if(typeof X.seed=="string")n=ye(X.seed);else{if(X.seed!==void 0&&X.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var se,we,xe;if(X.count!==null&&X.count!==void 0){for(var De=X.count,Ue=[],he=0;he<X.count;he++)i.push(!1);for(X.count=null;De>Ue.length;){var $e=o(X);n!==null&&(X.seed=n),Ue.push($e)}return X.count=De,Ue}return se=a(X),we=s(se,X),xe=h(se,we,X),m([se,we,xe],X)};function a(X){if(i.length>0){var se=be(X.hue),we=D(se),xe=(se[1]-se[0])/i.length,De=parseInt((we-se[0])/xe);i[De]===!0?De=(De+2)%i.length:i[De]=!0;var Ue=(se[0]+De*xe)%359,he=(se[0]+(De+1)*xe)%359;return se=[Ue,he],we=D(se),we<0&&(we=360+we),we}else{var se=E(X.hue);return we=D(se),we<0&&(we=360+we),we}}function s(X,se){if(se.hue==="monochrome")return 0;if(se.luminosity==="random")return D([0,100]);var we=O(X),xe=we[0],De=we[1];switch(se.luminosity){case"bright":xe=55;break;case"dark":xe=De-10;break;case"light":De=55;break}return D([xe,De])}function h(X,se,we){var xe=C(X,se),De=100;switch(we.luminosity){case"dark":De=xe+20;break;case"light":xe=(De+xe)/2;break;case"random":xe=0,De=100;break}return D([xe,De])}function m(X,se){switch(se.format){case"hsvArray":return X;case"hslArray":return ue(X);case"hsl":var we=ue(X);return"hsl("+we[0]+", "+we[1]+"%, "+we[2]+"%)";case"hsla":var xe=ue(X),he=se.alpha||Math.random();return"hsla("+xe[0]+", "+xe[1]+"%, "+xe[2]+"%, "+he+")";case"rgbArray":return G(X);case"rgb":var De=G(X);return"rgb("+De.join(", ")+")";case"rgba":var Ue=G(X),he=se.alpha||Math.random();return"rgba("+Ue.join(", ")+", "+he+")";default:return $(X)}}function C(X,se){for(var we=P(X).lowerBounds,xe=0;xe<we.length-1;xe++){var De=we[xe][0],Ue=we[xe][1],he=we[xe+1][0],$e=we[xe+1][1];if(se>=De&&se<=he){var ge=($e-Ue)/(he-De),yt=Ue-ge*De;return ge*se+yt}}return 0}function E(X){if(typeof parseInt(X)=="number"){var se=parseInt(X);if(se<360&&se>0)return[se,se]}if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return[xe,xe]}}return[0,360]}function O(X){return P(X).saturationRange}function P(X){X>=334&&X<=360&&(X-=360);for(var se in r){var we=r[se];if(we.hueRange&&X>=we.hueRange[0]&&X<=we.hueRange[1])return r[se]}return"Color not found"}function D(X){if(n===null){var se=.618033988749895,we=Math.random();return we+=se,we%=1,Math.floor(X[0]+we*(X[1]+1-X[0]))}else{var xe=X[1]||1,De=X[0]||0;n=(n*9301+49297)%233280;var Ue=n/233280;return Math.floor(De+Ue*(xe-De))}}function $(X){var se=G(X);function we(De){var Ue=De.toString(16);return Ue.length==1?"0"+Ue:Ue}var xe="#"+we(se[0])+we(se[1])+we(se[2]);return xe}function ee(X,se,we){var xe=we[0][0],De=we[we.length-1][0],Ue=we[we.length-1][1],he=we[0][1];r[X]={hueRange:se,lowerBounds:we,saturationRange:[xe,De],brightnessRange:[Ue,he]}}function H(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function G(X){var se=X[0];se===0&&(se=1),se===360&&(se=359),se=se/360;var we=X[1]/100,xe=X[2]/100,De=Math.floor(se*6),Ue=se*6-De,he=xe*(1-we),$e=xe*(1-Ue*we),ge=xe*(1-(1-Ue)*we),yt=256,wt=256,st=256;switch(De){case 0:yt=xe,wt=ge,st=he;break;case 1:yt=$e,wt=xe,st=he;break;case 2:yt=he,wt=xe,st=ge;break;case 3:yt=he,wt=$e,st=xe;break;case 4:yt=ge,wt=he,st=xe;break;case 5:yt=xe,wt=he,st=$e;break}var mt=[Math.floor(yt*255),Math.floor(wt*255),Math.floor(st*255)];return mt}function Z(X){X=X.replace(/^#/,""),X=X.length===3?X.replace(/(.)/g,"$1$1"):X;var se=parseInt(X.substr(0,2),16)/255,we=parseInt(X.substr(2,2),16)/255,xe=parseInt(X.substr(4,2),16)/255,De=Math.max(se,we,xe),Ue=De-Math.min(se,we,xe),he=De?Ue/De:0;switch(De){case se:return[60*((we-xe)/Ue%6)||0,he,De];case we:return[60*((xe-se)/Ue+2)||0,he,De];case xe:return[60*((se-we)/Ue+4)||0,he,De]}}function ue(X){var se=X[0],we=X[1]/100,xe=X[2]/100,De=(2-we)*xe;return[se,Math.round(we*xe/(De<1?De:2-De)*1e4)/100,De/2*100]}function ye(X){for(var se=0,we=0;we!==X.length&&!(se>=Number.MAX_SAFE_INTEGER);we++)se+=X.charCodeAt(we);return se}function be(X){if(isNaN(X)){if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return P(xe).hueRange}}}else{var se=parseInt(X);if(se<360&&se>0)return P(X).hueRange}return[0,360]}return o})})(JE,JE.exports);var Ste=JE.exports;const Ete=Ka(Ste);function Ote(e,t){let n="bright",r;return/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport|streets/.test(e)&&(r="orange"),/contour|building|earth/.test(e)&&(r="monochrome"),/building/.test(e)&&(n="dark"),/earth/.test(e)&&(n="light"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(e)&&(r="green"),`rgba(${Ete({luminosity:n,hue:r,seed:e,format:"rgbArray"}).join(", ")}, ${t||"1"})`}const Sz={brightColor:Ote};var Ez={exports:{}},Bte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ite=Bte,kte=Ite;function Oz(){}function Bz(){}Bz.resetWarningCache=Oz;var Tte=function(){function e(r,i,o,a,s,h){if(h!==kte){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Bz,resetWarningCache:Oz};return n.PropTypes=n,n};Ez.exports=Tte();var zh=Ez.exports;const Rr=Ka(zh);var MT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Kte(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var m0=function(t,n){var r=t.children,i=t.color,o=t.size,a=t.style,s=t.width,h=t.height,m=Kte(t,["children","color","size","style","width","height"]),C=n.reactIconBase,E=C===void 0?{}:C,O=o||E.size||"1em";return Mn.createElement("svg",MT({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:h||O,width:s||O},E,m,{style:MT({verticalAlign:"middle",color:i||E.color},E.style||{},a)}))};m0.propTypes={color:Rr.string,size:Rr.oneOfType([Rr.string,Rr.number]),width:Rr.oneOfType([Rr.string,Rr.number]),height:Rr.oneOfType([Rr.string,Rr.number]),style:Rr.object};m0.contextTypes={reactIconBase:Rr.shape(m0.propTypes)};function a4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconLine.tsx",t="63f5509cc5adecf73c1afac328da1270e710185c",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"63f5509cc5adecf73c1afac328da1270e710185c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return a4=function(){return a},a}a4();class Pte extends Mn.Component{render(){return a4().f[0]++,a4().s[0]++,W.jsx(m0,{viewBox:"0 0 20 20",...this.props,children:W.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function s4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconFill.tsx",t="ad1f999ec1a68cd55970dec163d0cadcf7149529",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ad1f999ec1a68cd55970dec163d0cadcf7149529"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return s4=function(){return a},a}s4();class yx extends Mn.Component{render(){return s4().f[0]++,s4().s[0]++,W.jsx(m0,{viewBox:"0 0 20 20",...this.props,children:W.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function l4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconSymbol.tsx",t="f80889e7e3ce2345d5ef0643cd0b15187a2b5ffc",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f80889e7e3ce2345d5ef0643cd0b15187a2b5ffc"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return l4=function(){return a},a}l4();class Dte extends Mn.Component{render(){return l4().f[0]++,l4().s[0]++,W.jsx(m0,{viewBox:"0 0 20 20",...this.props,children:W.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:W.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function u4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconBackground.tsx",t="be3365370a3d252abbdd0725eb0b355c97acdaeb",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"be3365370a3d252abbdd0725eb0b355c97acdaeb"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return u4=function(){return a},a}u4();class ST extends Mn.Component{render(){return u4().f[0]++,u4().s[0]++,W.jsx(m0,{viewBox:"0 0 20 20",...this.props,children:W.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function A4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconCircle.tsx",t="d2d5f955ec4e0015193fe4497de63306c5f820f7",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d2d5f955ec4e0015193fe4497de63306c5f820f7"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return A4=function(){return a},a}A4();class Ute extends Mn.Component{render(){return A4().f[0]++,A4().s[0]++,W.jsx(m0,{viewBox:"0 0 20 20",...this.props,children:W.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function Iv(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function Fte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(e)}function Lte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(e)}function Rte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function zte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function jte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(e)}function Nte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(e)}function Gte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(e)}function Iz(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function Wte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(e)}function Qte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(e)}function $te(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"},child:[]}]})(e)}function Yte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(e)}function ET(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"},child:[]}]})(e)}function qte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(e)}function Hte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}function Vte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 14 5-5 5 5z"},child:[]}]})(e)}function Zte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function Xte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function Jte(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(e)}function ene(e){return Ml({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"},child:[]}]})(e)}function c4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconMissing.tsx",t="3ea98f492282ce380c9eed1bba5dd8ef1c7c3d17",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3ea98f492282ce380c9eed1bba5dd8ef1c7c3d17"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return c4=function(){return a},a}c4();class tne extends Mn.Component{render(){return c4().f[0]++,c4().s[0]++,W.jsx(Jte,{...this.props})}}function vs(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconLayer.tsx",t="ddfcfaa9ba1f34747a565ac6a090dda85818e6da",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ddfcfaa9ba1f34747a565ac6a090dda85818e6da"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return vs=function(){return a},a}vs();class kz extends Mn.Component{render(){vs().f[0]++;const t=(vs().s[0]++,{style:this.props.style});switch(vs().s[1]++,this.props.type){case"fill-extrusion":return vs().b[0][0]++,vs().s[2]++,W.jsx(ST,{...t});case"raster":return vs().b[0][1]++,vs().s[3]++,W.jsx(yx,{...t});case"hillshade":return vs().b[0][2]++,vs().s[4]++,W.jsx(yx,{...t});case"heatmap":return vs().b[0][3]++,vs().s[5]++,W.jsx(yx,{...t});case"fill":return vs().b[0][4]++,vs().s[6]++,W.jsx(yx,{...t});case"background":return vs().b[0][5]++,vs().s[7]++,W.jsx(ST,{...t});case"line":return vs().b[0][6]++,vs().s[8]++,W.jsx(Pte,{...t});case"symbol":return vs().b[0][7]++,vs().s[9]++,W.jsx(Dte,{...t});case"circle":return vs().b[0][8]++,vs().s[10]++,W.jsx(Ute,{...t});default:return vs().b[0][9]++,vs().s[11]++,W.jsx(tne,{...t})}}}function wr(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",t="f3ca112876b8c65090e029f1f798a924d72c1868",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:18,column:5}},3:{start:{line:8,column:22},end:{line:8,column:51}},4:{start:{line:9,column:4},end:{line:17,column:5}},5:{start:{line:10,column:6},end:{line:10,column:43}},6:{start:{line:11,column:28},end:{line:11,column:91}},7:{start:{line:11,column:59},end:{line:11,column:90}},8:{start:{line:12,column:6},end:{line:12,column:65}},9:{start:{line:14,column:6},end:{line:14,column:52}},10:{start:{line:15,column:6},end:{line:15,column:39}},11:{start:{line:16,column:6},end:{line:16,column:45}},12:{start:{line:19,column:2},end:{line:19,column:17}},13:{start:{line:23,column:4},end:{line:25,column:5}},14:{start:{line:24,column:6},end:{line:24,column:13}},15:{start:{line:26,column:4},end:{line:44,column:5}},16:{start:{line:27,column:25},end:{line:27,column:44}},17:{start:{line:28,column:6},end:{line:30,column:7}},18:{start:{line:29,column:8},end:{line:29,column:48}},19:{start:{line:31,column:6},end:{line:33,column:7}},20:{start:{line:32,column:8},end:{line:32,column:48}},21:{start:{line:34,column:6},end:{line:36,column:7}},22:{start:{line:35,column:8},end:{line:35,column:48}},23:{start:{line:37,column:6},end:{line:39,column:7}},24:{start:{line:38,column:8},end:{line:38,column:58}},25:{start:{line:40,column:6},end:{line:40,column:21}},26:{start:{line:42,column:6},end:{line:42,column:63}},27:{start:{line:43,column:6},end:{line:43,column:21}},28:{start:{line:47,column:20},end:{line:47,column:67}},29:{start:{line:48,column:18},end:{line:93,column:6}},30:{start:{line:49,column:21},end:{line:88,column:8}},31:{start:{line:50,column:29},end:{line:50,column:76}},32:{start:{line:51,column:8},end:{line:87,column:10}},33:{start:{line:68,column:20},end:{line:68,column:63}},34:{start:{line:89,column:6},end:{line:92,column:26}},35:{start:{line:94,column:4},end:{line:94,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:20,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:18,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:52},end:{line:11,column:53}},loc:{start:{line:11,column:59},end:{line:11,column:90}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:35},end:{line:45,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:11},end:{line:95,column:3}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:43},end:{line:48,column:44}},loc:{start:{line:48,column:62},end:{line:93,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:66},end:{line:88,column:7}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:69,column:19}},line:67}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:17,column:5}},{start:{line:13,column:11},end:{line:17,column:5}}],line:9},1:{loc:{start:{line:14,column:27},end:{line:14,column:51}},type:"binary-expr",locations:[{start:{line:14,column:27},end:{line:14,column:45}},{start:{line:14,column:49},end:{line:14,column:51}}],line:14},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:28,column:6},end:{line:30,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:30,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:64}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:36}},{start:{line:28,column:40},end:{line:28,column:64}}],line:28},5:{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},6:{loc:{start:{line:31,column:10},end:{line:31,column:64}},type:"binary-expr",locations:[{start:{line:31,column:10},end:{line:31,column:36}},{start:{line:31,column:40},end:{line:31,column:64}}],line:31},7:{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:34,column:10},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:10},end:{line:34,column:36}},{start:{line:34,column:40},end:{line:34,column:64}}],line:34},9:{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},10:{loc:{start:{line:37,column:10},end:{line:37,column:84}},type:"binary-expr",locations:[{start:{line:37,column:10},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:84}}],line:37},11:{loc:{start:{line:71,column:20},end:{line:75,column:24}},type:"binary-expr",locations:[{start:{line:71,column:20},end:{line:71,column:38}},{start:{line:71,column:58},end:{line:75,column:24}}],line:71},12:{loc:{start:{line:77,column:20},end:{line:80,column:24}},type:"binary-expr",locations:[{start:{line:77,column:20},end:{line:77,column:35}},{start:{line:77,column:55},end:{line:80,column:24}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AA8EU,cAkBsB,YAlBtB;AA9EV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,UAAM,YAAY,QAAQ,MAAM,cAAc;AAC9C,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,SAAS,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAEpG,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,SAAS,IAAI,QAAQ,SAAS,KAAK,CAAC;AAC5C,cAAQ,SAAS,EAAE,KAAK,OAAO;AAE/B,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AAEjC,UAAG,gBAAgB,cAAc,WAAW,YAAY,GAAG;AACzD,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,0BAA0B,cAAc,WAAW,sBAAsB,GAAG;AAC9E,eAAO,OAAO,WAAW,sBAAsB,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,IACT,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3ca112876b8c65090e029f1f798a924d72c1868"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wr=function(){return a},a}wr();function nne(e){wr().f[0]++;const t=(wr().s[0]++,{}),n=(wr().s[1]++,{});return wr().s[2]++,e.forEach(r=>{wr().f[1]++;const i=(wr().s[3]++,r.layer["source-layer"]);if(wr().s[4]++,Object.prototype.hasOwnProperty.call(n,r.layer.id)){wr().b[0][0]++,wr().s[5]++,n[r.layer.id]++;const o=(wr().s[6]++,t[i].find(a=>(wr().f[2]++,wr().s[7]++,a.layer.id===r.layer.id)));wr().s[8]++,o.counter=n[r.layer.id]}else wr().b[0][1]++,wr().s[9]++,t[i]=(wr().b[1][0]++,t[i]||(wr().b[1][1]++,[])),wr().s[10]++,t[i].push(r),wr().s[11]++,n[r.layer.id]=1}),wr().s[12]++,t}class Tz extends Mn.Component{_getFeatureColor(t,n){if(wr().f[3]++,wr().s[13]++,t.layer.paint)wr().b[2][1]++;else{wr().b[2][0]++,wr().s[14]++;return}wr().s[15]++;try{const r=(wr().s[16]++,t.layer.paint);return wr().s[17]++,wr().b[4][0]++,"text-color"in r&&(wr().b[4][1]++,r["text-color"])?(wr().b[3][0]++,wr().s[18]++,String(r["text-color"])):(wr().b[3][1]++,wr().s[19]++,wr().b[6][0]++,"fill-color"in r&&(wr().b[6][1]++,r["fill-color"])?(wr().b[5][0]++,wr().s[20]++,String(r["fill-color"])):(wr().b[5][1]++,wr().s[21]++,wr().b[8][0]++,"line-color"in r&&(wr().b[8][1]++,r["line-color"])?(wr().b[7][0]++,wr().s[22]++,String(r["line-color"])):(wr().b[7][1]++,wr().s[23]++,wr().b[10][0]++,"fill-extrusion-color"in r&&(wr().b[10][1]++,r["fill-extrusion-color"])?(wr().b[9][0]++,wr().s[24]++,String(r["fill-extrusion-color"])):(wr().b[9][1]++,wr().s[25]++,"black"))))}catch(r){return wr().s[26]++,console.warn("Unable to get feature color, error:",r),wr().s[27]++,"black"}}render(){wr().f[4]++;const t=(wr().s[28]++,nne(this.props.features)),n=(wr().s[29]++,Object.keys(t).map(r=>{wr().f[5]++;const i=(wr().s[30]++,t[r].map((o,a)=>{wr().f[6]++;const s=(wr().s[31]++,this._getFeatureColor(o,this.props.zoom));return wr().s[32]++,W.jsxs("div",{className:"maputnik-popup-layer",children:[W.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:s}}),W.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{wr().f[7]++,wr().s[33]++,this.props.onLayerSelect(o.layer.id)},children:[(wr().b[11][0]++,o.layer.type&&(wr().b[11][1]++,W.jsx(kz,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(wr().b[12][0]++,o.counter&&(wr().b[12][1]++,W.jsxs("span",{children:["  ",o.counter]})))]})]},a)}));return wr().s[34]++,W.jsxs("div",{children:[W.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return wr().s[35]++,W.jsx("div",{className:"maputnik-feature-layer-popup",children:n})}}function gi(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",t="e0e64d54c03e03c98d4186f46f1d582c7fa5552c",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:5,column:17}},1:{start:{line:5,column:4},end:{line:5,column:17}},2:{start:{line:6,column:2},end:{line:7,column:34}},3:{start:{line:7,column:4},end:{line:7,column:34}},4:{start:{line:8,column:2},end:{line:9,column:28}},5:{start:{line:9,column:4},end:{line:9,column:28}},6:{start:{line:10,column:2},end:{line:10,column:15}},7:{start:{line:13,column:2},end:{line:16,column:12}},8:{start:{line:19,column:2},end:{line:35,column:12}},9:{start:{line:32,column:23},end:{line:32,column:55}},10:{start:{line:33,column:6},end:{line:33,column:74}},11:{start:{line:38,column:25},end:{line:38,column:27}},12:{start:{line:39,column:2},end:{line:52,column:5}},13:{start:{line:40,column:25},end:{line:42,column:6}},14:{start:{line:41,column:6},end:{line:41,column:156}},15:{start:{line:43,column:4},end:{line:51,column:5}},16:{start:{line:44,column:6},end:{line:44,column:35}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:58}},19:{start:{line:49,column:8},end:{line:49,column:60}},20:{start:{line:53,column:2},end:{line:53,column:24}},21:{start:{line:57,column:21},end:{line:57,column:66}},22:{start:{line:58,column:4},end:{line:58,column:250}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:11,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:44},end:{line:17,column:1}},line:12},2:{name:"renderFeature",decl:{start:{line:18,column:9},end:{line:18,column:22}},loc:{start:{line:18,column:37},end:{line:36,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:31,column:40},end:{line:31,column:41}},loc:{start:{line:31,column:58},end:{line:34,column:5}},line:31},4:{name:"removeDuplicatedFeatures",decl:{start:{line:37,column:9},end:{line:37,column:33}},loc:{start:{line:37,column:44},end:{line:54,column:1}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:39,column:19},end:{line:39,column:20}},loc:{start:{line:39,column:32},end:{line:52,column:3}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:40,column:50},end:{line:40,column:51}},loc:{start:{line:40,column:64},end:{line:42,column:5}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:11},end:{line:59,column:3}},line:56}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:5,column:17}},type:"if",locations:[{start:{line:4,column:2},end:{line:5,column:17}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:6,column:2},end:{line:7,column:34}},type:"if",locations:[{start:{line:6,column:2},end:{line:7,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},3:{loc:{start:{line:8,column:2},end:{line:9,column:28}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:28}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},4:{loc:{start:{line:8,column:6},end:{line:8,column:89}},type:"binary-expr",locations:[{start:{line:8,column:6},end:{line:8,column:31}},{start:{line:8,column:35},end:{line:8,column:60}},{start:{line:8,column:64},end:{line:8,column:89}}],line:8},5:{loc:{start:{line:24,column:6},end:{line:27,column:10}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:32}},{start:{line:24,column:52},end:{line:27,column:10}}],line:24},6:{loc:{start:{line:41,column:13},end:{line:41,column:155}},type:"binary-expr",locations:[{start:{line:41,column:13},end:{line:41,column:77}},{start:{line:41,column:81},end:{line:41,column:155}}],line:41},7:{loc:{start:{line:43,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:51,column:5}},{start:{line:45,column:11},end:{line:51,column:5}}],line:43},8:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAkBS,SACL,KADK;AAlBT,OAAO,WAAW;AAQlB,SAAS,aAAa,OAAoD;AACxE,MAAI,OAAO,UAAU,eAAe,UAAU;AAAM,WAAO;AAC3D,MAAI,iBAAiB;AAAM,WAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU;AAAU,WAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAA2B;AACtE,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,MAAM,UAAN,EACN;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,GAC5L;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,cAAc,aAAa,QAAQ,EAAE,CAAC;AAAA,IAC7D,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,OATyB,GAU5B;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACpB,8BAAC,WAAM,WAAU,wBACf,8BAAC,WACE,mBAAS,IAAI,aAAa,GAC7B,GACF,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e0e64d54c03e03c98d4186f46f1d582c7fa5552c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return gi=function(){return a},a}gi();function OT(e){return gi().f[0]++,gi().s[0]++,gi().b[1][0]++,typeof e>"u"||(gi().b[1][1]++,e===null)?(gi().b[0][0]++,gi().s[1]++,e):(gi().b[0][1]++,gi().s[2]++,e instanceof Date?(gi().b[2][0]++,gi().s[3]++,e.toLocaleString()):(gi().b[2][1]++,gi().s[4]++,gi().b[4][0]++,typeof e=="object"||(gi().b[4][1]++,typeof e=="number")||(gi().b[4][2]++,typeof e=="string")?(gi().b[3][0]++,gi().s[5]++,e.toString()):(gi().b[3][1]++,gi().s[6]++,e)))}function _S(e,t){return gi().f[1]++,gi().s[7]++,W.jsxs("tr",{children:[W.jsx("td",{className:"maputnik-popup-table-cell",children:e}),W.jsx("td",{className:"maputnik-popup-table-cell",children:t})]},e)}function rne(e,t){return gi().f[2]++,gi().s[8]++,W.jsxs(Mn.Fragment,{children:[W.jsx("tr",{children:W.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[e.layer.source,": ",e.layer["source-layer"],(gi().b[5][0]++,e.inspectModeCounter&&(gi().b[5][1]++,W.jsxs("span",{children:["  ",e.inspectModeCounter]})))]})}),_S("$type",e.geometry.type),_S("Feature ID",OT(e.id)),Object.keys(e.properties).map(n=>{gi().f[3]++;const r=(gi().s[9]++,e.properties[n]);return gi().s[10]++,_S(n,OT(r))})]},t)}function ine(e){gi().f[4]++;const t=(gi().s[11]++,[]);return gi().s[12]++,e.forEach(n=>{gi().f[5]++;const r=(gi().s[13]++,t.findIndex(i=>(gi().f[6]++,gi().s[14]++,gi().b[6][0]++,n.layer["source-layer"]===i.layer["source-layer"]&&(gi().b[6][1]++,JSON.stringify(n.properties)===JSON.stringify(i.properties)))));gi().s[15]++,r===-1?(gi().b[7][0]++,gi().s[16]++,t.push(n)):(gi().b[7][1]++,gi().s[17]++,"inspectModeCounter"in t[r]?(gi().b[8][0]++,gi().s[18]++,t[r].inspectModeCounter++):(gi().b[8][1]++,gi().s[19]++,t[r].inspectModeCounter=2))}),gi().s[20]++,t}class one extends Mn.Component{render(){gi().f[7]++;const t=(gi().s[21]++,ine(this.props.features));return gi().s[22]++,W.jsx("div",{className:"maputnik-feature-property-popup",children:W.jsx("table",{className:"maputnik-popup-table",children:W.jsx("tbody",{children:t.map(rne)})})})}}var Kz={exports:{}},Pz={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Dz={exports:{}},ane=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},sne=ane,lne=Array.prototype.concat,une=Array.prototype.slice,BT=Dz.exports=function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];sne(o)?n=lne.call(n,une.call(o)):n.push(o)}return n};BT.wrap=function(e){return function(){return e(BT(arguments))}};var Ane=Dz.exports,m_=Pz,Pb=Ane,Uz=Object.hasOwnProperty,Fz=Object.create(null);for(var bS in m_)Uz.call(m_,bS)&&(Fz[m_[bS]]=bS);var nd=Kz.exports={to:{},get:{}};nd.get=function(e){var t=e.substring(0,3).toLowerCase(),n,r;switch(t){case"hsl":n=nd.get.hsl(e),r="hsl";break;case"hwb":n=nd.get.hwb(e),r="hwb";break;default:n=nd.get.rgb(e),r="rgb";break}return n?{model:r,value:n}:null};nd.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,a=[0,0,0,1],s,h,m;if(s=e.match(n)){for(m=s[2],s=s[1],h=0;h<3;h++){var C=h*2;a[h]=parseInt(s.slice(C,C+2),16)}m&&(a[3]=parseInt(m,16)/255)}else if(s=e.match(t)){for(s=s[1],m=s[3],h=0;h<3;h++)a[h]=parseInt(s[h]+s[h],16);m&&(a[3]=parseInt(m+m,16)/255)}else if(s=e.match(r)){for(h=0;h<3;h++)a[h]=parseInt(s[h+1],0);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else if(s=e.match(i)){for(h=0;h<3;h++)a[h]=Math.round(parseFloat(s[h+1])*2.55);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else return(s=e.match(o))?s[1]==="transparent"?[0,0,0,0]:Uz.call(m_,s[1])?(a=m_[s[1]],a[3]=1,a):null:null;for(h=0;h<3;h++)a[h]=u0(a[h],0,255);return a[3]=u0(a[3],0,1),a};nd.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=u0(parseFloat(n[2]),0,100),a=u0(parseFloat(n[3]),0,100),s=u0(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null};nd.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=u0(parseFloat(n[2]),0,100),a=u0(parseFloat(n[3]),0,100),s=u0(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null};nd.to.hex=function(){var e=Pb(arguments);return"#"+vx(e[0])+vx(e[1])+vx(e[2])+(e[3]<1?vx(Math.round(e[3]*255)):"")};nd.to.rgb=function(){var e=Pb(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};nd.to.rgb.percent=function(){var e=Pb(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"};nd.to.hsl=function(){var e=Pb(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};nd.to.hwb=function(){var e=Pb(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};nd.to.keyword=function(e){return Fz[e.slice(0,3)]};function u0(e,t,n){return Math.min(Math.max(t,e),n)}function vx(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var cne=Kz.exports;const nb=Pz,Lz={};for(const e of Object.keys(nb))Lz[nb[e]]=e;const $r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Rz=$r;for(const e of Object.keys($r)){if(!("channels"in $r[e]))throw new Error("missing channels property: "+e);if(!("labels"in $r[e]))throw new Error("missing channel labels property: "+e);if($r[e].labels.length!==$r[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=$r[e];delete $r[e].channels,delete $r[e].labels,Object.defineProperty($r[e],"channels",{value:t}),Object.defineProperty($r[e],"labels",{value:n})}$r.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=o-i;let s,h;o===i?s=0:t===o?s=(n-r)/a:n===o?s=2+(r-t)/a:r===o&&(s=4+(t-n)/a),s=Math.min(s*60,360),s<0&&(s+=360);const m=(i+o)/2;return o===i?h=0:m<=.5?h=a/(o+i):h=a/(2-o-i),[s,h*100,m*100]};$r.rgb.hsv=function(e){let t,n,r,i,o;const a=e[0]/255,s=e[1]/255,h=e[2]/255,m=Math.max(a,s,h),C=m-Math.min(a,s,h),E=function(O){return(m-O)/6/C+1/2};return C===0?(i=0,o=0):(o=C/m,t=E(a),n=E(s),r=E(h),a===m?i=r-n:s===m?i=1/3+t-r:h===m&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,m*100]};$r.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=$r.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,o*100,r*100]};$r.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r),o=(1-t-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,s=(1-r-i)/(1-i)||0;return[o*100,a*100,s*100,i*100]};function dne(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}$r.rgb.keyword=function(e){const t=Lz[e];if(t)return t;let n=1/0,r;for(const i of Object.keys(nb)){const o=nb[i],a=dne(e,o);a<n&&(n=a,r=i)}return r};$r.keyword.rgb=function(e){return nb[e]};$r.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=t*.4124+n*.3576+r*.1805,o=t*.2126+n*.7152+r*.0722,a=t*.0193+n*.1192+r*.9505;return[i*100,o*100,a*100]};$r.rgb.lab=function(e){const t=$r.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,a=500*(n-r),s=200*(r-i);return[o,a,s]};$r.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;const s=2*r-i,h=[0,0,0];for(let m=0;m<3;m++)o=t+1/3*-(m-1),o<0&&o++,o>1&&o--,6*o<1?a=s+(i-s)*6*o:2*o<1?a=i:3*o<2?a=s+(i-s)*(2/3-o)*6:a=s,h[m]=a*255;return h};$r.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;const a=(r+n)/2,s=r===0?2*i/(o+i):2*n/(r+n);return[t,s*100,a*100]};$r.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),h=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,h,a];case 1:return[s,r,a];case 2:return[a,r,h];case 3:return[a,s,r];case 4:return[h,a,r];case 5:return[r,a,s]}};$r.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,a;a=(2-n)*r;const s=(2-n)*i;return o=n*i,o/=s<=1?s:2-s,o=o||0,a/=2,[t,o*100,a*100]};$r.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const a=Math.floor(6*t),s=1-r;o=6*t-a,a&1&&(o=1-o);const h=n+o*(s-n);let m,C,E;switch(a){default:case 6:case 0:m=s,C=h,E=n;break;case 1:m=h,C=s,E=n;break;case 2:m=n,C=s,E=h;break;case 3:m=n,C=h,E=s;break;case 4:m=h,C=n,E=s;break;case 5:m=s,C=n,E=h;break}return[m*255,C*255,E*255]};$r.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),s=1-Math.min(1,r*(1-i)+i);return[o*255,a*255,s*255]};$r.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,a;return i=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,a=t*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[i*255,o*255,a*255]};$r.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*n-16,o=500*(t-n),a=200*(n-r);return[i,o,a]};$r.lab.xyz=function(e){const t=e[0],n=e[1],r=e[2];let i,o,a;o=(t+16)/116,i=n/500+o,a=o-r/200;const s=o**3,h=i**3,m=a**3;return o=s>.008856?s:(o-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,a=m>.008856?m:(a-16/116)/7.787,i*=95.047,o*=100,a*=108.883,[i,o,a]};$r.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);const a=Math.sqrt(n*n+r*r);return[t,a,i]};$r.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI,o=n*Math.cos(i),a=n*Math.sin(i);return[t,o,a]};$r.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let o=t===null?$r.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return o===2&&(a+=60),a};$r.hsv.ansi16=function(e){return $r.rgb.ansi16($r.hsv.rgb(e),e[2])};$r.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};$r.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(~~(e>50)+1)*.5,r=(t&1)*n*255,i=(t>>1&1)*n*255,o=(t>>2&1)*n*255;return[r,i,o]};$r.ansi256.rgb=function(e){if(e>=232){const o=(e-232)*10+8;return[o,o,o]}e-=16;let t;const n=Math.floor(e/36)/5*255,r=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[n,r,i]};$r.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};$r.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(s=>s+s).join(""));const r=parseInt(n,16),i=r>>16&255,o=r>>8&255,a=r&255;return[i,o,a]};$r.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),a=i-o;let s,h;return a<1?s=o/(1-a):s=0,a<=0?h=0:i===t?h=(n-r)/a%6:i===n?h=2+(r-t)/a:h=4+(t-n)/a,h/=6,h%=1,[h*360,a*100,s*100]};$r.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],r*100,i*100]};$r.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],r*100,i*100]};$r.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return[r*255,r*255,r*255];const i=[0,0,0],o=t%1*6,a=o%1,s=1-a;let h=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return h=(1-n)*r,[(n*i[0]+h)*255,(n*i[1]+h)*255,(n*i[2]+h)*255]};$r.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);let i=0;return r>0&&(i=t/r),[e[0],i*100,r*100]};$r.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],i*100,r*100]};$r.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]};$r.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,i=r-t;let o=0;return i<1&&(o=(r-i)/(1-i)),[e[0],i*100,o*100]};$r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};$r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};$r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};$r.gray.hsl=function(e){return[0,0,e[0]]};$r.gray.hsv=$r.gray.hsl;$r.gray.hwb=function(e){return[0,100,e[0]]};$r.gray.cmyk=function(e){return[0,0,0,e[0]]};$r.gray.lab=function(e){return[e[0],0,0]};$r.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r};$r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const d4=Rz;function hne(){const e={},t=Object.keys(d4);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function fne(e){const t=hne(),n=[e];for(t[e].distance=0;n.length;){const r=n.pop(),i=Object.keys(d4[r]);for(let o=i.length,a=0;a<o;a++){const s=i[a],h=t[s];h.distance===-1&&(h.distance=t[r].distance+1,h.parent=r,n.unshift(s))}}return t}function pne(e,t){return function(n){return t(e(n))}}function mne(e,t){const n=[t[e].parent,e];let r=d4[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=pne(d4[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}var gne=function(e){const t=fne(e),n={},r=Object.keys(t);for(let i=r.length,o=0;o<i;o++){const a=r[o];t[a].parent!==null&&(n[a]=mne(a,t))}return n};const eO=Rz,yne=gne,ey={},vne=Object.keys(eO);function Cne(e){const t=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function _ne(e){const t=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const i=e(n);if(typeof i=="object")for(let o=i.length,a=0;a<o;a++)i[a]=Math.round(i[a]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}vne.forEach(e=>{ey[e]={},Object.defineProperty(ey[e],"channels",{value:eO[e].channels}),Object.defineProperty(ey[e],"labels",{value:eO[e].labels});const t=yne(e);Object.keys(t).forEach(r=>{const i=t[r];ey[e][r]=_ne(i),ey[e][r].raw=Cne(i)})});var bne=ey;const ty=cne,Xc=bne,zz=["keyword","gray","hex"],tO={};for(const e of Object.keys(Xc))tO[[...Xc[e].labels].sort().join("")]=e;const h4={};function xu(e,t){if(!(this instanceof xu))return new xu(e,t);if(t&&t in zz&&(t=null),t&&!(t in Xc))throw new Error("Unknown model: "+t);let n,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof xu)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=ty.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=Xc[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=Xc[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=nO(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const o=i.sort().join("");if(!(o in tO))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=tO[o];const{labels:a}=Xc[this.model],s=[];for(n=0;n<a.length;n++)s.push(e[a[n]]);this.color=nO(s)}if(h4[this.model])for(r=Xc[this.model].channels,n=0;n<r;n++){const i=h4[this.model][n];i&&(this.color[n]=i(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}xu.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in ty.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const n=t.valpha===1?t.color:[...t.color,this.valpha];return ty.to[t.model](n)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:[...t.color,this.valpha];return ty.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=Xc[this.model],{labels:n}=Xc[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new xu([...this.color.map(wne(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new xu([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:ol("rgb",0,ql(255)),green:ol("rgb",1,ql(255)),blue:ol("rgb",2,ql(255)),hue:ol(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:ol("hsl",1,ql(100)),lightness:ol("hsl",2,ql(100)),saturationv:ol("hsv",1,ql(100)),value:ol("hsv",2,ql(100)),chroma:ol("hcg",1,ql(100)),gray:ol("hcg",2,ql(100)),white:ol("hwb",1,ql(100)),wblack:ol("hwb",2,ql(100)),cyan:ol("cmyk",0,ql(100)),magenta:ol("cmyk",1,ql(100)),yellow:ol("cmyk",2,ql(100)),black:ol("cmyk",3,ql(100)),x:ol("xyz",0,ql(95.047)),y:ol("xyz",1,ql(100)),z:ol("xyz",2,ql(108.833)),l:ol("lab",0,ql(100)),a:ol("lab",1),b:ol("lab",2),keyword(e){return e!==void 0?new xu(e):Xc[this.model].keyword(this.color)},hex(e){return e!==void 0?new xu(e):ty.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new xu(e);const t=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),ty.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const i=r/255;t[n]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return xu.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=t===void 0?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,h=1-s;return xu.rgb(s*n.red()+h*r.red(),s*n.green()+h*r.green(),s*n.blue()+h*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(Xc)){if(zz.includes(e))continue;const{channels:t}=Xc[e];xu.prototype[e]=function(...n){return this.model===e?new xu(this):n.length>0?new xu(n,e):new xu([...Mne(Xc[this.model][e].raw(this.color)),this.valpha],e)},xu[e]=function(...n){let r=n[0];return typeof r=="number"&&(r=nO(n,t)),new xu(r,e)}}function xne(e,t){return Number(e.toFixed(t))}function wne(e){return function(t){return xne(t,e)}}function ol(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(h4[r]||(h4[r]=[]))[t]=n;return e=e[0],function(r){let i;return r!==void 0?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function ql(e){return function(t){return Math.max(0,Math.min(e,t))}}function Mne(e){return Array.isArray(e)?e:[e]}function nO(e,t){for(let n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var Sne=xu;const rO=Ka(Sne);function Sa(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/zoomcontrol.ts",t="7c22eecb6561e8496fe3f22493843934b533555a",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:6,column:4},end:{line:6,column:20}},4:{start:{line:7,column:4},end:{line:7,column:52}},5:{start:{line:8,column:4},end:{line:8,column:93}},6:{start:{line:9,column:4},end:{line:9,column:70}},7:{start:{line:10,column:4},end:{line:12,column:6}},8:{start:{line:13,column:4},end:{line:13,column:57}},9:{start:{line:14,column:4},end:{line:14,column:29}},10:{start:{line:15,column:4},end:{line:15,column:27}},11:{start:{line:18,column:4},end:{line:18,column:60}},12:{start:{line:21,column:4},end:{line:21,column:57}},13:{start:{line:21,column:33},end:{line:21,column:55}},14:{start:{line:22,column:4},end:{line:22,column:57}},15:{start:{line:22,column:33},end:{line:22,column:55}},16:{start:{line:23,column:4},end:{line:23,column:58}},17:{start:{line:23,column:34},end:{line:23,column:56}},18:{start:{line:26,column:4},end:{line:26,column:60}},19:{start:{line:27,column:4},end:{line:27,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:13},end:{line:16,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:20},end:{line:19,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:22},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:21,column:27},end:{line:21,column:28}},loc:{start:{line:21,column:33},end:{line:21,column:55}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:22,column:27},end:{line:22,column:28}},loc:{start:{line:22,column:33},end:{line:22,column:55}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:28},end:{line:23,column:29}},loc:{start:{line:23,column:34},end:{line:23,column:56}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:28,column:3}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,WAAW,YAAY;AAAA;AAAA;AAG5B,SAAK,UAAU,KAAK,WAAW,cAAc,MAAM;AAEnD,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7c22eecb6561e8496fe3f22493843934b533555a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Sa=function(){return a},a}Sa();class Ene{constructor(){on(this,"_map",(Sa().s[0]++,void 0));on(this,"_container",(Sa().s[1]++,void 0));on(this,"_textEl",(Sa().s[2]++,null))}onAdd(t){return Sa().f[0]++,Sa().s[3]++,this._map=t,Sa().s[4]++,this._container=document.createElement("div"),Sa().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",Sa().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),Sa().s[7]++,this._container.innerHTML=`
      Zoom: <span></span>
    `,Sa().s[8]++,this._textEl=this._container.querySelector("span"),Sa().s[9]++,this.addEventListeners(),Sa().s[10]++,this._container}updateZoomLevel(){Sa().f[1]++,Sa().s[11]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}addEventListeners(){Sa().f[2]++,Sa().s[12]++,this._map.on("render",()=>(Sa().f[3]++,Sa().s[13]++,this.updateZoomLevel())),Sa().s[14]++,this._map.on("zoomIn",()=>(Sa().f[4]++,Sa().s[15]++,this.updateZoomLevel())),Sa().s[16]++,this._map.on("zoomOut",()=>(Sa().f[5]++,Sa().s[17]++,this.updateZoomLevel()))}onRemove(){Sa().f[6]++,Sa().s[18]++,this._container.parentNode.removeChild(this._container),Sa().s[19]++,this._map=void 0}}var Ny=Math.pow,Nu=(e,t,n)=>new Promise((r,i)=>{var o=h=>{try{s(n.next(h))}catch(m){i(m)}},a=h=>{try{s(n.throw(h))}catch(m){i(m)}},s=h=>h.done?r(h.value):Promise.resolve(h.value).then(o,a);s((n=n.apply(e,t)).next())}),Jc=Uint8Array,_y=Uint16Array,One=Int32Array,jz=new Jc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nz=new Jc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Bne=new Jc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gz=function(e,t){for(var n=new _y(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new One(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},Wz=Gz(jz,2),Qz=Wz.b,Ine=Wz.r;Qz[28]=258,Ine[258]=28;var kne=Gz(Nz,0),Tne=kne.b,iO=new _y(32768);for(ua=0;ua<32768;++ua)Mp=(ua&43690)>>1|(ua&21845)<<1,Mp=(Mp&52428)>>2|(Mp&13107)<<2,Mp=(Mp&61680)>>4|(Mp&3855)<<4,iO[ua]=((Mp&65280)>>8|(Mp&255)<<8)>>1;var Mp,ua,g_=function(e,t,n){for(var r=e.length,i=0,o=new _y(t);i<r;++i)e[i]&&++o[e[i]-1];var a=new _y(t);for(i=1;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new _y(1<<t);var h=15-t;for(i=0;i<r;++i)if(e[i])for(var m=i<<4|e[i],C=t-e[i],E=a[e[i]-1]++<<C,O=E|(1<<C)-1;E<=O;++E)s[iO[E]>>h]=m}else for(s=new _y(r),i=0;i<r;++i)e[i]&&(s[i]=iO[a[e[i]-1]++]>>15-e[i]);return s},Db=new Jc(288);for(ua=0;ua<144;++ua)Db[ua]=8;var ua;for(ua=144;ua<256;++ua)Db[ua]=9;var ua;for(ua=256;ua<280;++ua)Db[ua]=7;var ua;for(ua=280;ua<288;++ua)Db[ua]=8;var ua,$z=new Jc(32);for(ua=0;ua<32;++ua)$z[ua]=5;var ua,Kne=g_(Db,9,1),Pne=g_($z,5,1),xS=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Mh=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},wS=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Dne=function(e){return(e+7)/8|0},Une=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new Jc(n-t);return r.set(e.subarray(t,n)),r},Fne=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Hc=function(e,t,n){var r=new Error(t||Fne[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Hc),!n)throw r;return r},o7=function(e,t,n,r){var i=e.length,o=r?r.length:0;if(!i||t.f&&!t.l)return n||new Jc(0);var a=!n||t.i!=2,s=t.i;n||(n=new Jc(i*3));var h=function(Se){var Re=n.length;if(Se>Re){var it=new Jc(Math.max(Re*2,Se));it.set(n),n=it}},m=t.f||0,C=t.p||0,E=t.b||0,O=t.l,P=t.d,D=t.m,$=t.n,ee=i*8;do{if(!O){m=Mh(e,C,1);var H=Mh(e,C+1,3);if(C+=3,H)if(H==1)O=Kne,P=Pne,D=9,$=5;else if(H==2){var ye=Mh(e,C,31)+257,be=Mh(e,C+10,15)+4,X=ye+Mh(e,C+5,31)+1;C+=14;for(var se=new Jc(X),we=new Jc(19),xe=0;xe<be;++xe)we[Bne[xe]]=Mh(e,C+xe*3,7);C+=be*3;for(var De=xS(we),Ue=(1<<De)-1,he=g_(we,De,1),xe=0;xe<X;){var $e=he[Mh(e,C,Ue)];C+=$e&15;var G=$e>>4;if(G<16)se[xe++]=G;else{var ge=0,yt=0;for(G==16?(yt=3+Mh(e,C,3),C+=2,ge=se[xe-1]):G==17?(yt=3+Mh(e,C,7),C+=3):G==18&&(yt=11+Mh(e,C,127),C+=7);yt--;)se[xe++]=ge}}var wt=se.subarray(0,ye),st=se.subarray(ye);D=xS(wt),$=xS(st),O=g_(wt,D,1),P=g_(st,$,1)}else Hc(1);else{var G=Dne(C)+4,Z=e[G-4]|e[G-3]<<8,ue=G+Z;if(ue>i){s&&Hc(0);break}a&&h(E+Z),n.set(e.subarray(G,ue),E),t.b=E+=Z,t.p=C=ue*8,t.f=m;continue}if(C>ee){s&&Hc(0);break}}a&&h(E+131072);for(var mt=(1<<D)-1,ze=(1<<$)-1,He=C;;He=C){var ge=O[wS(e,C)&mt],Ve=ge>>4;if(C+=ge&15,C>ee){s&&Hc(0);break}if(ge||Hc(2),Ve<256)n[E++]=Ve;else if(Ve==256){He=C,O=null;break}else{var Vt=Ve-254;if(Ve>264){var xe=Ve-257,Yt=jz[xe];Vt=Mh(e,C,(1<<Yt)-1)+Qz[xe],C+=Yt}var vt=P[wS(e,C)&ze],Qt=vt>>4;vt||Hc(3),C+=vt&15;var st=Tne[Qt];if(Qt>3){var Yt=Nz[Qt];st+=wS(e,C)&(1<<Yt)-1,C+=Yt}if(C>ee){s&&Hc(0);break}a&&h(E+131072);var $t=E+Vt;if(E<st){var ke=o-st,pe=Math.min(st,$t);for(ke+E<0&&Hc(3);E<pe;++E)n[E]=r[ke+E]}for(;E<$t;E+=4)n[E]=n[E-st],n[E+1]=n[E+1-st],n[E+2]=n[E+2-st],n[E+3]=n[E+3-st];E=$t}}t.l=O,t.p=He,t.b=E,t.f=m,O&&(m=1,t.m=D,t.d=P,t.n=$)}while(!m);return E==n.length?n:Une(n,0,E)},Lne=new Jc(0),Rne=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&Hc(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=(e[10]|e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},zne=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},jne=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Hc(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Hc(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Nne(e,t){return o7(e,{i:2},t&&t.out,t&&t.dictionary)}function Gne(e,t){var n=Rne(e);return n+8>e.length&&Hc(6,"invalid gzip data"),o7(e.subarray(n,-8),{i:2},t&&t.out||new Jc(zne(e)),t&&t.dictionary)}function Wne(e,t){return o7(e.subarray(jne(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}function oO(e,t){return e[0]==31&&e[1]==139&&e[2]==8?Gne(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?Nne(e,t):Wne(e,t)}var Qne=typeof TextDecoder<"u"&&new TextDecoder,$ne=0;try{Qne.decode(Lne,{stream:!0}),$ne=1}catch{}var Yz=(e,t)=>e*Ny(2,t),BC=(e,t)=>Math.floor(e/Ny(2,t)),f4=(e,t)=>Yz(e.getUint16(t+1,!0),8)+e.getUint8(t),qz=(e,t)=>Yz(e.getUint32(t+2,!0),16)+e.getUint16(t,!0),Yne=(e,t,n,r,i)=>{if(e!==r.getUint8(i))return e-r.getUint8(i);const o=f4(r,i+1);if(t!==o)return t-o;const a=f4(r,i+4);return n!==a?n-a:0},qne=(e,t,n,r)=>{const i=Hz(e,t|128,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],isDir:!0}:null},IT=(e,t,n,r)=>{const i=Hz(e,t,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],isDir:!1}:null},Hz=(e,t,n,r)=>{let i=0,o=e.byteLength/17-1;for(;i<=o;){const a=o+i>>1,s=Yne(t,n,r,e,a*17);if(s>0)i=a+1;else if(s<0)o=a-1;else return[qz(e,a*17+7),e.getUint32(a*17+13,!0)]}return null},Hne=(e,t)=>e.isDir&&!t.isDir?1:!e.isDir&&t.isDir?-1:e.z!==t.z?e.z-t.z:e.x!==t.x?e.x-t.x:e.y-t.y,Vz=(e,t)=>{const n=e.getUint8(t*17);return{z:n&127,x:f4(e,t*17+1),y:f4(e,t*17+4),offset:qz(e,t*17+7),length:e.getUint32(t*17+13,!0),isDir:n>>7===1}},kT=e=>{const t=[],n=new DataView(e);for(let r=0;r<n.byteLength/17;r++)t.push(Vz(n,r));return Vne(t)},Vne=e=>{e.sort(Hne);const t=new ArrayBuffer(17*e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++){const i=e[r];let o=i.z;i.isDir&&(o=o|128),n[r*17]=o,n[r*17+1]=i.x&255,n[r*17+2]=i.x>>8&255,n[r*17+3]=i.x>>16&255,n[r*17+4]=i.y&255,n[r*17+5]=i.y>>8&255,n[r*17+6]=i.y>>16&255,n[r*17+7]=i.offset&255,n[r*17+8]=BC(i.offset,8)&255,n[r*17+9]=BC(i.offset,16)&255,n[r*17+10]=BC(i.offset,24)&255,n[r*17+11]=BC(i.offset,32)&255,n[r*17+12]=BC(i.offset,48)&255,n[r*17+13]=i.length&255,n[r*17+14]=i.length>>8&255,n[r*17+15]=i.length>>16&255,n[r*17+16]=i.length>>24&255}return t},Zne=(e,t)=>{if(e.byteLength<17)return null;const n=e.byteLength/17,r=Vz(e,n-1);if(r.isDir){const i=r.z,o=t.z-i,a=Math.trunc(t.x/(1<<o)),s=Math.trunc(t.y/(1<<o));return{z:i,x:a,y:s}}return null};function Xne(e){return Nu(this,null,function*(){const t=yield e.getBytes(0,512e3),n=new DataView(t.data),r=n.getUint32(4,!0),i=n.getUint16(8,!0),o=new TextDecoder("utf-8"),a=JSON.parse(o.decode(new DataView(t.data,10,r)));let s=0;a.compression==="gzip"&&(s=2);let h=0;"minzoom"in a&&(h=+a.minzoom);let m=0;"maxzoom"in a&&(m=+a.maxzoom);let C=0,E=0,O=0,P=-180,D=-85,$=180,ee=85;if(a.bounds){const G=a.bounds.split(",");P=+G[0],D=+G[1],$=+G[2],ee=+G[3]}if(a.center){const G=a.center.split(",");C=+G[0],E=+G[1],O=+G[2]}return{specVersion:n.getUint16(2,!0),rootDirectoryOffset:10+r,rootDirectoryLength:i*17,jsonMetadataOffset:10,jsonMetadataLength:r,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:1,tileCompression:s,tileType:1,minZoom:h,maxZoom:m,minLon:P,minLat:D,maxLon:$,maxLat:ee,centerZoom:O,centerLon:C,centerLat:E,etag:t.etag}})}function Jne(e,t,n,r,i,o,a){return Nu(this,null,function*(){let s=yield n.getArrayBuffer(t,e.rootDirectoryOffset,e.rootDirectoryLength,e);e.specVersion===1&&(s=kT(s));const h=IT(new DataView(s),r,i,o);if(h){let E=(yield t.getBytes(h.offset,h.length,a)).data;const O=new DataView(E);return O.getUint8(0)===31&&O.getUint8(1)===139&&(E=oO(new Uint8Array(E))),{data:E}}const m=Zne(new DataView(s),{z:r,x:i,y:o});if(m){const C=qne(new DataView(s),m.z,m.x,m.y);if(C){let E=yield n.getArrayBuffer(t,C.offset,C.length,e);e.specVersion===1&&(E=kT(E));const O=IT(new DataView(E),r,i,o);if(O){let D=(yield t.getBytes(O.offset,O.length,a)).data;const $=new DataView(D);return $.getUint8(0)===31&&$.getUint8(1)===139&&(D=oO(new Uint8Array(D))),{data:D}}}}})}var Zz={getHeader:Xne,getZxy:Jne},ere=e=>(t,n)=>{if(n instanceof AbortController)return e(t,n);const r=new AbortController;return e(t,r).then(i=>n(void 0,i.data,i.cacheControl||"",i.expires||""),i=>n(i)).catch(i=>n(i)),{cancel:()=>r.abort()}},tre=class{constructor(e){this.tilev4=(t,n)=>Nu(this,null,function*(){if(t.type==="json"){const O=t.url.substr(10);let P=this.tiles.get(O);if(P||(P=new TT(O),this.tiles.set(O,P)),this.metadata)return{data:yield P.getTileJson(t.url)};const D=yield P.getHeader();return{data:{tiles:[`${t.url}/{z}/{x}/{y}`],minzoom:D.minZoom,maxzoom:D.maxZoom,bounds:[D.minLon,D.minLat,D.maxLon,D.maxLat]}}}const r=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),i=t.url.match(r);if(!i)throw new Error("Invalid PMTiles protocol URL");const o=i[1];let a=this.tiles.get(o);a||(a=new TT(o),this.tiles.set(o,a));const s=i[2],h=i[3],m=i[4],C=yield a.getHeader(),E=yield a==null?void 0:a.getZxy(+s,+h,+m,n.signal);return E?{data:new Uint8Array(E.data),cacheControl:E.cacheControl,expires:E.expires}:C.tileType===1?{data:new Uint8Array}:{data:null}}),this.tile=ere(this.tilev4),this.tiles=new Map,this.metadata=(e==null?void 0:e.metadata)||!1}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};function Fg(e,t){return(t>>>0)*4294967296+(e>>>0)}function nre(e,t){const n=t.buf;let r=n[t.pos++],i=(r&112)>>4;if(r<128||(r=n[t.pos++],i|=(r&127)<<3,r<128)||(r=n[t.pos++],i|=(r&127)<<10,r<128)||(r=n[t.pos++],i|=(r&127)<<17,r<128)||(r=n[t.pos++],i|=(r&127)<<24,r<128)||(r=n[t.pos++],i|=(r&1)<<31,r<128))return Fg(e,i);throw new Error("Expected varint not more than 10 bytes")}function IC(e){const t=e.buf;let n=t[e.pos++],r=n&127;return n<128||(n=t[e.pos++],r|=(n&127)<<7,n<128)||(n=t[e.pos++],r|=(n&127)<<14,n<128)||(n=t[e.pos++],r|=(n&127)<<21,n<128)?r:(n=t[e.pos],r|=(n&15)<<28,nre(r,e))}function rre(e,t,n,r){if(r===0){n===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);const i=t[0];t[0]=t[1],t[1]=i}}var ire=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function ore(e,t,n){if(e>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(t>Ny(2,e)-1||n>Ny(2,e)-1)throw Error("tile x/y outside zoom level bounds");const r=ire[e],i=Ny(2,e);let o=0,a=0,s=0;const h=[t,n];let m=i/2;for(;m>0;)o=(h[0]&m)>0?1:0,a=(h[1]&m)>0?1:0,s+=m*m*(3*o^a),rre(m,h,o,a),m=m/2;return r+s}function Xz(e,t){return Nu(this,null,function*(){if(t===1||t===0)return e;if(t===2){if(typeof globalThis.DecompressionStream>"u")return oO(new Uint8Array(e));const n=new Response(e).body;if(!n)throw Error("Failed to read response stream");const r=n.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(r).arrayBuffer()}throw Error("Compression method not supported")})}function are(e){return e===1?".mvt":e===2?".png":e===3?".jpg":e===4?".webp":e===5?".avif":""}var sre=127;function lre(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=r+n>>1,o=t-e[i].tileId;if(o>0)n=i+1;else if(o<0)r=i-1;else return e[i]}return r>=0&&(e[r].runLength===0||t-e[r].tileId<e[r].runLength)?e[r]:null}var ure=class{constructor(e,t=new Headers){this.url=e,this.customHeaders=t,this.mustReload=!1;let n="";"navigator"in globalThis&&(n=globalThis.navigator.userAgent||"");const r=n.indexOf("Windows")>-1,i=/Chrome|Chromium|Edg|OPR|Brave/.test(n);this.chromeWindowsNoCache=!1,r&&i&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,n,r){return Nu(this,null,function*(){let i,o;n?o=n:(i=new AbortController,o=i.signal);const a=new Headers(this.customHeaders);a.set("range",`bytes=${e}-${e+t-1}`);let s;this.mustReload?s="reload":this.chromeWindowsNoCache&&(s="no-store");let h=yield fetch(this.url,{signal:o,cache:s,headers:a});if(e===0&&h.status===416){const O=h.headers.get("Content-Range");if(!O||!O.startsWith("bytes */"))throw Error("Missing content-length on 416 response");const P=+O.substr(8);h=yield fetch(this.url,{signal:o,cache:"reload",headers:{range:`bytes=0-${P-1}`}})}let m=h.headers.get("Etag");if(m!=null&&m.startsWith("W/")&&(m=null),h.status===416||r&&m&&m!==r)throw this.mustReload=!0,new aO(`Server returned non-matching ETag ${r} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(h.status>=300)throw Error(`Bad response code: ${h.status}`);const C=h.headers.get("Content-Length");if(h.status===200&&(!C||+C>t))throw i&&i.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield h.arrayBuffer(),etag:m||void 0,cacheControl:h.headers.get("Cache-Control")||void 0,expires:h.headers.get("Expires")||void 0}})}};function Sh(e,t){const n=e.getUint32(t+4,!0),r=e.getUint32(t+0,!0);return n*Ny(2,32)+r}function Are(e,t){const n=new DataView(e),r=n.getUint8(7);if(r>3)throw Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:Sh(n,8),rootDirectoryLength:Sh(n,16),jsonMetadataOffset:Sh(n,24),jsonMetadataLength:Sh(n,32),leafDirectoryOffset:Sh(n,40),leafDirectoryLength:Sh(n,48),tileDataOffset:Sh(n,56),tileDataLength:Sh(n,64),numAddressedTiles:Sh(n,72),numTileEntries:Sh(n,80),numTileContents:Sh(n,88),clustered:n.getUint8(96)===1,internalCompression:n.getUint8(97),tileCompression:n.getUint8(98),tileType:n.getUint8(99),minZoom:n.getUint8(100),maxZoom:n.getUint8(101),minLon:n.getInt32(102,!0)/1e7,minLat:n.getInt32(106,!0)/1e7,maxLon:n.getInt32(110,!0)/1e7,maxLat:n.getInt32(114,!0)/1e7,centerZoom:n.getUint8(118),centerLon:n.getInt32(119,!0)/1e7,centerLat:n.getInt32(123,!0)/1e7,etag:t}}function Jz(e){const t={buf:new Uint8Array(e),pos:0},n=IC(t),r=[];let i=0;for(let o=0;o<n;o++){const a=IC(t);r.push({tileId:i+a,offset:0,length:0,runLength:1}),i+=a}for(let o=0;o<n;o++)r[o].runLength=IC(t);for(let o=0;o<n;o++)r[o].length=IC(t);for(let o=0;o<n;o++){const a=IC(t);a===0&&o>0?r[o].offset=r[o-1].offset+r[o-1].length:r[o].offset=a-1}return r}function cre(e){const t=new DataView(e);return t.getUint16(2,!0)===2?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):t.getUint16(2,!0)===1?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}var aO=class extends Error{};function dre(e,t){return Nu(this,null,function*(){const n=yield e.getBytes(0,16384);if(new DataView(n.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");if(cre(n.data)<3)return[yield Zz.getHeader(e)];const i=n.data.slice(0,sre),o=Are(i,n.etag),a=n.data.slice(o.rootDirectoryOffset,o.rootDirectoryOffset+o.rootDirectoryLength),s=`${e.getKey()}|${o.etag||""}|${o.rootDirectoryOffset}|${o.rootDirectoryLength}`,h=Jz(yield t(a,o.internalCompression));return[o,[s,h.length,h]]})}function hre(e,t,n,r,i){return Nu(this,null,function*(){const o=yield e.getBytes(n,r,void 0,i.etag),a=yield t(o.data,i.internalCompression),s=Jz(a);if(s.length===0)throw new Error("Empty directory is invalid");return s})}var fre=class{constructor(e=100,t=!0,n=Xz){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return Nu(this,null,function*(){const t=e.getKey(),n=this.cache.get(t);if(n)return n.lastUsed=this.counter++,yield n.data;const r=new Promise((i,o)=>{dre(e,this.decompress).then(a=>{a[1]&&this.cache.set(a[1][0],{lastUsed:this.counter++,data:Promise.resolve(a[1][2])}),i(a[0]),this.prune()}).catch(a=>{o(a)})});return this.cache.set(t,{lastUsed:this.counter++,data:r}),r})}getDirectory(e,t,n,r){return Nu(this,null,function*(){const i=`${e.getKey()}|${r.etag||""}|${t}|${n}`,o=this.cache.get(i);if(o)return o.lastUsed=this.counter++,yield o.data;const a=new Promise((s,h)=>{hre(e,this.decompress,t,n,r).then(m=>{s(m),this.prune()}).catch(m=>{h(m)})});return this.cache.set(i,{lastUsed:this.counter++,data:a}),a})}getArrayBuffer(e,t,n,r){return Nu(this,null,function*(){const i=`${e.getKey()}|${r.etag||""}|${t}|${n}`,o=this.cache.get(i);if(o)return o.lastUsed=this.counter++,yield o.data;const a=new Promise((s,h)=>{e.getBytes(t,n,void 0,r.etag).then(m=>{s(m.data),this.cache.has(i),this.prune()}).catch(m=>{h(m)})});return this.cache.set(i,{lastUsed:this.counter++,data:a}),a})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,t;this.cache.forEach((n,r)=>{n.lastUsed<e&&(e=n.lastUsed,t=r)}),t&&this.cache.delete(t)}}invalidate(e){return Nu(this,null,function*(){const t=e.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(e.getKey());const n=new Promise((r,i)=>{this.getHeader(e).then(o=>{r(),this.invalidations.delete(t)}).catch(o=>{i(o)})});this.invalidations.set(t,n)})}},TT=class{constructor(e,t,n){typeof e=="string"?this.source=new ure(e):this.source=e,n?this.decompress=n:this.decompress=Xz,t?this.cache=t:this.cache=new fre}getHeader(){return Nu(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,n,r){return Nu(this,null,function*(){const i=ore(e,t,n),o=yield this.cache.getHeader(this.source);if(o.specVersion<3)return Zz.getZxy(o,this.source,this.cache,e,t,n,r);if(e<o.minZoom||e>o.maxZoom)return;let a=o.rootDirectoryOffset,s=o.rootDirectoryLength;for(let h=0;h<=3;h++){const m=yield this.cache.getDirectory(this.source,a,s,o),C=lre(m,i);if(C){if(C.runLength>0){const E=yield this.source.getBytes(o.tileDataOffset+C.offset,C.length,r,o.etag);return{data:yield this.decompress(E.data,o.tileCompression),cacheControl:E.cacheControl,expires:E.expires}}a=o.leafDirectoryOffset+C.offset,s=C.length}else return}throw Error("Maximum directory depth exceeded")})}getZxy(e,t,n,r){return Nu(this,null,function*(){try{return yield this.getZxyAttempt(e,t,n,r)}catch(i){if(i instanceof aO)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,t,n,r);throw i}})}getMetadataAttempt(){return Nu(this,null,function*(){const e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),n=yield this.decompress(t.data,e.internalCompression),r=new TextDecoder("utf-8");return JSON.parse(r.decode(n))})}getMetadata(){return Nu(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof aO)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}getTileJson(e){return Nu(this,null,function*(){const t=yield this.getHeader(),n=yield this.getMetadata(),r=are(t.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${e}/{z}/{x}/{y}${r}`],vector_layers:n.vector_layers,attribution:n.attribution,description:n.description,name:n.name,version:n.version,bounds:[t.minLon,t.minLat,t.maxLon,t.maxLat],center:[t.centerLon,t.centerLat,t.centerZoom],minzoom:t.minZoom,maxzoom:t.maxZoom}})}};function sO(e,t,n){const r={id:[t,n,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function lO(e,t,n,r){const i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function uO(e,t,n){const r={id:[t,n,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}function pre(e,t){const n=[],r=[],i=[];function o(a){return{circle:t(a,.8),line:t(a,.6),polygon:t(a,.3),polygonOutline:t(a,.6),default:t(a,1)}}return Object.keys(e).forEach(a=>{const s=e[a];if(!s||s.length===0){const h=o(a);r.push(sO(h.circle,a)),i.push(uO(h.line,a)),n.push(lO(h.polygon,h.polygonOutline,a))}else s.forEach(h=>{const m=o(h);r.push(sO(m.circle,a,h)),i.push(uO(m.line,a,h)),n.push(lO(m.polygon,m.polygonOutline,a,h))})}),n.concat(i).concat(r)}function mre(e,t,n){n=Object.assign({backgroundColor:"#fff"},n);const r={id:"background",type:"background",paint:{"background-color":n.backgroundColor}},i={};return Object.keys(e.sources).forEach(o=>{const a=e.sources[o];(a.type==="vector"||a.type==="geojson")&&(i[o]=a)}),Object.assign(e,{layers:[r].concat(t),sources:i})}const MS={polygonLayer:lO,lineLayer:uO,circleLayer:sO,generateInspectStyle:mre,generateColoredLayers:pre};function Fi(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/highlight.ts",t="6ba419619adf4e518d56983a275c7329349cdd44",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:19,column:16}},10:{start:{line:19,column:4},end:{line:19,column:16}},11:{start:{line:20,column:24},end:{line:20,column:51}},12:{start:{line:21,column:16},end:{line:21,column:52}},13:{start:{line:22,column:2},end:{line:24,column:3}},14:{start:{line:23,column:4},end:{line:23,column:104}},15:{start:{line:25,column:2},end:{line:27,column:3}},16:{start:{line:26,column:4},end:{line:26,column:96}},17:{start:{line:28,column:2},end:{line:30,column:3}},18:{start:{line:29,column:4},end:{line:29,column:94}},19:{start:{line:31,column:2},end:{line:31,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:32,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:19,column:16}},type:"if",locations:[{start:{line:18,column:2},end:{line:19,column:16}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:20,column:24},end:{line:20,column:51}},type:"binary-expr",locations:[{start:{line:20,column:24},end:{line:20,column:45}},{start:{line:20,column:49},end:{line:20,column:51}}],line:20},6:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},7:{loc:{start:{line:22,column:6},end:{line:22,column:62}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:27}},{start:{line:22,column:31},end:{line:22,column:62}}],line:22},8:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},9:{loc:{start:{line:25,column:6},end:{line:25,column:56}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:29}},{start:{line:25,column:33},end:{line:25,column:56}}],line:25},10:{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/highlight.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS;AAAU,WAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ba419619adf4e518d56983a275c7329349cdd44"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fi=function(){return a},a}Fi();function SS(e,t){return Fi().f[0]++,Fi().s[0]++,e.type==="circle"?(Fi().b[0][0]++,Fi().s[1]++,e.paint["circle-radius"]=3):(Fi().b[0][1]++,Fi().s[2]++,e.type==="line"?(Fi().b[1][0]++,Fi().s[3]++,e.paint["line-width"]=2):Fi().b[1][1]++),Fi().s[4]++,"filter"in t?(Fi().b[2][0]++,Fi().s[5]++,e.filter=t.filter):(Fi().b[2][1]++,Fi().s[6]++,delete e.filter),Fi().s[7]++,e.id=e.id+"_highlight",Fi().s[8]++,e}function gre(e){if(Fi().f[1]++,Fi().s[9]++,Fi().b[4][0]++,!e||(Fi().b[4][1]++,e.type==="background")||(Fi().b[4][2]++,e.type==="raster"))return Fi().b[3][0]++,Fi().s[10]++,null;Fi().b[3][1]++;const t=(Fi().s[11]++,Fi().b[5][0]++,e["source-layer"]||(Fi().b[5][1]++,"")),n=(Fi().s[12]++,Sz.brightColor(t,1));return Fi().s[13]++,Fi().b[7][0]++,e.type==="fill"||(Fi().b[7][1]++,e.type==="fill-extrusion")?(Fi().b[6][0]++,Fi().s[14]++,SS(MS.polygonLayer(n,n,e.source,e["source-layer"]),e)):(Fi().b[6][1]++,Fi().s[15]++,Fi().b[9][0]++,e.type==="symbol"||(Fi().b[9][1]++,e.type==="circle")?(Fi().b[8][0]++,Fi().s[16]++,SS(MS.circleLayer(n,e.source,e["source-layer"]),e)):(Fi().b[8][1]++,Fi().s[17]++,e.type==="line"?(Fi().b[10][0]++,Fi().s[18]++,SS(MS.lineLayer(n,e.source,e["source-layer"]),e)):(Fi().b[10][1]++,Fi().s[19]++,null)))}function a7(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/maplibre-rtl.ts",t="830f3e38fbf5800930e1b85c18e59c9320645886",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"830f3e38fbf5800930e1b85c18e59c9320645886"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return a7=function(){return a},a}a7();a7().s[0]++;Jg.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);var ej=vre,yre=Object.prototype.hasOwnProperty;function vre(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)yre.call(n,r)&&(e[r]=n[r])}return e}var tj={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(r,i){return i.filter(function(o){return n.test(r,o)})},n.test=function(r,i){return n.match(r,i)!==null},n.match=function(r,i,o){o=o||{};var a=0,s=[],h=i.length,m=0,C=0,E=o.pre||"",O=o.post||"",P=o.caseSensitive&&i||i.toLowerCase(),D;r=o.caseSensitive&&r||r.toLowerCase();for(var $=0;$<h;$++)D=i[$],P[$]===r[a]?(D=E+D+O,a+=1,C+=1+C):C=0,m+=C,s[s.length]=D;return a===r.length?(m=P===r?1/0:m,{rendered:s.join(""),score:m}):null},n.filter=function(r,i,o){return!i||i.length===0?[]:typeof r!="string"?i:(o=o||{},i.reduce(function(a,s,h,m){var C=s;o.extract&&(C=o.extract(s));var E=n.match(r,C,o);return E!=null&&(a[a.length]={string:E.rendered,score:E.score,index:h,original:s}),a},[]).sort(function(a,s){var h=s.score-a.score;return h||a.index-s.index}))}})()})(tj);var Cre=tj.exports,kc=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};kc.prototype.show=function(){this.element.style.display="block"};kc.prototype.hide=function(){this.element.style.display="none"};kc.prototype.add=function(e){this.items.push(e)};kc.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0};kc.prototype.isEmpty=function(){return!this.items.length};kc.prototype.isVisible=function(){return this.element.style.display==="block"};kc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};kc.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),n.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};kc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};kc.prototype.move=function(e){this.active=e,this.draw()};kc.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)};kc.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)};kc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var _re=kc,bre=ej,xre=Cre,wre=_re,_A=function(e,t,n){return n=n||{},this.options=bre({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},n),this.el=e,this.data=t||[],this.list=new wre(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode,r)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};_A.prototype.handleKeyUp=function(e,t){if(!(e===40||e===38||e===27||e===9)){if(e===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),t.stopPropagation());return}this.handleInputChange(this.el.value)}};_A.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};_A.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};_A.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};_A.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var n=0;n<t.length&&(this.list.add(t[n]),n!==this.options.limit-1);n++);this.list.draw()}).bind(this))};_A.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};_A.prototype.update=function(e){this.data=e,this.handleKeyUp()};_A.prototype.clear=function(){this.data=[],this.list.clear()};_A.prototype.normalize=function(e){return e=e.toLowerCase(),e};_A.prototype.match=function(e,t){return e.indexOf(t)>-1};_A.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e||{place_name:this.query}),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};_A.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},n;this.options.filter?(n=xre.filter(this.query,this.data,t),n=n.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):n=this.data.map((function(r){var i=this.render(r);return{original:r,string:i}}).bind(this)),e(n)};_A.prototype.getItemValue=function(e){return e};_A.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(n),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;n=n.slice(0,i)+"<strong>"+n.slice(i,o)+"</strong>"+n.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return n};_A.prototype.renderError=function(e){this.list.drawError(e)};var Mre=_A,nj=Mre,Sre=nj;typeof window<"u"&&(window.Suggestions=nj);var Ere="Expected a function",KT=NaN,Ore="[object Symbol]",Bre=/^\s+|\s+$/g,Ire=/^[-+]0x[0-9a-f]+$/i,kre=/^0b[01]+$/i,Tre=/^0o[0-7]+$/i,Kre=parseInt,Pre=typeof window=="object"&&window&&window.Object===Object&&window,Dre=typeof self=="object"&&self&&self.Object===Object&&self,Ure=Pre||Dre||Function("return this")(),Fre=Object.prototype,Lre=Fre.toString,Rre=Math.max,zre=Math.min,ES=function(){return Ure.Date.now()};function jre(e,t,n){var r,i,o,a,s,h,m=0,C=!1,E=!1,O=!0;if(typeof e!="function")throw new TypeError(Ere);t=PT(t)||0,AO(n)&&(C=!!n.leading,E="maxWait"in n,o=E?Rre(PT(n.maxWait)||0,t):o,O="trailing"in n?!!n.trailing:O);function P(be){var X=r,se=i;return r=i=void 0,m=be,a=e.apply(se,X),a}function D(be){return m=be,s=setTimeout(H,t),C?P(be):a}function $(be){var X=be-h,se=be-m,we=t-X;return E?zre(we,o-se):we}function ee(be){var X=be-h,se=be-m;return h===void 0||X>=t||X<0||E&&se>=o}function H(){var be=ES();if(ee(be))return G(be);s=setTimeout(H,$(be))}function G(be){return s=void 0,O&&r?P(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),m=0,r=h=i=s=void 0}function ue(){return s===void 0?a:G(ES())}function ye(){var be=ES(),X=ee(be);if(r=arguments,i=this,h=be,X){if(s===void 0)return D(h);if(E)return s=setTimeout(H,t),P(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}function AO(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Nre(e){return!!e&&typeof e=="object"}function Gre(e){return typeof e=="symbol"||Nre(e)&&Lre.call(e)==Ore}function PT(e){if(typeof e=="number")return e;if(Gre(e))return KT;if(AO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Bre,"");var n=kre.test(e);return n||Tre.test(e)?Kre(e.slice(2),n?2:8):Ire.test(e)?KT:+e}var Wre=jre,s7={exports:{}},Gy=typeof Reflect=="object"?Reflect:null,DT=Gy&&typeof Gy.apply=="function"?Gy.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},f3;Gy&&typeof Gy.ownKeys=="function"?f3=Gy.ownKeys:Object.getOwnPropertySymbols?f3=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:f3=function(t){return Object.getOwnPropertyNames(t)};function Qre(e){console&&console.warn&&console.warn(e)}var rj=Number.isNaN||function(t){return t!==t};function Ua(){Ua.init.call(this)}s7.exports=Ua;s7.exports.once=Hre;Ua.EventEmitter=Ua;Ua.prototype._events=void 0;Ua.prototype._eventsCount=0;Ua.prototype._maxListeners=void 0;var UT=10;function iw(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ua,"defaultMaxListeners",{enumerable:!0,get:function(){return UT},set:function(e){if(typeof e!="number"||e<0||rj(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");UT=e}});Ua.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ua.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||rj(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function ij(e){return e._maxListeners===void 0?Ua.defaultMaxListeners:e._maxListeners}Ua.prototype.getMaxListeners=function(){return ij(this)};Ua.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var h=o[t];if(h===void 0)return!1;if(typeof h=="function")DT(h,this,n);else for(var m=h.length,C=uj(h,m),r=0;r<m;++r)DT(C[r],this,n);return!0};function oj(e,t,n,r){var i,o,a;if(iw(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=ij(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,Qre(s)}return e}Ua.prototype.addListener=function(t,n){return oj(this,t,n,!1)};Ua.prototype.on=Ua.prototype.addListener;Ua.prototype.prependListener=function(t,n){return oj(this,t,n,!0)};function $re(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function aj(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=$re.bind(r);return i.listener=n,r.wrapFn=i,i}Ua.prototype.once=function(t,n){return iw(n),this.on(t,aj(this,t,n)),this};Ua.prototype.prependOnceListener=function(t,n){return iw(n),this.prependListener(t,aj(this,t,n)),this};Ua.prototype.removeListener=function(t,n){var r,i,o,a,s;if(iw(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():Yre(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Ua.prototype.off=Ua.prototype.removeListener;Ua.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function sj(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?qre(i):uj(i,i.length)}Ua.prototype.listeners=function(t){return sj(this,t,!0)};Ua.prototype.rawListeners=function(t){return sj(this,t,!1)};Ua.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):lj.call(e,t)};Ua.prototype.listenerCount=lj;function lj(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ua.prototype.eventNames=function(){return this._eventsCount>0?f3(this._events):[]};function uj(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Yre(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function qre(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Hre(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}Aj(e,t,o,{once:!0}),t!=="error"&&Vre(e,i,{once:!0})})}function Vre(e,t,n){typeof e.on=="function"&&Aj(e,"error",t,n)}function Aj(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Zre=s7.exports,Xre={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},Jre={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:""},eie={placeholder:Jre},cj={exports:{}};(function(e){(function(t,n,r){e.exports?e.exports=r():t[n]=r()})(Rh,"subtag",function(){var t="",n=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(h){return h.match(n)||[]}function i(h){return r(h).filter(function(m,C){return m&&C})}function o(h){return h=r(h),{language:h[1]||t,extlang:h[2]||t,script:h[3]||t,region:h[4]||t}}function a(h,m,C){Object.defineProperty(h,m,{value:C,enumerable:!0})}function s(h,m,C){function E(O){return r(O)[h]||t}a(E,"pattern",m),a(o,C,E)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),a(o,"split",i),o})})(cj);var tie=cj.exports,nie=Sre,rie=Wre,Yc=ej,iie=Zre.EventEmitter,FT=Xre,oie=eie,aie=tie;function dj(e,t){this._eventEmitter=new iie,this.options=Yc({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}dj.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(e){return e.text!==void 0?e.text:e.place_name},render:function(e){if(e.geometry){var s=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--result maplibregl-ctrl-geocoder--result"><svg class="mapboxgl-ctrl-geocoder--result-icon maplibre-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="mapboxgl-ctrl-geocoder--result-title maplibregl-ctrl-geocoder--result-title">'+s[0]+'</div><div class="mapboxgl-ctrl-geocoder--result-address maplibregl-ctrl-geocoder--result-address">'+s.splice(1,s.length).join(",")+"</div></div></div>"}else{var t=e.text,n=t.toLowerCase().indexOf(this.query.toLowerCase()),r=this.query.length,i=t.substring(0,n),o=t.substring(n,n+r),a=t.substring(n+r);return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibregl-ctrl-geocoder--suggestion"><svg class="mapboxgl-ctrl-geocoder--suggestion-icon maplibre-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="mapboxgl-ctrl-geocoder--suggestion-info maplibregl-ctrl-geocoder--suggestion-info"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibregl-ctrl-geocoder--suggestion-title">'+i+'<span class="mapboxgl-ctrl-geocoder--suggestion-match maplibregl-ctrl-geocoder--suggestion-match">'+o+"</span>"+a+"</div></div></div>"}},popupRender:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibre-ctrl-geocoder--suggestion popup-suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibre-ctrl-geocoder--suggestion-title popup-suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address maplibre-ctrl-geocoder--suggestion-address popup-suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},addTo:function(e){function t(r,i){if(!document.body.contains(i))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var o=r.onAdd();i.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){var n=document.querySelectorAll(e);if(n.length===0)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",rie(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right","maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button maplibregl-ctrl-geocoder--button";var i=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(i),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(r),this._typeahead=new nie(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e+" maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=t;else{var r=document.createElement("div");r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";var i=r.firstChild,o=i.firstChild;n.appendChild(o)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,i=r?r.value:"";if(!i)return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[n,t,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(r.value);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(r.value,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}r.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(r.value)}},_showButton:function(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){var t;if(this._removeResultMarkers(),e.properties&&FT[e.properties.short_code])t=Yc({},this.options.flyTo),this._map&&this._map.fitBounds(FT[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=Yc({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var r={zoom:this.options.zoom};t=Yc({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}},_getConfigForRequest:function(){var e=["bbox","limit","proximity","countries","types","language","reverseMode"],t=this,n=e.reduce(function(r,i){return t.options[i]&&(["countries","types","language"].indexOf(i)>-1?r[i]=t.options[i].split(/[\s,]+/):r[i]=t.options[i],i==="proximity"&&t.options[i]&&typeof t.options[i].longitude=="number"&&typeof t.options[i].latitude=="number"&&(r[i]=[t.options[i].longitude,t.options[i].latitude])),r},{});return n},_geocode:function(e,t,n){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e}),this.inputString=e;var r=null,i=this._getConfigForRequest(),o;if(this.options.localGeocoderOnly)o=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){var a=e.split(/[\s(,)?]+/).map(function(m){return parseFloat(m,10)}).reverse();i.types&&i.types[0],i=Yc(i,{query:a,limit:1}),"proximity"in i&&delete i.proximity,o=this.geocoderApi.reverseGeocode(i)}else i=Yc(i,{query:e}),this.geocoderApi.getSuggestions?t?this.geocoderApi.searchByPlaceId&&n?o=this.geocoderApi.searchByPlaceId(i):o=this.geocoderApi.forwardGeocode(i):o=this.geocoderApi.getSuggestions(i):o=this.geocoderApi.forwardGeocode(i);var s=[];this.options.localGeocoder&&(s=this.options.localGeocoder(e),s||(s=[]));var h=[];return o.catch((function(m){r=m}).bind(this)).then((function(m){this._loadingEl.style.display="none";var C={};return m?C=m:C={type:"FeatureCollection",features:[]},C.config=i,this.fresh&&(this.fresh=!1),C.features=C.features?s.concat(C.features):s,this.options.externalGeocoder?(h=this.options.externalGeocoder(e,C.features,i)||[],h.then(function(E){return C.features=C.features?E.concat(C.features):E,C},function(){return C})):C}).bind(this)).then((function(m){if(r)throw r;this.options.filter&&m.features.length&&(m.features=m.features.filter(this.options.filter));var C=[];m.suggestions?C=m.suggestions:m.place?C=[m.place]:C=m.features,C.length?(this._clearEl.style.display="block",this._typeahead.update(C),(!this.options.showResultsWhileTyping||t)&&this.options.showResultMarkers&&(m.features.length>0||m.place)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",m)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",m))}).bind(this)).catch((function(m){this._loadingEl.style.display="none",s.length&&this.options.localGeocoder||h.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(s)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:s}),this._eventEmitter.emit("error",{error:m})}).bind(this)),o},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error maplibre-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=aie.language(e),n=oie.placeholder[t];if(n)return n}return"Search"},_fitBoundsForMarkers:function(){if(!(this._typeahead.data.length<1)){var e=this._typeahead.data.filter(function(i){return typeof i!="string"}).slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){var t={padding:100},n=Yc({},t,this.options.flyTo),r=new this._maplibregl.LngLatBounds;e.forEach(function(i){r.extend(i.geometry.coordinates)}),this._map.fitBounds(r.toArray(),n)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this},setProximity:function(e){return this.options.proximity=e,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setGeocoderApi:function(e){return this.geocoderApi=e,this},getGeocoderApi:function(){return this.geocoderApi},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},n=Yc({},t,this.options.marker);this.mapMarker=new this._maplibregl.Marker(n);var r;if(this.options.popup){var i={},o=Yc({},i,this.options.popup);r=new this._maplibregl.Popup(o).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},_handleResultMarkers:function(e){if(this._map){this._removeResultMarkers();var t={color:"#4668F2"},n=Yc({},t,this.options.showResultMarkers);return e.forEach((function(r){if(this.options.showResultMarkers&&this.options.showResultMarkers.element){var i=this.options.showResultMarkers.element.cloneNode(!0);n=Yc(n,{element:i})}var o=new this._maplibregl.Marker(Yc({},n,{element:i})),a;if(this.options.popup){var s={},h=Yc({},s,this.options.popup);a=new this._maplibregl.Popup(h).setHTML(this.options.popupRender(r))}r.center?(o.setLngLat(r.center).addTo(this._map),this.options.popup&&o.setPopup(a)):r.geometry&&r.geometry.type&&r.geometry.type==="Point"&&r.geometry.coordinates&&(o.setLngLat(r.geometry.coordinates).addTo(this._map),this.options.popup&&o.setPopup(a)),this.resultMarkers.push(o)}).bind(this)),this}},_removeResultMarkers:function(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this}};var sie=dj;const lie=Ka(sie);function nn(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGl.tsx",t="ee82c78632dc31724c813d50da30b2cf33b17b63",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:19,column:2},end:{line:19,column:36}},1:{start:{line:20,column:2},end:{line:20,column:19}},2:{start:{line:23,column:26},end:{line:29,column:3}},3:{start:{line:30,column:16},end:{line:30,column:55}},4:{start:{line:31,column:2},end:{line:33,column:3}},5:{start:{line:32,column:4},end:{line:32,column:30}},6:{start:{line:34,column:18},end:{line:34,column:20}},7:{start:{line:35,column:2},end:{line:40,column:5}},8:{start:{line:36,column:19},end:{line:36,column:53}},9:{start:{line:37,column:4},end:{line:39,column:5}},10:{start:{line:38,column:6},end:{line:38,column:33}},11:{start:{line:41,column:23},end:{line:45,column:3}},12:{start:{line:46,column:2},end:{line:46,column:22}},13:{start:{line:49,column:24},end:{line:59,column:3}},14:{start:{line:60,column:14},end:{line:60,column:18}},15:{start:{line:62,column:4},end:{line:62,column:17}},16:{start:{line:63,column:4},end:{line:66,column:6}},17:{start:{line:69,column:17},end:{line:69,column:22}},18:{start:{line:70,column:4},end:{line:73,column:5}},19:{start:{line:71,column:6},end:{line:71,column:132}},20:{start:{line:74,column:4},end:{line:74,column:18}},21:{start:{line:77,column:16},end:{line:77,column:30}},22:{start:{line:78,column:28},end:{line:78,column:79}},23:{start:{line:79,column:4},end:{line:84,column:5}},24:{start:{line:80,column:6},end:{line:80,column:52}},25:{start:{line:81,column:6},end:{line:81,column:70}},26:{start:{line:82,column:6},end:{line:82,column:70}},27:{start:{line:83,column:6},end:{line:83,column:76}},28:{start:{line:85,column:4},end:{line:87,column:5}},29:{start:{line:86,column:6},end:{line:86,column:43}},30:{start:{line:88,column:4},end:{line:93,column:5}},31:{start:{line:89,column:6},end:{line:89,column:59}},32:{start:{line:90,column:6},end:{line:92,column:14}},33:{start:{line:91,column:8},end:{line:91,column:36}},34:{start:{line:96,column:20},end:{line:105,column:5}},35:{start:{line:106,column:16},end:{line:106,column:43}},36:{start:{line:107,column:19},end:{line:107,column:33}},37:{start:{line:108,column:4},end:{line:108,column:53}},38:{start:{line:109,column:26},end:{line:113,column:5}},39:{start:{line:110,column:21},end:{line:110,column:36}},40:{start:{line:111,column:19},end:{line:111,column:32}},41:{start:{line:112,column:6},end:{line:112,column:44}},42:{start:{line:114,column:4},end:{line:114,column:20}},43:{start:{line:115,column:4},end:{line:115,column:56}},44:{start:{line:116,column:4},end:{line:116,column:56}},45:{start:{line:117,column:4},end:{line:117,column:62}},46:{start:{line:118,column:4},end:{line:118,column:27}},47:{start:{line:119,column:24},end:{line:119,column:41}},48:{start:{line:120,column:4},end:{line:120,column:45}},49:{start:{line:121,column:16},end:{line:121,column:74}},50:{start:{line:122,column:4},end:{line:122,column:37}},51:{start:{line:123,column:20},end:{line:123,column:49}},52:{start:{line:124,column:20},end:{line:144,column:6}},53:{start:{line:134,column:8},end:{line:134,column:82}},54:{start:{line:136,column:62},end:{line:136,column:141}},55:{start:{line:138,column:8},end:{line:142,column:9}},56:{start:{line:139,column:10},end:{line:139,column:108}},57:{start:{line:141,column:10},end:{line:141,column:160}},58:{start:{line:145,column:4},end:{line:145,column:28}},59:{start:{line:146,column:4},end:{line:152,column:7}},60:{start:{line:147,column:6},end:{line:151,column:9}},61:{start:{line:153,column:4},end:{line:159,column:7}},62:{start:{line:154,column:6},end:{line:155,column:15}},63:{start:{line:155,column:8},end:{line:155,column:15}},64:{start:{line:156,column:6},end:{line:158,column:9}},65:{start:{line:160,column:4},end:{line:162,column:7}},66:{start:{line:161,column:6},end:{line:161,column:30}},67:{start:{line:163,column:4},end:{line:167,column:7}},68:{start:{line:164,column:6},end:{line:166,column:9}},69:{start:{line:168,column:4},end:{line:168,column:37}},70:{start:{line:169,column:4},end:{line:169,column:37}},71:{start:{line:171,column:22},end:{line:174,column:3}},72:{start:{line:172,column:18},end:{line:172,column:82}},73:{start:{line:172,column:66},end:{line:172,column:81}},74:{start:{line:173,column:4},end:{line:173,column:36}},75:{start:{line:176,column:27},end:{line:209,column:5}},76:{start:{line:178,column:25},end:{line:178,column:27}},77:{start:{line:179,column:8},end:{line:204,column:9}},78:{start:{line:180,column:26},end:{line:180,column:138}},79:{start:{line:181,column:27},end:{line:181,column:47}},80:{start:{line:182,column:26},end:{line:182,column:47}},81:{start:{line:183,column:10},end:{line:201,column:11}},82:{start:{line:184,column:27},end:{line:187,column:13}},83:{start:{line:188,column:26},end:{line:199,column:13}},84:{start:{line:200,column:12},end:{line:200,column:33}},85:{start:{line:203,column:10},end:{line:203,column:69}},86:{start:{line:205,column:8},end:{line:207,column:10}},87:{start:{line:210,column:21},end:{line:210,column:85}},88:{start:{line:211,column:4},end:{line:211,column:41}},89:{start:{line:214,column:4},end:{line:223,column:6}},90:{start:{line:220,column:20},end:{line:220,column:38}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:18,column:9},end:{line:18,column:20}},loc:{start:{line:18,column:39},end:{line:21,column:1}},line:18},1:{name:"buildInspectStyle",decl:{start:{line:22,column:9},end:{line:22,column:26}},loc:{start:{line:22,column:78},end:{line:47,column:1}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:35,column:48},end:{line:35,column:49}},loc:{start:{line:35,column:62},end:{line:40,column:3}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:50,column:17},end:{line:50,column:18}},loc:{start:{line:50,column:23},end:{line:51,column:5}},line:50},4:{name:"(anonymous_4)",decl:{start:{line:52,column:18},end:{line:52,column:19}},loc:{start:{line:52,column:24},end:{line:53,column:5}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:54,column:19},end:{line:54,column:20}},loc:{start:{line:54,column:25},end:{line:55,column:5}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:56,column:14},end:{line:56,column:15}},loc:{start:{line:56,column:20},end:{line:57,column:5}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:21},end:{line:67,column:3}},line:61},8:{name:"(anonymous_8)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:46},end:{line:75,column:3}},line:68},9:{name:"(anonymous_9)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:23},end:{line:94,column:3}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:90,column:17},end:{line:90,column:18}},loc:{start:{line:90,column:23},end:{line:92,column:7}},line:90},11:{name:"(anonymous_11)",decl:{start:{line:95,column:2},end:{line:95,column:3}},loc:{start:{line:95,column:22},end:{line:170,column:3}},line:95},12:{name:"(anonymous_12)",decl:{start:{line:109,column:26},end:{line:109,column:27}},loc:{start:{line:109,column:32},end:{line:113,column:5}},line:109},13:{name:"(anonymous_13)",decl:{start:{line:133,column:24},end:{line:133,column:25}},loc:{start:{line:133,column:44},end:{line:135,column:7}},line:133},14:{name:"(anonymous_14)",decl:{start:{line:136,column:25},end:{line:136,column:26}},loc:{start:{line:136,column:62},end:{line:136,column:141}},line:136},15:{name:"(anonymous_15)",decl:{start:{line:137,column:19},end:{line:137,column:20}},loc:{start:{line:137,column:33},end:{line:143,column:7}},line:137},16:{name:"(anonymous_16)",decl:{start:{line:146,column:25},end:{line:146,column:26}},loc:{start:{line:146,column:31},end:{line:152,column:5}},line:146},17:{name:"(anonymous_17)",decl:{start:{line:153,column:19},end:{line:153,column:20}},loc:{start:{line:153,column:26},end:{line:159,column:5}},line:153},18:{name:"(anonymous_18)",decl:{start:{line:160,column:20},end:{line:160,column:21}},loc:{start:{line:160,column:27},end:{line:162,column:5}},line:160},19:{name:"(anonymous_19)",decl:{start:{line:163,column:19},end:{line:163,column:20}},loc:{start:{line:163,column:27},end:{line:167,column:5}},line:163},20:{name:"(anonymous_20)",decl:{start:{line:171,column:22},end:{line:171,column:23}},loc:{start:{line:171,column:30},end:{line:174,column:3}},line:171},21:{name:"(anonymous_21)",decl:{start:{line:172,column:55},end:{line:172,column:56}},loc:{start:{line:172,column:66},end:{line:172,column:81}},line:172},22:{name:"(anonymous_22)",decl:{start:{line:175,column:2},end:{line:175,column:3}},loc:{start:{line:175,column:20},end:{line:212,column:3}},line:175},23:{name:"(anonymous_23)",decl:{start:{line:177,column:22},end:{line:177,column:23}},loc:{start:{line:177,column:40},end:{line:208,column:7}},line:177},24:{name:"(anonymous_24)",decl:{start:{line:213,column:2},end:{line:213,column:3}},loc:{start:{line:213,column:11},end:{line:224,column:3}},line:213},25:{name:"(anonymous_25)",decl:{start:{line:220,column:13},end:{line:220,column:14}},loc:{start:{line:220,column:20},end:{line:220,column:38}},line:220}},branchMap:{0:{loc:{start:{line:31,column:2},end:{line:33,column:3}},type:"if",locations:[{start:{line:31,column:2},end:{line:33,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},1:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:37,column:8},end:{line:37,column:64}},type:"binary-expr",locations:[{start:{line:37,column:8},end:{line:37,column:32}},{start:{line:37,column:36},end:{line:37,column:64}}],line:37},3:{loc:{start:{line:71,column:15},end:{line:71,column:131}},type:"binary-expr",locations:[{start:{line:71,column:15},end:{line:71,column:71}},{start:{line:71,column:75},end:{line:71,column:131}}],line:71},4:{loc:{start:{line:79,column:4},end:{line:84,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:84,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},5:{loc:{start:{line:85,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:87,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},6:{loc:{start:{line:85,column:8},end:{line:85,column:98}},type:"binary-expr",locations:[{start:{line:85,column:8},end:{line:85,column:26}},{start:{line:85,column:30},end:{line:85,column:98}}],line:85},7:{loc:{start:{line:88,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:93,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},8:{loc:{start:{line:88,column:8},end:{line:88,column:59}},type:"binary-expr",locations:[{start:{line:88,column:8},end:{line:88,column:26}},{start:{line:88,column:30},end:{line:88,column:59}}],line:88},9:{loc:{start:{line:138,column:8},end:{line:142,column:9}},type:"if",locations:[{start:{line:138,column:8},end:{line:142,column:9}},{start:{line:140,column:15},end:{line:142,column:9}}],line:138},10:{loc:{start:{line:154,column:6},end:{line:155,column:15}},type:"if",locations:[{start:{line:154,column:6},end:{line:155,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AAsL6B;AAtL7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAC/G,OAAO,qBAAqB;AAC5B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAAS,gBAAgB;AACzB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AAEP,OAAO,sBAAsB;AAC7B,OAAO;AAEP,SAAS,YAAY,OAAoB,WAA4C;AACnF,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AAEtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAuBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAGA,sBAAsB,WAA+B,WAA+B;AAClF,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,UAAM,kBAAkB,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAC1E,QAAI,KAAK;AAIP,UAAI,SAAS,iBAAiB,EAAC,MAAM,KAAI,CAAC;AAC1C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAEA,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAC7F,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK,MAAM,WAAW,KAAK,MAAM,oBAAoB;AACvD,WAAK,MAAM,QAAQ,iBAAiB,eAAe;AAEnD,iBAAW,MAAM;AACf,aAAK,MAAM,QAAS,OAAO;AAAA,MAC7B,GAAG,GAAG;AAAA,IACR;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA;AAAA;AAAA,MAGT,0BAA0B;AAAA,IAC5B;AAEA,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AACtC,QAAI,WAAW,IAAI,SAAS;AAC5B,eAAW,YAAY,WAAW,SAAS,IAAI;AAE/C,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,SAAK,aAAa,GAAG;AAErB,UAAM,cAAc,IAAI;AACxB,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,gBAAgB;AAAA,MAClC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa;AAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAA8D;AACnF,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB,EAAC,YAAY,WAAU,CAAC;AAC9E,QAAI,WAAW,UAAU,UAAU;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,OAAK,KAAK,YAAY;AAAA,QAC3B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ee82c78632dc31724c813d50da30b2cf33b17b63"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return nn=function(){return a},a}nn();function LT(e,t){return nn().f[0]++,nn().s[0]++,JV.render(e,t),nn().s[1]++,t}function uie(e,t,n){nn().f[1]++;const r=(nn().s[2]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(nn().s[3]++,gre(n));nn().s[4]++,i?(nn().b[0][0]++,nn().s[5]++,t.push(i)):nn().b[0][1]++;const o=(nn().s[6]++,{});nn().s[7]++,Object.keys(e.sources).forEach(s=>{nn().f[2]++;const h=(nn().s[8]++,e.sources[s]);nn().s[9]++,nn().b[2][0]++,h.type!=="raster"&&(nn().b[2][1]++,h.type!=="raster-dem")?(nn().b[1][0]++,nn().s[10]++,o[s]=h):nn().b[1][1]++});const a=(nn().s[11]++,{...e,sources:o,layers:[r].concat(t)});return nn().s[12]++,a}class hj extends Mn.Component{constructor(n){nn().f[7]++,nn().s[15]++;super(n);on(this,"container",(nn().s[14]++,null));on(this,"onLayerSelectById",(nn().s[71]++,n=>{nn().f[20]++;const r=(nn().s[72]++,this.props.mapStyle.layers.findIndex(i=>(nn().f[21]++,nn().s[73]++,i.id===n)));nn().s[74]++,this.props.onLayerSelect(r)}));nn().s[16]++,this.state={map:null,inspect:null}}shouldComponentUpdate(n,r){nn().f[8]++;let i=(nn().s[17]++,!1);nn().s[18]++;try{nn().s[19]++,i=(nn().b[3][0]++,JSON.stringify(this.props)!==JSON.stringify(n)||(nn().b[3][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return nn().s[20]++,i}componentDidUpdate(){var i,o,a;nn().f[9]++;const n=(nn().s[21]++,this.state.map),r=(nn().s[22]++,this.props.replaceAccessTokens(this.props.mapStyle));nn().s[23]++,n?(nn().b[4][0]++,nn().s[24]++,n.setStyle(r,{diff:!0}),nn().s[25]++,n.showTileBoundaries=(i=this.props.options)==null?void 0:i.showTileBoundaries,nn().s[26]++,n.showCollisionBoxes=(o=this.props.options)==null?void 0:o.showCollisionBoxes,nn().s[27]++,n.showOverdrawInspector=(a=this.props.options)==null?void 0:a.showOverdrawInspector):nn().b[4][1]++,nn().s[28]++,nn().b[6][0]++,this.state.inspect&&(nn().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(nn().b[5][0]++,nn().s[29]++,this.state.inspect.toggleInspector()):nn().b[5][1]++,nn().s[30]++,nn().b[8][0]++,this.state.inspect&&(nn().b[8][1]++,this.props.inspectModeEnabled)?(nn().b[7][0]++,nn().s[31]++,this.state.inspect.setOriginalStyle(r),nn().s[32]++,setTimeout(()=>{nn().f[10]++,nn().s[33]++,this.state.inspect.render()},500)):nn().b[7][1]++}componentDidMount(){nn().f[11]++;const n=(nn().s[34]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24,localIdeographFontFamily:!1}),r=(nn().s[35]++,new Jg.Map(n));let i=(nn().s[36]++,new tre);nn().s[37]++,Jg.addProtocol("pmtiles",i.tile),nn().s[38]++;const o=()=>{nn().f[12]++;const C=(nn().s[39]++,r.getCenter()),E=(nn().s[40]++,r.getZoom());nn().s[41]++,this.props.onChange({center:C,zoom:E})};nn().s[42]++,o(),nn().s[43]++,r.showTileBoundaries=n.showTileBoundaries,nn().s[44]++,r.showCollisionBoxes=n.showCollisionBoxes,nn().s[45]++,r.showOverdrawInspector=n.showOverdrawInspector,nn().s[46]++,this.initGeocoder(r);const a=(nn().s[47]++,new Ene);nn().s[48]++,r.addControl(a,"top-right");const s=(nn().s[49]++,new Jg.NavigationControl({visualizePitch:!0}));nn().s[50]++,r.addControl(s,"top-right");const h=(nn().s[51]++,document.createElement("div")),m=(nn().s[52]++,new i7({popup:new Jg.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(C,E)=>(nn().f[13]++,nn().s[53]++,rO(Sz.brightColor(C,E)).desaturate(.5).string()),buildInspectStyle:(C,E)=>(nn().f[14]++,nn().s[54]++,uie(C,E,this.props.highlightedLayer)),renderPopup:C=>(nn().f[15]++,nn().s[55]++,this.props.inspectModeEnabled?(nn().b[9][0]++,nn().s[56]++,LT(W.jsx(one,{features:C}),h)):(nn().b[9][1]++,nn().s[57]++,LT(W.jsx(Tz,{features:C,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),h)))}));nn().s[58]++,r.addControl(m),nn().s[59]++,r.on("style.load",()=>{nn().f[16]++,nn().s[60]++,this.setState({map:r,inspect:m,zoom:r.getZoom()})}),nn().s[61]++,r.on("data",C=>{if(nn().f[17]++,nn().s[62]++,C.dataType!=="tile"){nn().b[10][0]++,nn().s[63]++;return}else nn().b[10][1]++;nn().s[64]++,this.props.onDataChange({map:this.state.map})}),nn().s[65]++,r.on("error",C=>{nn().f[18]++,nn().s[66]++,console.log("ERROR",C)}),nn().s[67]++,r.on("zoom",C=>{nn().f[19]++,nn().s[68]++,this.setState({zoom:r.getZoom()})}),nn().s[69]++,r.on("dragend",o),nn().s[70]++,r.on("zoomend",o)}initGeocoder(n){nn().f[22]++;const r=(nn().s[75]++,{forwardGeocode:async o=>{nn().f[23]++;const a=(nn().s[76]++,[]);nn().s[77]++;try{const s=(nn().s[78]++,`https://nominatim.openstreetmap.org/search?q=${o.query}&format=geojson&polygon_geojson=1&addressdetails=1`),h=(nn().s[79]++,await fetch(s)),m=(nn().s[80]++,await h.json());nn().s[81]++;for(const C of m.features){const E=(nn().s[82]++,[C.bbox[0]+(C.bbox[2]-C.bbox[0])/2,C.bbox[1]+(C.bbox[3]-C.bbox[1])/2]),O=(nn().s[83]++,{type:"Feature",geometry:{type:"Point",coordinates:E},place_name:C.properties.display_name,properties:C.properties,text:C.properties.display_name,place_type:["place"],center:E});nn().s[84]++,a.push(O)}}catch(s){nn().s[85]++,console.error(`Failed to forwardGeocode with error: ${s}`)}return nn().s[86]++,{features:a}}}),i=(nn().s[87]++,new lie(r,{maplibregl:Jg}));nn().s[88]++,n.addControl(i,"top-left")}render(){return nn().f[24]++,nn().s[89]++,W.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":"Map view",ref:n=>(nn().f[25]++,nn().s[90]++,this.container=n),"data-wd-key":"maplibre:map"})}}on(hj,"defaultProps",(nn().s[13]++,{onMapLoaded:()=>{nn().f[3]++},onDataChange:()=>{nn().f[4]++},onLayerSelect:()=>{nn().f[5]++},onChange:()=>{nn().f[6]++},options:{}}));var rm=function(){function e(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();const hv={PROPERTYCHANGE:"propertychange"};var Aie=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();const l7=Aie;function cie(e,t,n){for(var r,i,o=n||z1,a=0,s=e.length,h=!1;a<s;)r=a+(s-a>>1),i=+o(e[r],t),i<0?a=r+1:(s=r,h=!i);return h?a:~a}function z1(e,t){return e>t?1:e<t?-1:0}function u7(e,t,n){var r=e.length;if(e[0]<=t)return 0;if(t<=e[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(e[i]<t)return i-1}else if(n<0){for(i=1;i<r;++i)if(e[i]<=t)return i}else for(i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return typeof n=="function"?n(t,e[i-1],e[i])>0?i-1:i:e[i-1]-t<t-e[i]?i-1:i}return r-1}function die(e,t,n){for(;t<n;){var r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function Wf(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,i=0;i<r;i++)e[e.length]=n[i]}function Z1(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function hie(e,t,n){var r=t||z1;return e.every(function(i,o){if(o===0)return!0;var a=r(e[o-1],i);return!(a>0||n&&a===0)})}function Wy(){return!0}function ow(){return!1}function j1(){}function fie(e){var t=!1,n,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==i||!Z1(o,r))&&(t=!0,i=this,r=o,n=e.apply(this,arguments)),n}}var xl=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function Ub(e){for(var t in e)delete e[t]}var fj=typeof Object.values=="function"?Object.values:function(e){var t=[];for(var n in e)t.push(e[n]);return t};function N1(e){var t;for(t in e)return!1;return!t}var pie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mie=function(e){pie(t,e);function t(n){var r=e.call(this)||this;return r.eventTarget_=n,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return t.prototype.addEventListener=function(n,r){if(!(!n||!r)){var i=this.listeners_||(this.listeners_={}),o=i[n]||(i[n]=[]);o.indexOf(r)===-1&&o.push(r)}},t.prototype.dispatchEvent=function(n){var r=typeof n=="string",i=r?n:n.type,o=this.listeners_&&this.listeners_[i];if(o){var a=r?new rm(n):n;a.target||(a.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,h[i]=0),++s[i];for(var m,C=0,E=o.length;C<E;++C)if("handleEvent"in o[C]?m=o[C].handleEvent(a):m=o[C].call(this,a),m===!1||a.propagationStopped){m=!1;break}if(--s[i]===0){var O=h[i];for(delete h[i];O--;)this.removeEventListener(i,j1);delete s[i]}return m}},t.prototype.disposeInternal=function(){this.listeners_&&Ub(this.listeners_)},t.prototype.getListeners=function(n){return this.listeners_&&this.listeners_[n]||void 0},t.prototype.hasListener=function(n){return this.listeners_?n?n in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(n,r){var i=this.listeners_&&this.listeners_[n];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[o]=j1,++this.pendingRemovals_[n]):(i.splice(o,1),i.length===0&&delete this.listeners_[n]))}},t}(l7);const kv=mie,Gi={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Bo(e,t,n,r,i){if(r&&r!==e&&(n=n.bind(r)),i){var o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}var a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function p4(e,t,n,r){return Bo(e,t,n,r,!0)}function ss(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Ub(e))}var gie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aw=function(e){gie(t,e);function t(){var n=e.call(this)||this;return n.on=n.onInternal,n.once=n.onceInternal,n.un=n.unInternal,n.revision_=0,n}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(Gi.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(n,r){if(Array.isArray(n)){for(var i=n.length,o=new Array(i),a=0;a<i;++a)o[a]=Bo(this,n[a],r);return o}else return Bo(this,n,r)},t.prototype.onceInternal=function(n,r){var i;if(Array.isArray(n)){var o=n.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=p4(this,n[a],r)}else i=p4(this,n,r);return r.ol_key=i,i},t.prototype.unInternal=function(n,r){var i=r.ol_key;if(i)rb(i);else if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)this.removeEventListener(n[o],r);else this.removeEventListener(n,r)},t}(kv);aw.prototype.on;aw.prototype.once;aw.prototype.un;function rb(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)ss(e[t]);else ss(e)}const pj=aw;function Ci(){return function(){throw new Error("Unimplemented abstract method.")}()}var yie=0;function Vi(e){return e.ol_uid||(e.ol_uid=String(++yie))}var vie="6.15.1",mj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RT=function(e){mj(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.key=r,o.oldValue=i,o}return t}(rm),jh=function(e){mj(t,e);function t(n){var r=e.call(this)||this;return r.on,r.once,r.un,Vi(r),r.values_=null,n!==void 0&&r.setProperties(n),r}return t.prototype.get=function(n){var r;return this.values_&&this.values_.hasOwnProperty(n)&&(r=this.values_[n]),r},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&xl({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(n,r){var i;i="change:".concat(n),this.hasListener(i)&&this.dispatchEvent(new RT(i,n,r)),i=hv.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new RT(i,n,r))},t.prototype.addChangeListener=function(n,r){this.addEventListener("change:".concat(n),r)},t.prototype.removeChangeListener=function(n,r){this.removeEventListener("change:".concat(n),r)},t.prototype.set=function(n,r,i){var o=this.values_||(this.values_={});if(i)o[n]=r;else{var a=o[n];o[n]=r,a!==r&&this.notify(n,a)}},t.prototype.setProperties=function(n,r){for(var i in n)this.set(i,n[i],r)},t.prototype.applyProperties=function(n){n.values_&&xl(this.values_||(this.values_={}),n.values_)},t.prototype.unset=function(n,r){if(this.values_&&n in this.values_){var i=this.values_[n];delete this.values_[n],N1(this.values_)&&(this.values_=null),r||this.notify(n,i)}},t}(pj),Cie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_ie=function(e){Cie(t,e);function t(n){var r=this,i="v"+vie.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+n+" for details.";return r=e.call(this,o)||this,r.code=n,r.name="AssertionError",r.message=o,r}return t}(Error);const gj=_ie;function fo(e,t){if(!e)throw new gj(t)}var bie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xie=function(e){bie(t,e);function t(n){var r=e.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),n)if(typeof n.getSimplifiedGeometry=="function"){var i=n;r.setGeometry(i)}else{var o=n;r.setProperties(o)}return r}return t.prototype.clone=function(){var n=new t(this.hasProperties()?this.getProperties():null);n.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&n.setGeometry(r.clone());var i=this.getStyle();return i&&n.setStyle(i),n},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ss(this.geometryChangeKey_),this.geometryChangeKey_=null);var n=this.getGeometry();n&&(this.geometryChangeKey_=Bo(n,Gi.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(n){this.set(this.geometryName_,n)},t.prototype.setStyle=function(n){this.style_=n,this.styleFunction_=n?wie(n):void 0,this.changed()},t.prototype.setId=function(n){this.id_=n,this.changed()},t.prototype.setGeometryName=function(n){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=n,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(jh);function wie(e){if(typeof e=="function")return e;var t;if(Array.isArray(e))t=e;else{fo(typeof e.getZIndex=="function",41);var n=e;t=[n]}return function(){return t}}var QA={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},$f={};$f[QA.RADIANS]=6370997/(2*Math.PI);$f[QA.DEGREES]=2*Math.PI*6370997/360;$f[QA.FEET]=.3048;$f[QA.METERS]=1;$f[QA.USFEET]=1200/3937;var g0=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Mie=g0.indexOf("firefox")!==-1,Sie=g0.indexOf("safari")!==-1&&g0.indexOf("chrom")==-1;Sie&&(g0.indexOf("version/15.4")>=0||g0.match(/cpu (os|iphone os) 15_4 like mac os x/));var Eie=g0.indexOf("webkit")!==-1&&g0.indexOf("edge")==-1,Oie=g0.indexOf("macintosh")!==-1,yj=typeof devicePixelRatio<"u"?devicePixelRatio:1,sw=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Bie=typeof Image<"u"&&Image.prototype.decode,vj=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}(),Cj=new Array(6);function Qd(){return[1,0,0,1,0,0]}function zT(e){return lw(e,1,0,0,1,0,0)}function A7(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=t[0],m=t[1],C=t[2],E=t[3],O=t[4],P=t[5];return e[0]=n*h+i*m,e[1]=r*h+o*m,e[2]=n*C+i*E,e[3]=r*C+o*E,e[4]=n*O+i*P+a,e[5]=r*O+o*P+s,e}function lw(e,t,n,r,i,o,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e}function Iie(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Cl(e,t){var n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function OS(e,t,n){return A7(e,lw(Cj,t,0,0,n,0,0))}function kie(e,t,n){return lw(e,t,0,0,n,0,0)}function Tie(e,t,n){return A7(e,lw(Cj,1,0,0,1,t,n))}function Yf(e,t,n,r,i,o,a,s){var h=Math.sin(o),m=Math.cos(o);return e[0]=r*m,e[1]=i*h,e[2]=-r*h,e[3]=i*m,e[4]=a*r*m-s*r*h+t,e[5]=a*i*h+s*i*m+n,e}function c7(e,t){var n=Kie(t);fo(n!==0,32);var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],h=t[5];return e[0]=a/n,e[1]=-i/n,e[2]=-o/n,e[3]=r/n,e[4]=(o*h-a*s)/n,e[5]=-(r*h-i*s)/n,e}function Kie(e){return e[0]*e[3]-e[1]*e[2]}var jT;function _j(e){var t="matrix("+e.join(", ")+")";if(sw)return t;var n=jT||(jT=document.createElement("div"));return n.style.transform=t,n.style.transform}const _u={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function cO(e){for(var t=Hd(),n=0,r=e.length;n<r;++n)y_(t,e[n]);return t}function Pie(e,t,n){var r=Math.min.apply(null,e),i=Math.min.apply(null,t),o=Math.max.apply(null,e),a=Math.max.apply(null,t);return qf(r,i,o,a,n)}function A0(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function bj(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function X1(e,t,n){var r,i;return t<e[0]?r=e[0]-t:e[2]<t?r=t-e[2]:r=0,n<e[1]?i=e[1]-n:e[3]<n?i=n-e[3]:i=0,r*r+i*i}function Fb(e,t){return d7(e,t[0],t[1])}function qm(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function d7(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function dO(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],h=_u.UNKNOWN;return a<n?h=h|_u.LEFT:a>i&&(h=h|_u.RIGHT),s<r?h=h|_u.BELOW:s>o&&(h=h|_u.ABOVE),h===_u.UNKNOWN&&(h=_u.INTERSECTING),h}function Hd(){return[1/0,1/0,-1/0,-1/0]}function qf(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function Lb(e){return qf(1/0,1/0,-1/0,-1/0,e)}function xj(e,t){var n=e[0],r=e[1];return qf(n,r,n,r,t)}function h7(e,t,n,r,i){var o=Lb(i);return Mj(o,e,t,n,r)}function fv(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function wj(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function y_(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Mj(e,t,n,r,i){for(;n<r;n+=i)Die(e,t[n],t[n+1]);return e}function Die(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Sj(e,t){var n;return n=t(uw(e)),n||(n=t(Aw(e)),n)||(n=t(cw(e)),n)||(n=t(x0(e)),n)?n:!1}function hO(e){var t=0;return f7(e)||(t=xs(e)*Oc(e)),t}function uw(e){return[e[0],e[1]]}function Aw(e){return[e[2],e[1]]}function y0(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Uie(e,t){var n;return t==="bottom-left"?n=uw(e):t==="bottom-right"?n=Aw(e):t==="top-left"?n=x0(e):t==="top-right"?n=cw(e):fo(!1,13),n}function fO(e,t,n,r,i){var o=pO(e,t,n,r),a=o[0],s=o[1],h=o[2],m=o[3],C=o[4],E=o[5],O=o[6],P=o[7];return qf(Math.min(a,h,C,O),Math.min(s,m,E,P),Math.max(a,h,C,O),Math.max(s,m,E,P),i)}function pO(e,t,n,r){var i=t*r[0]/2,o=t*r[1]/2,a=Math.cos(n),s=Math.sin(n),h=i*a,m=i*s,C=o*a,E=o*s,O=e[0],P=e[1];return[O-h+E,P-m-C,O-h-E,P-m+C,O+h-E,P+m+C,O+h+E,P+m-C,O-h+E,P-m-C]}function Oc(e){return e[3]-e[1]}function S1(e,t,n){var r=n||Hd();return bl(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):Lb(r),r}function x0(e){return[e[0],e[3]]}function cw(e){return[e[2],e[3]]}function xs(e){return e[2]-e[0]}function bl(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function f7(e){return e[2]<e[0]||e[3]<e[1]}function Fie(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Lie(e,t,n){var r=!1,i=dO(e,t),o=dO(e,n);if(i===_u.INTERSECTING||o===_u.INTERSECTING)r=!0;else{var a=e[0],s=e[1],h=e[2],m=e[3],C=t[0],E=t[1],O=n[0],P=n[1],D=(P-E)/(O-C),$=void 0,ee=void 0;o&_u.ABOVE&&!(i&_u.ABOVE)&&($=O-(P-m)/D,r=$>=a&&$<=h),!r&&o&_u.RIGHT&&!(i&_u.RIGHT)&&(ee=P-(O-h)*D,r=ee>=s&&ee<=m),!r&&o&_u.BELOW&&!(i&_u.BELOW)&&($=O-(P-s)/D,r=$>=a&&$<=h),!r&&o&_u.LEFT&&!(i&_u.LEFT)&&(ee=P-(O-a)*D,r=ee>=s&&ee<=m)}return r}function Rie(e,t,n,r){var i=[];if(r>1)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<r;++s)i.push(e[0]+o*s/r,e[1],e[2],e[1]+a*s/r,e[2]-o*s/r,e[3],e[0],e[3]-a*s/r);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var h=[],m=[],s=0,C=i.length;s<C;s+=2)h.push(i[s]),m.push(i[s+1]);return Pie(h,m,n)}function Ej(e,t){var n=t.getExtent(),r=y0(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=xs(n),o=Math.floor((r[0]-n[0])/i),a=o*i;e[0]-=a,e[2]-=a}return e}function zie(e,t){if(t.canWrapX()){var n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];Ej(e,t);var r=xs(n);if(xs(e)>r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+r,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-r,e[3]]]}return[e]}var jie=function(){function e(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||$f[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},e.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},e.prototype.setWorldExtent=function(t){this.worldExtent_=t},e.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();const p7=jie;function Fl(e,t,n){return Math.min(Math.max(e,t),n)}var Nie=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(t){var n=Math.exp(t);return(n+1/n)/2},e}(),Gie=function(){var e;return"log2"in Math?e=Math.log2:e=function(t){return Math.log(t)*Math.LOG2E},e}();function Wie(e,t,n,r,i,o){var a=i-n,s=o-r;if(a!==0||s!==0){var h=((e-n)*a+(t-r)*s)/(a*a+s*s);h>1?(n=i,r=o):h>0&&(n+=a*h,r+=s*h)}return E1(e,t,n,r)}function E1(e,t,n,r){var i=n-e,o=r-t;return i*i+o*o}function Qie(e){for(var t=e.length,n=0;n<t;n++){for(var r=n,i=Math.abs(e[n][n]),o=n+1;o<t;o++){var a=Math.abs(e[o][n]);a>i&&(i=a,r=o)}if(i===0)return null;var s=e[r];e[r]=e[n],e[n]=s;for(var h=n+1;h<t;h++)for(var m=-e[h][n]/e[n][n],C=n;C<t+1;C++)n==C?e[h][C]=0:e[h][C]+=m*e[n][C]}for(var E=new Array(t),O=t-1;O>=0;O--){E[O]=e[O][t]/e[O][O];for(var P=O-1;P>=0;P--)e[P][t]-=e[P][O]*E[O]}return E}function p3(e){return e*Math.PI/180}function O1(e,t){var n=e%t;return n*t<0?n+t:n}function Rp(e,t,n){return e+n*(t-e)}function Oj(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function Cx(e,t){return Math.floor(Oj(e,t))}function _x(e,t){return Math.ceil(Oj(e,t))}var $ie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rb=6378137,by=Math.PI*Rb,Yie=[-by,-by,by,by],qie=[-180,-85,180,85],bx=Rb*Math.log(Math.tan(Math.PI/2)),Lg=function(e){$ie(t,e);function t(n){return e.call(this,{code:n,units:QA.METERS,extent:Yie,global:!0,worldExtent:qie,getPointResolution:function(r,i){return r/Nie(i[1]/Rb)}})||this}return t}(p7),NT=[new Lg("EPSG:3857"),new Lg("EPSG:102100"),new Lg("EPSG:102113"),new Lg("EPSG:900913"),new Lg("http://www.opengis.net/def/crs/EPSG/0/3857"),new Lg("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Hie(e,t,n){var r=e.length,i=n>1?n:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var a=0;a<r;a+=i){o[a]=by*e[a]/180;var s=Rb*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>bx?s=bx:s<-bx&&(s=-bx),o[a+1]=s}return o}function Vie(e,t,n){var r=e.length,i=n>1?n:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var a=0;a<r;a+=i)o[a]=180*e[a]/by,o[a+1]=360*Math.atan(Math.exp(e[a+1]/Rb))/Math.PI-90;return o}var Zie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xie=6378137,GT=[-180,-90,180,90],Jie=Math.PI*Xie/180,Y0=function(e){Zie(t,e);function t(n,r){return e.call(this,{code:n,units:QA.DEGREES,extent:GT,axisOrientation:r,global:!0,metersPerUnit:Jie,worldExtent:GT})||this}return t}(p7),WT=[new Y0("CRS:84"),new Y0("EPSG:4326","neu"),new Y0("urn:ogc:def:crs:OGC:1.3:CRS84"),new Y0("urn:ogc:def:crs:OGC:2:84"),new Y0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Y0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Y0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],mO={};function eoe(e){return mO[e]||mO[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function toe(e,t){mO[e]=t}var Qy={};function m4(e,t,n){var r=e.getCode(),i=t.getCode();r in Qy||(Qy[r]={}),Qy[r][i]=n}function noe(e,t){var n;return e in Qy&&t in Qy[e]&&(n=Qy[e][t]),n}function roe(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function g4(e,t){for(var n=!0,r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function m7(e,t){var n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,o=e[1]*n+e[0]*r;return e[0]=i,e[1]=o,e}function ioe(e,t){return e[0]*=t,e[1]*=t,e}function g7(e,t){if(t.canWrapX()){var n=xs(t.getExtent()),r=ooe(e,t,n);r&&(e[0]-=r*n)}return e}function ooe(e,t,n){var r=t.getExtent(),i=0;if(t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var o=n||xs(r);i=Math.floor((e[0]-r[0])/o)}return i}var aoe=63710088e-1;function QT(e,t,n){var r=n||aoe,i=p3(e[1]),o=p3(t[1]),a=(o-i)/2,s=p3(t[0]-e[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}var gO=!0;function Bj(e){var t=e===void 0?!0:e;gO=!t}function y7(e,t,n){var r;if(t!==void 0){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];r=t}else r=e.slice();return r}function Ij(e,t,n){if(t!==void 0&&e!==t){for(var r=0,i=e.length;r<i;++r)t[r]=e[r];e=t}return e}function soe(e){toe(e.getCode(),e),m4(e,e,y7)}function loe(e){e.forEach(soe)}function Xs(e){return typeof e=="string"?eoe(e):e||null}function $T(e,t,n,r){e=Xs(e);var i,o=e.getPointResolutionFunc();if(o){if(i=o(t,n),r&&r!==e.getUnits()){var a=e.getMetersPerUnit();a&&(i=i*a/$f[r])}}else{var s=e.getUnits();if(s==QA.DEGREES&&!r||r==QA.DEGREES)i=t;else{var h=dw(e,Xs("EPSG:4326"));if(h===Ij&&s!==QA.DEGREES)i=t*e.getMetersPerUnit();else{var m=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];m=h(m,m,2);var C=QT(m.slice(0,2),m.slice(2,4)),E=QT(m.slice(4,6),m.slice(6,8));i=(C+E)/2}var a=r?$f[r]:e.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function YT(e){loe(e),e.forEach(function(t){e.forEach(function(n){t!==n&&m4(t,n,y7)})})}function uoe(e,t,n,r){e.forEach(function(i){t.forEach(function(o){m4(i,o,n),m4(o,i,r)})})}function v7(e,t){return e?typeof e=="string"?Xs(e):e:Xs(t)}function yO(e,t){return Bj(),C7(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function BS(e,t){var n=C7(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=O1(r+180,360)-180),n}function l1(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return n;var r=dw(e,t);return r===y7&&n}function dw(e,t){var n=e.getCode(),r=t.getCode(),i=noe(n,r);return i||(i=Ij),i}function y4(e,t){var n=Xs(e),r=Xs(t);return dw(n,r)}function C7(e,t,n){var r=y4(t,n);return r(e,void 0,e.length)}var Aoe=null;function coe(){return Aoe}function vO(e,t){return e}function kp(e,t){return gO&&!g4(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(gO=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function kj(e,t){return e}function g1(e,t){return e}function doe(){YT(NT),YT(WT),uoe(WT,NT,Hie,Vie)}doe();function c0(e,t,n,r,i,o){for(var a=o||[],s=0,h=t;h<n;h+=r){var m=e[h],C=e[h+1];a[s++]=i[0]*m+i[2]*C+i[4],a[s++]=i[1]*m+i[3]*C+i[5]}return o&&a.length!=s&&(a.length=s),a}function Tj(e,t,n,r,i,o,a){for(var s=a||[],h=Math.cos(i),m=Math.sin(i),C=o[0],E=o[1],O=0,P=t;P<n;P+=r){var D=e[P]-C,$=e[P+1]-E;s[O++]=C+D*h-$*m,s[O++]=E+D*m+$*h;for(var ee=P+2;ee<P+r;++ee)s[O++]=e[ee]}return a&&s.length!=O&&(s.length=O),s}function hoe(e,t,n,r,i,o,a,s){for(var h=s||[],m=a[0],C=a[1],E=0,O=t;O<n;O+=r){var P=e[O]-m,D=e[O+1]-C;h[E++]=m+i*P,h[E++]=C+o*D;for(var $=O+2;$<O+r;++$)h[E++]=e[$]}return s&&h.length!=E&&(h.length=E),h}function foe(e,t,n,r,i,o,a){for(var s=a||[],h=0,m=t;m<n;m+=r){s[h++]=e[m]+i,s[h++]=e[m+1]+o;for(var C=m+2;C<m+r;++C)s[h++]=e[C]}return a&&s.length!=h&&(s.length=h),s}var poe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qT=Qd(),moe=function(e){poe(t,e);function t(){var n=e.call(this)||this;return n.extent_=Hd(),n.extentRevision_=-1,n.simplifiedGeometryMaxMinSquaredTolerance=0,n.simplifiedGeometryRevision=0,n.simplifyTransformedInternal=fie(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),n}return t.prototype.simplifyTransformed=function(n,r){return this.simplifyTransformedInternal(this.getRevision(),n,r)},t.prototype.clone=function(){return Ci()},t.prototype.closestPointXY=function(n,r,i,o){return Ci()},t.prototype.containsXY=function(n,r){var i=this.getClosestPoint([n,r]);return i[0]===n&&i[1]===r},t.prototype.getClosestPoint=function(n,r){var i=r||[NaN,NaN];return this.closestPointXY(n[0],n[1],i,1/0),i},t.prototype.intersectsCoordinate=function(n){return this.containsXY(n[0],n[1])},t.prototype.computeExtent=function(n){return Ci()},t.prototype.getExtent=function(n){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&Lb(r),this.extentRevision_=this.getRevision()}return Fie(this.extent_,n)},t.prototype.rotate=function(n,r){Ci()},t.prototype.scale=function(n,r,i){Ci()},t.prototype.simplify=function(n){return this.getSimplifiedGeometry(n*n)},t.prototype.getSimplifiedGeometry=function(n){return Ci()},t.prototype.getType=function(){return Ci()},t.prototype.applyTransform=function(n){Ci()},t.prototype.intersectsExtent=function(n){return Ci()},t.prototype.translate=function(n,r){Ci()},t.prototype.transform=function(n,r){var i=Xs(n),o=i.getUnits()==QA.TILE_PIXELS?function(a,s,h){var m=i.getExtent(),C=i.getWorldExtent(),E=Oc(C)/Oc(m);return Yf(qT,C[0],C[3],E,-E,0,0,0),c0(a,0,a.length,h,qT,s),y4(i,r)(a,s,h)}:y4(i,r);return this.applyTransform(o),this},t}(jh);const Kj=moe;var goe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yoe=function(e){goe(t,e);function t(n){var r=e.call(this)||this;return r.geometries_=n||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(ss),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var n=0,r=this.geometries_.length;n<r;++n)this.changeEventsKeys_.push(Bo(this.geometries_[n],Gi.CHANGE,this.changed,this))},t.prototype.clone=function(){var n=new t(null);return n.setGeometries(this.geometries_),n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){if(o<X1(this.getExtent(),n,r))return o;for(var a=this.geometries_,s=0,h=a.length;s<h;++s)o=a[s].closestPointXY(n,r,i,o);return o},t.prototype.containsXY=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)if(i[o].containsXY(n,r))return!0;return!1},t.prototype.computeExtent=function(n){Lb(n);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)wj(n,r[i].getExtent());return n},t.prototype.getGeometries=function(){return HT(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var n=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?n=n.concat(r[i].getGeometriesArrayRecursive()):n.push(r[i]);return n},t.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&n<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,a=0,s=i.length;a<s;++a){var h=i[a],m=h.getSimplifiedGeometry(n);r.push(m),m!==h&&(o=!0)}if(o){var C=new t(null);return C.setGeometriesArray(r),C}else return this.simplifiedGeometryMaxMinSquaredTolerance=n,this},t.prototype.getType=function(){return"GeometryCollection"},t.prototype.intersectsExtent=function(n){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(n))return!0;return!1},t.prototype.isEmpty=function(){return this.geometries_.length===0},t.prototype.rotate=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].rotate(n,r);this.changed()},t.prototype.scale=function(n,r,i){var o=i;o||(o=y0(this.getExtent()));for(var a=this.geometries_,s=0,h=a.length;s<h;++s)a[s].scale(n,r,o);this.changed()},t.prototype.setGeometries=function(n){this.setGeometriesArray(HT(n))},t.prototype.setGeometriesArray=function(n){this.unlistenGeometriesChange_(),this.geometries_=n,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(n){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(n);this.changed()},t.prototype.translate=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].translate(n,r);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(Kj);function HT(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const voe=yoe;var Pj=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(t,n){var r;if(n){var i=n.dataProjection?Xs(n.dataProjection):this.readProjection(t);n.extent&&i&&i.getUnits()===QA.TILE_PIXELS&&(i=Xs(i),i.setWorldExtent(n.extent)),r={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(r)},e.prototype.adaptOptions=function(t){return xl({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},e.prototype.getType=function(){return Ci()},e.prototype.readFeature=function(t,n){return Ci()},e.prototype.readFeatures=function(t,n){return Ci()},e.prototype.readGeometry=function(t,n){return Ci()},e.prototype.readProjection=function(t){return Ci()},e.prototype.writeFeature=function(t,n){return Ci()},e.prototype.writeFeatures=function(t,n){return Ci()},e.prototype.writeGeometry=function(t,n){return Ci()},e}();function _7(e,t,n){var r=n?Xs(n.featureProjection):null,i=n?Xs(n.dataProjection):null,o;if(r&&i&&!l1(r,i)?o=(t?e.clone():e).transform(t?r:i,t?i:r):o=e,t&&n&&n.decimals!==void 0){var a=Math.pow(10,n.decimals),s=function(h){for(var m=0,C=h.length;m<C;++m)h[m]=Math.round(h[m]*a)/a;return h};o===e&&(o=e.clone()),o.applyTransform(s)}return o}var Coe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_oe=function(e){Coe(t,e);function t(){return e.call(this)||this}return t.prototype.getType=function(){return"json"},t.prototype.readFeature=function(n,r){return this.readFeatureFromObject(xx(n),this.getReadOptions(n,r))},t.prototype.readFeatures=function(n,r){return this.readFeaturesFromObject(xx(n),this.getReadOptions(n,r))},t.prototype.readFeatureFromObject=function(n,r){return Ci()},t.prototype.readFeaturesFromObject=function(n,r){return Ci()},t.prototype.readGeometry=function(n,r){return this.readGeometryFromObject(xx(n),this.getReadOptions(n,r))},t.prototype.readGeometryFromObject=function(n,r){return Ci()},t.prototype.readProjection=function(n){return this.readProjectionFromObject(xx(n))},t.prototype.readProjectionFromObject=function(n){return Ci()},t.prototype.writeFeature=function(n,r){return JSON.stringify(this.writeFeatureObject(n,r))},t.prototype.writeFeatureObject=function(n,r){return Ci()},t.prototype.writeFeatures=function(n,r){return JSON.stringify(this.writeFeaturesObject(n,r))},t.prototype.writeFeaturesObject=function(n,r){return Ci()},t.prototype.writeGeometry=function(n,r){return JSON.stringify(this.writeGeometryObject(n,r))},t.prototype.writeGeometryObject=function(n,r){return Ci()},t}(Pj);function xx(e){if(typeof e=="string"){var t=JSON.parse(e);return t||null}else return e!==null?e:null}const boe=_oe,Wa={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var xoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),woe=function(e){xoe(t,e);function t(){var n=e.call(this)||this;return n.layout=Wa.XY,n.stride=2,n.flatCoordinates=null,n}return t.prototype.computeExtent=function(n){return h7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.getCoordinates=function(){return Ci()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(n),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=n,this)},t.prototype.getSimplifiedGeometryInternal=function(n){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(n,r){this.stride=VT(n),this.layout=n,this.flatCoordinates=r},t.prototype.setCoordinates=function(n,r){Ci()},t.prototype.setLayout=function(n,r,i){var o;if(n)o=VT(n);else{for(var a=0;a<i;++a)if(r.length===0){this.layout=Wa.XY,this.stride=2;return}else r=r[0];o=r.length,n=Moe(o)}this.layout=n,this.stride=o},t.prototype.applyTransform=function(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Tj(i,0,i.length,o,n,r,i),this.changed()}},t.prototype.scale=function(n,r,i){var o=r;o===void 0&&(o=n);var a=i;a||(a=y0(this.getExtent()));var s=this.getFlatCoordinates();if(s){var h=this.getStride();hoe(s,0,s.length,h,n,o,a,s),this.changed()}},t.prototype.translate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();foe(i,0,i.length,o,n,r,i),this.changed()}},t}(Kj);function Moe(e){var t;return e==2?t=Wa.XY:e==3?t=Wa.XYZ:e==4&&(t=Wa.XYZM),t}function VT(e){var t;return e==Wa.XY?t=2:e==Wa.XYZ||e==Wa.XYM?t=3:e==Wa.XYZM&&(t=4),t}function Soe(e,t,n){var r=e.getFlatCoordinates();if(r){var i=e.getStride();return c0(r,0,r.length,i,t,n)}else return null}const J1=woe;function ZT(e,t,n,r,i,o,a){var s=e[t],h=e[t+1],m=e[n]-s,C=e[n+1]-h,E;if(m===0&&C===0)E=t;else{var O=((i-s)*m+(o-h)*C)/(m*m+C*C);if(O>1)E=n;else if(O>0){for(var P=0;P<r;++P)a[P]=Rp(e[t+P],e[n+P],O);a.length=r;return}else E=t}for(var P=0;P<r;++P)a[P]=e[E+P];a.length=r}function b7(e,t,n,r,i){var o=e[t],a=e[t+1];for(t+=r;t<n;t+=r){var s=e[t],h=e[t+1],m=E1(o,a,s,h);m>i&&(i=m),o=s,a=h}return i}function x7(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=b7(e,t,s,r,i),t=s}return i}function Eoe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=x7(e,t,s,r,i),t=s[s.length-1]}return i}function w7(e,t,n,r,i,o,a,s,h,m,C){if(t==n)return m;var E,O;if(i===0)if(O=E1(a,s,e[t],e[t+1]),O<m){for(E=0;E<r;++E)h[E]=e[t+E];return h.length=r,O}else return m;for(var P=C||[NaN,NaN],D=t+r;D<n;)if(ZT(e,D-r,D,r,a,s,P),O=E1(a,s,P[0],P[1]),O<m){for(m=O,E=0;E<r;++E)h[E]=P[E];h.length=r,D+=r}else D+=r*Math.max((Math.sqrt(O)-Math.sqrt(m))/i|0,1);if(o&&(ZT(e,n-r,t,r,a,s,P),O=E1(a,s,P[0],P[1]),O<m)){for(m=O,E=0;E<r;++E)h[E]=P[E];h.length=r}return m}function M7(e,t,n,r,i,o,a,s,h,m,C){for(var E=C||[NaN,NaN],O=0,P=n.length;O<P;++O){var D=n[O];m=w7(e,t,D,r,i,o,a,s,h,m,E),t=D}return m}function Ooe(e,t,n,r,i,o,a,s,h,m,C){for(var E=C||[NaN,NaN],O=0,P=n.length;O<P;++O){var D=n[O];m=M7(e,t,D,r,i,o,a,s,h,m,E),t=D[D.length-1]}return m}function Boe(e,t,n,r){for(var i=0,o=n.length;i<o;++i)e[t++]=n[i];return t}function hw(e,t,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)e[t++]=a[s];return t}function S7(e,t,n,r,i){for(var o=i||[],a=0,s=0,h=n.length;s<h;++s){var m=hw(e,t,n[s],r);o[a++]=m,t=m}return o.length=a,o}function Ioe(e,t,n,r,i){for(var o=i||[],a=0,s=0,h=n.length;s<h;++s){var m=S7(e,t,n[s],r,o[a]);o[a++]=m,t=m[m.length-1]}return o.length=a,o}function E7(e,t,n,r,i,o,a){var s=(n-t)/r;if(s<3){for(;t<n;t+=r)o[a++]=e[t],o[a++]=e[t+1];return a}var h=new Array(s);h[0]=1,h[s-1]=1;for(var m=[t,n-r],C=0;m.length>0;){for(var E=m.pop(),O=m.pop(),P=0,D=e[O],$=e[O+1],ee=e[E],H=e[E+1],G=O+r;G<E;G+=r){var Z=e[G],ue=e[G+1],ye=Wie(Z,ue,D,$,ee,H);ye>P&&(C=G,P=ye)}P>i&&(h[(C-t)/r]=1,O+r<C&&m.push(O,C),C+r<E&&m.push(C,E))}for(var G=0;G<s;++G)h[G]&&(o[a++]=e[t+G*r],o[a++]=e[t+G*r+1]);return a}function koe(e,t,n,r,i,o,a,s){for(var h=0,m=n.length;h<m;++h){var C=n[h];a=E7(e,t,C,r,i,o,a),s.push(a),t=C}return a}function r1(e,t){return t*Math.round(e/t)}function Toe(e,t,n,r,i,o,a){if(t==n)return a;var s=r1(e[t],i),h=r1(e[t+1],i);t+=r,o[a++]=s,o[a++]=h;var m,C;do if(m=r1(e[t],i),C=r1(e[t+1],i),t+=r,t==n)return o[a++]=m,o[a++]=C,a;while(m==s&&C==h);for(;t<n;){var E=r1(e[t],i),O=r1(e[t+1],i);if(t+=r,!(E==m&&O==C)){var P=m-s,D=C-h,$=E-s,ee=O-h;if(P*ee==D*$&&(P<0&&$<P||P==$||P>0&&$>P)&&(D<0&&ee<D||D==ee||D>0&&ee>D)){m=E,C=O;continue}o[a++]=m,o[a++]=C,s=m,h=C,m=E,C=O}}return o[a++]=m,o[a++]=C,a}function Dj(e,t,n,r,i,o,a,s){for(var h=0,m=n.length;h<m;++h){var C=n[h];a=Toe(e,t,C,r,i,o,a),s.push(a),t=C}return a}function Koe(e,t,n,r,i,o,a,s){for(var h=0,m=n.length;h<m;++h){var C=n[h],E=[];a=Dj(e,t,C,r,i,o,a,E),s.push(E),t=C[C.length-1]}return a}function Uj(e,t,n,r,i){var o;for(t+=r;t<n;t+=r)if(o=i(e.slice(t-r,t),e.slice(t,t+r)),o)return o;return!1}function Hm(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=t;s<n;s+=r)o[a++]=e.slice(s,s+r);return o.length=a,o}function ib(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=0,h=n.length;s<h;++s){var m=n[s];o[a++]=Hm(e,t,m,r,o[a]),t=m}return o.length=a,o}function CO(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=0,h=n.length;s<h;++s){var m=n[s];o[a++]=ib(e,t,m,r,o[a]),t=m[m.length-1]}return o.length=a,o}function v4(e,t,n,r,i,o,a){var s,h,m=(n-t)/r;if(m===1)s=t;else if(m===2)s=t,h=i;else if(m!==0){for(var C=e[t],E=e[t+1],O=0,P=[0],D=t+r;D<n;D+=r){var $=e[D],ee=e[D+1];O+=Math.sqrt(($-C)*($-C)+(ee-E)*(ee-E)),P.push(O),C=$,E=ee}var H=i*O,G=cie(P,H);G<0?(h=(H-P[-G-2])/(P[-G-1]-P[-G-2]),s=t+(-G-2)*r):s=t+G*r}for(var Z=a>1?a:2,ue=o||new Array(Z),D=0;D<Z;++D)ue[D]=s===void 0?NaN:h===void 0?e[s+D]:Rp(e[s+D],e[s+r+D],h);return ue}function _O(e,t,n,r,i,o){if(n==t)return null;var a;if(i<e[t+r-1])return o?(a=e.slice(t,t+r),a[r-1]=i,a):null;if(e[n-1]<i)return o?(a=e.slice(n-r,n),a[r-1]=i,a):null;if(i==e[t+r-1])return e.slice(t,t+r);for(var s=t/r,h=n/r;s<h;){var m=s+h>>1;i<e[(m+1)*r-1]?h=m:s=m+1}var C=e[s*r-1];if(i==C)return e.slice((s-1)*r,(s-1)*r+r);var E=e[(s+1)*r-1],O=(i-C)/(E-C);a=[];for(var P=0;P<r-1;++P)a.push(Rp(e[(s-1)*r+P],e[s*r+P],O));return a.push(i),a}function Poe(e,t,n,r,i,o,a){if(a)return _O(e,t,n[n.length-1],r,i,o);var s;if(i<e[r-1])return o?(s=e.slice(0,r),s[r-1]=i,s):null;if(e[e.length-1]<i)return o?(s=e.slice(e.length-r),s[r-1]=i,s):null;for(var h=0,m=n.length;h<m;++h){var C=n[h];if(t!=C){if(i<e[t+r-1])return null;if(i<=e[C-1])return _O(e,t,C,r,i,!1);t=C}}return null}function Doe(e,t,n,r,i){var o=Sj(i,function(a){return!y1(e,t,n,r,a[0],a[1])});return!o}function y1(e,t,n,r,i,o){for(var a=0,s=e[n-r],h=e[n-r+1];t<n;t+=r){var m=e[t],C=e[t+1];h<=o?C>o&&(m-s)*(o-h)-(i-s)*(C-h)>0&&a++:C<=o&&(m-s)*(o-h)-(i-s)*(C-h)<0&&a--,s=m,h=C}return a!==0}function O7(e,t,n,r,i,o){if(n.length===0||!y1(e,t,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(y1(e,n[a-1],n[a],r,i,o))return!1;return!0}function Uoe(e,t,n,r,i,o){if(n.length===0)return!1;for(var a=0,s=n.length;a<s;++a){var h=n[a];if(O7(e,t,h,r,i,o))return!0;t=h[h.length-1]}return!1}function fw(e,t,n,r,i){var o=Mj(Hd(),e,t,n,r);return bl(i,o)?qm(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:Uj(e,t,n,r,function(a,s){return Lie(i,a,s)}):!1}function Foe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){if(fw(e,t,n[o],r,i))return!0;t=n[o]}return!1}function Fj(e,t,n,r,i){return!!(fw(e,t,n,r,i)||y1(e,t,n,r,i[0],i[1])||y1(e,t,n,r,i[0],i[3])||y1(e,t,n,r,i[2],i[1])||y1(e,t,n,r,i[2],i[3]))}function Lj(e,t,n,r,i){if(!Fj(e,t,n[0],r,i))return!1;if(n.length===1)return!0;for(var o=1,a=n.length;o<a;++o)if(Doe(e,n[o-1],n[o],r,i)&&!fw(e,n[o-1],n[o],r,i))return!1;return!0}function Loe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(Lj(e,t,s,r,i))return!0;t=s[s.length-1]}return!1}function Rj(e,t,n,r){for(var i=e[t],o=e[t+1],a=0,s=t+r;s<n;s+=r){var h=e[s],m=e[s+1];a+=Math.sqrt((h-i)*(h-i)+(m-o)*(m-o)),i=h,o=m}return a}var Roe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zoe=function(e){Roe(t,e);function t(n,r){var i=e.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.appendCoordinate=function(n){this.flatCoordinates?Wf(this.flatCoordinates,n):this.flatCoordinates=n.slice(),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<X1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(b7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),w7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,n,r,i,o))},t.prototype.forEachSegment=function(n){return Uj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.getCoordinateAtM=function(n,r){if(this.layout!=Wa.XYM&&this.layout!=Wa.XYZM)return null;var i=r!==void 0?r:!1;return _O(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,i)},t.prototype.getCoordinates=function(){return Hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(n,r){return v4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,this.stride)},t.prototype.getLength=function(){return Rj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=E7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new t(r,Wa.XY)},t.prototype.getType=function(){return"LineString"},t.prototype.intersectsExtent=function(n){return fw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hw(this.flatCoordinates,0,n,this.stride),this.changed()},t}(J1);const C4=zoe;var joe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Noe=function(e){joe(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(n[0]))o.setCoordinates(n,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,n),o.ends_=i;else{for(var a=o.getLayout(),s=n,h=[],m=[],C=0,E=s.length;C<E;++C){var O=s[C];C===0&&(a=O.getLayout()),Wf(h,O.getFlatCoordinates()),m.push(h.length)}o.setFlatCoordinates(a,h),o.ends_=m}return o}return t.prototype.appendLineString=function(n){this.flatCoordinates?Wf(this.flatCoordinates,n.getFlatCoordinates().slice()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<X1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(x7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),M7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,n,r,i,o))},t.prototype.getCoordinateAtM=function(n,r,i){if(this.layout!=Wa.XYM&&this.layout!=Wa.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,a=i!==void 0?i:!1;return Poe(this.flatCoordinates,0,this.ends_,this.stride,n,o,a)},t.prototype.getCoordinates=function(){return ib(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(n){return n<0||this.ends_.length<=n?null:new C4(this.flatCoordinates.slice(n===0?0:this.ends_[n-1],this.ends_[n]),this.layout)},t.prototype.getLineStrings=function(){for(var n=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],a=0,s=0,h=r.length;s<h;++s){var m=r[s],C=new C4(n.slice(a,m),i);o.push(C),a=m}return o},t.prototype.getFlatMidpoints=function(){for(var n=[],r=this.flatCoordinates,i=0,o=this.ends_,a=this.stride,s=0,h=o.length;s<h;++s){var m=o[s],C=v4(r,i,m,a,.5);Wf(n,C),i=m}return n},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=koe(this.flatCoordinates,0,this.ends_,this.stride,n,r,0,i),new t(r,Wa.XY,i)},t.prototype.getType=function(){return"MultiLineString"},t.prototype.intersectsExtent=function(n){return Foe(this.flatCoordinates,0,this.ends_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=S7(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(J1);const zj=Noe;var Goe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Woe=function(e){Goe(t,e);function t(n,r){var i=e.call(this)||this;return i.setCoordinates(n,r),i}return t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){var a=this.flatCoordinates,s=E1(n,r,a[0],a[1]);if(s<o){for(var h=this.stride,m=0;m<h;++m)i[m]=a[m];return i.length=h,s}else return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(n){return xj(this.flatCoordinates,n)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(n){return d7(n,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Boe(this.flatCoordinates,0,n,this.stride),this.changed()},t}(J1);const ob=Woe;var Qoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$oe=function(e){Qoe(t,e);function t(n,r){var i=e.call(this)||this;return r&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.appendPoint=function(n){this.flatCoordinates?Wf(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){if(o<X1(this.getExtent(),n,r))return o;for(var a=this.flatCoordinates,s=this.stride,h=0,m=a.length;h<m;h+=s){var C=E1(n,r,a[h],a[h+1]);if(C<o){o=C;for(var E=0;E<s;++E)i[E]=a[h+E];i.length=s}}return o},t.prototype.getCoordinates=function(){return Hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(n){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return n<0||r<=n?null:new ob(this.flatCoordinates.slice(n*this.stride,(n+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var n=this.flatCoordinates,r=this.layout,i=this.stride,o=[],a=0,s=n.length;a<s;a+=i){var h=new ob(n.slice(a,a+i),r);o.push(h)}return o},t.prototype.getType=function(){return"MultiPoint"},t.prototype.intersectsExtent=function(n){for(var r=this.flatCoordinates,i=this.stride,o=0,a=r.length;o<a;o+=i){var s=r[o],h=r[o+1];if(d7(n,s,h))return!0}return!1},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hw(this.flatCoordinates,0,n,this.stride),this.changed()},t}(J1);const B7=$oe;function jj(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],h=e[t+1];i+=a*s-o*h,o=s,a=h}return i/2}function Nj(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=jj(e,t,s,r),t=s}return i}function Yoe(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=Nj(e,t,s,r),t=s[s.length-1]}return i}var qoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hoe=function(e){qoe(t,e);function t(n,r){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(n,r,i,o){return o<X1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(b7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),w7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.getArea=function(){return jj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=E7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new t(r,Wa.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(n){return!1},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hw(this.flatCoordinates,0,n,this.stride),this.changed()},t}(J1);const XT=Hoe;function I7(e,t,n,r,i,o,a){for(var s,h,m,C,E,O,P,D=i[o+1],$=[],ee=0,H=n.length;ee<H;++ee){var G=n[ee];for(C=e[G-r],O=e[G-r+1],s=t;s<G;s+=r)E=e[s],P=e[s+1],(D<=O&&P<=D||O<=D&&D<=P)&&(m=(D-O)/(P-O)*(E-C)+C,$.push(m)),C=E,O=P}var Z=NaN,ue=-1/0;for($.sort(z1),C=$[0],s=1,h=$.length;s<h;++s){E=$[s];var ye=Math.abs(E-C);ye>ue&&(m=(C+E)/2,O7(e,t,n,r,m,D)&&(Z=m,ue=ye)),C=E}return isNaN(Z)&&(Z=i[o]),a?(a.push(Z,D,ue),a):[Z,D,ue]}function Gj(e,t,n,r,i){for(var o=[],a=0,s=n.length;a<s;++a){var h=n[a];o=I7(e,t,h,r,i,2*a,o),t=h[h.length-1]}return o}function Voe(e,t,n,r){for(;t<n-r;){for(var i=0;i<r;++i){var o=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=o}t+=r,n-=r}}function k7(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],h=e[t+1];i+=(s-o)*(h+a),o=s,a=h}return i===0?void 0:i>0}function Wj(e,t,n,r,i){for(var o=i!==void 0?i:!1,a=0,s=n.length;a<s;++a){var h=n[a],m=k7(e,t,h,r);if(a===0){if(o&&m||!o&&!m)return!1}else if(o&&!m||!o&&m)return!1;t=h}return!0}function Zoe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(!Wj(e,t,s,r,i))return!1;s.length&&(t=s[s.length-1])}return!0}function bO(e,t,n,r,i){for(var o=i!==void 0?i:!1,a=0,s=n.length;a<s;++a){var h=n[a],m=k7(e,t,h,r),C=a===0?o&&m||!o&&!m:o&&!m||!o&&m;C&&Voe(e,t,h,r),t=h}return t}function JT(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o)t=bO(e,t,n[o],r,i);return t}function Xoe(e,t){for(var n=[],r=0,i=0,o=0,a=t.length;o<a;++o){var s=t[o];if(!k7(e,r,s,2))n.push(t.slice(i,o+1));else{if(n.length===0)continue;n[n.length-1].push(t[i])}i=o+1,r=s}return n}var Joe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qj=function(e){Joe(t,e);function t(n,r,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,n),o.ends_=i):o.setCoordinates(n,r),o}return t.prototype.appendLinearRing=function(n){this.flatCoordinates?Wf(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<X1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(x7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),M7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.containsXY=function(n,r){return O7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,r)},t.prototype.getArea=function(){return Nj(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(n){var r;return n!==void 0?(r=this.getOrientedFlatCoordinates().slice(),bO(r,0,this.ends_,this.stride,n)):r=this.flatCoordinates,ib(r,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var n=y0(this.getExtent());this.flatInteriorPoint_=I7(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new ob(this.getFlatInteriorPoint(),Wa.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(n){return n<0||this.ends_.length<=n?null:new XT(this.flatCoordinates.slice(n===0?0:this.ends_[n-1],this.ends_[n]),this.layout)},t.prototype.getLinearRings=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,h=i.length;s<h;++s){var m=i[s],C=new XT(r.slice(a,m),n);o.push(C),a=m}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;Wj(n,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=bO(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=Dj(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(n),r,0,i),new t(r,Wa.XY,i)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(n){return Lj(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=S7(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(J1);const ab=Qj;function eK(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=[t,n,t,i,r,i,r,n,t,n];return new Qj(o,Wa.XY,[o.length])}function $j(e,t,n,r){for(var i=[],o=Hd(),a=0,s=n.length;a<s;++a){var h=n[a];o=h7(e,t,h[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=h[h.length-1]}return i}var eae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tae=function(e){eae(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(n[0])){for(var a=o.getLayout(),s=n,h=[],m=[],C=0,E=s.length;C<E;++C){var O=s[C];C===0&&(a=O.getLayout());for(var P=h.length,D=O.getEnds(),$=0,ee=D.length;$<ee;++$)D[$]+=P;Wf(h,O.getFlatCoordinates()),m.push(D)}r=a,n=h,i=m}return r!==void 0&&i?(o.setFlatCoordinates(r,n),o.endss_=i):o.setCoordinates(n,r),o}return t.prototype.appendPolygon=function(n){var r;if(!this.flatCoordinates)this.flatCoordinates=n.getFlatCoordinates().slice(),r=n.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;Wf(this.flatCoordinates,n.getFlatCoordinates()),r=n.getEnds().slice();for(var o=0,a=r.length;o<a;++o)r[o]+=i}this.endss_.push(r),this.changed()},t.prototype.clone=function(){for(var n=this.endss_.length,r=new Array(n),i=0;i<n;++i)r[i]=this.endss_[i].slice();var o=new t(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},t.prototype.closestPointXY=function(n,r,i,o){return o<X1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Eoe(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ooe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.containsXY=function(n,r){return Uoe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n,r)},t.prototype.getArea=function(){return Yoe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(n){var r;return n!==void 0?(r=this.getOrientedFlatCoordinates().slice(),JT(r,0,this.endss_,this.stride,n)):r=this.flatCoordinates,CO(r,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var n=$j(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Gj(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new B7(this.getFlatInteriorPoints().slice(),Wa.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;Zoe(n,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=JT(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=Koe(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(n),r,0,i),new t(r,Wa.XY,i)},t.prototype.getPolygon=function(n){if(n<0||this.endss_.length<=n)return null;var r;if(n===0)r=0;else{var i=this.endss_[n-1];r=i[i.length-1]}var o=this.endss_[n].slice(),a=o[o.length-1];if(r!==0)for(var s=0,h=o.length;s<h;++s)o[s]-=r;return new ab(this.flatCoordinates.slice(r,a),this.layout,o)},t.prototype.getPolygons=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],a=0,s=0,h=i.length;s<h;++s){var m=i[s].slice(),C=m[m.length-1];if(a!==0)for(var E=0,O=m.length;E<O;++E)m[E]-=a;var P=new ab(r.slice(a,C),n,m);o.push(P),a=C}return o},t.prototype.getType=function(){return"MultiPolygon"},t.prototype.intersectsExtent=function(n){return Loe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Ioe(this.flatCoordinates,0,n,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},t}(J1);const Yj=tae;var nae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rae=function(e){nae(t,e);function t(n){var r=this,i=n||{};return r=e.call(this)||this,r.dataProjection=Xs(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=Xs(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return t.prototype.readFeatureFromObject=function(n,r){var i=null;n.type==="Feature"?i=n:i={type:"Feature",geometry:n,properties:null};var o=xO(i.geometry,r),a=new xie;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(o),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a},t.prototype.readFeaturesFromObject=function(n,r){var i=n,o=null;if(i.type==="FeatureCollection"){var a=n;o=[];for(var s=a.features,h=0,m=s.length;h<m;++h)o.push(this.readFeatureFromObject(s[h],r))}else o=[this.readFeatureFromObject(n,r)];return o},t.prototype.readGeometryFromObject=function(n,r){return xO(n,r)},t.prototype.readProjectionFromObject=function(n){var r=n.crs,i;return r?r.type=="name"?i=Xs(r.properties.name):r.type==="EPSG"?i=Xs("EPSG:"+r.properties.code):fo(!1,36):i=this.dataProjection,i},t.prototype.writeFeatureObject=function(n,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=n.getId();if(o!==void 0&&(i.id=o),!n.hasProperties())return i;var a=n.getProperties(),s=n.getGeometry();return s&&(i.geometry=wO(s,r),delete a[n.getGeometryName()]),N1(a)||(i.properties=a),i},t.prototype.writeFeaturesObject=function(n,r){r=this.adaptOptions(r);for(var i=[],o=0,a=n.length;o<a;++o)i.push(this.writeFeatureObject(n[o],r));return{type:"FeatureCollection",features:i}},t.prototype.writeGeometryObject=function(n,r){return wO(n,this.adaptOptions(r))},t}(boe);function xO(e,t){if(!e)return null;var n;switch(e.type){case"Point":{n=oae(e);break}case"LineString":{n=aae(e);break}case"Polygon":{n=Aae(e);break}case"MultiPoint":{n=lae(e);break}case"MultiLineString":{n=sae(e);break}case"MultiPolygon":{n=uae(e);break}case"GeometryCollection":{n=iae(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return _7(n,!1,t)}function iae(e,t){var n=e.geometries.map(function(r){return xO(r,t)});return new voe(n)}function oae(e){return new ob(e.coordinates)}function aae(e){return new C4(e.coordinates)}function sae(e){return new zj(e.coordinates)}function lae(e){return new B7(e.coordinates)}function uae(e){return new Yj(e.coordinates)}function Aae(e){return new ab(e.coordinates)}function wO(e,t){e=_7(e,!0,t);var n=e.getType(),r;switch(n){case"Point":{r=mae(e);break}case"LineString":{r=dae(e);break}case"Polygon":{r=gae(e,t);break}case"MultiPoint":{r=fae(e);break}case"MultiLineString":{r=hae(e);break}case"MultiPolygon":{r=pae(e,t);break}case"GeometryCollection":{r=cae(e,t);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function cae(e,t){var n=e.getGeometriesArray().map(function(r){var i=xl({},t);return delete i.featureProjection,wO(r,i)});return{type:"GeometryCollection",geometries:n}}function dae(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function hae(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function fae(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function pae(e,t){var n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function mae(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function gae(e,t){var n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}var yae=sa,wx=Q5;function sa(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}sa.Varint=0;sa.Fixed64=1;sa.Bytes=2;sa.Fixed32=5;var MO=65536*65536,tK=1/MO,vae=12,qj=typeof TextDecoder>"u"?null:new TextDecoder("utf8");sa.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Mx(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=rK(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Mx(this.buf,this.pos)+Mx(this.buf,this.pos+4)*MO;return this.pos+=8,e},readSFixed64:function(){var e=Mx(this.buf,this.pos)+rK(this.buf,this.pos+4)*MO;return this.pos+=8,e},readFloat:function(){var e=wx.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=wx.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,r;return r=t[this.pos++],n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,Cae(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=vae&&qj?Pae(this.buf,t,e):Kae(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==sa.Bytes)return e.push(this.readVarint(t));var n=Sp(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==sa.Bytes)return e.push(this.readSVarint());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==sa.Bytes)return e.push(this.readBoolean());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==sa.Bytes)return e.push(this.readFloat());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==sa.Bytes)return e.push(this.readDouble());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==sa.Bytes)return e.push(this.readFixed32());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==sa.Bytes)return e.push(this.readSFixed32());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==sa.Bytes)return e.push(this.readFixed64());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==sa.Bytes)return e.push(this.readSFixed64());var t=Sp(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===sa.Varint)for(;this.buf[this.pos++]>127;);else if(t===sa.Bytes)this.pos=this.readVarint()+this.pos;else if(t===sa.Fixed32)this.pos+=4;else if(t===sa.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),zg(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),zg(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),zg(this.buf,e&-1,this.pos),zg(this.buf,Math.floor(e*tK),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),zg(this.buf,e&-1,this.pos),zg(this.buf,Math.floor(e*tK),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){_ae(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=Dae(this.buf,e,this.pos);var n=this.pos-t;n>=128&&nK(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),wx.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),wx.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&nK(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,sa.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,wae,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Mae,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Oae,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Sae,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Eae,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Bae,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Iae,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,kae,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Tae,t)},writeBytesField:function(e,t){this.writeTag(e,sa.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,sa.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,sa.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,sa.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,sa.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,sa.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,sa.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,sa.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,sa.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,sa.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}};function Cae(e,t,n){var r=n.buf,i,o;if(o=r[n.pos++],i=(o&112)>>4,o<128||(o=r[n.pos++],i|=(o&127)<<3,o<128)||(o=r[n.pos++],i|=(o&127)<<10,o<128)||(o=r[n.pos++],i|=(o&127)<<17,o<128)||(o=r[n.pos++],i|=(o&127)<<24,o<128)||(o=r[n.pos++],i|=(o&1)<<31,o<128))return Rg(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function Sp(e){return e.type===sa.Bytes?e.readVarint()+e.pos:e.pos+1}function Rg(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function _ae(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),bae(n,r,t),xae(r,t)}function bae(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function xae(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function nK(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function wae(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Mae(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Sae(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Eae(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Oae(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Bae(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Iae(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function kae(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Tae(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Mx(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function zg(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function rK(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Kae(e,t,n){for(var r="",i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var h,m,C;s===1?o<128&&(a=o):s===2?(h=e[i+1],(h&192)===128&&(a=(o&31)<<6|h&63,a<=127&&(a=null))):s===3?(h=e[i+1],m=e[i+2],(h&192)===128&&(m&192)===128&&(a=(o&15)<<12|(h&63)<<6|m&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):s===4&&(h=e[i+1],m=e[i+2],C=e[i+3],(h&192)===128&&(m&192)===128&&(C&192)===128&&(a=(o&15)<<18|(h&63)<<12|(m&63)<<6|C&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),r+=String.fromCharCode(a),i+=s}return r}function Pae(e,t,n){return qj.decode(e.subarray(t,n))}function Dae(e,t,n){for(var r=0,i,o;r<t.length;r++){if(i=t.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):o=i;continue}else o&&(e[n++]=239,e[n++]=191,e[n++]=189,o=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=i&63|128)}return n}const Uae=Ka(yae);var iK=Qd(),sb=function(){function e(t,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return e.prototype.get=function(t){return this.properties_[t]},e.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?xj(this.flatCoordinates_):h7(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=y0(this.getExtent());this.flatInteriorPoints_=I7(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=$j(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Gj(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=v4(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,n=0,r=this.ends_,i=0,o=r.length;i<o;++i){var a=r[i],s=v4(t,n,a,2,.5);Wf(this.flatMidpoints_,s),n=a}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(t){return this},e.prototype.simplifyTransformed=function(t,n){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){return this.styleFunction},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(t){t=Xs(t);var n=t.getExtent(),r=t.getWorldExtent();if(n&&r){var i=Oc(r)/Oc(n);Yf(iK,r[0],r[3],i,-i,0,0,0),c0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,iK,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();sb.prototype.getEndss=sb.prototype.getEnds;sb.prototype.getFlatCoordinates=sb.prototype.getOrientedFlatCoordinates;const SO=sb;var Fae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lae=function(e){Fae(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.dataProjection=new p7({code:"",units:QA.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:SO,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return t.prototype.readRawGeometry_=function(n,r,i,o){n.pos=r.geometry;for(var a=n.readVarint()+n.pos,s=1,h=0,m=0,C=0,E=0,O=0;n.pos<a;){if(!h){var P=n.readVarint();s=P&7,h=P>>3}h--,s===1||s===2?(m+=n.readSVarint(),C+=n.readSVarint(),s===1&&E>O&&(o.push(E),O=E),i.push(m,C),E+=2):s===7?E>O&&(i.push(i[O],i[O+1]),E+=2):fo(!1,59)}E>O&&(o.push(E),O=E)},t.prototype.createFeature_=function(n,r,i){var o=r.type;if(o===0)return null;var a,s=r.properties,h;this.idProperty_?(h=s[this.idProperty_],delete s[this.idProperty_]):h=r.id,s[this.layerName_]=r.layer.name;var m=[],C=[];this.readRawGeometry_(n,r,m,C);var E=Gae(o,C.length);if(this.featureClass_===SO)a=new this.featureClass_(E,m,C,s,h),a.transform(i.dataProjection);else{var O=void 0;if(E=="Polygon"){var P=Xoe(m,C);O=P.length>1?new Yj(m,Wa.XY,P):new ab(m,Wa.XY,C)}else O=E==="Point"?new ob(m,Wa.XY):E==="LineString"?new C4(m,Wa.XY):E==="MultiPoint"?new B7(m,Wa.XY):E==="MultiLineString"?new zj(m,Wa.XY,C):null;var D=this.featureClass_;a=new D,this.geometryName_&&a.setGeometryName(this.geometryName_);var $=_7(O,!1,i);a.setGeometry($),h!==void 0&&a.setId(h),a.setProperties(s,!0)}return a},t.prototype.getType=function(){return"arraybuffer"},t.prototype.readFeatures=function(n,r){var i=this.layers_,o=this.adaptOptions(r),a=Xs(o.dataProjection);a.setWorldExtent(o.extent),o.dataProjection=a;var s=new Uae(n),h=s.readFields(Rae,{}),m=[];for(var C in h)if(!(i&&i.indexOf(C)==-1)){var E=h[C],O=E?[0,0,E.extent,E.extent]:null;a.setExtent(O);for(var P=0,D=E.length;P<D;++P){var $=Nae(s,E,P),ee=this.createFeature_(s,$,o);ee!==null&&m.push(ee)}}return m},t.prototype.readProjection=function(n){return this.dataProjection},t.prototype.setLayers=function(n){this.layers_=n},t}(Pj);function Rae(e,t,n){if(e===3){var r={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(zae,r,i),r.length=r.features.length,r.length&&(t[r.name]=r)}}function zae(e,t,n){if(e===15)t.version=n.readVarint();else if(e===1)t.name=n.readString();else if(e===5)t.extent=n.readVarint();else if(e===2)t.features.push(n.pos);else if(e===3)t.keys.push(n.readString());else if(e===4){for(var r=null,i=n.readVarint()+n.pos;n.pos<i;)e=n.readVarint()>>3,r=e===1?n.readString():e===2?n.readFloat():e===3?n.readDouble():e===4?n.readVarint64():e===5?n.readVarint():e===6?n.readSVarint():e===7?n.readBoolean():null;t.values.push(r)}}function jae(e,t,n){if(e==1)t.id=n.readVarint();else if(e==2)for(var r=n.readVarint()+n.pos;n.pos<r;){var i=t.layer.keys[n.readVarint()],o=t.layer.values[n.readVarint()];t.properties[i]=o}else e==3?t.type=n.readVarint():e==4&&(t.geometry=n.pos)}function Nae(e,t,n){e.pos=t.features[n];var r=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};return e.readFields(jae,i,r),i}function Gae(e,t){var n;return e===1?n=t===1?"Point":"MultiPoint":e===2?n=t===1?"LineString":"MultiLineString":e===3&&(n="Polygon"),n}const Wae=Lae;var Qae=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,$ae=/^([a-z]*)$|^hsla?\(.*\)$/i;function Hj(e){return typeof e=="string"?e:Vj(e)}function Yae(e){var t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}else return""}var qae=function(){var e=1024,t={},n=0;return function(r){var i;if(t.hasOwnProperty(r))i=t[r];else{if(n>=e){var o=0;for(var a in t)o++&3||(delete t[a],--n)}i=Hae(r),t[r]=i,++n}return i}}();function _4(e){return Array.isArray(e)?e:qae(e)}function Hae(e){var t,n,r,i,o;if($ae.exec(e)&&(e=Yae(e)),Qae.exec(e)){var a=e.length-1,s=void 0;a<=4?s=1:s=2;var h=a===4||a===8;t=parseInt(e.substr(1+0*s,s),16),n=parseInt(e.substr(1+1*s,s),16),r=parseInt(e.substr(1+2*s,s),16),h?i=parseInt(e.substr(1+3*s,s),16):i=255,s==1&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,h&&(i=(i<<4)+i)),o=[t,n,r,i/255]}else e.indexOf("rgba(")==0?(o=e.slice(5,-1).split(",").map(Number),oK(o)):e.indexOf("rgb(")==0?(o=e.slice(4,-1).split(",").map(Number),o.push(1),oK(o)):fo(!1,14);return o}function oK(e){return e[0]=Fl(e[0]+.5|0,0,255),e[1]=Fl(e[1]+.5|0,0,255),e[2]=Fl(e[2]+.5|0,0,255),e[3]=Fl(e[3],0,1),e}function Vj(e){var t=e[0];t!=(t|0)&&(t=t+.5|0);var n=e[1];n!=(n|0)&&(n=n+.5|0);var r=e[2];r!=(r|0)&&(r=r+.5|0);var i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+n+","+r+","+i+")"}var Vae=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var n in this.cache_){var r=this.cache_[n];!(t++&3)&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}},e.prototype.get=function(t,n,r){var i=aK(t,n,r);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(t,n,r,i){var o=aK(t,n,r);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e}();function aK(e,t,n){var r=n?Hj(n):"null";return t+":"+e+":"+r}var b4=new Vae;const Oa={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var Zae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xae=function(e){Zae(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un,r.background_=n.background;var i=xl({},n);return typeof n.properties=="object"&&(delete i.properties,xl(i,n.properties)),i[Oa.OPACITY]=n.opacity!==void 0?n.opacity:1,fo(typeof i[Oa.OPACITY]=="number",64),i[Oa.VISIBLE]=n.visible!==void 0?n.visible:!0,i[Oa.Z_INDEX]=n.zIndex,i[Oa.MAX_RESOLUTION]=n.maxResolution!==void 0?n.maxResolution:1/0,i[Oa.MIN_RESOLUTION]=n.minResolution!==void 0?n.minResolution:0,i[Oa.MIN_ZOOM]=n.minZoom!==void 0?n.minZoom:-1/0,i[Oa.MAX_ZOOM]=n.maxZoom!==void 0?n.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(n){var r=this.state_||{layer:this,managed:n===void 0?!0:n},i=this.getZIndex();return r.opacity=Fl(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},t.prototype.getLayersArray=function(n){return Ci()},t.prototype.getLayerStatesArray=function(n){return Ci()},t.prototype.getExtent=function(){return this.get(Oa.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(Oa.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(Oa.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(Oa.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(Oa.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(Oa.OPACITY)},t.prototype.getSourceState=function(){return Ci()},t.prototype.getVisible=function(){return this.get(Oa.VISIBLE)},t.prototype.getZIndex=function(){return this.get(Oa.Z_INDEX)},t.prototype.setBackground=function(n){this.background_=n,this.changed()},t.prototype.setExtent=function(n){this.set(Oa.EXTENT,n)},t.prototype.setMaxResolution=function(n){this.set(Oa.MAX_RESOLUTION,n)},t.prototype.setMinResolution=function(n){this.set(Oa.MIN_RESOLUTION,n)},t.prototype.setMaxZoom=function(n){this.set(Oa.MAX_ZOOM,n)},t.prototype.setMinZoom=function(n){this.set(Oa.MIN_ZOOM,n)},t.prototype.setOpacity=function(n){fo(typeof n=="number",64),this.set(Oa.OPACITY,n)},t.prototype.setVisible=function(n){this.set(Oa.VISIBLE,n)},t.prototype.setZIndex=function(n){this.set(Oa.Z_INDEX,n)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(jh);const Zj=Xae,d0={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Jae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pw=function(e){Jae(t,e);function t(n){var r=this,i=xl({},n);delete i.source,r=e.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,n.render&&(r.render=n.render),n.map&&r.setMap(n.map),r.addChangeListener(Oa.SOURCE,r.handleSourcePropertyChange_);var o=n.source?n.source:null;return r.setSource(o),r}return t.prototype.getLayersArray=function(n){var r=n||[];return r.push(this),r},t.prototype.getLayerStatesArray=function(n){var r=n||[];return r.push(this.getLayerState()),r},t.prototype.getSource=function(){return this.get(Oa.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var n=this.getSource();return n?n.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ss(this.sourceChangeKey_),this.sourceChangeKey_=null);var n=this.getSource();n&&(this.sourceChangeKey_=Bo(n,Gi.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(n){return this.renderer_?this.renderer_.getFeatures(n):new Promise(function(r){return r([])})},t.prototype.getData=function(n){return!this.renderer_||!this.rendered?null:this.renderer_.getData(n)},t.prototype.render=function(n,r){var i=this.getRenderer();if(i.prepareFrame(n))return this.rendered=!0,i.renderFrame(n,r)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(n){n||this.unrender(),this.set(Oa.MAP,n)},t.prototype.getMapInternal=function(){return this.get(Oa.MAP)},t.prototype.setMap=function(n){this.mapPrecomposeKey_&&(ss(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),n||this.changed(),this.mapRenderKey_&&(ss(this.mapRenderKey_),this.mapRenderKey_=null),n&&(this.mapPrecomposeKey_=Bo(n,d0.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);fo(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=Bo(this,Gi.CHANGE,n.render,n),this.changed())},t.prototype.setSource=function(n){this.set(Oa.SOURCE,n)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(Zj);function x4(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}var ese=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tse=function(e){ese(t,e);function t(n){var r=e.call(this)||this;return r.map_=n,r}return t.prototype.dispatchRenderEvent=function(n,r){Ci()},t.prototype.calculateMatrices2D=function(n){var r=n.viewState,i=n.coordinateToPixelTransform,o=n.pixelToCoordinateTransform;Yf(i,n.size[0]/2,n.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),c7(o,i)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a,s,h,m){var C,E=r.viewState;function O(ge,yt,wt,st){return a.call(s,yt,ge?wt:null,st)}var P=E.projection,D=g7(n.slice(),P),$=[[0,0]];if(P.canWrapX()&&o){var ee=P.getExtent(),H=xs(ee);$.push([-H,0],[H,0])}for(var G=r.layerStatesArray,Z=G.length,ue=[],ye=[],be=0;be<$.length;be++)for(var X=Z-1;X>=0;--X){var se=G[X],we=se.layer;if(we.hasRenderer()&&x4(se,E)&&h.call(m,we)){var xe=we.getRenderer(),De=we.getSource();if(xe&&De){var Ue=De.getWrapX()?D:n,he=O.bind(null,se.managed);ye[0]=Ue[0]+$[be][0],ye[1]=Ue[1]+$[be][1],C=xe.forEachFeatureAtCoordinate(ye,r,i,he,ue)}if(C)return C}}if(ue.length!==0){var $e=1/ue.length;return ue.forEach(function(ge,yt){return ge.distanceSq+=yt*$e}),ue.sort(function(ge,yt){return ge.distanceSq-yt.distanceSq}),ue.some(function(ge){return C=ge.callback(ge.feature,ge.layer,ge.geometry)}),C}},t.prototype.forEachLayerAtPixel=function(n,r,i,o,a){return Ci()},t.prototype.hasFeatureAtCoordinate=function(n,r,i,o,a,s){var h=this.forEachFeatureAtCoordinate(n,r,i,o,Wy,this,a,s);return h!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(n){Ci()},t.prototype.scheduleExpireIconCache=function(n){b4.canExpireCache()&&n.postRenderFunctions.push(nse)},t}(l7);function nse(e,t){b4.expire()}const rse=tse;var ise=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xj=function(e){ise(t,e);function t(n,r,i,o){var a=e.call(this,n)||this;return a.inversePixelTransform=r,a.frameState=i,a.context=o,a}return t}(rm),Sx="ol-hidden",ose="ol-selectable",mw="ol-unselectable",T7="ol-control",sK="ol-collapsed",ase=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),lK=["style","variant","weight","size","lineHeight","family"],Jj=function(e){var t=e.match(ase);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=lK.length;r<i;++r){var o=t[r+1];o!==void 0&&(n[lK[r]]=o)}return n.families=n.family.split(/,\s?/),n};function Bc(e,t,n,r){var i;return n&&n.length?i=n.shift():sw?i=new OffscreenCanvas(e||300,t||300):i=document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}function K7(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function sse(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function lse(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function uK(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function w4(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function eN(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function use(e,t){for(var n=e.childNodes,r=0;;++r){var i=n[r],o=t[r];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--r;continue}e.insertBefore(o,i)}}}var tN="10px sans-serif",qp="#000",M4="round",lb=[],ub=0,pv="round",Ab=10,cb="#000",db="center",S4="middle",v1=[0,0,0,0],hb=1,Tp=new jh,EO=new kv;EO.setSize=function(){console.warn("labelCache is deprecated.")};var ny=null,OO,BO={},Ase=function(){var e=100,t="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10",o,a;function s(m,C,E){for(var O=!0,P=0;P<r;++P){var D=n[P];if(a=E4(m+" "+C+" "+t+D,i),E!=D){var $=E4(m+" "+C+" "+t+E+","+D,i);O=O&&$!=a}}return!!O}function h(){for(var m=!0,C=Tp.getKeys(),E=0,O=C.length;E<O;++E){var P=C[E];Tp.get(P)<e&&(s.apply(this,P.split(`
`))?(Ub(BO),ny=null,OO=void 0,Tp.set(P,e)):(Tp.set(P,Tp.get(P)+1,!0),m=!1))}m&&(clearInterval(o),o=void 0)}return function(m){var C=Jj(m);if(C)for(var E=C.families,O=0,P=E.length;O<P;++O){var D=E[O],$=C.style+`
`+C.weight+`
`+D;Tp.get($)===void 0&&(Tp.set($,e,!0),s(C.style,C.weight,D)||(Tp.set($,0,!0),o===void 0&&(o=setInterval(h,32))))}}}(),cse=function(){var e;return function(t){var n=BO[t];if(n==null){if(sw){var r=Jj(t),i=nN(t,"g"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);n=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);BO[t]=n}return n}}();function nN(e,t){return ny||(ny=Bc(1,1)),e!=OO&&(ny.font=e,OO=ny.font),ny.measureText(t)}function E4(e,t){return nN(e,t).width}function AK(e,t,n){if(t in n)return n[t];var r=t.split(`
`).reduce(function(i,o){return Math.max(i,E4(e,o))},0);return n[t]=r,r}function dse(e,t){for(var n=[],r=[],i=[],o=0,a=0,s=0,h=0,m=0,C=t.length;m<=C;m+=2){var E=t[m];if(E===`
`||m===C){o=Math.max(o,a),i.push(a),a=0,s+=h;continue}var O=t[m+1]||e.font,P=E4(O,E);n.push(P),a+=P;var D=cse(O);r.push(D),h=Math.max(h,D)}return{width:o,height:s,widths:n,heights:r,lineWidths:i}}function hse(e,t,n,r,i,o,a,s,h,m,C){e.save(),n!==1&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),r.contextInstructions?(e.translate(h,m),e.scale(C[0],C[1]),fse(r,e)):C[0]<0||C[1]<0?(e.translate(h,m),e.scale(C[0],C[1]),e.drawImage(r,i,o,a,s,0,0,a,s)):e.drawImage(r,i,o,a,s,h,m,a*C[0],s*C[1]),e.restore()}function fse(e,t){for(var n=e.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?t[n[r]].apply(t,n[r+1]):t[n[r]]=n[r+1]}var pse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mse=function(e){pse(t,e);function t(n){var r=e.call(this,n)||this;r.fontChangeListenerKey_=Bo(Tp,hv.PROPERTYCHANGE,n.redrawText.bind(n)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=mw+" ol-layers";var o=n.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return t.prototype.dispatchRenderEvent=function(n,r){var i=this.getMap();if(i.hasListener(n)){var o=new Xj(n,void 0,r);i.dispatchEvent(o)}},t.prototype.disposeInternal=function(){ss(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(n){if(!n){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(n),this.dispatchRenderEvent(d0.PRECOMPOSE,n);var r=n.layerStatesArray.sort(function(P,D){return P.zIndex-D.zIndex}),i=n.viewState;this.children_.length=0;for(var o=[],a=null,s=0,h=r.length;s<h;++s){var m=r[s];n.layerIndex=s;var C=m.layer,E=C.getSourceState();if(!x4(m,i)||E!="ready"&&E!="undefined"){C.unrender();continue}var O=C.render(n,a);O&&(O!==a&&(this.children_.push(O),a=O),"getDeclutter"in C&&o.push(C))}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(n);use(this.element_,this.children_),this.dispatchRenderEvent(d0.POSTCOMPOSE,n),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(n)},t.prototype.forEachLayerAtPixel=function(n,r,i,o,a){for(var s=r.viewState,h=r.layerStatesArray,m=h.length,C=m-1;C>=0;--C){var E=h[C],O=E.layer;if(O.hasRenderer()&&x4(E,s)&&a(O)){var P=O.getRenderer(),D=P.getDataAtPixel(n,r,i);if(D){var $=o(O,D);if($)return $}}}},t}(rse);const gse=mse,xc={ADD:"add",REMOVE:"remove"};var rN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cK={LENGTH:"length"},Ex=function(e){rN(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.element=r,o.index=i,o}return t}(rm),Gd=function(e){rN(t,e);function t(n,r){var i=e.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=n||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(n){for(var r=0,i=n.length;r<i;++r)this.push(n[r]);return this},t.prototype.forEach=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(n){return this.array_[n]},t.prototype.getLength=function(){return this.get(cK.LENGTH)},t.prototype.insertAt=function(n,r){this.unique_&&this.assertUnique_(r),this.array_.splice(n,0,r),this.updateLength_(),this.dispatchEvent(new Ex(xc.ADD,r,n))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(n){this.unique_&&this.assertUnique_(n);var r=this.getLength();return this.insertAt(r,n),this.getLength()},t.prototype.remove=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===n)return this.removeAt(i)},t.prototype.removeAt=function(n){var r=this.array_[n];return this.array_.splice(n,1),this.updateLength_(),this.dispatchEvent(new Ex(xc.REMOVE,r,n)),r},t.prototype.setAt=function(n,r){var i=this.getLength();if(n<i){this.unique_&&this.assertUnique_(r,n);var o=this.array_[n];this.array_[n]=r,this.dispatchEvent(new Ex(xc.REMOVE,o,n)),this.dispatchEvent(new Ex(xc.ADD,r,n))}else{for(var a=i;a<n;++a)this.insertAt(a,void 0);this.insertAt(n,r)}},t.prototype.updateLength_=function(){this.set(cK.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(n,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===n&&i!==r)throw new gj(58)},t}(jh),iN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Um=function(e){iN(t,e);function t(n,r){var i=e.call(this,n)||this;return i.layer=r,i}return t}(rm),IS={LAYERS:"layers"},yse=function(e){iN(t,e);function t(n){var r=this,i=n||{},o=xl({},i);delete o.layers;var a=i.layers;return r=e.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(IS.LAYERS,r.handleLayersChanged_),a?Array.isArray(a)?a=new Gd(a.slice(),{unique:!0}):fo(typeof a.getArray=="function",43):a=new Gd(void 0,{unique:!0}),r.setLayers(a),r}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(ss),this.layersListenerKeys_.length=0;var n=this.getLayers();this.layersListenerKeys_.push(Bo(n,xc.ADD,this.handleLayersAdd_,this),Bo(n,xc.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(ss);Ub(this.listenerKeys_);for(var i=n.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new Um("addlayer",s))}this.changed()},t.prototype.registerLayerListeners_=function(n){var r=[Bo(n,hv.PROPERTYCHANGE,this.handleLayerChange_,this),Bo(n,Gi.CHANGE,this.handleLayerChange_,this)];n instanceof t&&r.push(Bo(n,"addlayer",this.handleLayerGroupAdd_,this),Bo(n,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Vi(n)]=r},t.prototype.handleLayerGroupAdd_=function(n){this.dispatchEvent(new Um("addlayer",n.layer))},t.prototype.handleLayerGroupRemove_=function(n){this.dispatchEvent(new Um("removelayer",n.layer))},t.prototype.handleLayersAdd_=function(n){var r=n.element;this.registerLayerListeners_(r),this.dispatchEvent(new Um("addlayer",r)),this.changed()},t.prototype.handleLayersRemove_=function(n){var r=n.element,i=Vi(r);this.listenerKeys_[i].forEach(ss),delete this.listenerKeys_[i],this.dispatchEvent(new Um("removelayer",r)),this.changed()},t.prototype.getLayers=function(){return this.get(IS.LAYERS)},t.prototype.setLayers=function(n){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new Um("removelayer",i[o]));this.set(IS.LAYERS,n)},t.prototype.getLayersArray=function(n){var r=n!==void 0?n:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},t.prototype.getLayerStatesArray=function(n){var r=n!==void 0?n:[],i=r.length;this.getLayers().forEach(function(C){C.getLayerStatesArray(r)});var o=this.getLayerState(),a=o.zIndex;!n&&o.zIndex===void 0&&(a=0);for(var s=i,h=r.length;s<h;s++){var m=r[s];m.opacity*=o.opacity,m.visible=m.visible&&o.visible,m.maxResolution=Math.min(m.maxResolution,o.maxResolution),m.minResolution=Math.max(m.minResolution,o.minResolution),m.minZoom=Math.max(m.minZoom,o.minZoom),m.maxZoom=Math.min(m.maxZoom,o.maxZoom),o.extent!==void 0&&(m.extent!==void 0?m.extent=S1(m.extent,o.extent):m.extent=o.extent),m.zIndex===void 0&&(m.zIndex=a)}return r},t.prototype.getSourceState=function(){return"ready"},t}(Zj);const gw=yse;var vse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ry=function(e){vse(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return t}(rm),Cse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tm=function(e){Cse(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,a)||this;return h.originalEvent=i,h.pixel_=null,h.coordinate_=null,h.dragging=o!==void 0?o:!1,h.activePointers=s,h}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(ry);const al={SINGLECLICK:"singleclick",CLICK:Gi.CLICK,DBLCLICK:Gi.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},IO={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var _se=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bse=function(e){_se(t,e);function t(n,r){var i=e.call(this,n)||this;i.map_=n,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Bo(o,IO.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Bo(o,IO.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(Gi.TOUCHMOVE,i.boundHandleTouchMove_,vj?{passive:!1}:!1),i}return t.prototype.emulateClick_=function(n){var r=new Tm(al.CLICK,this.map_,n);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new Tm(al.DBLCLICK,this.map_,n),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new Tm(al.SINGLECLICK,this.map_,n);this.dispatchEvent(i)}).bind(this),250)},t.prototype.updateActivePointers_=function(n){var r=n,i=r.pointerId;if(r.type==al.POINTERUP||r.type==al.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==al.POINTERDOWN||r.type==al.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=fj(this.trackedTouches_)},t.prototype.handlePointerUp_=function(n){this.updateActivePointers_(n);var r=new Tm(al.POINTERUP,this.map_,n,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(n)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(ss),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(n){return n.button===0},t.prototype.handlePointerDown_=function(n){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(n);var r=new Tm(al.POINTERDOWN,this.map_,n,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in n){var o=n[i];this.down_[i]=typeof o=="function"?j1:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Bo(a,al.POINTERMOVE,this.handlePointerMove_,this),Bo(a,al.POINTERUP,this.handlePointerUp_,this),Bo(this.element_,al.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Bo(this.element_.getRootNode(),al.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(n){if(this.isMoving_(n)){this.updateActivePointers_(n),this.dragging_=!0;var r=new Tm(al.POINTERDRAG,this.map_,n,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},t.prototype.relayMoveEvent_=function(n){this.originalPointerMoveEvent_=n;var r=!!(this.down_&&this.isMoving_(n));this.dispatchEvent(new Tm(al.POINTERMOVE,this.map_,n,r))},t.prototype.handleTouchMove_=function(n){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof n.cancelable!="boolean"||n.cancelable===!0)&&n.preventDefault()},t.prototype.isMoving_=function(n){return this.dragging_||Math.abs(n.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(n.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(ss(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Gi.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ss(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ss),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(kv);const xse=bse,Pp={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},gA={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var O4=1/0,wse=function(){function e(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Ub(this.queuedElements_)},e.prototype.dequeue=function(){var t=this.elements_,n=this.priorities_,r=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},e.prototype.enqueue=function(t){fo(!(this.keyFunction_(t)in this.queuedElements_),31);var n=this.priorityFunction_(t);return n!=O4?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(t){return t*2+1},e.prototype.getRightChildIndex_=function(t){return t*2+2},e.prototype.getParentIndex_=function(t){return t-1>>1},e.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(t){return t in this.queuedElements_},e.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},e.prototype.siftUp_=function(t){for(var n=this.elements_,r=this.priorities_,i=n.length,o=n[t],a=r[t],s=t;t<i>>1;){var h=this.getLeftChildIndex_(t),m=this.getRightChildIndex_(t),C=m<i&&r[m]<r[h]?m:h;n[t]=n[C],r[t]=r[C],t=C}n[t]=o,r[t]=a,this.siftDown_(s,t)},e.prototype.siftDown_=function(t,n){for(var r=this.elements_,i=this.priorities_,o=r[n],a=i[n];n>t;){var s=this.getParentIndex_(n);if(i[s]>a)r[n]=r[s],i[n]=i[s],n=s;else break}r[n]=o,i[n]=a},e.prototype.reprioritize=function(){var t=this.priorityFunction_,n=this.elements_,r=this.priorities_,i=0,o=n.length,a,s,h;for(s=0;s<o;++s)a=n[s],h=t(a),h==O4?delete this.queuedElements_[this.keyFunction_(a)]:(r[i]=h,n[i++]=a);n.length=i,r.length=i,this.heapify_()},e}();const Mse=wse,gr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Sse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ese=function(e){Sse(t,e);function t(n,r){var i=e.call(this,function(o){return n.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return t.prototype.enqueue=function(n){var r=e.prototype.enqueue.call(this,n);if(r){var i=n[0];i.addEventListener(Gi.CHANGE,this.boundHandleTileChange_)}return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(n){var r=n.target,i=r.getState();if(i===gr.LOADED||i===gr.ERROR||i===gr.EMPTY){r.removeEventListener(Gi.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(n,r){for(var i=0,o,a,s;this.tilesLoading_<n&&i<r&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===gr.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},t}(Mse);const Ose=Ese;function Bse(e,t,n,r,i){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return O4;var o=e.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}const ll={ANIMATING:0,INTERACTING:1},Eh={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var oN=42,P7=256;function dK(e,t,n){return function(r,i,o,a,s){if(r){if(!i&&!t)return r;var h=t?0:o[0]*i,m=t?0:o[1]*i,C=s?s[0]:0,E=s?s[1]:0,O=e[0]+h/2+C,P=e[2]-h/2+C,D=e[1]+m/2+E,$=e[3]-m/2+E;O>P&&(O=(P+O)/2,P=O),D>$&&(D=($+D)/2,$=D);var ee=Fl(r[0],O,P),H=Fl(r[1],D,$);if(a&&n&&i){var G=30*i;ee+=-G*Math.log(1+Math.max(0,O-r[0])/G)+G*Math.log(1+Math.max(0,r[0]-P)/G),H+=-G*Math.log(1+Math.max(0,D-r[1])/G)+G*Math.log(1+Math.max(0,r[1]-$)/G)}return[ee,H]}}}function Ise(e){return e}function D7(e,t,n,r){var i=xs(t)/n[0],o=Oc(t)/n[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function U7(e,t,n){var r=Math.min(e,t),i=50;return r*=Math.log(1+i*Math.max(0,e/t-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/e-1))/i+1),Fl(r,n/2,t*2)}function kse(e,t,n,r){return function(i,o,a,s){if(i!==void 0){var h=e[0],m=e[e.length-1],C=n?D7(h,n,a,r):h;if(s){var E=t!==void 0?t:!0;return E?U7(i,C,m):Fl(i,m,C)}var O=Math.min(C,i),P=Math.floor(u7(e,O,o));return e[P]>C&&P<e.length-1?e[P+1]:e[P]}else return}}function Tse(e,t,n,r,i,o){return function(a,s,h,m){if(a!==void 0){var C=i?D7(t,i,h,o):t,E=n!==void 0?n:0;if(m){var O=r!==void 0?r:!0;return O?U7(a,C,E):Fl(a,E,C)}var P=1e-9,D=Math.ceil(Math.log(t/C)/Math.log(e)-P),$=-s*(.5-P)+.5,ee=Math.min(C,a),H=Math.floor(Math.log(t/ee)/Math.log(e)+$),G=Math.max(D,H),Z=t/Math.pow(e,G);return Fl(Z,E,C)}else return}}function hK(e,t,n,r,i){return function(o,a,s,h){if(o!==void 0){var m=r?D7(e,r,s,i):e,C=n!==void 0?n:!0;return!C||!h?Fl(o,t,m):U7(o,m,t)}else return}}function F7(e){if(e!==void 0)return 0}function fK(e){if(e!==void 0)return e}function Kse(e){var t=2*Math.PI/e;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function Pse(e){var t=e||p3(5);return function(n,r){if(r)return n;if(n!==void 0)return Math.abs(n)<=t?0:n}}function aN(e){return Math.pow(e,3)}function Tv(e){return 1-aN(1-e)}function Dse(e){return 3*e*e-2*e*e*e}function Use(e){return e}var Fse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kS=0,Np=function(e){Fse(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=xl({},n);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=v7(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&Bj(),i.center&&(i.center=kp(i.center,r.projection_)),i.extent&&(i.extent=g1(i.extent,r.projection_)),r.applyOptions_(i),r}return t.prototype.applyOptions_=function(n){var r=xl({},n);for(var i in Eh)delete r[i];this.setProperties(r,!0);var o=Rse(n);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=n.resolutions,this.padding_=n.padding,this.minZoom_=o.minZoom;var a=Lse(n),s=o.constraint,h=zse(n);this.constraints_={center:a,resolution:s,rotation:h},this.setRotation(n.rotation!==void 0?n.rotation:0),this.setCenterInternal(n.center!==void 0?n.center:null),n.resolution!==void 0?this.setResolution(n.resolution):n.zoom!==void 0&&this.setZoom(n.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(n){var r=this.padding_;this.padding_=n;var i=this.getCenter();if(i){var o=n||[0,0,0,0];r=r||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-r[3]+r[1]-o[1]),h=a/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-h])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(n){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),xl({},r,n)},t.prototype.animate=function(n){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=xl({},o),o.center=kp(o.center,this.getProjection())),o.anchor&&(o=xl({},o),o.anchor=kp(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},t.prototype.animateInternal=function(n){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===r){i&&Ox(i,!0);return}for(var s=Date.now(),h=this.targetCenter_.slice(),m=this.targetResolution_,C=this.targetRotation_,E=[];o<r;++o){var O=arguments[o],P={start:s,complete:!1,anchor:O.anchor,duration:O.duration!==void 0?O.duration:1e3,easing:O.easing||Dse,callback:i};if(O.center&&(P.sourceCenter=h,P.targetCenter=O.center.slice(),h=P.targetCenter),O.zoom!==void 0?(P.sourceResolution=m,P.targetResolution=this.getResolutionForZoom(O.zoom),m=P.targetResolution):O.resolution&&(P.sourceResolution=m,P.targetResolution=O.resolution,m=P.targetResolution),O.rotation!==void 0){P.sourceRotation=C;var D=O1(O.rotation-C+Math.PI,2*Math.PI)-Math.PI;P.targetRotation=C+D,C=P.targetRotation}jse(P)?P.complete=!0:s+=P.duration,E.push(P)}this.animations_.push(E),this.setHint(ll.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[ll.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[ll.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(ll.ANIMATING,-this.hints_[ll.ANIMATING]);for(var n,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&Ox(o[0].callback,!1),!n)for(var a=0,s=o.length;a<s;++a){var h=o[a];if(!h.complete){n=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=n,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var n=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,h=o.length;s<h;++s){var m=o[s];if(!m.complete){var C=n-m.start,E=m.duration>0?C/m.duration:1;E>=1?(m.complete=!0,E=1):a=!1;var O=m.easing(E);if(m.sourceCenter){var P=m.sourceCenter[0],D=m.sourceCenter[1],$=m.targetCenter[0],ee=m.targetCenter[1];this.nextCenter_=m.targetCenter;var H=P+O*($-P),G=D+O*(ee-D);this.targetCenter_=[H,G]}if(m.sourceResolution&&m.targetResolution){var Z=O===1?m.targetResolution:m.sourceResolution+O*(m.targetResolution-m.sourceResolution);if(m.anchor){var ue=this.getViewportSize_(this.getRotation()),ye=this.constraints_.resolution(Z,0,ue,!0);this.targetCenter_=this.calculateCenterZoom(ye,m.anchor)}this.nextResolution_=m.targetResolution,this.targetResolution_=Z,this.applyTargetState_(!0)}if(m.sourceRotation!==void 0&&m.targetRotation!==void 0){var be=O===1?O1(m.targetRotation+Math.PI,2*Math.PI)-Math.PI:m.sourceRotation+O*(m.targetRotation-m.sourceRotation);if(m.anchor){var X=this.constraints_.rotation(be,!0);this.targetCenter_=this.calculateCenterRotate(X,m.anchor)}this.nextRotation_=m.targetRotation,this.targetRotation_=be}if(this.applyTargetState_(!0),r=!0,!m.complete)break}}if(a){this.animations_[i]=null,this.setHint(ll.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var se=o[0].callback;se&&Ox(se,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(n,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],m7(i,n-this.getRotation()),roe(i,r)),i},t.prototype.calculateCenterZoom=function(n,r){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=r[0]-n*(r[0]-o[0])/a,h=r[1]-n*(r[1]-o[1])/a;i=[s,h]}return i},t.prototype.getViewportSize_=function(n){var r=this.viewportSize_;if(n){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(n))+Math.abs(o*Math.sin(n)),Math.abs(i*Math.sin(n))+Math.abs(o*Math.cos(n))]}else return r},t.prototype.setViewportSize=function(n){this.viewportSize_=Array.isArray(n)?n.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var n=this.getCenterInternal();return n&&vO(n,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(Eh.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(n){return n!==void 0?(n[0]=this.hints_[0],n[1]=this.hints_[1],n):this.hints_.slice()},t.prototype.calculateExtent=function(n){var r=this.calculateExtentInternal(n);return kj(r,this.getProjection())},t.prototype.calculateExtentInternal=function(n){var r=n||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();fo(i,1);var o=this.getResolution();fo(o!==void 0,2);var a=this.getRotation();return fo(a!==void 0,3),fO(i,o,a,r)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({maxZoom:n}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({minZoom:n}))},t.prototype.setConstrainResolution=function(n){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:n}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(Eh.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(n,r){return this.getResolutionForExtentInternal(g1(n,this.getProjection()),r)},t.prototype.getResolutionForExtentInternal=function(n,r){var i=r||this.getViewportSizeMinusPadding_(),o=xs(n)/i[0],a=Oc(n)/i[1];return Math.max(o,a)},t.prototype.getResolutionForValueFunction=function(n){var r=n||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(r);return function(s){var h=i/Math.pow(r,s*a);return h}},t.prototype.getRotation=function(){return this.get(Eh.ROTATION)},t.prototype.getValueForResolutionFunction=function(n){var r=Math.log(n||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/r;return function(s){var h=Math.log(i/s)/r/a;return h}},t.prototype.getViewportSizeMinusPadding_=function(n){var r=this.getViewportSize_(n),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},t.prototype.getState=function(){var n=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=TS(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],r,i)}return{center:o.slice(0),projection:n!==void 0?n:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var n,r=this.getResolution();return r!==void 0&&(n=this.getZoomForResolution(r)),n},t.prototype.getZoomForResolution=function(n){var r=this.minZoom_||0,i,o;if(this.resolutions_){var a=u7(this.resolutions_,n,1);r=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/n)/Math.log(o)},t.prototype.getResolutionForZoom=function(n){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Fl(Math.floor(n),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,Fl(n-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,n-this.minZoom_)},t.prototype.fit=function(n,r){var i;if(fo(Array.isArray(n)||typeof n.getSimplifiedGeometry=="function",24),Array.isArray(n)){fo(!f7(n),25);var o=g1(n,this.getProjection());i=eK(o)}else if(n.getType()==="Circle"){var o=g1(n.getExtent(),this.getProjection());i=eK(o),i.rotate(this.getRotation(),y0(o))}else{var a=coe();a?i=n.clone().transform(a,this.getProjection()):i=n}this.fitInternal(i,r)},t.prototype.rotatedExtentForGeometry=function(n){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),a=n.getFlatCoordinates(),s=n.getStride(),h=1/0,m=1/0,C=-1/0,E=-1/0,O=0,P=a.length;O<P;O+=s){var D=a[O]*i-a[O+1]*o,$=a[O]*o+a[O+1]*i;h=Math.min(h,D),m=Math.min(m,$),C=Math.max(C,D),E=Math.max(E,$)}return[h,m,C,E]},t.prototype.fitInternal=function(n,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,h;i.minResolution!==void 0?h=i.minResolution:i.maxZoom!==void 0?h=this.getResolutionForZoom(i.maxZoom):h=0;var m=this.rotatedExtentForGeometry(n),C=this.getResolutionForExtentInternal(m,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);C=isNaN(C)?h:Math.max(C,h),C=this.getConstrainedResolution(C,s?0:1);var E=this.getRotation(),O=Math.sin(E),P=Math.cos(E),D=y0(m);D[0]+=(a[1]-a[3])/2*C,D[1]+=(a[0]-a[2])/2*C;var $=D[0]*P-D[1]*O,ee=D[1]*P+D[0]*O,H=this.getConstrainedCenter([$,ee],C),G=i.callback?i.callback:j1;i.duration!==void 0?this.animateInternal({resolution:C,center:H,duration:i.duration,easing:i.easing},G):(this.targetResolution_=C,this.targetCenter_=H,this.applyTargetState_(!1,!0),Ox(G,!0))},t.prototype.centerOn=function(n,r,i){this.centerOnInternal(kp(n,this.getProjection()),r,i)},t.prototype.centerOnInternal=function(n,r,i){this.setCenterInternal(TS(n,r,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(n,r,i,o){var a,s=this.padding_;if(s&&n){var h=this.getViewportSizeMinusPadding_(-i),m=TS(n,o,[h[0]/2+s[3],h[1]/2+s[0]],r,i);a=[n[0]-m[0],n[1]-m[1]]}return a},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(n){var r=vO(this.targetCenter_,this.getProjection());this.setCenter([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustCenterInternal=function(n){var r=this.targetCenter_;this.setCenterInternal([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustResolution=function(n,r){var i=r&&kp(r,this.getProjection());this.adjustResolutionInternal(n,i)},t.prototype.adjustResolutionInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*n,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(a,r)),this.targetResolution_*=n,this.applyTargetState_()},t.prototype.adjustZoom=function(n,r){this.adjustResolution(Math.pow(this.zoomFactor_,-n),r)},t.prototype.adjustRotation=function(n,r){r&&(r=kp(r,this.getProjection())),this.adjustRotationInternal(n,r)},t.prototype.adjustRotationInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+n,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=n,this.applyTargetState_()},t.prototype.setCenter=function(n){this.setCenterInternal(n&&kp(n,this.getProjection()))},t.prototype.setCenterInternal=function(n){this.targetCenter_=n,this.applyTargetState_()},t.prototype.setHint=function(n,r){return this.hints_[n]+=r,this.changed(),this.hints_[n]},t.prototype.setResolution=function(n){this.targetResolution_=n,this.applyTargetState_()},t.prototype.setRotation=function(n){this.targetRotation_=n,this.applyTargetState_()},t.prototype.setZoom=function(n){this.setResolution(this.getResolutionForZoom(n))},t.prototype.applyTargetState_=function(n,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),h=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(Eh.ROTATION)!==o&&this.set(Eh.ROTATION,o),this.get(Eh.RESOLUTION)!==s&&(this.set(Eh.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Eh.CENTER)||!g4(this.get(Eh.CENTER),h))&&this.set(Eh.CENTER,h),this.getAnimating()&&!n&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(n,r,i){var o=n!==void 0?n:200,a=r||0,s=this.constraints_.rotation(this.targetRotation_),h=this.getViewportSize_(s),m=this.constraints_.resolution(this.targetResolution_,a,h),C=this.constraints_.center(this.targetCenter_,m,h,!1,this.calculateCenterShift(this.targetCenter_,m,s,h));if(o===0&&!this.cancelAnchor_){this.targetResolution_=m,this.targetRotation_=s,this.targetCenter_=C,this.applyTargetState_();return}var E=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==m||this.getRotation()!==s||!this.getCenterInternal()||!g4(this.getCenterInternal(),C))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:C,resolution:m,duration:o,easing:Tv,anchor:E}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ll.INTERACTING,1)},t.prototype.endInteraction=function(n,r,i){var o=i&&kp(i,this.getProjection());this.endInteractionInternal(n,r,o)},t.prototype.endInteractionInternal=function(n,r,i){this.setHint(ll.INTERACTING,-1),this.resolveConstraints(n,r,i)},t.prototype.getConstrainedCenter=function(n,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(n,r||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(n,r){var i=this.getResolutionForZoom(n);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},t.prototype.getConstrainedResolution=function(n,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(n,i,o)},t}(jh);function Ox(e,t){setTimeout(function(){e(t)},0)}function Lse(e){if(e.extent!==void 0){var t=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return dK(e.extent,e.constrainOnlyCenter,t)}var n=v7(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,dK(r,!1,!1)}return Ise}function Rse(e){var t,n,r,i=28,o=2,a=e.minZoom!==void 0?e.minZoom:kS,s=e.maxZoom!==void 0?e.maxZoom:i,h=e.zoomFactor!==void 0?e.zoomFactor:o,m=e.multiWorld!==void 0?e.multiWorld:!1,C=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,E=e.showFullExtent!==void 0?e.showFullExtent:!1,O=v7(e.projection,"EPSG:3857"),P=O.getExtent(),D=e.constrainOnlyCenter,$=e.extent;if(!m&&!$&&O.isGlobal()&&(D=!1,$=P),e.resolutions!==void 0){var ee=e.resolutions;n=ee[a],r=ee[s]!==void 0?ee[s]:ee[ee.length-1],e.constrainResolution?t=kse(ee,C,!D&&$,E):t=hK(n,r,C,!D&&$,E)}else{var H=P?Math.max(xs(P),Oc(P)):360*$f[QA.DEGREES]/O.getMetersPerUnit(),G=H/P7/Math.pow(o,kS),Z=G/Math.pow(o,i-kS);n=e.maxResolution,n!==void 0?a=0:n=G/Math.pow(h,a),r=e.minResolution,r===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?r=n/Math.pow(h,s):r=G/Math.pow(h,s):r=Z),s=a+Math.floor(Math.log(n/r)/Math.log(h)),r=n/Math.pow(h,s-a),e.constrainResolution?t=Tse(h,n,r,C,!D&&$,E):t=hK(n,r,C,!D&&$,E)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:h}}function zse(e){var t=e.enableRotation!==void 0?e.enableRotation:!0;if(t){var n=e.constrainRotation;return n===void 0||n===!0?Pse():n===!1?fK:typeof n=="number"?Kse(n):fK}else return F7}function jse(e){return!(e.sourceCenter&&e.targetCenter&&!g4(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function TS(e,t,n,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=e[0]*o-e[1]*a,h=e[1]*o+e[0]*a;s+=(t[0]/2-n[0])*r,h+=(n[1]-t[1]/2)*r,a=-a;var m=s*o-h*a,C=h*o+s*a;return[m,C]}function pK(e){return e[0]>0&&e[1]>0}function Nse(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function NA(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var Gse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function sN(e){if(e instanceof pw){e.setMapInternal(null);return}e instanceof gw&&e.getLayers().forEach(sN)}function lN(e,t){if(e instanceof pw){e.setMapInternal(t);return}if(e instanceof gw)for(var n=e.getLayers().getArray(),r=0,i=n.length;r<i;++r)lN(n[r],t)}var Wse=function(e){Gse(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=Qse(n);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=n.maxTilesLoading!==void 0?n.maxTilesLoading:16,r.pixelRatio_=n.pixelRatio!==void 0?n.pixelRatio:yj,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=Qd(),r.pixelToCoordinateTransform_=Qd(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=n.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new Gd,r.interactions=i.interactions||new Gd,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new Ose(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(gA.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(gA.VIEW,r.handleViewChanged_),r.addChangeListener(gA.SIZE,r.handleSizeChanged_),r.addChangeListener(gA.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return n.view&&!(n.view instanceof Np)&&n.view.then(function(a){o.setView(new Np(a))}),r.controls.addEventListener(xc.ADD,(function(a){a.element.setMap(this)}).bind(r)),r.controls.addEventListener(xc.REMOVE,(function(a){a.element.setMap(null)}).bind(r)),r.interactions.addEventListener(xc.ADD,(function(a){a.element.setMap(this)}).bind(r)),r.interactions.addEventListener(xc.REMOVE,(function(a){a.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(xc.ADD,(function(a){this.addOverlayInternal_(a.element)}).bind(r)),r.overlays_.addEventListener(xc.REMOVE,(function(a){var s=a.element,h=s.getId();h!==void 0&&delete this.overlayIdIndex_[h.toString()],a.element.setMap(null)}).bind(r)),r.controls.forEach((function(a){a.setMap(this)}).bind(r)),r.interactions.forEach((function(a){a.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(n){this.getControls().push(n)},t.prototype.addInteraction=function(n){this.getInteractions().push(n)},t.prototype.addLayer=function(n){var r=this.getLayerGroup().getLayers();r.push(n)},t.prototype.handleLayerAdd_=function(n){lN(n.layer,this)},t.prototype.addOverlay=function(n){this.getOverlays().push(n)},t.prototype.addOverlayInternal_=function(n){var r=n.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=n),n.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(n,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(n);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Wy,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,h,r,null,s,null)}},t.prototype.getFeaturesAtPixel=function(n,r){var i=[];return this.forEachFeatureAtPixel(n,function(o){i.push(o)},r),i},t.prototype.getAllLayers=function(){var n=[];function r(i){i.forEach(function(o){o instanceof gw?r(o.getLayers()):n.push(o)})}return r(this.getLayers()),n},t.prototype.forEachLayerAtPixel=function(n,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||Wy;return this.renderer_.forEachLayerAtPixel(n,this.frameState_,a,r,s)}},t.prototype.hasFeatureAtPixel=function(n,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(n);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:Wy,a=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},t.prototype.getEventCoordinate=function(n){return this.getCoordinateFromPixel(this.getEventPixel(n))},t.prototype.getEventCoordinateInternal=function(n){return this.getCoordinateFromPixelInternal(this.getEventPixel(n))},t.prototype.getEventPixel=function(n){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in n?n.changedTouches[0]:n;return[i.clientX-r.left,i.clientY-r.top]},t.prototype.getTarget=function(){return this.get(gA.TARGET)},t.prototype.getTargetElement=function(){var n=this.getTarget();return n!==void 0?typeof n=="string"?document.getElementById(n):n:null},t.prototype.getCoordinateFromPixel=function(n){return vO(this.getCoordinateFromPixelInternal(n),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(n){var r=this.frameState_;return r?Cl(r.pixelToCoordinateTransform,n.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(n){var r=this.overlayIdIndex_[n.toString()];return r!==void 0?r:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(gA.LAYERGROUP)},t.prototype.setLayers=function(n){var r=this.getLayerGroup();if(n instanceof Gd){r.setLayers(n);return}var i=r.getLayers();i.clear(),i.extend(n)},t.prototype.getLayers=function(){var n=this.getLayerGroup().getLayers();return n},t.prototype.getLoadingOrNotReady=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r];if(o.visible){var a=o.layer.getRenderer();if(a&&!a.ready)return!0;var s=o.layer.getSource();if(s&&s.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(n){var r=kp(n,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},t.prototype.getPixelFromCoordinateInternal=function(n){var r=this.frameState_;return r?Cl(r.coordinateToPixelTransform,n.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(gA.SIZE)},t.prototype.getView=function(){return this.get(gA.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var n=this.getTargetElement();return n?n.ownerDocument:document},t.prototype.getTilePriority=function(n,r,i,o){return Bse(this.frameState_,n,r,i,o)},t.prototype.handleBrowserEvent=function(n,r){var i=r||n.type,o=new Tm(i,this,n);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(n){if(this.frameState_){var r=n.originalEvent,i=r.type;if(i===IO.POINTERDOWN||i===Gi.WHEEL||i===Gi.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=r.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(n.frameState=this.frameState_,this.dispatchEvent(n)!==!1)for(var h=this.getInteractions().getArray().slice(),m=h.length-1;m>=0;m--){var C=h[m];if(!(C.getMap()!==this||!C.getActive()||!this.getTargetElement())){var E=C.handleEvent(n);if(!E||n.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var n=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(n){var a=n.viewHints;if(a[ll.ANIMATING]||a[ll.INTERACTING]){var s=Date.now()-n.time>8;i=s?0:8,o=s?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}n&&this.renderer_&&!n.animate&&(this.renderComplete_===!0?(this.hasListener(d0.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(d0.RENDERCOMPLETE,n),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ry(Pp.LOADEND,this,n)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ry(Pp.LOADSTART,this,n))));for(var h=this.postRenderFunctions_,m=0,C=h.length;m<C;++m)h[m](this,n);h.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var n=0,r=this.targetChangeHandlerKeys_.length;n<r;++n)ss(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Gi.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Gi.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,w4(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new xse(this,this.moveTolerance_);for(var o in al)this.mapBrowserEventHandler_.addEventListener(al[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Gi.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Gi.WHEEL,this.boundHandleBrowserEvent_,vj?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Bo(s,Gi.KEYDOWN,this.handleBrowserEvent,this),Bo(s,Gi.KEYPRESS,this.handleBrowserEvent,this),Bo(a,Gi.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(ss(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ss(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var n=this.getView();n&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Bo(n,hv.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Bo(n,Gi.CHANGE,this.handleViewPropertyChanged_,this),n.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ss),this.layerGroupPropertyListenerKeys_=null);var n=this.getLayerGroup();n&&(this.handleLayerAdd_(new Um("addlayer",n)),this.layerGroupPropertyListenerKeys_=[Bo(n,hv.PROPERTYCHANGE,this.render,this),Bo(n,Gi.CHANGE,this.render,this),Bo(n,"addlayer",this.handleLayerAdd_,this),Bo(n,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(n){return this.getControls().remove(n)},t.prototype.removeInteraction=function(n){return this.getInteractions().remove(n)},t.prototype.removeLayer=function(n){var r=this.getLayerGroup().getLayers();return r.remove(n)},t.prototype.handleLayerRemove_=function(n){sN(n.layer)},t.prototype.removeOverlay=function(n){return this.getOverlays().remove(n)},t.prototype.renderFrame_=function(n){var r=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&pK(i)&&o&&o.isDef()){var h=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),m=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:fO(m.center,m.resolution,m.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:n,usedTiles:{},viewState:m,viewHints:h,wantedTiles:{},mapId:Vi(this),renderTargets:{}},m.nextCenter&&m.nextResolution){var C=isNaN(m.nextRotation)?m.rotation:m.nextRotation;s.nextExtent=fO(m.nextCenter,m.nextResolution,C,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var E=!this.previousExtent_||!f7(this.previousExtent_)&&!fv(s.extent,this.previousExtent_);E&&(this.dispatchEvent(new ry(Pp.MOVESTART,this,a)),this.previousExtent_=Lb(this.previousExtent_))}var O=this.previousExtent_&&!s.viewHints[ll.ANIMATING]&&!s.viewHints[ll.INTERACTING]&&!fv(s.extent,this.previousExtent_);O&&(this.dispatchEvent(new ry(Pp.MOVEEND,this,s)),bj(s.extent,this.previousExtent_))}this.dispatchEvent(new ry(Pp.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Pp.LOADSTART)||this.hasListener(Pp.LOADEND)||this.hasListener(d0.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},t.prototype.setLayerGroup=function(n){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new Um("removelayer",r)),this.set(gA.LAYERGROUP,n)},t.prototype.setSize=function(n){this.set(gA.SIZE,n)},t.prototype.setTarget=function(n){this.set(gA.TARGET,n)},t.prototype.setView=function(n){if(!n||n instanceof Np){this.set(gA.VIEW,n);return}this.set(gA.VIEW,new Np);var r=this;n.then(function(i){r.setView(new Np(i))})},t.prototype.updateSize=function(){var n=this.getTargetElement(),r=void 0;if(n){var i=getComputedStyle(n),o=n.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=n.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(r=[o,a],!pK(r)&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var n=this.getView();if(n){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),n.setViewportSize(r)}},t}(jh);function Qse(e){var t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n={},r=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new gw({layers:e.layers});n[gA.LAYERGROUP]=r,n[gA.TARGET]=e.target,n[gA.VIEW]=e.view instanceof Np?e.view:new Np;var i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new Gd(e.controls.slice()):(fo(typeof e.controls.getArray=="function",47),i=e.controls));var o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new Gd(e.interactions.slice()):(fo(typeof e.interactions.getArray=="function",48),o=e.interactions));var a;return e.overlays!==void 0?Array.isArray(e.overlays)?a=new Gd(e.overlays.slice()):(fo(typeof e.overlays.getArray=="function",49),a=e.overlays):a=new Gd,{controls:i,interactions:o,keyboardEventTarget:t,overlays:a,values:n}}const $se=Wse;var Yse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qse=function(e){Yse(t,e);function t(n){var r=e.call(this)||this,i=n.element;return i&&!n.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],n.render&&(r.render=n.render),n.target&&r.setTarget(n.target),r}return t.prototype.disposeInternal=function(){w4(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(n){this.map_&&w4(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)ss(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=n,n){var o=this.target_?this.target_:n.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==j1&&this.listenerKeys.push(Bo(n,Pp.POSTRENDER,this.render,this)),n.render()}},t.prototype.render=function(n){},t.prototype.setTarget=function(n){this.target_=typeof n=="string"?document.getElementById(n):n},t}(jh);const L7=qse;var Hse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vse=function(e){Hse(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",h=i.collapseLabel!==void 0?i.collapseLabel:"",m=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof h=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=h,r.collapseLabel_.className=m):r.collapseLabel_=h;var C=i.label!==void 0?i.label:"i";typeof C=="string"?(r.label_=document.createElement("span"),r.label_.textContent=C,r.label_.className=s):r.label_=C;var E=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=a,r.toggleButton_.appendChild(E),r.toggleButton_.addEventListener(Gi.CLICK,r.handleClick_.bind(r),!1);var O=o+" "+mw+" "+T7+(r.collapsed_&&r.collapsible_?" "+sK:"")+(r.collapsible_?"":" ol-uncollapsible"),P=r.element;return P.className=O,P.appendChild(r.toggleButton_),P.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return t.prototype.collectSourceAttributions_=function(n){for(var r={},i=[],o=!0,a=n.layerStatesArray,s=0,h=a.length;s<h;++s){var m=a[s];if(x4(m,n.viewState)){var C=m.layer.getSource();if(C){var E=C.getAttributions();if(E){var O=E(n);if(O)if(o=o&&C.getAttributionsCollapsible()!==!1,Array.isArray(O))for(var P=0,D=O.length;P<D;++P)O[P]in r||(i.push(O[P]),r[O[P]]=!0);else O in r||(i.push(O),r[O]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},t.prototype.updateElement_=function(n){if(!n){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(n),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Z1(r,this.renderedAttributions_)){eN(this.ulElement_);for(var o=0,a=r.length;o<a;++o){var s=document.createElement("li");s.innerHTML=r[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=r}},t.prototype.handleClick_=function(n){n.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(sK),this.collapsed_?uK(this.collapseLabel_,this.label_):uK(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(n){this.collapsible_!==n&&(this.collapsible_=n,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(n){this.userCollapsed_=n,!(!this.collapsible_||this.collapsed_===n)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(n){this.updateElement_(n.frameState)},t}(L7);const Zse=Vse;var Xse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jse=function(e){Xse(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof a=="string"?(r.label_=document.createElement("span"),r.label_.className=s,r.label_.textContent=a):(r.label_=a,r.label_.classList.add(s));var h=i.tipLabel?i.tipLabel:"Reset rotation",m=document.createElement("button");m.className=o+"-reset",m.setAttribute("type","button"),m.title=h,m.appendChild(r.label_),m.addEventListener(Gi.CLICK,r.handleClick_.bind(r),!1);var C=o+" "+mw+" "+T7,E=r.element;return E.className=C,E.appendChild(m),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(Sx),r}return t.prototype.handleClick_=function(n){n.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var n=this.getMap(),r=n.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:Tv}):r.setRotation(0))}},t.prototype.render=function(n){var r=n.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(Sx);!a&&i===0?this.element.classList.add(Sx):a&&i!==0&&this.element.classList.remove(Sx)}this.label_.style.transform=o}this.rotation_=i}},t}(L7);const ele=Jse;var tle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nle=function(e){tle(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",h=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",m=i.zoomInLabel!==void 0?i.zoomInLabel:"+",C=i.zoomOutLabel!==void 0?i.zoomOutLabel:"",E=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",O=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",P=document.createElement("button");P.className=s,P.setAttribute("type","button"),P.title=E,P.appendChild(typeof m=="string"?document.createTextNode(m):m),P.addEventListener(Gi.CLICK,r.handleClick_.bind(r,a),!1);var D=document.createElement("button");D.className=h,D.setAttribute("type","button"),D.title=O,D.appendChild(typeof C=="string"?document.createTextNode(C):C),D.addEventListener(Gi.CLICK,r.handleClick_.bind(r,-a),!1);var $=o+" "+mw+" "+T7,ee=r.element;return ee.className=$,ee.appendChild(P),ee.appendChild(D),r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleClick_=function(n,r){r.preventDefault(),this.zoomByDelta_(n)},t.prototype.zoomByDelta_=function(n){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+n);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Tv})):i.setZoom(a)}}},t}(L7);const rle=nle;var ile=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mA={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},ole=function(e){ile(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un,r.options=n,r.id=n.id,r.insertFirst=n.insertFirst!==void 0?n.insertFirst:!0,r.stopEvent=n.stopEvent!==void 0?n.stopEvent:!0,r.element=document.createElement("div"),r.element.className=n.className!==void 0?n.className:"ol-overlay-container "+ose,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=n.autoPan;return i&&typeof i!="object"&&(i={animation:n.autoPanAnimation,margin:n.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(mA.ELEMENT,r.handleElementChanged),r.addChangeListener(mA.MAP,r.handleMapChanged),r.addChangeListener(mA.OFFSET,r.handleOffsetChanged),r.addChangeListener(mA.POSITION,r.handlePositionChanged),r.addChangeListener(mA.POSITIONING,r.handlePositioningChanged),n.element!==void 0&&r.setElement(n.element),r.setOffset(n.offset!==void 0?n.offset:[0,0]),r.setPositioning(n.positioning||"top-left"),n.position!==void 0&&r.setPosition(n.position),r}return t.prototype.getElement=function(){return this.get(mA.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(mA.MAP)||null},t.prototype.getOffset=function(){return this.get(mA.OFFSET)},t.prototype.getPosition=function(){return this.get(mA.POSITION)},t.prototype.getPositioning=function(){return this.get(mA.POSITIONING)},t.prototype.handleElementChanged=function(){eN(this.element);var n=this.getElement();n&&this.element.appendChild(n)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(w4(this.element),ss(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var n=this.getMap();if(n){this.mapPostrenderListenerKey=Bo(n,Pp.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?n.getOverlayContainerStopEvent():n.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(n){this.set(mA.ELEMENT,n)},t.prototype.setMap=function(n){this.set(mA.MAP,n)},t.prototype.setOffset=function(n){this.set(mA.OFFSET,n)},t.prototype.setPosition=function(n){this.set(mA.POSITION,n)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(n){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get(mA.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),a=this.getRect(o,[sse(o),lse(o)]),s=n||{},h=s.margin===void 0?20:s.margin;if(!qm(i,a)){var m=a[0]-i[0],C=i[2]-a[2],E=a[1]-i[1],O=i[3]-a[3],P=[0,0];if(m<0?P[0]=m-h:C<0&&(P[0]=Math.abs(C)+h),E<0?P[1]=E-h:O<0&&(P[1]=Math.abs(O)+h),P[0]!==0||P[1]!==0){var D=r.getView().getCenterInternal(),$=r.getPixelFromCoordinateInternal(D);if(!$)return;var ee=[$[0]+P[0],$[1]+P[1]],H=s.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(ee),duration:H.duration,easing:H.easing})}}}},t.prototype.getRect=function(n,r){var i=n.getBoundingClientRect(),o=i.left+window.pageXOffset,a=i.top+window.pageYOffset;return[o,a,o+r[0],a+r[1]]},t.prototype.setPositioning=function(n){this.set(mA.POSITIONING,n)},t.prototype.setVisible=function(n){this.rendered.visible!==n&&(this.element.style.display=n?"":"none",this.rendered.visible=n)},t.prototype.updatePixelPosition=function(){var n=this.getMap(),r=this.getPosition();if(!n||!n.isRendered()||!r){this.setVisible(!1);return}var i=n.getPixelFromCoordinate(r),o=n.getSize();this.updateRenderedPosition(i,o)},t.prototype.updateRenderedPosition=function(n,r){var i=this.element.style,o=this.getOffset(),a=this.getPositioning();this.setVisible(!0);var s=Math.round(n[0]+o[0])+"px",h=Math.round(n[1]+o[1])+"px",m="0%",C="0%";a=="bottom-right"||a=="center-right"||a=="top-right"?m="-100%":(a=="bottom-center"||a=="center-center"||a=="top-center")&&(m="-50%"),a=="bottom-left"||a=="bottom-center"||a=="bottom-right"?C="-100%":(a=="center-left"||a=="center-center"||a=="center-right")&&(C="-50%");var E="translate(".concat(m,", ").concat(C,") translate(").concat(s,", ").concat(h,")");this.rendered.transform_!=E&&(this.rendered.transform_=E,i.transform=E,i.msTransform=E)},t.prototype.getOptions=function(){return this.options},t}(jh);function ale(e){var t=e||{},n=new Gd,r=t.zoom!==void 0?t.zoom:!0;r&&n.push(new rle(t.zoomOptions));var i=t.rotate!==void 0?t.rotate:!0;i&&n.push(new ele(t.rotateOptions));var o=t.attribution!==void 0?t.attribution:!0;return o&&n.push(new Zse(t.attributionOptions)),n}const mK={ACTIVE:"active"};var sle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lle=function(e){sle(t,e);function t(n){var r=e.call(this)||this;return r.on,r.once,r.un,n&&n.handleEvent&&(r.handleEvent=n.handleEvent),r.map_=null,r.setActive(!0),r}return t.prototype.getActive=function(){return this.get(mK.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(n){return!0},t.prototype.setActive=function(n){this.set(mK.ACTIVE,n)},t.prototype.setMap=function(n){this.map_=n},t}(jh);function ule(e,t,n){var r=e.getCenterInternal();if(r){var i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:Use,center:e.getConstrainedCenter(i)})}}function R7(e,t,n,r){var i=e.getZoom();if(i!==void 0){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:r!==void 0?r:250,easing:Tv})}}const zb=lle;var Ale=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cle=function(e){Ale(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==al.DBLCLICK){var i=n.originalEvent,o=n.map,a=n.coordinate,s=i.shiftKey?-this.delta_:this.delta_,h=o.getView();R7(h,s,a,this.duration_),i.preventDefault(),r=!0}return!r},t}(zb);const dle=cle;var hle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fle=function(e){hle(t,e);function t(n){var r=this,i=n||{};return r=e.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(n){return!1},t.prototype.handleDragEvent=function(n){},t.prototype.handleEvent=function(n){if(!n.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(n),this.handlingDownUpSequence){if(n.type==al.POINTERDRAG)this.handleDragEvent(n),n.originalEvent.preventDefault();else if(n.type==al.POINTERUP){var i=this.handleUpEvent(n);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(n.type==al.POINTERDOWN){var o=this.handleDownEvent(n);this.handlingDownUpSequence=o,r=this.stopDown(o)}else n.type==al.POINTERMOVE&&this.handleMoveEvent(n);return!r},t.prototype.handleMoveEvent=function(n){},t.prototype.handleUpEvent=function(n){return!1},t.prototype.stopDown=function(n){return n},t.prototype.updateTrackedPointers_=function(n){n.activePointers&&(this.targetPointers=n.activePointers)},t}(zb);function z7(e){for(var t=e.length,n=0,r=0,i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return[n/t,r/t]}const jb=fle;function kO(e){var t=arguments;return function(n){for(var r=!0,i=0,o=t.length;i<o&&(r=r&&t[i](n),!!r);++i);return r}}var ple=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},mle=function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},uN=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?mle(e):!0},gle=Wy,AN=function(e){var t=e.originalEvent;return t.button==0&&!(Eie&&Oie&&t.ctrlKey)},cN=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},yle=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},dN=function(e){var t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},KS=function(e){var t=e.originalEvent;return fo(t!==void 0,56),t.pointerType=="mouse"},vle=function(e){var t=e.originalEvent;return fo(t!==void 0,56),t.isPrimary&&t.button===0},Cle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_le=function(e){Cle(t,e);function t(n){var r=e.call(this,{stopDown:ow})||this,i=n||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:kO(cN,vle);return r.condition_=i.onFocusOnly?kO(uN,o):o,r.noKinetic_=!1,r}return t.prototype.handleDragEvent=function(n){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=z7(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=n.map,s=a.getView();ioe(o,s.getResolution()),m7(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,n.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(n){var r=n.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),h=r.getPixelFromCoordinateInternal(s),m=r.getCoordinateFromPixelInternal([h[0]-o*Math.cos(a),h[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(m),duration:500,easing:Tv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>0&&this.condition_(n)){var r=n.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(jb);const ble=_le;var xle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wle=function(e){xle(t,e);function t(n){var r=this,i=n||{};return r=e.call(this,{stopDown:ow})||this,r.condition_=i.condition?i.condition:ple,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(n){if(KS(n)){var r=n.map,i=r.getView();if(i.getConstraints().rotation!==F7){var o=r.getSize(),a=n.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var h=s-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=s}}},t.prototype.handleUpEvent=function(n){if(!KS(n))return!0;var r=n.map,i=r.getView();return i.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(n){if(!KS(n))return!1;if(AN(n)&&this.condition_(n)){var r=n.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(jb),Mle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sle=function(e){Mle(t,e);function t(n){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+n,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var n=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(n[0],r[0])+i,o.top=Math.min(n[1],r[1])+i,o.width=Math.abs(r[0]-n[0])+i,o.height=Math.abs(r[1]-n[1])+i},t.prototype.setMap=function(n){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=n,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(n,r){this.startPixel_=n,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var n=this.startPixel_,r=this.endPixel_,i=[n,[n[0],r[1]],r,[r[0],n[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new ab([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(l7);const Ele=Sle;var hN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bx={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},PS=function(e){hN(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return t}(rm),Ole=function(e){hN(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=n||{};return r.box_=new Ele(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:AN,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return t.prototype.defaultBoxEndCondition=function(n,r,i){var o=i[0]-r[0],a=i[1]-r[1];return o*o+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(n){this.box_.setPixels(this.startPixel_,n.pixel),this.dispatchEvent(new PS(Bx.BOXDRAG,n.coordinate,n))},t.prototype.handleUpEvent=function(n){this.box_.setMap(null);var r=this.boxEndCondition_(n,this.startPixel_,n.pixel);return r&&this.onBoxEnd(n),this.dispatchEvent(new PS(r?Bx.BOXEND:Bx.BOXCANCEL,n.coordinate,n)),!1},t.prototype.handleDownEvent=function(n){return this.condition_(n)?(this.startPixel_=n.pixel,this.box_.setMap(n.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new PS(Bx.BOXSTART,n.coordinate,n)),!0):!1},t.prototype.onBoxEnd=function(n){},t}(jb);const Ble=Ole;var Ile=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kle=function(e){Ile(t,e);function t(n){var r=this,i=n||{},o=i.condition?i.condition:yle;return r=e.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return t.prototype.onBoxEnd=function(n){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),h=i.getResolution()/s;o=o.clone(),o.scale(h*h)}i.fitInternal(o,{duration:this.duration_,easing:Tv})},t}(Ble);const Tle=kle,q0={LEFT:37,UP:38,RIGHT:39,DOWN:40};var Kle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ple=function(e){Kle(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.defaultCondition_=function(o){return cN(o)&&dN(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==Gi.KEYDOWN){var i=n.originalEvent,o=i.keyCode;if(this.condition_(n)&&(o==q0.DOWN||o==q0.LEFT||o==q0.RIGHT||o==q0.UP)){var a=n.map,s=a.getView(),h=s.getResolution()*this.pixelDelta_,m=0,C=0;o==q0.DOWN?C=-h:o==q0.LEFT?m=-h:o==q0.RIGHT?m=h:C=h;var E=[m,C];m7(E,s.getRotation()),ule(s,E,this.duration_),i.preventDefault(),r=!0}}return!r},t}(zb),Dle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ule=function(e){Dle(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.condition_=i.condition?i.condition:dN,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==Gi.KEYDOWN||n.type==Gi.KEYPRESS){var i=n.originalEvent,o=i.charCode;if(this.condition_(n)&&(o==43||o==45)){var a=n.map,s=o==43?this.delta_:-this.delta_,h=a.getView();R7(h,s,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},t}(zb);const Fle=Ule;var Lle=function(){function e(t,n,r){this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(t,n){this.points_.push(t,n,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;for(var r=n-3;r>0&&this.points_[r+2]>t;)r-=3;var i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[n]-this.points_[r],a=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),Rle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DS={TRACKPAD:"trackpad",WHEEL:"wheel"},zle=function(e){Rle(t,e);function t(n){var r=this,i=n||{};r=e.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:gle;return r.condition_=i.onFocusOnly?kO(uN,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var n=this.getMap();if(n){var r=n.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},t.prototype.handleEvent=function(n){if(!this.condition_(n))return!0;var r=n.type;if(r!==Gi.WHEEL)return!0;var i=n.map,o=n.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=n.coordinate);var a;if(n.type==Gi.WHEEL&&(a=o.deltaY,Mie&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=yj),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?DS.TRACKPAD:DS.WHEEL);var h=i.getView();if(this.mode_===DS.TRACKPAD&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var m=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),m),!1},t.prototype.handleWheelZoom_=function(n){var r=n.getView();r.getAnimating()&&r.cancelAnimations();var i=-Fl(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),R7(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(n){this.useAnchor_=n,n||(this.lastAnchor_=null)},t}(zb);const jle=zle;var Nle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gle=function(e){Nle(t,e);function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=ow),r=e.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(n){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=s}this.lastAngle_=a;var h=n.map,m=h.getView();if(m.getConstraints().rotation!==F7){var C=h.getViewport().getBoundingClientRect(),E=z7(this.targetPointers);E[0]-=C.left,E[1]-=C.top,this.anchor_=h.getCoordinateFromPixelInternal(E),this.rotating_&&(h.render(),m.adjustRotationInternal(r,this.anchor_))}},t.prototype.handleUpEvent=function(n){if(this.targetPointers.length<2){var r=n.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(jb),Wle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qle=function(e){Wle(t,e);function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=ow),r=e.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return t.prototype.handleDragEvent=function(n){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,h=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(r=this.lastDistance_/h),this.lastDistance_=h;var m=n.map,C=m.getView();r!=1&&(this.lastScaleDelta_=r);var E=m.getViewport().getBoundingClientRect(),O=z7(this.targetPointers);O[0]-=E.left,O[1]-=E.top,this.anchor_=m.getCoordinateFromPixelInternal(O),m.render(),C.adjustResolutionInternal(r,this.anchor_)},t.prototype.handleUpEvent=function(n){if(this.targetPointers.length<2){var r=n.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(jb);const $le=Qle;function Yle(e,t,n,r,i){fN(e,t,n||0,r||e.length-1,i||qle)}function fN(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),h=.5*Math.exp(2*s/3),m=.5*Math.sqrt(s*h*(o-h)/o)*(a-o/2<0?-1:1),C=Math.max(n,Math.floor(t-a*h/o+m)),E=Math.min(r,Math.floor(t+(o-a)*h/o+m));fN(e,t,C,E,i)}var O=e[t],P=n,D=r;for(kC(e,n,t),i(e[r],O)>0&&kC(e,n,r);P<D;){for(kC(e,P,D),P++,D--;i(e[P],O)<0;)P++;for(;i(e[D],O)>0;)D--}i(e[n],O)===0?kC(e,n,D):(D++,kC(e,D,r)),D<=t&&(n=D+1),t<=D&&(r=D-1)}}function kC(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function qle(e,t){return e<t?-1:e>t?1:0}let pN=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const r=[];if(!kx(t,n))return r;const i=this.toBBox,o=[];for(;n;){for(let a=0;a<n.children.length;a++){const s=n.children[a],h=n.leaf?i(s):s;kx(t,h)&&(n.leaf?r.push(s):FS(t,h)?this._all(s,r):o.push(s))}n=o.pop()}return r}collides(t){let n=this.data;if(!kx(t,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const o=n.children[i],a=n.leaf?this.toBBox(o):o;if(kx(t,a)){if(n.leaf||FS(t,a))return!0;r.push(o)}}n=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=iy([]),this}remove(t,n){if(!t)return this;let r=this.data;const i=this.toBBox(t),o=[],a=[];let s,h,m;for(;r||o.length;){if(r||(r=o.pop(),h=o[o.length-1],s=a.pop(),m=!0),r.leaf){const C=Hle(t,r.children,n);if(C!==-1)return r.children.splice(C,1),o.push(r),this._condense(o),this}!m&&!r.leaf&&FS(r,i)?(o.push(r),a.push(s),s=0,h=r,r=r.children[0]):h?(s++,r=h.children[s],m=!1):r=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const r=[];for(;t;)t.leaf?n.push(...t.children):r.push(...t.children),t=r.pop();return n}_build(t,n,r,i){const o=r-n+1;let a=this._maxEntries,s;if(o<=a)return s=iy(t.slice(n,r+1)),jg(s,this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),s=iy([]),s.leaf=!1,s.height=i;const h=Math.ceil(o/a),m=h*Math.ceil(Math.sqrt(a));gK(t,n,r,m,this.compareMinX);for(let C=n;C<=r;C+=m){const E=Math.min(C+m-1,r);gK(t,C,E,h,this.compareMinY);for(let O=C;O<=E;O+=h){const P=Math.min(O+h-1,E);s.children.push(this._build(t,O,P,i-1))}}return jg(s,this.toBBox),s}_chooseSubtree(t,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let o=1/0,a=1/0,s;for(let h=0;h<n.children.length;h++){const m=n.children[h],C=US(m),E=Xle(t,m)-C;E<a?(a=E,o=C<o?C:o,s=m):E===a&&C<o&&(o=C,s=m)}n=s||n.children[0]}return n}_insert(t,n,r){const i=r?t:this.toBBox(t),o=[],a=this._chooseSubtree(i,this.data,n,o);for(a.children.push(t),VC(a,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)}_split(t,n){const r=t[n],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const a=this._chooseSplitIndex(r,o,i),s=iy(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,jg(r,this.toBBox),jg(s,this.toBBox),n?t[n-1].children.push(s):this._splitRoot(r,s)}_splitRoot(t,n){this.data=iy([t,n]),this.data.height=t.height+1,this.data.leaf=!1,jg(this.data,this.toBBox)}_chooseSplitIndex(t,n,r){let i,o=1/0,a=1/0;for(let s=n;s<=r-n;s++){const h=HC(t,0,s,this.toBBox),m=HC(t,s,r,this.toBBox),C=Jle(h,m),E=US(h)+US(m);C<o?(o=C,i=s,a=E<a?E:a):C===o&&E<a&&(a=E,i=s)}return i||r-n}_chooseSplitAxis(t,n,r){const i=t.leaf?this.compareMinX:Vle,o=t.leaf?this.compareMinY:Zle,a=this._allDistMargin(t,n,r,i),s=this._allDistMargin(t,n,r,o);a<s&&t.children.sort(i)}_allDistMargin(t,n,r,i){t.children.sort(i);const o=this.toBBox,a=HC(t,0,n,o),s=HC(t,r-n,r,o);let h=Ix(a)+Ix(s);for(let m=n;m<r-n;m++){const C=t.children[m];VC(a,t.leaf?o(C):C),h+=Ix(a)}for(let m=r-n-1;m>=n;m--){const C=t.children[m];VC(s,t.leaf?o(C):C),h+=Ix(s)}return h}_adjustParentBBoxes(t,n,r){for(let i=r;i>=0;i--)VC(n[i],t)}_condense(t){for(let n=t.length-1,r;n>=0;n--)t[n].children.length===0?n>0?(r=t[n-1].children,r.splice(r.indexOf(t[n]),1)):this.clear():jg(t[n],this.toBBox)}};function Hle(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function jg(e,t){HC(e,0,e.children.length,t,e)}function HC(e,t,n,r,i){i||(i=iy(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=t;o<n;o++){const a=e.children[o];VC(i,e.leaf?r(a):a)}return i}function VC(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Vle(e,t){return e.minX-t.minX}function Zle(e,t){return e.minY-t.minY}function US(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Ix(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Xle(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Jle(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function FS(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function kx(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function iy(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gK(e,t,n,r,i){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=r)continue;const a=t+Math.ceil((n-t)/r/2)*r;Yle(e,a,t,n,i),o.push(t,a,a,n)}}const os={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var eue=function(){function e(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=NA(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return e.prototype.clone=function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getDeclutterMode=function(){return this.declutterMode_},e.prototype.getAnchor=function(){return Ci()},e.prototype.getImage=function(t){return Ci()},e.prototype.getHitDetectionImage=function(){return Ci()},e.prototype.getPixelRatio=function(t){return 1},e.prototype.getImageState=function(){return Ci()},e.prototype.getImageSize=function(){return Ci()},e.prototype.getOrigin=function(){return Ci()},e.prototype.getSize=function(){return Ci()},e.prototype.setDisplacement=function(t){this.displacement_=t},e.prototype.setOpacity=function(t){this.opacity_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=NA(t)},e.prototype.listenImageChange=function(t){Ci()},e.prototype.load=function(){Ci()},e.prototype.unlistenImageChange=function(t){Ci()},e}();const mN=eue;function Rf(e){return Array.isArray(e)?Vj(e):e}var tue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nue=function(e){tue(t,e);function t(n){var r=this,i=n.rotateWithView!==void 0?n.rotateWithView:!1;return r=e.call(this,{opacity:1,rotateWithView:i,rotation:n.rotation!==void 0?n.rotation:0,scale:n.scale!==void 0?n.scale:1,displacement:n.displacement!==void 0?n.displacement:[0,0],declutterMode:n.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=n.fill!==void 0?n.fill:null,r.origin_=[0,0],r.points_=n.points,r.radius_=n.radius!==void 0?n.radius:n.radius1,r.radius2_=n.radius2,r.angle_=n.angle!==void 0?n.angle:0,r.stroke_=n.stroke!==void 0?n.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return t.prototype.clone=function(){var n=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(n)?n.slice():n,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.getAnchor=function(){var n=this.size_;if(!n)return null;var r=this.getDisplacement();return[n[0]/2-r[0],n[1]/2+r[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(n){this.fill_=n,this.render()},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(n){var r=this.canvas_[n];if(!r){var i=this.renderOptions_,o=Bc(i.size*n,i.size*n);this.draw_(i,o,n),r=o.canvas,this.canvas_[n]=r}return r},t.prototype.getPixelRatio=function(n){return n},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return os.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(n){this.stroke_=n,this.render()},t.prototype.listenImageChange=function(n){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(n){},t.prototype.calculateLineJoinSize_=function(n,r,i){if(r===0||this.points_===1/0||n!=="bevel"&&n!=="miter")return r;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var h=this.radius2_===void 0?this.points_:this.points_*2,m=2*Math.PI/h,C=a*Math.sin(m),E=Math.sqrt(a*a-C*C),O=o-E,P=Math.sqrt(C*C+O*O),D=P/C;if(n==="miter"&&D<=i)return D*r;var $=r/2/D,ee=r/2*(O/P),H=Math.sqrt((o+$)*(o+$)+ee*ee),G=H-o;if(this.radius2_===void 0||n==="bevel")return G*2;var Z=o*Math.sin(m),ue=Math.sqrt(o*o-Z*Z),ye=a-ue,be=Math.sqrt(Z*Z+ye*ye),X=be/Z;if(X<=i){var se=X*r/2-a-o;return 2*Math.max(G,se)}return G*2},t.prototype.createRenderOptions=function(){var n=pv,r=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=cb),a=Rf(a),s=this.stroke_.getWidth(),s===void 0&&(s=hb),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),n=this.stroke_.getLineJoin(),n===void 0&&(n=pv),r=this.stroke_.getMiterLimit(),r===void 0&&(r=Ab));var h=this.calculateLineJoinSize_(n,s,r),m=Math.max(this.radius_,this.radius2_||0),C=Math.ceil(2*m+h);return{strokeStyle:a,strokeWidth:s,size:C,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var n=this.renderOptions_.size;this.canvas_={},this.size_=[n,n]},t.prototype.draw_=function(n,r,i){if(r.scale(i,i),r.translate(n.size/2,n.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=qp),r.fillStyle=Rf(o),r.fill()}this.stroke_&&(r.strokeStyle=n.strokeStyle,r.lineWidth=n.strokeWidth,r.setLineDash&&n.lineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit,r.stroke())},t.prototype.createHitDetectionCanvas_=function(n){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=_4(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=Bc(n.size,n.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(n,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(n){var r=this.points_,i=this.radius_;if(r===1/0)n.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/r,h=0;h<r;h++){var m=a+h*s,C=h%2===0?i:o;n.lineTo(C*Math.cos(m),C*Math.sin(m))}n.closePath()}},t.prototype.drawHitDetectionCanvas_=function(n,r){r.translate(n.size/2,n.size/2),this.createPath_(r),r.fillStyle=qp,r.fill(),this.stroke_&&(r.strokeStyle=n.strokeStyle,r.lineWidth=n.strokeWidth,n.lineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit,r.stroke())},t}(mN);const rue=nue;var iue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gN=function(e){iue(t,e);function t(n){var r=n||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return t.prototype.clone=function(){var n=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(n)?n.slice():n,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.setRadius=function(n){this.radius_=n,this.render()},t}(rue),xy=function(){function e(t){var n=t||{};this.color_=n.color!==void 0?n.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(t){this.color_=t},e}(),ZC=function(){function e(t){var n=t||{};this.color_=n.color!==void 0?n.color:null,this.lineCap_=n.lineCap,this.lineDash_=n.lineDash!==void 0?n.lineDash:null,this.lineDashOffset_=n.lineDashOffset,this.lineJoin_=n.lineJoin,this.miterLimit_=n.miterLimit,this.width_=n.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(t){this.color_=t},e.prototype.setLineCap=function(t){this.lineCap_=t},e.prototype.setLineDash=function(t){this.lineDash_=t},e.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},e.prototype.setLineJoin=function(t){this.lineJoin_=t},e.prototype.setMiterLimit=function(t){this.miterLimit_=t},e.prototype.setWidth=function(t){this.width_=t},e}(),i1=function(){function e(t){var n=t||{};this.geometry_=null,this.geometryFunction_=yK,n.geometry!==void 0&&this.setGeometry(n.geometry),this.fill_=n.fill!==void 0?n.fill:null,this.image_=n.image!==void 0?n.image:null,this.renderer_=n.renderer!==void 0?n.renderer:null,this.hitDetectionRenderer_=n.hitDetectionRenderer!==void 0?n.hitDetectionRenderer:null,this.stroke_=n.stroke!==void 0?n.stroke:null,this.text_=n.text!==void 0?n.text:null,this.zIndex_=n.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(t){this.renderer_=t},e.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(t){this.text_=t},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=yK,this.geometry_=t},e.prototype.setZIndex=function(t){this.zIndex_=t},e}();function oue(e){var t;if(typeof e=="function")t=e;else{var n;if(Array.isArray(e))n=e;else{fo(typeof e.getZIndex=="function",41);var r=e;n=[r]}t=function(){return n}}return t}var LS=null;function aue(e,t){if(!LS){var n=new xy({color:"rgba(255,255,255,0.4)"}),r=new ZC({color:"#3399CC",width:1.25});LS=[new i1({image:new gN({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return LS}function yK(e){return e.getGeometry()}var sue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vK={RENDER_ORDER:"renderOrder"},lue=function(e){sue(t,e);function t(n){var r=this,i=n||{},o=xl({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=e.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(n){return e.prototype.getFeatures.call(this,n)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(vK.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(n){n.declutterTree||(n.declutterTree=new pN(9)),this.getRenderer().renderDeclutter(n)},t.prototype.setRenderOrder=function(n){this.set(vK.RENDER_ORDER,n)},t.prototype.setStyle=function(n){this.style_=n!==void 0?n:aue,this.styleFunction_=n===null?void 0:oue(this.style_),this.changed()},t}(pw);const yN=lue;var ci={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Tx=[ci.FILL],Vm=[ci.STROKE],C1=[ci.BEGIN_PATH],CK=[ci.CLOSE_PATH],uue=function(){function e(){}return e.prototype.drawCustom=function(t,n,r,i){},e.prototype.drawGeometry=function(t){},e.prototype.setStyle=function(t){},e.prototype.drawCircle=function(t,n){},e.prototype.drawFeature=function(t,n){},e.prototype.drawGeometryCollection=function(t,n){},e.prototype.drawLineString=function(t,n){},e.prototype.drawMultiLineString=function(t,n){},e.prototype.drawMultiPoint=function(t,n){},e.prototype.drawMultiPolygon=function(t,n){},e.prototype.drawPoint=function(t,n){},e.prototype.drawPolygon=function(t,n){},e.prototype.drawText=function(t,n){},e.prototype.setFillStrokeStyle=function(t,n){},e.prototype.setImageStyle=function(t,n){},e.prototype.setTextStyle=function(t,n){},e}();const vN=uue;var Aue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cue=function(e){Aue(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.tolerance=n,a.maxExtent=r,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return t.prototype.applyPixelRatio=function(n){var r=this.pixelRatio;return r==1?n:n.map(function(i){return i*r})},t.prototype.appendFlatPointCoordinates=function(n,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,h=0,m=n.length;h<m;h+=r)o[0]=n[h],o[1]=n[h+1],Fb(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},t.prototype.appendFlatLineCoordinates=function(n,r,i,o,a,s){var h=this.coordinates,m=h.length,C=this.getBufferedMaxExtent();s&&(r+=o);var E=n[r],O=n[r+1],P=this.tmpCoordinate_,D=!0,$,ee,H;for($=r+o;$<i;$+=o)P[0]=n[$],P[1]=n[$+1],H=dO(C,P),H!==ee?(D&&(h[m++]=E,h[m++]=O,D=!1),h[m++]=P[0],h[m++]=P[1]):H===_u.INTERSECTING?(h[m++]=P[0],h[m++]=P[1],D=!1):D=!0,E=P[0],O=P[1],ee=H;return(a&&D||$===r+o)&&(h[m++]=E,h[m++]=O),m},t.prototype.drawCustomCoordinates_=function(n,r,i,o,a){for(var s=0,h=i.length;s<h;++s){var m=i[s],C=this.appendFlatLineCoordinates(n,r,m,o,!1,!1);a.push(C),r=m}return r},t.prototype.drawCustom=function(n,r,i,o){this.beginGeometry(n,r);var a=n.getType(),s=n.getStride(),h=this.coordinates.length,m,C,E,O,P;switch(a){case"MultiPolygon":m=n.getOrientedFlatCoordinates(),O=[];var D=n.getEndss();P=0;for(var $=0,ee=D.length;$<ee;++$){var H=[];P=this.drawCustomCoordinates_(m,P,D[$],s,H),O.push(H)}this.instructions.push([ci.CUSTOM,h,O,n,i,CO]),this.hitDetectionInstructions.push([ci.CUSTOM,h,O,n,o||i,CO]);break;case"Polygon":case"MultiLineString":E=[],m=a=="Polygon"?n.getOrientedFlatCoordinates():n.getFlatCoordinates(),P=this.drawCustomCoordinates_(m,0,n.getEnds(),s,E),this.instructions.push([ci.CUSTOM,h,E,n,i,ib]),this.hitDetectionInstructions.push([ci.CUSTOM,h,E,n,o||i,ib]);break;case"LineString":case"Circle":m=n.getFlatCoordinates(),C=this.appendFlatLineCoordinates(m,0,m.length,s,!1,!1),this.instructions.push([ci.CUSTOM,h,C,n,i,Hm]),this.hitDetectionInstructions.push([ci.CUSTOM,h,C,n,o||i,Hm]);break;case"MultiPoint":m=n.getFlatCoordinates(),C=this.appendFlatPointCoordinates(m,s),C>h&&(this.instructions.push([ci.CUSTOM,h,C,n,i,Hm]),this.hitDetectionInstructions.push([ci.CUSTOM,h,C,n,o||i,Hm]));break;case"Point":m=n.getFlatCoordinates(),this.coordinates.push(m[0],m[1]),C=this.coordinates.length,this.instructions.push([ci.CUSTOM,h,C,n,i]),this.hitDetectionInstructions.push([ci.CUSTOM,h,C,n,o||i]);break}this.endGeometry(r)},t.prototype.beginGeometry=function(n,r){this.beginGeometryInstruction1_=[ci.BEGIN_GEOMETRY,r,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ci.BEGIN_GEOMETRY,r,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var n=this.hitDetectionInstructions;n.reverse();var r,i=n.length,o,a,s=-1;for(r=0;r<i;++r)o=n[r],a=o[0],a==ci.END_GEOMETRY?s=r:a==ci.BEGIN_GEOMETRY&&(o[2]=r,die(this.hitDetectionInstructions,s,r),s=-1)},t.prototype.setFillStrokeStyle=function(n,r){var i=this.state;if(n){var o=n.getColor();i.fillStyle=Rf(o||qp)}else i.fillStyle=void 0;if(r){var a=r.getColor();i.strokeStyle=Rf(a||cb);var s=r.getLineCap();i.lineCap=s!==void 0?s:M4;var h=r.getLineDash();i.lineDash=h?h.slice():lb;var m=r.getLineDashOffset();i.lineDashOffset=m||ub;var C=r.getLineJoin();i.lineJoin=C!==void 0?C:pv;var E=r.getWidth();i.lineWidth=E!==void 0?E:hb;var O=r.getMiterLimit();i.miterLimit=O!==void 0?O:Ab,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},t.prototype.createFill=function(n){var r=n.fillStyle,i=[ci.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},t.prototype.applyStroke=function(n){this.instructions.push(this.createStroke(n))},t.prototype.createStroke=function(n){return[ci.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth*this.pixelRatio,n.lineCap,n.lineJoin,n.miterLimit,this.applyPixelRatio(n.lineDash),n.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(n,r){var i=n.fillStyle;(typeof i!="string"||n.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,n)),n.currentFillStyle=i)},t.prototype.updateStrokeStyle=function(n,r){var i=n.strokeStyle,o=n.lineCap,a=n.lineDash,s=n.lineDashOffset,h=n.lineJoin,m=n.lineWidth,C=n.miterLimit;(n.currentStrokeStyle!=i||n.currentLineCap!=o||a!=n.currentLineDash&&!Z1(n.currentLineDash,a)||n.currentLineDashOffset!=s||n.currentLineJoin!=h||n.currentLineWidth!=m||n.currentMiterLimit!=C)&&(i!==void 0&&r.call(this,n),n.currentStrokeStyle=i,n.currentLineCap=o,n.currentLineDash=a,n.currentLineDashOffset=s,n.currentLineJoin=h,n.currentLineWidth=m,n.currentMiterLimit=C)},t.prototype.endGeometry=function(n){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[ci.END_GEOMETRY,n];this.instructions.push(r),this.hitDetectionInstructions.push(r)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=bj(this.maxExtent),this.maxLineWidth>0)){var n=this.resolution*(this.maxLineWidth+1)/2;A0(this.bufferedMaxExtent_,n,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(vN);const Nb=cue;var due=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hue=function(e){due(t,e);function t(n,r,i,o){var a=e.call(this,n,r,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterMode_=void 0,a.declutterImageWithText_=void 0,a}return t.prototype.drawPoint=function(n,r){if(this.image_){this.beginGeometry(n,r);var i=n.getFlatCoordinates(),o=n.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([ci.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ci.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.drawMultiPoint=function(n,r){if(this.image_){this.beginGeometry(n,r);var i=n.getFlatCoordinates(),o=n.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([ci.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ci.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(n,r){var i=n.getAnchor(),o=n.getSize(),a=n.getOrigin();this.imagePixelRatio_=n.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=n.getHitDetectionImage(),this.image_=n.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=n.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=n.getRotateWithView(),this.rotation_=n.getRotation(),this.scale_=n.getScaleArray(),this.width_=o[0],this.declutterMode_=n.getDeclutterMode(),this.declutterImageWithText_=r},t}(Nb);const fue=hue;var pue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mue=function(e){pue(t,e);function t(n,r,i,o){return e.call(this,n,r,i,o)||this}return t.prototype.drawFlatCoordinates_=function(n,r,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(n,r,i,o,!1,!1),h=[ci.MOVE_TO_LINE_TO,a,s];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i},t.prototype.drawLineString=function(n,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(n,r),this.hitDetectionInstructions.push([ci.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,lb,ub],C1);var s=n.getFlatCoordinates(),h=n.getStride();this.drawFlatCoordinates_(s,0,s.length,h),this.hitDetectionInstructions.push(Vm),this.endGeometry(r)}},t.prototype.drawMultiLineString=function(n,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(n,r),this.hitDetectionInstructions.push([ci.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],C1);for(var s=n.getEnds(),h=n.getFlatCoordinates(),m=n.getStride(),C=0,E=0,O=s.length;E<O;++E)C=this.drawFlatCoordinates_(h,C,s[E],m);this.hitDetectionInstructions.push(Vm),this.endGeometry(r)}},t.prototype.finish=function(){var n=this.state;return n.lastStroke!=null&&n.lastStroke!=this.coordinates.length&&this.instructions.push(Vm),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(n){n.lastStroke!=null&&n.lastStroke!=this.coordinates.length&&(this.instructions.push(Vm),n.lastStroke=this.coordinates.length),n.lastStroke=0,e.prototype.applyStroke.call(this,n),this.instructions.push(C1)},t}(Nb);const gue=mue;var yue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vue=function(e){yue(t,e);function t(n,r,i,o){return e.call(this,n,r,i,o)||this}return t.prototype.drawFlatCoordinatess_=function(n,r,i,o){var a=this.state,s=a.fillStyle!==void 0,h=a.strokeStyle!==void 0,m=i.length;this.instructions.push(C1),this.hitDetectionInstructions.push(C1);for(var C=0;C<m;++C){var E=i[C],O=this.coordinates.length,P=this.appendFlatLineCoordinates(n,r,E,o,!0,!h),D=[ci.MOVE_TO_LINE_TO,O,P];this.instructions.push(D),this.hitDetectionInstructions.push(D),h&&(this.instructions.push(CK),this.hitDetectionInstructions.push(CK)),r=E}return s&&(this.instructions.push(Tx),this.hitDetectionInstructions.push(Tx)),h&&(this.instructions.push(Vm),this.hitDetectionInstructions.push(Vm)),r},t.prototype.drawCircle=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ci.SET_FILL_STYLE,qp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ci.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=n.getFlatCoordinates(),h=n.getStride(),m=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,h,!1,!1);var C=[ci.CIRCLE,m];this.instructions.push(C1,C),this.hitDetectionInstructions.push(C1,C),i.fillStyle!==void 0&&(this.instructions.push(Tx),this.hitDetectionInstructions.push(Tx)),i.strokeStyle!==void 0&&(this.instructions.push(Vm),this.hitDetectionInstructions.push(Vm)),this.endGeometry(r)}},t.prototype.drawPolygon=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ci.SET_FILL_STYLE,qp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ci.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=n.getEnds(),h=n.getOrientedFlatCoordinates(),m=n.getStride();this.drawFlatCoordinatess_(h,0,s,m),this.endGeometry(r)}},t.prototype.drawMultiPolygon=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([ci.SET_FILL_STYLE,qp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ci.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=n.getEndss(),h=n.getOrientedFlatCoordinates(),m=n.getStride(),C=0,E=0,O=s.length;E<O;++E)C=this.drawFlatCoordinatess_(h,C,s[E],m);this.endGeometry(r)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var n=this.tolerance;if(n!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=r1(r[i],n);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var n=this.state,r=n.fillStyle;r!==void 0&&this.updateFillStyle(n,this.createFill),n.strokeStyle!==void 0&&this.updateStrokeStyle(n,this.applyStroke)},t}(Nb);const _K=vue,CN={POINT:"point",LINE:"line"};function Cue(e,t,n,r,i){var o=n,a=n,s=0,h=0,m=n,C,E,O,P,D,$,ee,H,G,Z;for(E=n;E<r;E+=i){var ue=t[E],ye=t[E+1];D!==void 0&&(G=ue-D,Z=ye-$,P=Math.sqrt(G*G+Z*Z),ee!==void 0&&(h+=O,C=Math.acos((ee*G+H*Z)/(O*P)),C>e&&(h>s&&(s=h,o=m,a=E),h=0,m=E-i)),O=P,ee=G,H=Z),D=ue,$=ye}return h+=P,h>s?[m,E]:[o,a]}var _ue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),v_={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},bue=function(e){_ue(t,e);function t(n,r,i,o){var a=e.call(this,n,r,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return t.prototype.finish=function(){var n=e.prototype.finish.call(this);return n.textStates=this.textStates,n.fillStates=this.fillStates,n.strokeStates=this.strokeStates,n},t.prototype.drawText=function(n,r){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,h=s.length,m=n.getType(),C=null,E=n.getStride();if(a.placement===CN.LINE&&(m=="LineString"||m=="MultiLineString"||m=="Polygon"||m=="MultiPolygon")){if(!bl(this.getBufferedMaxExtent(),n.getExtent()))return;var O=void 0;if(C=n.getFlatCoordinates(),m=="LineString")O=[C.length];else if(m=="MultiLineString")O=n.getEnds();else if(m=="Polygon")O=n.getEnds().slice(0,1);else if(m=="MultiPolygon"){var P=n.getEndss();O=[];for(var D=0,$=P.length;D<$;++D)O.push(P[D][0])}this.beginGeometry(n,r);for(var ee=a.textAlign,H=0,G=void 0,Z=0,ue=O.length;Z<ue;++Z){if(ee==null){var ye=Cue(a.maxAngle,C,H,O[Z],E);H=ye[0],G=ye[1]}else G=O[Z];for(var D=H;D<G;D+=E)s.push(C[D],C[D+1]);var be=s.length;H=O[Z],this.drawChars_(h,be),h=be}this.endGeometry(r)}else{var X=a.overflow?null:[];switch(m){case"Point":case"MultiPoint":C=n.getFlatCoordinates();break;case"LineString":C=n.getFlatMidpoint();break;case"Circle":C=n.getCenter();break;case"MultiLineString":C=n.getFlatMidpoints(),E=2;break;case"Polygon":C=n.getFlatInteriorPoint(),a.overflow||X.push(C[2]/this.resolution),E=3;break;case"MultiPolygon":var se=n.getFlatInteriorPoints();C=[];for(var D=0,$=se.length;D<$;D+=3)a.overflow||X.push(se[D+2]/this.resolution),C.push(se[D],se[D+1]);if(C.length===0)return;E=2;break}var be=this.appendFlatPointCoordinates(C,E);if(be===h)return;if(X&&(be-h)/2!==C.length/E){var we=h/2;X=X.filter(function(st,mt){var ze=s[(we+mt)*2]===C[mt*E]&&s[(we+mt)*2+1]===C[mt*E+1];return ze||--we,ze})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(n,r);var xe=a.padding;if(xe!=v1&&(a.scale[0]<0||a.scale[1]<0)){var De=a.padding[0],Ue=a.padding[1],he=a.padding[2],$e=a.padding[3];a.scale[0]<0&&(Ue=-Ue,$e=-$e),a.scale[1]<0&&(De=-De,he=-he),xe=[De,Ue,he,$e]}var ge=this.pixelRatio;this.instructions.push([ci.DRAW_IMAGE,h,be,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,xe==v1?v1:xe.map(function(st){return st*ge}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,X]);var yt=1/ge;this.hitDetectionInstructions.push([ci.DRAW_IMAGE,h,be,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[yt,yt],NaN,void 0,this.declutterImageWithText_,xe,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,X]),this.endGeometry(r)}}},t.prototype.saveTextStates_=function(){var n=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;n&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:r.font,textAlign:r.textAlign||db,justify:r.justify,textBaseline:r.textBaseline||S4,scale:r.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},t.prototype.drawChars_=function(n,r){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,h=this.fillKey_;this.saveTextStates_();var m=this.pixelRatio,C=v_[o.textBaseline],E=this.textOffsetY_*m,O=this.text_,P=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([ci.DRAW_CHARS,n,r,C,o.overflow,h,o.maxAngle,m,E,a,P*m,O,s,1]),this.hitDetectionInstructions.push([ci.DRAW_CHARS,n,r,C,o.overflow,h,o.maxAngle,1,E,a,P,O,s,1/m])},t.prototype.setTextStyle=function(n,r){var i,o,a;if(!n)this.text_="";else{var s=n.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Rf(s.getColor()||qp)):(o=null,this.textFillState_=o);var h=n.getStroke();if(!h)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var m=h.getLineDash(),C=h.getLineDashOffset(),E=h.getWidth(),O=h.getMiterLimit();a.lineCap=h.getLineCap()||M4,a.lineDash=m?m.slice():lb,a.lineDashOffset=C===void 0?ub:C,a.lineJoin=h.getLineJoin()||pv,a.lineWidth=E===void 0?hb:E,a.miterLimit=O===void 0?Ab:O,a.strokeStyle=Rf(h.getColor()||cb)}i=this.textState_;var P=n.getFont()||tN;Ase(P);var D=n.getScaleArray();i.overflow=n.getOverflow(),i.font=P,i.maxAngle=n.getMaxAngle(),i.placement=n.getPlacement(),i.textAlign=n.getTextAlign(),i.justify=n.getJustify(),i.textBaseline=n.getTextBaseline()||S4,i.backgroundFill=n.getBackgroundFill(),i.backgroundStroke=n.getBackgroundStroke(),i.padding=n.getPadding()||v1,i.scale=D===void 0?[1,1]:D;var $=n.getOffsetX(),ee=n.getOffsetY(),H=n.getRotateWithView(),G=n.getRotation();this.text_=n.getText()||"",this.textOffsetX_=$===void 0?0:$,this.textOffsetY_=ee===void 0?0:ee,this.textRotateWithView_=H===void 0?!1:H,this.textRotation_=G===void 0?0:G,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Vi(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Vi(o.fillStyle):""}this.declutterImageWithText_=r},t}(Nb),xue={Circle:_K,Default:Nb,Image:fue,LineString:gue,Polygon:_K,Text:bue},B4=function(){function e(t,n,r,i){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.finish=function(){var t={};for(var n in this.buildersByZIndex_){t[n]=t[n]||{};var r=this.buildersByZIndex_[n];for(var i in r){var o=r[i].finish();t[n][i]=o}}return t},e.prototype.getBuilder=function(t,n){var r=t!==void 0?t.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[n];if(o===void 0){var a=xue[n];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=o}return o},e}(),wue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mue=function(e){wue(t,e);function t(n){var r=e.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=n,r.declutterExecutorGroup=null,r}return t.prototype.getFeatures=function(n){return Ci()},t.prototype.getData=function(n){return null},t.prototype.prepareFrame=function(n){return Ci()},t.prototype.renderFrame=function(n,r){return Ci()},t.prototype.loadedTileCallback=function(n,r,i){n[r]||(n[r]={}),n[r][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(n,r,i){return(function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return n.forEachLoadedTile(r,o,a,s)}).bind(this)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){},t.prototype.getDataAtPixel=function(n,r,i){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(n){var r=n.target;r.getState()===os.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(n){var r=n.getState();return r!=os.LOADED&&r!=os.ERROR&&n.addEventListener(Gi.CHANGE,this.boundHandleImageChange_),r==os.IDLE&&(n.load(),r=n.getState()),r==os.LOADED},t.prototype.renderIfReadyAndVisible=function(){var n=this.getLayer();n&&n.getVisible()&&n.getSourceState()==="ready"&&n.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(pj);const Sue=Mue;var Eue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bK=[],oy=null;function Oue(){var e=document.createElement("canvas");e.width=1,e.height=1,oy=e.getContext("2d")}var Bue=function(e){Eue(t,e);function t(n){var r=e.call(this,n)||this;return r.container=null,r.renderedResolution,r.tempTransform=Qd(),r.pixelTransform=Qd(),r.inversePixelTransform=Qd(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return t.prototype.getImageData=function(n,r,i){oy||Oue(),oy.clearRect(0,0,1,1);var o;try{oy.drawImage(n,r,i,1,1,0,0,1,1),o=oy.getImageData(0,0,1,1).data}catch{return oy=null,null}return o},t.prototype.getBackground=function(n){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(n.viewState.resolution)),i||void 0},t.prototype.useContainer=function(n,r,i){var o=this.getLayer().getClassName(),a,s;if(n&&n.className===o&&(!i||n&&n.style.backgroundColor&&Z1(_4(n.style.backgroundColor),_4(i)))){var h=n.firstElementChild;h instanceof HTMLCanvasElement&&(s=h.getContext("2d"))}if(s&&s.canvas.style.transform===r?(this.container=n,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){a=document.createElement("div"),a.className=o;var m=a.style;m.position="absolute",m.width="100%",m.height="100%",s=Bc();var h=s.canvas;a.appendChild(h),m=h.style,m.position="absolute",m.left="0",m.transformOrigin="top left",this.container=a,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},t.prototype.clipUnrotated=function(n,r,i){var o=x0(i),a=cw(i),s=Aw(i),h=uw(i);Cl(r.coordinateToPixelTransform,o),Cl(r.coordinateToPixelTransform,a),Cl(r.coordinateToPixelTransform,s),Cl(r.coordinateToPixelTransform,h);var m=this.inversePixelTransform;Cl(m,o),Cl(m,a),Cl(m,s),Cl(m,h),n.save(),n.beginPath(),n.moveTo(Math.round(o[0]),Math.round(o[1])),n.lineTo(Math.round(a[0]),Math.round(a[1])),n.lineTo(Math.round(s[0]),Math.round(s[1])),n.lineTo(Math.round(h[0]),Math.round(h[1])),n.clip()},t.prototype.dispatchRenderEvent_=function(n,r,i){var o=this.getLayer();if(o.hasListener(n)){var a=new Xj(n,this.inversePixelTransform,i,r);o.dispatchEvent(a)}},t.prototype.preRender=function(n,r){this.frameState=r,this.dispatchRenderEvent_(d0.PRERENDER,n,r)},t.prototype.postRender=function(n,r){this.dispatchRenderEvent_(d0.POSTRENDER,n,r)},t.prototype.getRenderTransform=function(n,r,i,o,a,s,h){var m=a/2,C=s/2,E=o/r,O=-E,P=-n[0]+h,D=-n[1];return Yf(this.tempTransform,m,C,E,O,-i,P,D)},t.prototype.getDataAtPixel=function(n,r,i){var o=Cl(this.inversePixelTransform,n.slice()),a=this.context,s=this.getLayer(),h=s.getExtent();if(h){var m=Cl(r.pixelToCoordinateTransform,n.slice());if(!Fb(h,m))return null}var C=Math.round(o[0]),E=Math.round(o[1]),O=this.pixelContext_;if(!O){var P=document.createElement("canvas");P.width=1,P.height=1,O=P.getContext("2d"),this.pixelContext_=O}O.clearRect(0,0,1,1);var D;try{O.drawImage(a.canvas,C,E,1,1,0,0,1,1),D=O.getImageData(0,0,1,1).data}catch($){return $.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):D}return D[3]===0?null:D},t.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},t}(Sue);const _N=Bue;function Iue(e,t,n,r,i,o,a,s,h,m,C,E){var O=e[t],P=e[t+1],D=0,$=0,ee=0,H=0;function G(){D=O,$=P,t+=r,O=e[t],P=e[t+1],H+=ee,ee=Math.sqrt((O-D)*(O-D)+(P-$)*(P-$))}do G();while(t<n-r&&H+ee<o);for(var Z=ee===0?0:(o-H)/ee,ue=Rp(D,O,Z),ye=Rp($,P,Z),be=t-r,X=H,se=o+s*h(m,i,C);t<n-r&&H+ee<se;)G();Z=ee===0?0:(se-H)/ee;var we=Rp(D,O,Z),xe=Rp($,P,Z),De;if(E){var Ue=[ue,ye,we,xe];Tj(Ue,0,4,2,E,Ue,Ue),De=Ue[0]>Ue[2]}else De=ue>we;var he=Math.PI,$e=[],ge=be+r===t;t=be,ee=0,H=X,O=e[t],P=e[t+1];var yt;if(ge){G(),yt=Math.atan2(P-$,O-D),De&&(yt+=yt>0?-he:he);var wt=(we+ue)/2,st=(xe+ye)/2;return $e[0]=[wt,st,(se-o)/2,yt,i],$e}i=i.replace(/\n/g," ");for(var mt=0,ze=i.length;mt<ze;){G();var He=Math.atan2(P-$,O-D);if(De&&(He+=He>0?-he:he),yt!==void 0){var Ve=He-yt;if(Ve+=Ve>he?-2*he:Ve<-he?2*he:0,Math.abs(Ve)>a)return null}yt=He;for(var Vt=mt,Yt=0;mt<ze;++mt){var vt=De?ze-mt-1:mt,Qt=s*h(m,i[vt],C);if(t+r<n&&H+ee<o+Yt+Qt/2)break;Yt+=Qt}if(mt!==Vt){var $t=De?i.substring(ze-Vt,ze-mt):i.substring(Vt,mt);Z=ee===0?0:(o+Yt/2-H)/ee;var wt=Rp(D,O,Z),st=Rp($,P,Z);$e.push([wt,st,Yt/2,He,$t]),o+=Yt}}return $e}var Ng=Hd(),Sm=[],Ep=[],Op=[],Em=[];function xK(e){return e[3].declutterBox}var kue=new RegExp("[-----]");function wK(e,t){return(t==="start"||t==="end")&&!kue.test(e)&&(t=t==="start"?"left":"right"),v_[t]}function Tue(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}var Kue=function(){function e(t,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Qd(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(t,n,r,i){var o=t+n+r+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=r?this.fillStates[r]:null,h=this.textStates[n],m=this.pixelRatio,C=[h.scale[0]*m,h.scale[1]*m],E=Array.isArray(t),O=h.justify?v_[h.justify]:wK(Array.isArray(t)?t[0]:t,h.textAlign||db),P=i&&a.lineWidth?a.lineWidth:0,D=E?t:t.split(`
`).reduce(Tue,[]),$=dse(h,D),ee=$.width,H=$.height,G=$.widths,Z=$.heights,ue=$.lineWidths,ye=ee+P,be=[],X=(ye+2)*C[0],se=(H+P)*C[1],we={width:X<0?Math.floor(X):Math.ceil(X),height:se<0?Math.floor(se):Math.ceil(se),contextInstructions:be};if((C[0]!=1||C[1]!=1)&&be.push("scale",C),i){be.push("strokeStyle",a.strokeStyle),be.push("lineWidth",P),be.push("lineCap",a.lineCap),be.push("lineJoin",a.lineJoin),be.push("miterLimit",a.miterLimit);var xe=sw?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;xe.prototype.setLineDash&&(be.push("setLineDash",[a.lineDash]),be.push("lineDashOffset",a.lineDashOffset))}r&&be.push("fillStyle",s.fillStyle),be.push("textBaseline","middle"),be.push("textAlign","center");for(var De=.5-O,Ue=O*ye+De*P,he=[],$e=[],ge=0,yt=0,wt=0,st=0,mt,ze=0,He=D.length;ze<He;ze+=2){var Ve=D[ze];if(Ve===`
`){yt+=ge,ge=0,Ue=O*ye+De*P,++st;continue}var Vt=D[ze+1]||h.font;Vt!==mt&&(i&&he.push("font",Vt),r&&$e.push("font",Vt),mt=Vt),ge=Math.max(ge,Z[wt]);var Yt=[Ve,Ue+De*G[wt]+O*(G[wt]-ue[st]),.5*(P+ge)+yt];Ue+=G[wt],i&&he.push("strokeText",Yt),r&&$e.push("fillText",Yt),++wt}return Array.prototype.push.apply(be,he),Array.prototype.push.apply(be,$e),this.labels_[o]=we,we},e.prototype.replayTextBackground_=function(t,n,r,i,o,a,s){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,n),a&&(this.alignFill_=a[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(t,n,r,i,o,a,s,h,m,C,E,O,P,D,$,ee){s*=O[0],h*=O[1];var H=r-s,G=i-h,Z=o+m>t?t-m:o,ue=a+C>n?n-C:a,ye=D[3]+Z*O[0]+D[1],be=D[0]+ue*O[1]+D[2],X=H-D[3],se=G-D[0];($||E!==0)&&(Sm[0]=X,Em[0]=X,Sm[1]=se,Ep[1]=se,Ep[0]=X+ye,Op[0]=Ep[0],Op[1]=se+be,Em[1]=Op[1]);var we;return E!==0?(we=Yf(Qd(),r,i,1,1,E,-r,-i),Cl(we,Sm),Cl(we,Ep),Cl(we,Op),Cl(we,Em),qf(Math.min(Sm[0],Ep[0],Op[0],Em[0]),Math.min(Sm[1],Ep[1],Op[1],Em[1]),Math.max(Sm[0],Ep[0],Op[0],Em[0]),Math.max(Sm[1],Ep[1],Op[1],Em[1]),Ng)):qf(Math.min(X,X+ye),Math.min(se,se+be),Math.max(X,X+ye),Math.max(se,se+be),Ng),P&&(H=Math.round(H),G=Math.round(G)),{drawImageX:H,drawImageY:G,drawImageW:Z,drawImageH:ue,originX:m,originY:C,declutterBox:{minX:Ng[0],minY:Ng[1],maxX:Ng[2],maxY:Ng[3],value:ee},canvasTransform:we,scale:O}},e.prototype.replayImageOrLabel_=function(t,n,r,i,o,a,s){var h=!!(a||s),m=i.declutterBox,C=t.canvas,E=s?s[2]*i.scale[0]/2:0,O=m.minX-E<=C.width/n&&m.maxX+E>=0&&m.minY-E<=C.height/n&&m.maxY+E>=0;return O&&(h&&this.replayTextBackground_(t,Sm,Ep,Op,Em,a,s),hse(t,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},e.prototype.fill_=function(t){if(this.alignFill_){var n=Cl(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(n[0]%r,n[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.setLineDash&&(t.lineDashOffset=n[7],t.setLineDash(n[6]))},e.prototype.drawLabelWithPointPlacement_=function(t,n,r,i){var o=this.textStates[n],a=this.createLabel(t,n,i,r),s=this.strokeStates[r],h=this.pixelRatio,m=wK(Array.isArray(t)?t[0]:t,o.textAlign||db),C=v_[o.textBaseline||S4],E=s&&s.lineWidth?s.lineWidth:0,O=a.width/h-2*o.scale[0],P=m*O+2*(.5-m)*E,D=C*a.height/h+2*(.5-C)*E;return{label:a,anchorX:P,anchorY:D}},e.prototype.execute_=function(t,n,r,i,o,a,s,h){var m;this.pixelCoordinates_&&Z1(r,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=c0(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Iie(this.renderedTransform_,r));for(var C=0,E=i.length,O=0,P,D,$,ee,H,G,Z,ue,ye,be,X,se,we=0,xe=0,De=null,Ue=null,he=this.coordinateCache_,$e=this.viewRotation_,ge=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,yt={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:$e},wt=this.instructions!=i||this.overlaps?0:200,st,mt,ze,He;C<E;){var Ve=i[C],Vt=Ve[0];switch(Vt){case ci.BEGIN_GEOMETRY:st=Ve[1],He=Ve[3],st.getGeometry()?s!==void 0&&!bl(s,He.getExtent())?C=Ve[2]+1:++C:C=Ve[2];break;case ci.BEGIN_PATH:we>wt&&(this.fill_(t),we=0),xe>wt&&(t.stroke(),xe=0),!we&&!xe&&(t.beginPath(),ee=NaN,H=NaN),++C;break;case ci.CIRCLE:O=Ve[1];var Yt=m[O],vt=m[O+1],Qt=m[O+2],$t=m[O+3],ke=Qt-Yt,pe=$t-vt,Se=Math.sqrt(ke*ke+pe*pe);t.moveTo(Yt+Se,vt),t.arc(Yt,vt,Se,0,2*Math.PI,!0),++C;break;case ci.CLOSE_PATH:t.closePath(),++C;break;case ci.CUSTOM:O=Ve[1],P=Ve[2];var Re=Ve[3],it=Ve[4],ot=Ve.length==6?Ve[5]:void 0;yt.geometry=Re,yt.feature=st,C in he||(he[C]=[]);var St=he[C];ot?ot(m,O,P,2,St):(St[0]=m[O],St[1]=m[O+1],St.length=2),it(St,yt),++C;break;case ci.DRAW_IMAGE:O=Ve[1],P=Ve[2],ue=Ve[3],D=Ve[4],$=Ve[5];var Rt=Ve[6],zt=Ve[7],pt=Ve[8],ir=Ve[9],gn=Ve[10],yn=Ve[11],er=Ve[12],cr=Ve[13],Sr=Ve[14],Gr=Ve[15];if(!ue&&Ve.length>=20){ye=Ve[19],be=Ve[20],X=Ve[21],se=Ve[22];var yr=this.drawLabelWithPointPlacement_(ye,be,X,se);ue=yr.label,Ve[3]=ue;var _i=Ve[23];D=(yr.anchorX-_i)*this.pixelRatio,Ve[4]=D;var Ee=Ve[24];$=(yr.anchorY-Ee)*this.pixelRatio,Ve[5]=$,Rt=ue.height,Ve[6]=Rt,cr=ue.width,Ve[13]=cr}var J=void 0;Ve.length>25&&(J=Ve[25]);var q=void 0,Te=void 0,At=void 0;Ve.length>17?(q=Ve[16],Te=Ve[17],At=Ve[18]):(q=v1,Te=!1,At=!1),gn&&ge?yn+=$e:!gn&&!ge&&(yn-=$e);for(var Bt=0;O<P;O+=2)if(!(J&&J[Bt++]<cr/this.pixelRatio)){var kt=this.calculateImageOrLabelDimensions_(ue.width,ue.height,m[O],m[O+1],cr,Rt,D,$,pt,ir,yn,er,o,q,Te||At,st),Ut=[t,n,ue,kt,zt,Te?De:null,At?Ue:null];if(h){if(Sr==="none")continue;if(Sr==="obstacle"){h.insert(kt.declutterBox);continue}else{var fn=void 0,Pn=void 0;if(Gr){var On=P-O;if(!Gr[On]){Gr[On]=Ut;continue}if(fn=Gr[On],delete Gr[On],Pn=xK(fn),h.collides(Pn))continue}if(h.collides(kt.declutterBox))continue;fn&&(h.insert(Pn),this.replayImageOrLabel_.apply(this,fn)),h.insert(kt.declutterBox)}}this.replayImageOrLabel_.apply(this,Ut)}++C;break;case ci.DRAW_CHARS:var g=Ve[1],Kt=Ve[2],Pr=Ve[3],nr=Ve[4];se=Ve[5];var Pe=Ve[6],ce=Ve[7],_e=Ve[8];X=Ve[9];var Ie=Ve[10];ye=Ve[11],be=Ve[12];var je=[Ve[13],Ve[13]],rt=this.textStates[be],lt=rt.font,ft=[rt.scale[0]*ce,rt.scale[1]*ce],et=void 0;lt in this.widths_?et=this.widths_[lt]:(et={},this.widths_[lt]=et);var Mt=Rj(m,g,Kt,2),tn=Math.abs(ft[0])*AK(lt,ye,et);if(nr||tn<=Mt){var Ht=this.textStates[be].textAlign,en=(Mt-tn)*v_[Ht],Dn=Iue(m,g,Kt,2,ye,en,Pe,Math.abs(ft[0]),AK,lt,et,ge?0:this.viewRotation_);e:if(Dn){var Bn=[],qn=void 0,Er=void 0,ur=void 0,Yr=void 0,Br=void 0;if(X)for(qn=0,Er=Dn.length;qn<Er;++qn){Br=Dn[qn],ur=Br[4],Yr=this.createLabel(ur,be,"",X),D=Br[2]+(ft[0]<0?-Ie:Ie),$=Pr*Yr.height+(.5-Pr)*2*Ie*ft[1]/ft[0]-_e;var kt=this.calculateImageOrLabelDimensions_(Yr.width,Yr.height,Br[0],Br[1],Yr.width,Yr.height,D,$,0,0,Br[3],je,!1,v1,!1,st);if(h&&h.collides(kt.declutterBox))break e;Bn.push([t,n,Yr,kt,1,null,null])}if(se)for(qn=0,Er=Dn.length;qn<Er;++qn){Br=Dn[qn],ur=Br[4],Yr=this.createLabel(ur,be,se,""),D=Br[2],$=Pr*Yr.height-_e;var kt=this.calculateImageOrLabelDimensions_(Yr.width,Yr.height,Br[0],Br[1],Yr.width,Yr.height,D,$,0,0,Br[3],je,!1,v1,!1,st);if(h&&h.collides(kt.declutterBox))break e;Bn.push([t,n,Yr,kt,1,null,null])}h&&h.load(Bn.map(xK));for(var Fr=0,or=Bn.length;Fr<or;++Fr)this.replayImageOrLabel_.apply(this,Bn[Fr])}}++C;break;case ci.END_GEOMETRY:if(a!==void 0){st=Ve[1];var di=a(st,He);if(di)return di}++C;break;case ci.FILL:wt?we++:this.fill_(t),++C;break;case ci.MOVE_TO_LINE_TO:for(O=Ve[1],P=Ve[2],mt=m[O],ze=m[O+1],G=mt+.5|0,Z=ze+.5|0,(G!==ee||Z!==H)&&(t.moveTo(mt,ze),ee=G,H=Z),O+=2;O<P;O+=2)mt=m[O],ze=m[O+1],G=mt+.5|0,Z=ze+.5|0,(O==P-2||G!==ee||Z!==H)&&(t.lineTo(mt,ze),ee=G,H=Z);++C;break;case ci.SET_FILL_STYLE:De=Ve,this.alignFill_=Ve[2],we&&(this.fill_(t),we=0,xe&&(t.stroke(),xe=0)),t.fillStyle=Ve[1],++C;break;case ci.SET_STROKE_STYLE:Ue=Ve,xe&&(t.stroke(),xe=0),this.setStrokeStyle_(t,Ve),++C;break;case ci.STROKE:wt?xe++:t.stroke(),++C;break;default:++C;break}}we&&this.fill_(t),xe&&t.stroke()},e.prototype.execute=function(t,n,r,i,o,a){this.viewRotation_=i,this.execute_(t,n,r,this.instructions,o,void 0,void 0,a)},e.prototype.executeHitDetection=function(t,n,r,i,o){return this.viewRotation_=r,this.execute_(t,1,n,this.hitDetectionInstructions,!0,i,o)},e}();const Pue=Kue;var RS=["Polygon","Circle","LineString","Image","Text","Default"],Due=function(){function e(t,n,r,i,o,a){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Qd(),this.createExecutors_(o)}return e.prototype.clip=function(t,n){var r=this.getClipCoords(n);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var n in t){var r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);var i=t[n];for(var o in i){var a=i[o];r[o]=new Pue(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},e.prototype.hasExecutors=function(t){for(var n in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[n],i=0,o=t.length;i<o;++i)if(t[i]in r)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,n,r,i,o,a){i=Math.round(i);var s=i*2+1,h=Yf(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-t[0],-t[1]),m=!this.hitDetectionContext_;m&&(this.hitDetectionContext_=Bc(s,s));var C=this.hitDetectionContext_;C.canvas.width!==s||C.canvas.height!==s?(C.canvas.width=s,C.canvas.height=s):m||C.clearRect(0,0,s,s);var E;this.renderBuffer_!==void 0&&(E=Hd(),y_(E,t),A0(E,n*(this.renderBuffer_+i),E));var O=Uue(i),P;function D(be,X){for(var se=C.getImageData(0,0,s,s).data,we=0,xe=O.length;we<xe;we++)if(se[O[we]]>0){if(!a||P!=="Image"&&P!=="Text"||a.indexOf(be)!==-1){var De=(O[we]-3)/4,Ue=i-De%s,he=i-(De/s|0),$e=o(be,X,Ue*Ue+he*he);if($e)return $e}C.clearRect(0,0,s,s);break}}var $=Object.keys(this.executorsByZIndex_).map(Number);$.sort(z1);var ee,H,G,Z,ue;for(ee=$.length-1;ee>=0;--ee){var ye=$[ee].toString();for(G=this.executorsByZIndex_[ye],H=RS.length-1;H>=0;--H)if(P=RS[H],Z=G[P],Z!==void 0&&(ue=Z.executeHitDetection(C,h,r,D,E),ue))return ue}},e.prototype.getClipCoords=function(t){var n=this.maxExtent_;if(!n)return null;var r=n[0],i=n[1],o=n[2],a=n[3],s=[r,i,r,a,o,a,o,i];return c0(s,0,8,2,t,s),s},e.prototype.isEmpty=function(){return N1(this.executorsByZIndex_)},e.prototype.execute=function(t,n,r,i,o,a,s){var h=Object.keys(this.executorsByZIndex_).map(Number);h.sort(z1),this.maxExtent_&&(t.save(),this.clip(t,r));var m=a||RS,C,E,O,P,D,$;for(s&&h.reverse(),C=0,E=h.length;C<E;++C){var ee=h[C].toString();for(D=this.executorsByZIndex_[ee],O=0,P=m.length;O<P;++O){var H=m[O];$=D[H],$!==void 0&&$.execute(t,n,r,i,o,s)}}this.maxExtent_&&t.restore()},e}(),zS={};function Uue(e){if(zS[e]!==void 0)return zS[e];for(var t=e*2+1,n=e*e,r=new Array(n+1),i=0;i<=e;++i)for(var o=0;o<=e;++o){var a=i*i+o*o;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(((e+i)*t+(e+o))*4+3),i>0&&s.push(((e-i)*t+(e+o))*4+3),o>0&&(s.push(((e+i)*t+(e-o))*4+3),i>0&&s.push(((e-i)*t+(e-o))*4+3))}for(var h=[],i=0,m=r.length;i<m;++i)r[i]&&h.push.apply(h,r[i]);return zS[e]=h,h}const I4=Due;var Fue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lue=function(e){Fue(t,e);function t(n,r,i,o,a,s,h){var m=e.call(this)||this;return m.context_=n,m.pixelRatio_=r,m.extent_=i,m.transform_=o,m.viewRotation_=a,m.squaredTolerance_=s,m.userTransform_=h,m.contextFillState_=null,m.contextStrokeState_=null,m.contextTextState_=null,m.fillState_=null,m.strokeState_=null,m.image_=null,m.imageAnchorX_=0,m.imageAnchorY_=0,m.imageHeight_=0,m.imageOpacity_=0,m.imageOriginX_=0,m.imageOriginY_=0,m.imageRotateWithView_=!1,m.imageRotation_=0,m.imageScale_=[0,0],m.imageWidth_=0,m.text_="",m.textOffsetX_=0,m.textOffsetY_=0,m.textRotateWithView_=!1,m.textRotation_=0,m.textScale_=[0,0],m.textFillState_=null,m.textStrokeState_=null,m.textState_=null,m.pixelCoordinates_=[],m.tmpLocalTransform_=Qd(),m}return t.prototype.drawImages_=function(n,r,i,o){if(this.image_){var a=c0(n,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,h=this.tmpLocalTransform_,m=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=m*this.imageOpacity_);var C=this.imageRotation_;this.imageRotateWithView_&&(C+=this.viewRotation_);for(var E=0,O=a.length;E<O;E+=2){var P=a[E]-this.imageAnchorX_,D=a[E+1]-this.imageAnchorY_;if(C!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var $=P+this.imageAnchorX_,ee=D+this.imageAnchorY_;Yf(h,$,ee,1,1,C,-$,-ee),s.setTransform.apply(s,h),s.translate($,ee),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,P,D,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=m)}},t.prototype.drawText_=function(n,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=c0(n,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,h=this.textRotation_;for(this.textRotateWithView_&&(h+=this.viewRotation_);r<i;r+=o){var m=a[r]+this.textOffsetX_,C=a[r+1]+this.textOffsetY_;if(h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var E=Yf(this.tmpLocalTransform_,m,C,1,1,h,-m,-C);s.setTransform.apply(s,E),s.translate(m,C),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,m,C),this.textFillState_&&s.fillText(this.text_,m,C)}}},t.prototype.moveToLineTo_=function(n,r,i,o,a){var s=this.context_,h=c0(n,r,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(h[0],h[1]);var m=h.length;a&&(m-=2);for(var C=2;C<m;C+=2)s.lineTo(h[C],h[C+1]);return a&&s.closePath(),i},t.prototype.drawRings_=function(n,r,i,o){for(var a=0,s=i.length;a<s;++a)r=this.moveToLineTo_(n,r,i[a],o,!0);return r},t.prototype.drawCircle=function(n){if(bl(this.extent_,n.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Soe(n,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(r[0],r[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(n.getCenter(),0,2,2)}},t.prototype.setStyle=function(n){this.setFillStrokeStyle(n.getFill(),n.getStroke()),this.setImageStyle(n.getImage()),this.setTextStyle(n.getText())},t.prototype.setTransform=function(n){this.transform_=n},t.prototype.drawGeometry=function(n){var r=n.getType();switch(r){case"Point":this.drawPoint(n);break;case"LineString":this.drawLineString(n);break;case"Polygon":this.drawPolygon(n);break;case"MultiPoint":this.drawMultiPoint(n);break;case"MultiLineString":this.drawMultiLineString(n);break;case"MultiPolygon":this.drawMultiPolygon(n);break;case"GeometryCollection":this.drawGeometryCollection(n);break;case"Circle":this.drawCircle(n);break}},t.prototype.drawFeature=function(n,r){var i=r.getGeometryFunction()(n);!i||!bl(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},t.prototype.drawGeometryCollection=function(n){for(var r=n.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},t.prototype.drawPoint=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getFlatCoordinates(),i=n.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawMultiPoint=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getFlatCoordinates(),i=n.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawLineString=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!bl(this.extent_,n.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=n.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,n.getStride(),!1),r.stroke()}if(this.text_!==""){var o=n.getFlatMidpoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiLineString=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getExtent();if(bl(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=n.getFlatCoordinates(),a=0,s=n.getEnds(),h=n.getStride();i.beginPath();for(var m=0,C=s.length;m<C;++m)a=this.moveToLineTo_(o,a,s[m],h,!1);i.stroke()}if(this.text_!==""){var E=n.getFlatMidpoints();this.drawText_(E,0,E.length,2)}}},t.prototype.drawPolygon=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!bl(this.extent_,n.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(n.getOrientedFlatCoordinates(),0,n.getEnds(),n.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=n.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiPolygon=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!bl(this.extent_,n.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=n.getOrientedFlatCoordinates(),o=0,a=n.getEndss(),s=n.getStride();r.beginPath();for(var h=0,m=a.length;h<m;++h){var C=a[h];o=this.drawRings_(i,o,C,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var E=n.getFlatInteriorPoints();this.drawText_(E,0,E.length,2)}}},t.prototype.setContextFillState_=function(n){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=n.fillStyle&&(i.fillStyle=n.fillStyle,r.fillStyle=n.fillStyle):(r.fillStyle=n.fillStyle,this.contextFillState_={fillStyle:n.fillStyle})},t.prototype.setContextStrokeState_=function(n){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=n.lineCap&&(i.lineCap=n.lineCap,r.lineCap=n.lineCap),r.setLineDash&&(Z1(i.lineDash,n.lineDash)||r.setLineDash(i.lineDash=n.lineDash),i.lineDashOffset!=n.lineDashOffset&&(i.lineDashOffset=n.lineDashOffset,r.lineDashOffset=n.lineDashOffset)),i.lineJoin!=n.lineJoin&&(i.lineJoin=n.lineJoin,r.lineJoin=n.lineJoin),i.lineWidth!=n.lineWidth&&(i.lineWidth=n.lineWidth,r.lineWidth=n.lineWidth),i.miterLimit!=n.miterLimit&&(i.miterLimit=n.miterLimit,r.miterLimit=n.miterLimit),i.strokeStyle!=n.strokeStyle&&(i.strokeStyle=n.strokeStyle,r.strokeStyle=n.strokeStyle)):(r.lineCap=n.lineCap,r.setLineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.lineWidth=n.lineWidth,r.miterLimit=n.miterLimit,r.strokeStyle=n.strokeStyle,this.contextStrokeState_={lineCap:n.lineCap,lineDash:n.lineDash,lineDashOffset:n.lineDashOffset,lineJoin:n.lineJoin,lineWidth:n.lineWidth,miterLimit:n.miterLimit,strokeStyle:n.strokeStyle})},t.prototype.setContextTextState_=function(n){var r=this.context_,i=this.contextTextState_,o=n.textAlign?n.textAlign:db;i?(i.font!=n.font&&(i.font=n.font,r.font=n.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=n.textBaseline&&(i.textBaseline=n.textBaseline,r.textBaseline=n.textBaseline)):(r.font=n.font,r.textAlign=o,r.textBaseline=n.textBaseline,this.contextTextState_={font:n.font,textAlign:o,textBaseline:n.textBaseline})},t.prototype.setFillStrokeStyle=function(n,r){var i=this;if(!n)this.fillState_=null;else{var o=n.getColor();this.fillState_={fillStyle:Rf(o||qp)}}if(!r)this.strokeState_=null;else{var a=r.getColor(),s=r.getLineCap(),h=r.getLineDash(),m=r.getLineDashOffset(),C=r.getLineJoin(),E=r.getWidth(),O=r.getMiterLimit(),P=h||lb;this.strokeState_={lineCap:s!==void 0?s:M4,lineDash:this.pixelRatio_===1?P:P.map(function(D){return D*i.pixelRatio_}),lineDashOffset:(m||ub)*this.pixelRatio_,lineJoin:C!==void 0?C:pv,lineWidth:(E!==void 0?E:hb)*this.pixelRatio_,miterLimit:O!==void 0?O:Ab,strokeStyle:Rf(a||cb)}}},t.prototype.setImageStyle=function(n){var r;if(!n||!(r=n.getSize())){this.image_=null;return}var i=n.getAnchor(),o=n.getOrigin();this.image_=n.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=n.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=n.getRotateWithView(),this.imageRotation_=n.getRotation(),this.imageScale_=n.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},t.prototype.setTextStyle=function(n){if(!n)this.text_="";else{var r=n.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:Rf(i||qp)}}var o=n.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),h=o.getLineDash(),m=o.getLineDashOffset(),C=o.getLineJoin(),E=o.getWidth(),O=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:M4,lineDash:h||lb,lineDashOffset:m||ub,lineJoin:C!==void 0?C:pv,lineWidth:E!==void 0?E:hb,miterLimit:O!==void 0?O:Ab,strokeStyle:Rf(a||cb)}}var P=n.getFont(),D=n.getOffsetX(),$=n.getOffsetY(),ee=n.getRotateWithView(),H=n.getRotation(),G=n.getScaleArray(),Z=n.getText(),ue=n.getTextAlign(),ye=n.getTextBaseline();this.textState_={font:P!==void 0?P:tN,textAlign:ue!==void 0?ue:db,textBaseline:ye!==void 0?ye:S4},this.text_=Z!==void 0?Array.isArray(Z)?Z.reduce(function(be,X,se){return be+=se%2?" ":X},""):Z:"",this.textOffsetX_=D!==void 0?this.pixelRatio_*D:0,this.textOffsetY_=$!==void 0?this.pixelRatio_*$:0,this.textRotateWithView_=ee!==void 0?ee:!1,this.textRotation_=H!==void 0?H:0,this.textScale_=[this.pixelRatio_*G[0],this.pixelRatio_*G[1]]}},t}(vN);const Fm={FRACTION:"fraction",PIXELS:"pixels"},Kd={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var Rue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zue=function(e){Rue(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.extent=n,a.pixelRatio_=i,a.resolution=r,a.state=o,a}return t.prototype.changed=function(){this.dispatchEvent(Gi.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Ci()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Ci()},t}(kv);const jue=zue;var Nue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){Nue(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,i,os.IDLE)||this;return h.src_=o,h.image_=new Image,a!==null&&(h.image_.crossOrigin=a),h.unlisten_=null,h.state=os.IDLE,h.imageLoadFunction_=s,h}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=os.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Oc(this.extent)/this.image_.height),this.state=os.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==os.IDLE||this.state==os.ERROR)&&(this.state=os.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=j7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(n){this.image_=n,this.resolution=Oc(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t})(jue);function j7(e,t,n){var r=e,i=!0,o=!1,a=!1,s=[p4(r,Gi.LOAD,function(){a=!0,o||t()})];return r.src&&Bie?(o=!0,r.decode().then(function(){i&&t()}).catch(function(h){i&&(a?t():n())})):s.push(p4(r,Gi.ERROR,n)),function(){i=!1,s.forEach(ss)}}var Gue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TC=null,Wue=function(e){Gue(t,e);function t(n,r,i,o,a,s){var h=e.call(this)||this;return h.hitDetectionImage_=null,h.image_=n||new Image,o!==null&&(h.image_.crossOrigin=o),h.canvas_={},h.color_=s,h.unlisten_=null,h.imageState_=a,h.size_=i,h.src_=r,h.tainted_,h}return t.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===os.LOADED){TC||(TC=Bc(1,1)),TC.drawImage(this.image_,0,0);try{TC.getImageData(0,0,1,1),this.tainted_=!1}catch{TC=null,this.tainted_=!0}}return this.tainted_===!0},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Gi.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=os.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=os.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(n){return this.replaceColor_(n),this.canvas_[n]?this.canvas_[n]:this.image_},t.prototype.getPixelRatio=function(n){return this.replaceColor_(n),this.canvas_[n]?n:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var n=this.size_[0],r=this.size_[1],i=Bc(n,r);i.fillRect(0,0,n,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==os.IDLE){this.imageState_=os.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=j7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(n){if(!(!this.color_||this.canvas_[n]||this.imageState_!==os.LOADED)){var r=document.createElement("canvas");this.canvas_[n]=r,r.width=Math.ceil(this.image_.width*n),r.height=Math.ceil(this.image_.height*n);var i=r.getContext("2d");if(i.scale(n,n),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=Hj(this.color_),i.fillRect(0,0,r.width/n,r.height/n),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),a=o.data,s=this.color_[0]/255,h=this.color_[1]/255,m=this.color_[2]/255,C=this.color_[3],E=0,O=a.length;E<O;E+=4)a[E]*=s,a[E+1]*=h,a[E+2]*=m,a[E+3]*=C;i.putImageData(o,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(kv);function Que(e,t,n,r,i,o){var a=b4.get(t,r,o);return a||(a=new Wue(e,t,n,r,i,o),b4.set(t,r,o,a)),a}var $ue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yue=function(e){$ue(t,e);function t(n){var r=this,i=n||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,h=i.rotateWithView!==void 0?i.rotateWithView:!1;r=e.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:h,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:Kd.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:Fm.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:Fm.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var m=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var C=i.src;fo(!(C!==void 0&&m),4),fo(!m||m&&r.imgSize_,5),(C===void 0||C.length===0)&&m&&(C=m.src||Vi(m)),fo(C!==void 0&&C.length>0,6);var E=i.src!==void 0?os.IDLE:os.LOADED;return r.color_=i.color!==void 0?_4(i.color):null,r.iconImage_=Que(m,C,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,E,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:Kd.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return t.prototype.clone=function(){var n=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(n)?n.slice():n,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getAnchor=function(){var n=this.normalizedAnchor_;if(!n){n=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==Fm.FRACTION||this.anchorYUnits_==Fm.FRACTION){if(!r)return null;n=this.anchor_.slice(),this.anchorXUnits_==Fm.FRACTION&&(n[0]*=r[0]),this.anchorYUnits_==Fm.FRACTION&&(n[1]*=r[1])}if(this.anchorOrigin_!=Kd.TOP_LEFT){if(!r)return null;n===this.anchor_&&(n=this.anchor_.slice()),(this.anchorOrigin_==Kd.TOP_RIGHT||this.anchorOrigin_==Kd.BOTTOM_RIGHT)&&(n[0]=-n[0]+r[0]),(this.anchorOrigin_==Kd.BOTTOM_LEFT||this.anchorOrigin_==Kd.BOTTOM_RIGHT)&&(n[1]=-n[1]+r[1])}this.normalizedAnchor_=n}var i=this.getDisplacement();return[n[0]-i[0],n[1]+i[1]]},t.prototype.setAnchor=function(n){this.anchor_=n,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(n){return this.iconImage_.getImage(n)},t.prototype.getPixelRatio=function(n){return this.iconImage_.getPixelRatio(n)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var n=this.offset_;if(this.offsetOrigin_!=Kd.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;n=n.slice(),(this.offsetOrigin_==Kd.TOP_RIGHT||this.offsetOrigin_==Kd.BOTTOM_RIGHT)&&(n[0]=i[0]-r[0]-n[0]),(this.offsetOrigin_==Kd.BOTTOM_LEFT||this.offsetOrigin_==Kd.BOTTOM_RIGHT)&&(n[1]=i[1]-r[1]-n[1])}return this.origin_=n,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(n){this.iconImage_.addEventListener(Gi.CHANGE,n)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(n){this.iconImage_.removeEventListener(Gi.CHANGE,n)},t}(mN);const bN=Yue;var que="#333",Hue=function(){function e(t){var n=t||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.scaleArray_=NA(n.scale!==void 0?n.scale:1),this.text_=n.text,this.textAlign_=n.textAlign,this.justify_=n.justify,this.textBaseline_=n.textBaseline,this.fill_=n.fill!==void 0?n.fill:new xy({color:que}),this.maxAngle_=n.maxAngle!==void 0?n.maxAngle:Math.PI/4,this.placement_=n.placement!==void 0?n.placement:CN.POINT,this.overflow_=!!n.overflow,this.stroke_=n.stroke!==void 0?n.stroke:null,this.offsetX_=n.offsetX!==void 0?n.offsetX:0,this.offsetY_=n.offsetY!==void 0?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=n.padding===void 0?null:n.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getJustify=function(){return this.justify_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(t){this.overflow_=t},e.prototype.setFont=function(t){this.font_=t},e.prototype.setMaxAngle=function(t){this.maxAngle_=t},e.prototype.setOffsetX=function(t){this.offsetX_=t},e.prototype.setOffsetY=function(t){this.offsetY_=t},e.prototype.setPlacement=function(t){this.placement_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setFill=function(t){this.fill_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=NA(t!==void 0?t:1)},e.prototype.setStroke=function(t){this.stroke_=t},e.prototype.setText=function(t){this.text_=t},e.prototype.setTextAlign=function(t){this.textAlign_=t},e.prototype.setJustify=function(t){this.justify_=t},e.prototype.setTextBaseline=function(t){this.textBaseline_=t},e.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},e.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},e.prototype.setPadding=function(t){this.padding_=t},e}(),ed=.5;function xN(e,t,n,r,i,o,a){var s=e[0]*ed,h=e[1]*ed,m=Bc(s,h);m.imageSmoothingEnabled=!1;for(var C=m.canvas,E=new Lue(m,ed,i,null,a),O=n.length,P=Math.floor((256*256*256-1)/O),D={},$=1;$<=O;++$){var ee=n[$-1],H=ee.getStyleFunction()||r;if(r){var G=H(ee,o);if(G){Array.isArray(G)||(G=[G]);for(var Z=$*P,ue="#"+("000000"+Z.toString(16)).slice(-6),ye=0,be=G.length;ye<be;++ye){var X=G[ye],se=X.getGeometryFunction()(ee);if(!(!se||!bl(i,se.getExtent()))){var we=X.clone(),xe=we.getFill();xe&&xe.setColor(ue);var De=we.getStroke();De&&(De.setColor(ue),De.setLineDash(null)),we.setText(void 0);var Ue=X.getImage();if(Ue&&Ue.getOpacity()!==0){var he=Ue.getImageSize();if(!he)continue;var $e=Bc(he[0],he[1],void 0,{alpha:!1}),ge=$e.canvas;$e.fillStyle=ue,$e.fillRect(0,0,ge.width,ge.height),we.setImage(new bN({img:ge,imgSize:he,anchor:Ue.getAnchor(),anchorXUnits:Fm.PIXELS,anchorYUnits:Fm.PIXELS,offset:Ue.getOrigin(),opacity:1,size:Ue.getSize(),scale:Ue.getScale(),rotation:Ue.getRotation(),rotateWithView:Ue.getRotateWithView()}))}var yt=we.getZIndex()||0,wt=D[yt];wt||(wt={},D[yt]=wt,wt.Polygon=[],wt.Circle=[],wt.LineString=[],wt.Point=[]),wt[se.getType().replace("Multi","")].push(se,we)}}}}}for(var st=Object.keys(D).map(Number).sort(z1),$=0,mt=st.length;$<mt;++$){var wt=D[st[$]];for(var ze in wt)for(var He=wt[ze],ye=0,be=He.length;ye<be;ye+=2){E.setStyle(He[ye+1]);for(var Ve=0,Vt=t.length;Ve<Vt;++Ve)E.setTransform(t[Ve]),E.drawGeometry(He[ye])}}return m.getImageData(0,0,C.width,C.height)}function wN(e,t,n){var r=[];if(n){var i=Math.floor(Math.round(e[0])*ed),o=Math.floor(Math.round(e[1])*ed),a=(Fl(i,0,n.width-1)+Fl(o,0,n.height-1)*n.width)*4,s=n.data[a],h=n.data[a+1],m=n.data[a+2],C=m+256*(h+256*s),E=Math.floor((256*256*256-1)/t.length);C&&C%E===0&&r.push(t[C/E-1])}return r}var Vue=.5,MN={Point:iAe,LineString:tAe,Polygon:aAe,MultiPoint:oAe,MultiLineString:nAe,MultiPolygon:rAe,GeometryCollection:eAe,Circle:Xue};function Zue(e,t){return parseInt(Vi(e),10)-parseInt(Vi(t),10)}function SN(e,t){var n=TO(e,t);return n*n}function TO(e,t){return Vue*e/t}function Xue(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(t,r)}var h=n.getText();if(h&&h.getText()){var m=(i||e).getBuilder(n.getZIndex(),"Text");m.setTextStyle(h),m.drawText(t,r)}}function k4(e,t,n,r,i,o,a){var s=!1,h=n.getImage();if(h){var m=h.getImageState();m==os.LOADED||m==os.ERROR?h.unlistenImageChange(i):(m==os.IDLE&&h.load(),h.listenImageChange(i),s=!0)}return Jue(e,t,n,r,o,a),s}function Jue(e,t,n,r,i,o){var a=n.getGeometryFunction()(t);if(a){var s=a.simplifyTransformed(r,i),h=n.getRenderer();if(h)EN(e,s,n,t);else{var m=MN[s.getType()];m(e,s,n,t,o)}}}function EN(e,t,n,r){if(t.getType()=="GeometryCollection"){for(var i=t.getGeometries(),o=0,a=i.length;o<a;++o)EN(e,i[o],n,r);return}var s=e.getBuilder(n.getZIndex(),"Default");s.drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer())}function eAe(e,t,n,r,i){var o=t.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var h=MN[o[a].getType()];h(e,o[a],n,r,i)}}function tAe(e,t,n,r,i){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,r)}var s=n.getText();if(s&&s.getText()){var h=(i||e).getBuilder(n.getZIndex(),"Text");h.setTextStyle(s),h.drawText(t,r)}}function nAe(e,t,n,r,i){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,r)}var s=n.getText();if(s&&s.getText()){var h=(i||e).getBuilder(n.getZIndex(),"Text");h.setTextStyle(s),h.drawText(t,r)}}function rAe(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(t,r)}var h=n.getText();if(h&&h.getText()){var m=(i||e).getBuilder(n.getZIndex(),"Text");m.setTextStyle(h),m.drawText(t,r)}}function iAe(e,t,n,r,i){var o=n.getImage(),a=n.getText(),s;if(o){if(o.getImageState()!=os.LOADED)return;var h=e;if(i){var m=o.getDeclutterMode();if(m!=="none")if(h=i,m==="obstacle"){var C=e.getBuilder(n.getZIndex(),"Image");C.setImageStyle(o,s),C.drawPoint(t,r)}else a&&a.getText()&&(s={})}var E=h.getBuilder(n.getZIndex(),"Image");E.setImageStyle(o,s),E.drawPoint(t,r)}if(a&&a.getText()){var O=e;i&&(O=i);var P=O.getBuilder(n.getZIndex(),"Text");P.setTextStyle(a,s),P.drawText(t,r)}}function oAe(e,t,n,r,i){var o=n.getImage(),a=n.getText(),s;if(o){if(o.getImageState()!=os.LOADED)return;var h=e;if(i){var m=o.getDeclutterMode();if(m!=="none")if(h=i,m==="obstacle"){var C=e.getBuilder(n.getZIndex(),"Image");C.setImageStyle(o,s),C.drawMultiPoint(t,r)}else a&&a.getText()&&(s={})}var E=h.getBuilder(n.getZIndex(),"Image");E.setImageStyle(o,s),E.drawMultiPoint(t,r)}if(a&&a.getText()){var O=e;i&&(O=i);var P=O.getBuilder(n.getZIndex(),"Text");P.setTextStyle(a,s),P.drawText(t,r)}}function aAe(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(t,r)}var h=n.getText();if(h&&h.getText()){var m=(i||e).getBuilder(n.getZIndex(),"Text");m.setTextStyle(h),m.drawText(t,r)}}var sAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lAe=function(e){sAe(t,e);function t(n){var r=e.call(this,n)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Hd(),r.wrappedRenderedExtent_=Hd(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return t.prototype.renderWorlds=function(n,r,i){var o=r.extent,a=r.viewState,s=a.center,h=a.resolution,m=a.projection,C=a.rotation,E=m.getExtent(),O=this.getLayer().getSource(),P=r.pixelRatio,D=r.viewHints,$=!(D[ll.ANIMATING]||D[ll.INTERACTING]),ee=this.compositionContext_,H=Math.round(r.size[0]*P),G=Math.round(r.size[1]*P),Z=O.getWrapX()&&m.canWrapX(),ue=Z?xs(E):null,ye=Z?Math.ceil((o[2]-E[2])/ue)+1:1,be=Z?Math.floor((o[0]-E[0])/ue):0;do{var X=this.getRenderTransform(s,h,C,P,H,G,be*ue);n.execute(ee,1,X,C,$,void 0,i)}while(++be<ye)},t.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var n=Bc(this.context.canvas.width,this.context.canvas.height,bK);this.compositionContext_=n}else this.compositionContext_=this.context},t.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var n=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=n,K7(this.compositionContext_),bK.push(this.compositionContext_.canvas),this.compositionContext_=null}},t.prototype.renderDeclutter=function(n){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,n,n.declutterTree),this.releaseCompositionContext_())},t.prototype.renderFrame=function(n,r){var i=n.pixelRatio,o=n.layerStatesArray[n.layerIndex];kie(this.pixelTransform,1/i,1/i),c7(this.inversePixelTransform,this.pixelTransform);var a=_j(this.pixelTransform);this.useContainer(r,a,this.getBackground(n));var s=this.context,h=s.canvas,m=this.replayGroup_,C=this.declutterExecutorGroup;if((!m||m.isEmpty())&&(!C||C.isEmpty()))return null;var E=Math.round(n.size[0]*i),O=Math.round(n.size[1]*i);h.width!=E||h.height!=O?(h.width=E,h.height=O,h.style.transform!==a&&(h.style.transform=a)):this.containerReused||s.clearRect(0,0,E,O),this.preRender(s,n);var P=n.viewState;P.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var D=!1,$=!0;if(o.extent&&this.clipping){var ee=g1(o.extent);$=bl(ee,n.extent),D=$&&!qm(ee,n.extent),D&&this.clipUnrotated(this.compositionContext_,n,ee)}return $&&this.renderWorlds(m,n),D&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,n),this.renderedRotation_!==P.rotation&&(this.renderedRotation_=P.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(n){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Cl(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,h=this.renderedProjection_,m=this.wrappedRenderedExtent_,C=this.getLayer(),E=[],O=i[0]*ed,P=i[1]*ed;E.push(this.getRenderTransform(o,a,s,ed,O,P,0).slice());var D=C.getSource(),$=h.getExtent();if(D.getWrapX()&&h.canWrapX()&&!qm($,m)){for(var ee=m[0],H=xs($),G=0,Z=void 0;ee<$[0];)--G,Z=H*G,E.push(this.getRenderTransform(o,a,s,ed,O,P,Z).slice()),ee+=H;for(G=0,ee=m[2];ee>$[2];)++G,Z=H*G,E.push(this.getRenderTransform(o,a,s,ed,O,P,Z).slice()),ee-=H}this.hitDetectionImageData_=xN(i,E,this.renderedFeatures_,C.getStyleFunction(),m,a,s)}r(wN(n,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){var s=this;if(this.replayGroup_){var h=r.viewState.resolution,m=r.viewState.rotation,C=this.getLayer(),E={},O=function($,ee,H){var G=Vi($),Z=E[G];if(Z){if(Z!==!0&&H<Z.distanceSq){if(H===0)return E[G]=!0,a.splice(a.lastIndexOf(Z),1),o($,C,ee);Z.geometry=ee,Z.distanceSq=H}}else{if(H===0)return E[G]=!0,o($,C,ee);a.push(E[G]={feature:$,layer:C,geometry:ee,distanceSq:H,callback:o})}},P,D=[this.replayGroup_];return this.declutterExecutorGroup&&D.push(this.declutterExecutorGroup),D.some(function($){return P=$.forEachFeatureAtCoordinate(n,h,m,i,O,$===s.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(ee){return ee.value}):null)}),P}},t.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.replayGroup_&&n.changed()},t.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(n){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=n.viewHints[ll.ANIMATING],a=n.viewHints[ll.INTERACTING],s=r.getUpdateWhileAnimating(),h=r.getUpdateWhileInteracting();if(this.ready&&!s&&o||!h&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var m=n.extent,C=n.viewState,E=C.projection,O=C.resolution,P=n.pixelRatio,D=r.getRevision(),$=r.getRenderBuffer(),ee=r.getRenderOrder();ee===void 0&&(ee=Zue);var H=C.center.slice(),G=A0(m,$*O),Z=G.slice(),ue=[G.slice()],ye=E.getExtent();if(i.getWrapX()&&E.canWrapX()&&!qm(ye,n.extent)){var be=xs(ye),X=Math.max(xs(G)/2,be);G[0]=ye[0]-X,G[2]=ye[2]+X,g7(H,E);var se=Ej(ue[0],E);se[0]<ye[0]&&se[2]<ye[2]?ue.push([se[0]+be,se[1],se[2]+be,se[3]]):se[0]>ye[0]&&se[2]>ye[2]&&ue.push([se[0]-be,se[1],se[2]-be,se[3]])}if(this.ready&&this.renderedResolution_==O&&this.renderedRevision_==D&&this.renderedRenderOrder_==ee&&qm(this.wrappedRenderedExtent_,G))return Z1(this.renderedExtent_,Z)||(this.hitDetectionImageData_=null,this.renderedExtent_=Z),this.renderedCenter_=H,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var we=new B4(TO(O,P),G,O,P),xe;this.getLayer().getDeclutter()&&(xe=new B4(TO(O,P),G,O,P));for(var De,Ue,he,Ue=0,he=ue.length;Ue<he;++Ue)i.loadFeatures(ue[Ue],O,E);var $e=SN(O,P),ge=!0,yt=(function(He){var Ve,Vt=He.getStyleFunction()||r.getStyleFunction();if(Vt&&(Ve=Vt(He,O)),Ve){var Yt=this.renderFeature(He,$e,Ve,we,De,xe);ge=ge&&!Yt}}).bind(this),wt=kj(G),st=i.getFeaturesInExtent(wt);ee&&st.sort(ee);for(var Ue=0,he=st.length;Ue<he;++Ue)yt(st[Ue]);this.renderedFeatures_=st,this.ready=ge;var mt=we.finish(),ze=new I4(G,O,P,i.getOverlaps(),mt,r.getRenderBuffer());return xe&&(this.declutterExecutorGroup=new I4(G,O,P,i.getOverlaps(),xe.finish(),r.getRenderBuffer())),this.renderedResolution_=O,this.renderedRevision_=D,this.renderedRenderOrder_=ee,this.renderedExtent_=Z,this.wrappedRenderedExtent_=G,this.renderedCenter_=H,this.renderedProjection_=E,this.replayGroup_=ze,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(n,r,i,o,a,s){if(!i)return!1;var h=!1;if(Array.isArray(i))for(var m=0,C=i.length;m<C;++m)h=k4(o,n,i[m],r,this.boundHandleStyleImageChange_,a,s)||h;else h=k4(o,n,i,r,this.boundHandleStyleImageChange_,a,s);return h},t}(_N);const uAe=lAe;var AAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cAe=function(e){AAe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.createRenderer=function(){return new uAe(this)},t}(yN);const ON=cAe;var MK=function(){function e(t){this.rbush_=new pN(t),this.items_={}}return e.prototype.insert=function(t,n){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(r),this.items_[Vi(n)]=r},e.prototype.load=function(t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var a=t[i],s=n[i],h={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=h,this.items_[Vi(s)]=h}this.rbush_.load(r)},e.prototype.remove=function(t){var n=Vi(t),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null},e.prototype.update=function(t,n){var r=this.items_[Vi(n)],i=[r.minX,r.minY,r.maxX,r.maxY];fv(i,t)||(this.remove(n),this.insert(t,n))},e.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(n){return n.value})},e.prototype.getInExtent=function(t){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},r=this.rbush_.search(n);return r.map(function(i){return i.value})},e.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},e.prototype.forEachInExtent=function(t,n){return this.forEach_(this.getInExtent(t),n)},e.prototype.forEach_=function(t,n){for(var r,i=0,o=t.length;i<o;i++)if(r=n(t[i]),r)return r;return r},e.prototype.isEmpty=function(){return N1(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(t){var n=this.rbush_.toJSON();return qf(n.minX,n.minY,n.maxX,n.maxY,t)},e.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var n in t.items_)this.items_[n]=t.items_[n]},e}(),dAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hAe=function(e){dAe(t,e);function t(n){var r=e.call(this)||this;r.projection=Xs(n.projection),r.attributions_=SK(n.attributions),r.attributionsCollapsible_=n.attributionsCollapsible!==void 0?n.attributionsCollapsible:!0,r.loading=!1,r.state_=n.state!==void 0?n.state:"ready",r.wrapX_=n.wrapX!==void 0?n.wrapX:!1,r.interpolate_=!!n.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),r}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return Ci()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(n){this.attributions_=SK(n),this.changed()},t.prototype.setState=function(n){this.state_=n,this.changed()},t}(jh);function SK(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const BN=hAe,Oh={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function fAe(e,t){return[[-1/0,-1/0,1/0,1/0]]}var pAe=!1;function IN(e,t,n,r,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof e=="function"?e(n,r,i):e,!0),t.getType()=="arraybuffer"&&(s.responseType="arraybuffer"),s.withCredentials=pAe,s.onload=function(h){if(!s.status||s.status>=200&&s.status<300){var m=t.getType(),C=void 0;m=="json"||m=="text"?C=s.responseText:m=="xml"?(C=s.responseXML,C||(C=new DOMParser().parseFromString(s.responseText,"application/xml"))):m=="arraybuffer"&&(C=s.response),C?o(t.readFeatures(C,{extent:n,featureProjection:i}),t.readProjection(C)):a()}else a()},s.onerror=a,s.send()}function EK(e,t){return function(n,r,i,o,a){var s=this;IN(e,t,n,r,i,function(h,m){s.addFeatures(h),o!==void 0&&o(h)},a||j1)}}var kN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Om=function(e){kN(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.feature=r,o.features=i,o}return t}(rm),mAe=function(e){kN(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=j1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(fo(r.format_,7),r.loader_=EK(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:fAe;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new MK:null,r.loadedExtentsRtree_=new MK,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new Gd(s)),s!==void 0&&r.addFeaturesInternal(s),a!==void 0&&r.bindFeaturesCollection_(a),r}return t.prototype.addFeature=function(n){this.addFeatureInternal(n),this.changed()},t.prototype.addFeatureInternal=function(n){var r=Vi(n);if(!this.addToIndex_(r,n)){this.featuresCollection_&&this.featuresCollection_.remove(n);return}this.setupChangeEvents_(r,n);var i=n.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,n)}else this.nullGeometryFeatures_[r]=n;this.dispatchEvent(new Om(Oh.ADDFEATURE,n))},t.prototype.setupChangeEvents_=function(n,r){this.featureChangeKeys_[n]=[Bo(r,Gi.CHANGE,this.handleFeatureChange_,this),Bo(r,hv.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(n,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(fo(!(n in this.uidIndex_),30),this.uidIndex_[n]=r),i},t.prototype.addFeatures=function(n){this.addFeaturesInternal(n),this.changed()},t.prototype.addFeaturesInternal=function(n){for(var r=[],i=[],o=[],a=0,s=n.length;a<s;a++){var h=n[a],m=Vi(h);this.addToIndex_(m,h)&&i.push(h)}for(var a=0,C=i.length;a<C;a++){var h=i[a],m=Vi(h);this.setupChangeEvents_(m,h);var E=h.getGeometry();if(E){var O=E.getExtent();r.push(O),o.push(h)}else this.nullGeometryFeatures_[m]=h}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(Oh.ADDFEATURE))for(var a=0,P=i.length;a<P;a++)this.dispatchEvent(new Om(Oh.ADDFEATURE,i[a]))},t.prototype.bindFeaturesCollection_=function(n){var r=!1;this.addEventListener(Oh.ADDFEATURE,function(i){r||(r=!0,n.push(i.feature),r=!1)}),this.addEventListener(Oh.REMOVEFEATURE,function(i){r||(r=!0,n.remove(i.feature),r=!1)}),n.addEventListener(xc.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),n.addEventListener(xc.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=n},t.prototype.clear=function(n){if(n){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(ss)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(h){this.removeFeatureInternal(h)}).bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new Om(Oh.CLEAR);this.dispatchEvent(s),this.changed()},t.prototype.forEachFeature=function(n){if(this.featuresRtree_)return this.featuresRtree_.forEach(n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},t.prototype.forEachFeatureAtCoordinateDirect=function(n,r){var i=[n[0],n[1],n[0],n[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(n))return r(o)})},t.prototype.forEachFeatureInExtent=function(n,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(n,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},t.prototype.forEachFeatureIntersectingExtent=function(n,r){return this.forEachFeatureInExtent(n,function(i){var o=i.getGeometry();if(o.intersectsExtent(n)){var a=r(i);if(a)return a}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var n;return this.featuresCollection_?n=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(n=this.featuresRtree_.getAll(),N1(this.nullGeometryFeatures_)||Wf(n,fj(this.nullGeometryFeatures_))),n},t.prototype.getFeaturesAtCoordinate=function(n){var r=[];return this.forEachFeatureAtCoordinateDirect(n,function(i){r.push(i)}),r},t.prototype.getFeaturesInExtent=function(n,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(n);var a=zie(n,r);return[].concat.apply([],a.map(function(s){return i.featuresRtree_.getInExtent(s)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(n,r){var i=n[0],o=n[1],a=null,s=[NaN,NaN],h=1/0,m=[-1/0,-1/0,1/0,1/0],C=r||Wy;return this.featuresRtree_.forEachInExtent(m,function(E){if(C(E)){var O=E.getGeometry(),P=h;if(h=O.closestPointXY(i,o,s,h),h<P){a=E;var D=Math.sqrt(h);m[0]=i-D,m[1]=o-D,m[2]=i+D,m[3]=o+D}}}),a},t.prototype.getExtent=function(n){return this.featuresRtree_.getExtent(n)},t.prototype.getFeatureById=function(n){var r=this.idIndex_[n.toString()];return r!==void 0?r:null},t.prototype.getFeatureByUid=function(n){var r=this.uidIndex_[n];return r!==void 0?r:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(n){var r=n.target,i=Vi(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,r)):this.featuresRtree_&&this.featuresRtree_.update(a,r)}var s=r.getId();if(s!==void 0){var h=s.toString();this.idIndex_[h]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[h]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new Om(Oh.CHANGEFEATURE,r))},t.prototype.hasFeature=function(n){var r=n.getId();return r!==void 0?r in this.idIndex_:Vi(n)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&N1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},t.prototype.loadFeatures=function(n,r,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(n,r,i),s=function(E,O){var P=a[E],D=o.forEachInExtent(P,function($){return qm($.extent,P)});D||(++h.loadingExtentsCount_,h.dispatchEvent(new Om(Oh.FEATURESLOADSTART)),h.loader_.call(h,P,r,i,(function($){--this.loadingExtentsCount_,this.dispatchEvent(new Om(Oh.FEATURESLOADEND,void 0,$))}).bind(h),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new Om(Oh.FEATURESLOADERROR))}).bind(h)),o.insert(P,{extent:P.slice()}))},h=this,m=0,C=a.length;m<C;++m)s(m);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(n){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(n,function(o){if(fv(o.extent,n))return i=o,!0}),i&&r.remove(i)},t.prototype.removeFeature=function(n){if(n){var r=Vi(n);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(n);var i=this.removeFeatureInternal(n);i&&this.changed()}},t.prototype.removeFeatureInternal=function(n){var r=Vi(n),i=this.featureChangeKeys_[r];if(i){i.forEach(ss),delete this.featureChangeKeys_[r];var o=n.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Om(Oh.REMOVEFEATURE,n)),n}},t.prototype.removeFromIdIndex_=function(n){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===n){delete this.idIndex_[i],r=!0;break}return r},t.prototype.setLoader=function(n){this.loader_=n},t.prototype.setUrl=function(n){fo(this.format_,7),this.url_=n,this.setLoader(EK(n,this.format_))},t}(BN);const TN=mAe;function gAe(e){var t=e||{},n=new Gd,r=new Lle(-.005,.05,100),i=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;i&&n.push(new wle);var o=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;o&&n.push(new dle({delta:t.zoomDelta,duration:t.zoomDuration}));var a=t.dragPan!==void 0?t.dragPan:!0;a&&n.push(new ble({onFocusOnly:t.onFocusOnly,kinetic:r}));var s=t.pinchRotate!==void 0?t.pinchRotate:!0;s&&n.push(new Gle);var h=t.pinchZoom!==void 0?t.pinchZoom:!0;h&&n.push(new $le({duration:t.zoomDuration}));var m=t.keyboard!==void 0?t.keyboard:!0;m&&(n.push(new Ple),n.push(new Fle({delta:t.zoomDelta,duration:t.zoomDuration})));var C=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;C&&n.push(new jle({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var E=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return E&&n.push(new Tle({duration:t.zoomDuration})),n}var yAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),N7=function(e){yAe(t,e);function t(n){return n=xl({},n),n.controls||(n.controls=ale()),n.interactions||(n.interactions=gAe({onFocusOnly:!0})),e.call(this,n)||this}return t.prototype.createRenderer=function(){return new gse(this)},t}($se),KN=function(){function e(t,n,r,i){this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}return e.prototype.contains=function(t){return this.containsXY(t[1],t[2])},e.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},e.prototype.containsXY=function(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY},e.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},e.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e}();function Gg(e,t,n,r,i){return i!==void 0?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new KN(e,t,n,r)}const PN=KN;function OK(e,t,n,r){return r!==void 0?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function Kv(e,t,n){return e+"/"+t+"/"+n}function DN(e){return Kv(e[0],e[1],e[2])}function vAe(e){var t=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number),n=t[0],r=t[1],i=t[2];return Kv(n,r,i)}function UN(e){return e.split("/").map(Number)}function CAe(e){return(e[1]<<e[0])+e[2]}function _Ae(e,t){var n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var o=t.getFullTileRange(n);return o?o.containsXY(r,i):!0}var bAe=[0,0,0],Bm=5,xAe=function(){function e(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,fo(hie(this.resolutions_,function(a,s){return s-a},!0),17);var n;if(!t.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,fo(this.origins_.length==this.resolutions_.length,20));var o=t.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=x0(o)),fo(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,fo(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:P7,fo(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(a,s){var h=new PN(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var m=this.getTileRangeForExtentAndZ(o,s);h.minX=Math.max(m.minX,h.minX),h.maxX=Math.min(m.maxX,h.maxX),h.minY=Math.max(m.minY,h.minY),h.maxY=Math.min(m.maxY,h.maxY)}return h},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(t,n,r){for(var i=this.getTileRangeForExtentAndZ(t,n),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,h=i.maxY;s<=h;++s)r([n,o,s])},e.prototype.forEachTileCoordParentTileRange=function(t,n,r,i){var o,a,s,h=null,m=t[0]-1;for(this.zoomFactor_===2?(a=t[1],s=t[2]):h=this.getTileCoordExtent(t,i);m>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=Gg(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(h,m,r),n(m,o))return!0;--m}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},e.prototype.getResolution=function(t){return this.resolutions_[t]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(t,n,r){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var i=t[1]*2,o=t[2]*2;return Gg(i,i+1,o,o+1,n)}var a=this.getTileCoordExtent(t,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,n)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(t,n,r){if(n>this.maxZoom||n<this.minZoom)return null;var i=t[0],o=t[1],a=t[2];if(n===i)return Gg(o,a,o,a,r);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,n-i),h=Math.floor(o*s),m=Math.floor(a*s);if(n<i)return Gg(h,h,m,m,r);var C=Math.floor(s*(o+1))-1,E=Math.floor(s*(a+1))-1;return Gg(h,C,m,E,r)}var O=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(O,n,r)},e.prototype.getTileRangeExtent=function(t,n,r){var i=this.getOrigin(t),o=this.getResolution(t),a=NA(this.getTileSize(t),this.tmpSize_),s=i[0]+n.minX*a[0]*o,h=i[0]+(n.maxX+1)*a[0]*o,m=i[1]+n.minY*a[1]*o,C=i[1]+(n.maxY+1)*a[1]*o;return qf(s,m,h,C,r)},e.prototype.getTileRangeForExtentAndZ=function(t,n,r){var i=bAe;this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,i),Gg(o,i[1],a,i[2],r)},e.prototype.getTileCoordCenter=function(t){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=NA(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*i[0]*r,n[1]-(t[2]+.5)*i[1]*r]},e.prototype.getTileCoordExtent=function(t,n){var r=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=NA(this.getTileSize(t[0]),this.tmpSize_),a=r[0]+t[1]*o[0]*i,s=r[1]-(t[2]+1)*o[1]*i,h=a+o[0]*i,m=s+o[1]*i;return qf(a,s,h,m,n)},e.prototype.getTileCoordForCoordAndResolution=function(t,n,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(t,n,r,i,o){var a=this.getZForResolution(r),s=r/this.getResolution(a),h=this.getOrigin(a),m=NA(this.getTileSize(a),this.tmpSize_),C=s*(t-h[0])/r/m[0],E=s*(h[1]-n)/r/m[1];return i?(C=_x(C,Bm)-1,E=_x(E,Bm)-1):(C=Cx(C,Bm),E=Cx(E,Bm)),OK(a,C,E,o)},e.prototype.getTileCoordForXYAndZ_=function(t,n,r,i,o){var a=this.getOrigin(r),s=this.getResolution(r),h=NA(this.getTileSize(r),this.tmpSize_),m=(t-a[0])/s/h[0],C=(a[1]-n)/s/h[1];return i?(m=_x(m,Bm)-1,C=_x(C,Bm)-1):(m=Cx(m,Bm),C=Cx(C,Bm)),OK(r,m,C,o)},e.prototype.getTileCoordForCoordAndZ=function(t,n,r){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},e.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},e.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},e.prototype.getZForResolution=function(t,n){var r=u7(this.resolutions_,t,n||0);return Fl(r,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(t,n){return Fj(n,0,n.length,2,this.getTileCoordExtent(t))},e.prototype.calculateTileRanges_=function(t){for(var n=this.resolutions_.length,r=new Array(n),i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r},e}();const Gb=xAe;var wAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MAe=function(e){wAe(t,e);function t(n,r,i){var o=e.call(this)||this,a=i||{};return o.tileCoord=n,o.state=r,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return t.prototype.changed=function(){this.dispatchEvent(Gi.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var n=this.interimTile;do{if(n.getState()==gr.LOADED)return this.transition_=0,n;n=n.interimTile}while(n);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var n=this.interimTile,r=this;do{if(n.getState()==gr.LOADED){n.interimTile=null;break}else n.getState()==gr.LOADING?r=n:n.getState()==gr.IDLE?r.interimTile=n.interimTile:r=n;n=r.interimTile}while(n)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(n){if(this.state!==gr.ERROR&&this.state>n)throw new Error("Tile load sequence violation");this.state=n,this.changed()},t.prototype.load=function(){Ci()},t.prototype.getAlpha=function(n,r){if(!this.transition_)return 1;var i=this.transitionStarts_[n];if(!i)i=r,this.transitionStarts_[n]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:aN(o/this.transition_)},t.prototype.inTransition=function(n){return this.transition_?this.transitionStarts_[n]!==-1:!1},t.prototype.endTransition=function(n){this.transition_&&(this.transitionStarts_[n]=-1)},t}(kv);const yw=MAe;var SAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),EAe=function(e){SAe(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,s)||this;return h.crossOrigin_=o,h.src_=i,h.key=i,h.image_=new Image,o!==null&&(h.image_.crossOrigin=o),h.unlisten_=null,h.tileLoadFunction_=a,h}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(n){this.image_=n,this.state=gr.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=gr.ERROR,this.unlistenImage_(),this.image_=OAe(),this.changed()},t.prototype.handleImageLoad_=function(){var n=this.image_;n.naturalWidth&&n.naturalHeight?this.state=gr.LOADED:this.state=gr.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==gr.ERROR&&(this.state=gr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==gr.IDLE&&(this.state=gr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=j7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(yw);function OAe(){var e=Bc(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const FN=EAe;var BAe=.5,IAe=10,BK=.25,kAe=function(){function e(t,n,r,i,o,a){this.sourceProj_=t,this.targetProj_=n;var s={},h=y4(this.targetProj_,this.sourceProj_);this.transformInv_=function(Z){var ue=Z[0]+"/"+Z[1];return s[ue]||(s[ue]=h(Z)),s[ue]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&xs(i)==xs(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xs(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xs(this.targetProj_.getExtent()):null;var m=x0(r),C=cw(r),E=Aw(r),O=uw(r),P=this.transformInv_(m),D=this.transformInv_(C),$=this.transformInv_(E),ee=this.transformInv_(O),H=IAe+(a?Math.max(0,Math.ceil(Gie(hO(r)/(a*a*256*256)))):0);if(this.addQuad_(m,C,E,O,P,D,$,ee,H),this.wrapsXInSource_){var G=1/0;this.triangles_.forEach(function(Z,ue,ye){G=Math.min(G,Z.source[0][0],Z.source[1][0],Z.source[2][0])}),this.triangles_.forEach((function(Z){if(Math.max(Z.source[0][0],Z.source[1][0],Z.source[2][0])-G>this.sourceWorldWidth_/2){var ue=[[Z.source[0][0],Z.source[0][1]],[Z.source[1][0],Z.source[1][1]],[Z.source[2][0],Z.source[2][1]]];ue[0][0]-G>this.sourceWorldWidth_/2&&(ue[0][0]-=this.sourceWorldWidth_),ue[1][0]-G>this.sourceWorldWidth_/2&&(ue[1][0]-=this.sourceWorldWidth_),ue[2][0]-G>this.sourceWorldWidth_/2&&(ue[2][0]-=this.sourceWorldWidth_);var ye=Math.min(ue[0][0],ue[1][0],ue[2][0]),be=Math.max(ue[0][0],ue[1][0],ue[2][0]);be-ye<this.sourceWorldWidth_/2&&(Z.source=ue)}}).bind(this))}s={}}return e.prototype.addTriangle_=function(t,n,r,i,o,a){this.triangles_.push({source:[i,o,a],target:[t,n,r]})},e.prototype.addQuad_=function(t,n,r,i,o,a,s,h,m){var C=cO([o,a,s,h]),E=this.sourceWorldWidth_?xs(C)/this.sourceWorldWidth_:null,O=this.sourceWorldWidth_,P=this.sourceProj_.canWrapX()&&E>.5&&E<1,D=!1;if(m>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var $=cO([t,n,r,i]),ee=xs($)/this.targetWorldWidth_;D=ee>BK||D}!P&&this.sourceProj_.isGlobal()&&E&&(D=E>BK||D)}if(!(!D&&this.maxSourceExtent_&&isFinite(C[0])&&isFinite(C[1])&&isFinite(C[2])&&isFinite(C[3])&&!bl(C,this.maxSourceExtent_))){var H=0;if(!D&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(h[0])||!isFinite(h[1]))){if(m>0)D=!0;else if(H=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(h[0])||!isFinite(h[1])?1:0),H!=1&&H!=2&&H!=4&&H!=8)return}if(m>0){if(!D){var G=[(t[0]+r[0])/2,(t[1]+r[1])/2],Z=this.transformInv_(G),ue=void 0;if(P){var ye=(O1(o[0],O)+O1(s[0],O))/2;ue=ye-O1(Z[0],O)}else ue=(o[0]+s[0])/2-Z[0];var be=(o[1]+s[1])/2-Z[1],X=ue*ue+be*be;D=X>this.errorThresholdSquared_}if(D){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var se=[(n[0]+r[0])/2,(n[1]+r[1])/2],we=this.transformInv_(se),xe=[(i[0]+t[0])/2,(i[1]+t[1])/2],De=this.transformInv_(xe);this.addQuad_(t,n,se,xe,o,a,we,De,m-1),this.addQuad_(xe,se,r,i,De,we,s,h,m-1)}else{var Ue=[(t[0]+n[0])/2,(t[1]+n[1])/2],he=this.transformInv_(Ue),$e=[(r[0]+i[0])/2,(r[1]+i[1])/2],ge=this.transformInv_($e);this.addQuad_(t,Ue,$e,i,o,he,ge,h,m-1),this.addQuad_(Ue,n,r,$e,he,a,s,ge,m-1)}return}}if(P){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}H&11||this.addTriangle_(t,r,i,o,s,h),H&14||this.addTriangle_(t,r,n,o,s,a),H&&(H&13||this.addTriangle_(n,i,t,a,h,o),H&7||this.addTriangle_(n,i,r,a,h,s))}},e.prototype.calculateSourceExtent=function(){var t=Hd();return this.triangles_.forEach(function(n,r,i){var o=n.source;y_(t,o[0]),y_(t,o[1]),y_(t,o[2])}),t},e.prototype.getTriangles=function(){return this.triangles_},e}(),KO={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},TAe={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},jS,LN=[];function IK(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function NS(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function KAe(){if(jS===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",IK(e,4,5,4,0),IK(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;jS=NS(t,0)||NS(t,4)||NS(t,8)}return jS}function kK(e,t,n,r){var i=C7(n,t,e),o=$T(t,r,n),a=t.getMetersPerUnit();a!==void 0&&(o*=a);var s=e.getMetersPerUnit();s!==void 0&&(o/=s);var h=e.getExtent();if(!h||Fb(h,i)){var m=$T(e,o,i)/o;isFinite(m)&&m>0&&(o/=m)}return o}function PAe(e,t,n,r){var i=y0(n),o=kK(e,t,i,r);return(!isFinite(o)||o<=0)&&Sj(n,function(a){return o=kK(e,t,a,r),isFinite(o)&&o>0}),o}function DAe(e,t,n,r,i,o,a,s,h,m,C,E){var O=Bc(Math.round(n*e),Math.round(n*t),LN);if(E||xl(O,KO),h.length===0)return O.canvas;O.scale(n,n);function P(ue){return Math.round(ue*n)/n}O.globalCompositeOperation="lighter";var D=Hd();h.forEach(function(ue,ye,be){wj(D,ue.extent)});var $=xs(D),ee=Oc(D),H=Bc(Math.round(n*$/r),Math.round(n*ee/r));E||xl(H,KO);var G=n/r;h.forEach(function(ue,ye,be){var X=ue.extent[0]-D[0],se=-(ue.extent[3]-D[3]),we=xs(ue.extent),xe=Oc(ue.extent);ue.image.width>0&&ue.image.height>0&&H.drawImage(ue.image,m,m,ue.image.width-2*m,ue.image.height-2*m,X*G,se*G,we*G,xe*G)});var Z=x0(a);return s.getTriangles().forEach(function(ue,ye,be){var X=ue.source,se=ue.target,we=X[0][0],xe=X[0][1],De=X[1][0],Ue=X[1][1],he=X[2][0],$e=X[2][1],ge=P((se[0][0]-Z[0])/o),yt=P(-(se[0][1]-Z[1])/o),wt=P((se[1][0]-Z[0])/o),st=P(-(se[1][1]-Z[1])/o),mt=P((se[2][0]-Z[0])/o),ze=P(-(se[2][1]-Z[1])/o),He=we,Ve=xe;we=0,xe=0,De-=He,Ue-=Ve,he-=He,$e-=Ve;var Vt=[[De,Ue,0,0,wt-ge],[he,$e,0,0,mt-ge],[0,0,De,Ue,st-yt],[0,0,he,$e,ze-yt]],Yt=Qie(Vt);if(Yt){if(O.save(),O.beginPath(),KAe()||!E){O.moveTo(wt,st);for(var vt=4,Qt=ge-wt,$t=yt-st,ke=0;ke<vt;ke++)O.lineTo(wt+P((ke+1)*Qt/vt),st+P(ke*$t/(vt-1))),ke!=vt-1&&O.lineTo(wt+P((ke+1)*Qt/vt),st+P((ke+1)*$t/(vt-1)));O.lineTo(mt,ze)}else O.moveTo(wt,st),O.lineTo(ge,yt),O.lineTo(mt,ze);O.clip(),O.transform(Yt[0],Yt[2],Yt[1],Yt[3],ge,yt),O.translate(D[0]-He,D[3]-Ve),O.scale(r/n,-r/n),O.drawImage(H.canvas,0,0),O.restore()}}),C&&(O.save(),O.globalCompositeOperation="source-over",O.strokeStyle="black",O.lineWidth=1,s.getTriangles().forEach(function(ue,ye,be){var X=ue.target,se=(X[0][0]-Z[0])/o,we=-(X[0][1]-Z[1])/o,xe=(X[1][0]-Z[0])/o,De=-(X[1][1]-Z[1])/o,Ue=(X[2][0]-Z[0])/o,he=-(X[2][1]-Z[1])/o;O.beginPath(),O.moveTo(xe,De),O.lineTo(se,we),O.lineTo(Ue,he),O.closePath(),O.stroke()}),O.restore()),O.canvas}var UAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),FAe=function(e){UAe(t,e);function t(n,r,i,o,a,s,h,m,C,E,O,P){var D=e.call(this,a,gr.IDLE,{interpolate:!!P})||this;D.renderEdges_=O!==void 0?O:!1,D.pixelRatio_=h,D.gutter_=m,D.canvas_=null,D.sourceTileGrid_=r,D.targetTileGrid_=o,D.wrappedTileCoord_=s||a,D.sourceTiles_=[],D.sourcesListenerKeys_=null,D.sourceZ_=0;var $=o.getTileCoordExtent(D.wrappedTileCoord_),ee=D.targetTileGrid_.getExtent(),H=D.sourceTileGrid_.getExtent(),G=ee?S1($,ee):$;if(hO(G)===0)return D.state=gr.EMPTY,D;var Z=n.getExtent();Z&&(H?H=S1(H,Z):H=Z);var ue=o.getResolution(D.wrappedTileCoord_[0]),ye=PAe(n,i,G,ue);if(!isFinite(ye)||ye<=0)return D.state=gr.EMPTY,D;var be=E!==void 0?E:BAe;if(D.triangulation_=new kAe(n,i,G,H,ye*be,ue),D.triangulation_.getTriangles().length===0)return D.state=gr.EMPTY,D;D.sourceZ_=r.getZForResolution(ye);var X=D.triangulation_.calculateSourceExtent();if(H&&(n.canWrapX()?(X[1]=Fl(X[1],H[1],H[3]),X[3]=Fl(X[3],H[1],H[3])):X=S1(X,H)),!hO(X))D.state=gr.EMPTY;else{for(var se=r.getTileRangeForExtentAndZ(X,D.sourceZ_),we=se.minX;we<=se.maxX;we++)for(var xe=se.minY;xe<=se.maxY;xe++){var De=C(D.sourceZ_,we,xe,h);De&&D.sourceTiles_.push(De)}D.sourceTiles_.length===0&&(D.state=gr.EMPTY)}return D}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var n=[];if(this.sourceTiles_.forEach((function(C,E,O){C&&C.getState()==gr.LOADED&&n.push({extent:this.sourceTileGrid_.getTileCoordExtent(C.tileCoord),image:C.getImage()})}).bind(this)),this.sourceTiles_.length=0,n.length===0)this.state=gr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(r),h=this.sourceTileGrid_.getResolution(this.sourceZ_),m=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=DAe(o,a,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),s,m,this.triangulation_,n,this.gutter_,this.renderEdges_,this.interpolate),this.state=gr.LOADED}this.changed()},t.prototype.load=function(){if(this.state==gr.IDLE){this.state=gr.LOADING,this.changed();var n=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var a=r.getState();if(a==gr.IDLE||a==gr.LOADING){n++;var s=Bo(r,Gi.CHANGE,function(h){var m=r.getState();(m==gr.LOADED||m==gr.ERROR||m==gr.EMPTY)&&(ss(s),n--,n===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}).bind(this)),n===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var a=r.getState();a==gr.IDLE&&r.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ss),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(K7(this.canvas_.getContext("2d")),LN.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(yw);const RN=FAe;var LAe=function(){function e(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var n=this.oldest_;n;)t(n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t,n){var r=this.entries_[t];return fo(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},e.prototype.remove=function(t){var n=this.entries_[t];return fo(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.key_;return t},e.prototype.getValues=function(){var t=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,n){this.get(t),this.entries_[t].value_=n},e.prototype.set=function(t,n){fo(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}();const RAe=LAe;var zAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jAe=function(e){zAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.expireCache=function(n){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in n)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var n=this.peekFirstKey(),r=UN(n),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove(DN(o.tileCoord)),o.release())}).bind(this))}},t}(RAe);const G7=jAe,GS={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function zN(e){var t=e.getDefaultTileGrid();return t||(t=WAe(e),e.setDefaultTileGrid(t)),t}function NAe(e,t,n){var r=t[0],i=e.getTileCoordCenter(t),o=vw(n);if(Fb(o,i))return t;var a=xs(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,e.getTileCoordForCoordAndZ(i,r)}function GAe(e,t,n,r){var i=r!==void 0?r:"top-left",o=jN(e,t,n);return new Gb({extent:e,origin:Uie(e,i),resolutions:o,tileSize:n})}function W7(e){var t=e||{},n=t.extent||Xs("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:jN(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Gb(r)}function jN(e,t,n,r){for(var i=t!==void 0?t:oN,o=Oc(e),a=xs(e),s=NA(n!==void 0?n:P7),h=r>0?r:Math.max(a/s[0],o/s[1]),m=i+1,C=new Array(m),E=0;E<m;++E)C[E]=h/Math.pow(2,E);return C}function WAe(e,t,n,r){var i=vw(e);return GAe(i,t,n,r)}function vw(e){e=Xs(e);var t=e.getExtent();if(!t){var n=180*$f[QA.DEGREES]/e.getMetersPerUnit();t=qf(-n,-n,n,n)}return t}var NN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),QAe=function(e){NN(t,e);function t(n){var r=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,projection:n.projection,state:n.state,wrapX:n.wrapX,interpolate:n.interpolate})||this;r.on,r.once,r.un,r.opaque_=n.opaque!==void 0?n.opaque:!1,r.tilePixelRatio_=n.tilePixelRatio!==void 0?n.tilePixelRatio:1,r.tileGrid=n.tileGrid!==void 0?n.tileGrid:null;var i=[256,256];return r.tileGrid&&NA(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new G7(n.cacheSize||0),r.tmpSize=[0,0],r.key_=n.key||"",r.tileOptions={transition:n.transition,interpolate:n.interpolate},r.zDirection=n.zDirection?n.zDirection:0,r}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);i&&i.expireCache(r)},t.prototype.forEachLoadedTile=function(n,r,i,o){var a=this.getTileCacheForProjection(n);if(!a)return!1;for(var s=!0,h,m,C,E=i.minX;E<=i.maxX;++E)for(var O=i.minY;O<=i.maxY;++O)m=Kv(r,E,O),C=!1,a.containsKey(m)&&(h=a.get(m),C=h.getState()===gr.LOADED,C&&(C=o(h)!==!1)),C||(s=!1);return s},t.prototype.getGutterForProjection=function(n){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(n){this.key_!==n&&(this.key_=n,this.changed())},t.prototype.getOpaque=function(n){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(n,r,i,o,a){return Ci()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(n){return this.tileGrid?this.tileGrid:zN(n)},t.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();return fo(r===null||l1(r,n),68),this.tileCache},t.prototype.getTilePixelRatio=function(n){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(r),s=NA(o.getTileSize(n),this.tmpSize);return a==1?s:Nse(s,a,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(n,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(n=NAe(o,n,i)),_Ae(n,o)?n:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(n,r){var i=this.getTileCacheForProjection(r);n>i.highWaterMark&&(i.highWaterMark=n)},t.prototype.useTile=function(n,r,i,o){},t}(BN),$Ae=function(e){NN(t,e);function t(n,r){var i=e.call(this,n)||this;return i.tile=r,i}return t}(rm);const YAe=QAe;function qAe(e,t){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,h){if(a)return e.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var m=a[0],C=t.getFullTileRange(m);fo(C,55);var E=C.getHeight()-a[2]-1;return E.toString()})}}function GN(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=qAe(e[i],t);return HAe(r)}function HAe(e){return e.length===1?e[0]:function(t,n,r){if(t){var i=CAe(t),o=O1(i,e.length);return e[o](t,n,r)}else return}}function VAe(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}var ZAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),XAe=function(e){ZAe(t,e);function t(n){var r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===t.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(n){var r=n.target,i=Vi(r),o=r.getState(),a;o==gr.LOADING?(this.tileLoadingKeys_[i]=!0,a=GS.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==gr.ERROR?GS.TILELOADERROR:o==gr.LOADED?GS.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new $Ae(a,r))},t.prototype.setTileLoadFunction=function(n){this.tileCache.clear(),this.tileLoadFunction=n,this.changed()},t.prototype.setTileUrlFunction=function(n,r){this.tileUrlFunction=n,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},t.prototype.setUrl=function(n){var r=VAe(n);this.urls=r,this.setUrls(r)},t.prototype.setUrls=function(n){this.urls=n;var r=n.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(GN(n,this.tileGrid),r):this.setKey(r)},t.prototype.tileUrlFunction=function(n,r,i){},t.prototype.useTile=function(n,r,i){var o=Kv(n,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(YAe);const WN=XAe;var JAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ece=function(e){JAe(t,e);function t(n){var r=this,i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;return n.interpolate!==void 0&&(i=n.interpolate),r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:tce,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX,transition:n.transition,interpolate:i,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this,r.crossOrigin=n.crossOrigin!==void 0?n.crossOrigin:null,r.tileClass=n.tileClass!==void 0?n.tileClass:FN,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=n.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var n in this.tileCacheForProjection)if(this.tileCacheForProjection[n].canExpireCache())return!0;return!1},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?r:{})}},t.prototype.getGutterForProjection=function(n){return this.getProjection()&&n&&!l1(this.getProjection(),n)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var n=e.prototype.getKey.call(this);return this.getInterpolate()||(n+=":disable-interpolation"),n},t.prototype.getOpaque=function(n){return this.getProjection()&&n&&!l1(this.getProjection(),n)?!1:e.prototype.getOpaque.call(this,n)},t.prototype.getTileGridForProjection=function(n){var r=this.getProjection();if(this.tileGrid&&(!r||l1(r,n)))return this.tileGrid;var i=Vi(n);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=zN(n)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();if(!r||l1(r,n))return this.tileCache;var i=Vi(n);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new G7(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(n,r,i,o,a,s){var h=[n,r,i],m=this.getTileCoordForTileUrlFunction(h,a),C=m?this.tileUrlFunction(m,o,a):void 0,E=new this.tileClass(h,C!==void 0?gr.IDLE:gr.EMPTY,C!==void 0?C:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return E.key=s,E.addEventListener(Gi.CHANGE,this.handleTileChange.bind(this)),E},t.prototype.getTile=function(n,r,i,o,a){var s=this.getProjection();if(!s||!a||l1(s,a))return this.getTileInternal(n,r,i,o,s||a);var h=this.getTileCacheForProjection(a),m=[n,r,i],C=void 0,E=DN(m);h.containsKey(E)&&(C=h.get(E));var O=this.getKey();if(C&&C.key==O)return C;var P=this.getTileGridForProjection(s),D=this.getTileGridForProjection(a),$=this.getTileCoordForTileUrlFunction(m,a),ee=new RN(s,P,a,D,m,$,this.getTilePixelRatio(o),this.getGutter(),(function(H,G,Z,ue){return this.getTileInternal(H,G,Z,ue,s)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return ee.key=O,C?(ee.interimTile=C,ee.refreshInterimChain(),h.replace(E,ee)):h.set(E,ee),ee},t.prototype.getTileInternal=function(n,r,i,o,a){var s=null,h=Kv(n,r,i),m=this.getKey();if(!this.tileCache.containsKey(h))s=this.createTile_(n,r,i,o,a,m),this.tileCache.set(h,s);else if(s=this.tileCache.get(h),s.key!=m){var C=s;s=this.createTile_(n,r,i,o,a,m),C.getState()==gr.IDLE?s.interimTile=C.interimTile:s.interimTile=C,s.refreshInterimChain(),this.tileCache.replace(h,s)}return s},t.prototype.setRenderReprojectionEdges=function(n){if(this.renderReprojectionEdges_!=n){this.renderReprojectionEdges_=n;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},t.prototype.setTileGridForProjection=function(n,r){{var i=Xs(n);if(i){var o=Vi(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},t}(WN);function tce(e,t){e.getImage().src=t}const nce=ece;var QN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function rce(e,t,n,r){var i=document.createElement("script"),o="olc_"+Vi(t);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(e.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+o;var s=setTimeout(function(){a(),n&&n()},1e4);window[o]=function(h){clearTimeout(s),a(),t(h)},document.head.appendChild(i)}(function(e){QN(t,e);function t(n){var r=this,i="Unexpected response status: "+n.status;return r=e.call(this,i)||this,r.name="ResponseError",r.response=n,r}return t})(Error);(function(e){QN(t,e);function t(n){var r=e.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=n,r}return t})(Error);var ice=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oce=function(e){ice(t,e);function t(n){var r=this,i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;if(n.interpolate!==void 0&&(i=n.interpolate),r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:i,projection:Xs("EPSG:3857"),reprojectionErrorThreshold:n.reprojectionErrorThreshold,state:"loading",tileLoadFunction:n.tileLoadFunction,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,zDirection:n.zDirection})||this,r.tileJSON_=null,r.tileSize_=n.tileSize,n.url)if(n.jsonp)rce(n.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",n.url),o.send()}else n.tileJSON?r.handleTileJSONResponse(n.tileJSON):fo(!1,51);return r}return t.prototype.onXHRLoad_=function(n){var r=n.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(n){this.handleTileJSONError()},t.prototype.getTileJSON=function(){return this.tileJSON_},t.prototype.handleTileJSONResponse=function(n){var r=Xs("EPSG:4326"),i=this.getProjection(),o;if(n.bounds!==void 0){var a=dw(r,i);o=Rie(n.bounds,a)}var s=vw(i),h=n.minzoom||0,m=n.maxzoom||22,C=W7({extent:s,maxZoom:m,minZoom:h,tileSize:this.tileSize_});if(this.tileGrid=C,this.tileUrlFunction=GN(n.tiles,C),n.attribution!==void 0&&!this.getAttributions()){var E=o!==void 0?o:s;this.setAttributions(function(O){return bl(E,O.extent)?[n.attribution]:null})}this.tileJSON_=n,this.setState("ready")},t.prototype.handleTileJSONError=function(){this.setState("error")},t}(nce);const $N=oce,Zm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var ace=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sce=function(e){ace(t,e);function t(n){var r=this,i=n||{},o=xl({},i);return delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return t.prototype.getPreload=function(){return this.get(Zm.PRELOAD)},t.prototype.setPreload=function(n){this.set(Zm.PRELOAD,n)},t.prototype.getUseInterimTilesOnError=function(){return this.get(Zm.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(n){this.set(Zm.USE_INTERIM_TILES_ON_ERROR,n)},t.prototype.getData=function(n){return e.prototype.getData.call(this,n)},t}(pw);const lce=sce;var uce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ace=function(e){uce(t,e);function t(n){var r=e.call(this,n)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Hd(),r.tmpTileRange_=new PN(0,0,0,0),r}return t.prototype.isDrawableTile=function(n){var r=this.getLayer(),i=n.getState(),o=r.getUseInterimTilesOnError();return i==gr.LOADED||i==gr.EMPTY||i==gr.ERROR&&!o},t.prototype.getTile=function(n,r,i,o){var a=o.pixelRatio,s=o.viewState.projection,h=this.getLayer(),m=h.getSource(),C=m.getTile(n,r,i,a,s);return C.getState()==gr.ERROR&&(h.getUseInterimTilesOnError()?h.getPreload()>0&&(this.newTiles_=!0):C.setState(gr.LOADED)),this.isDrawableTile(C)||(C=C.getInterimTile()),C},t.prototype.getData=function(n){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=Cl(r.pixelToCoordinateTransform,n.slice()),a=i.getExtent();if(a&&!Fb(a,o))return null;for(var s=r.pixelRatio,h=r.viewState.projection,m=r.viewState,C=i.getRenderSource(),E=C.getTileGridForProjection(m.projection),O=C.getTilePixelRatio(r.pixelRatio),P=E.getZForResolution(m.resolution);P>=E.getMinZoom();--P){var D=E.getTileCoordForCoordAndZ(o,P),$=C.getTile(P,D[1],D[2],s,h);if(!($ instanceof FN||$ instanceof RN))return null;if($.getState()===gr.LOADED){var ee=E.getOrigin(P),H=NA(E.getTileSize(P)),G=E.getResolution(P),Z=Math.floor(O*((o[0]-ee[0])/G-D[1]*H[0])),ue=Math.floor(O*((ee[1]-o[1])/G-D[2]*H[1])),ye=Math.round(O*C.getGutterForProjection(m.projection));return this.getImageData($.getImage(),Z+ye,ue+ye)}}return null},t.prototype.loadedTileCallback=function(n,r,i){return this.isDrawableTile(i)?e.prototype.loadedTileCallback.call(this,n,r,i):!1},t.prototype.prepareFrame=function(n){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(n,r){var i=n.layerStatesArray[n.layerIndex],o=n.viewState,a=o.projection,s=o.resolution,h=o.center,m=o.rotation,C=n.pixelRatio,E=this.getLayer(),O=E.getSource(),P=O.getRevision(),D=O.getTileGridForProjection(a),$=D.getZForResolution(s,O.zDirection),ee=D.getResolution($),H=n.extent,G=n.viewState.resolution,Z=O.getTilePixelRatio(C),ue=Math.round(xs(H)/G*C),ye=Math.round(Oc(H)/G*C),be=i.extent&&g1(i.extent);be&&(H=S1(H,g1(i.extent)));var X=ee*ue/2/Z,se=ee*ye/2/Z,we=[h[0]-X,h[1]-se,h[0]+X,h[1]+se],xe=D.getTileRangeForExtentAndZ(H,$),De={};De[$]={};var Ue=this.createLoadedTileFinder(O,a,De),he=this.tmpExtent,$e=this.tmpTileRange_;this.newTiles_=!1;for(var ge=m?pO(o.center,G,m,n.size):void 0,yt=xe.minX;yt<=xe.maxX;++yt)for(var wt=xe.minY;wt<=xe.maxY;++wt)if(!(m&&!D.tileCoordIntersectsViewport([$,yt,wt],ge))){var st=this.getTile($,yt,wt,n);if(this.isDrawableTile(st)){var mt=Vi(this);if(st.getState()==gr.LOADED){De[$][st.tileCoord.toString()]=st;var ze=st.inTransition(mt);ze&&i.opacity!==1&&(st.endTransition(mt),ze=!1),!this.newTiles_&&(ze||this.renderedTiles.indexOf(st)===-1)&&(this.newTiles_=!0)}if(st.getAlpha(mt,n.time)===1)continue}var He=D.getTileCoordChildTileRange(st.tileCoord,$e,he),Ve=!1;He&&(Ve=Ue($+1,He)),Ve||D.forEachTileCoordParentTileRange(st.tileCoord,Ue,$e,he)}var Vt=ee/s*C/Z;Yf(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/C,1/C,m,-ue/2,-ye/2);var Yt=_j(this.pixelTransform);this.useContainer(r,Yt,this.getBackground(n));var vt=this.context,Qt=vt.canvas;c7(this.inversePixelTransform,this.pixelTransform),Yf(this.tempTransform,ue/2,ye/2,Vt,Vt,0,-ue/2,-ye/2),Qt.width!=ue||Qt.height!=ye?(Qt.width=ue,Qt.height=ye):this.containerReused||vt.clearRect(0,0,ue,ye),be&&this.clipUnrotated(vt,n,be),O.getInterpolate()||xl(vt,KO),this.preRender(vt,n),this.renderedTiles.length=0;var $t=Object.keys(De).map(Number);$t.sort(z1);var ke,pe,Se;i.opacity===1&&(!this.containerReused||O.getOpaque(n.viewState.projection))?$t=$t.reverse():(ke=[],pe=[]);for(var Re=$t.length-1;Re>=0;--Re){var it=$t[Re],ot=O.getTilePixelSize(it,C,a),St=D.getResolution(it),Rt=St/ee,zt=ot[0]*Rt*Vt,pt=ot[1]*Rt*Vt,ir=D.getTileCoordForCoordAndZ(x0(we),it),gn=D.getTileCoordExtent(ir),yn=Cl(this.tempTransform,[Z*(gn[0]-we[0])/ee,Z*(we[3]-gn[3])/ee]),er=Z*O.getGutterForProjection(a),cr=De[it];for(var Sr in cr){var st=cr[Sr],Gr=st.tileCoord,yr=ir[1]-Gr[1],_i=Math.round(yn[0]-(yr-1)*zt),Ee=ir[2]-Gr[2],J=Math.round(yn[1]-(Ee-1)*pt),yt=Math.round(yn[0]-yr*zt),wt=Math.round(yn[1]-Ee*pt),q=_i-yt,Te=J-wt,At=$===it,ze=At&&st.getAlpha(Vi(this),n.time)!==1,Bt=!1;if(!ze)if(ke){Se=[yt,wt,yt+q,wt,yt+q,wt+Te,yt,wt+Te];for(var kt=0,Ut=ke.length;kt<Ut;++kt)if($!==it&&it<pe[kt]){var fn=ke[kt];bl([yt,wt,yt+q,wt+Te],[fn[0],fn[3],fn[4],fn[7]])&&(Bt||(vt.save(),Bt=!0),vt.beginPath(),vt.moveTo(Se[0],Se[1]),vt.lineTo(Se[2],Se[3]),vt.lineTo(Se[4],Se[5]),vt.lineTo(Se[6],Se[7]),vt.moveTo(fn[6],fn[7]),vt.lineTo(fn[4],fn[5]),vt.lineTo(fn[2],fn[3]),vt.lineTo(fn[0],fn[1]),vt.clip())}ke.push(Se),pe.push(it)}else vt.clearRect(yt,wt,q,Te);this.drawTileImage(st,n,yt,wt,q,Te,er,At),ke&&!ze?(Bt&&vt.restore(),this.renderedTiles.unshift(st)):this.renderedTiles.push(st),this.updateUsedTiles(n.usedTiles,O,st)}}return this.renderedRevision=P,this.renderedResolution=ee,this.extentChanged=!this.renderedExtent_||!fv(this.renderedExtent_,we),this.renderedExtent_=we,this.renderedPixelRatio=C,this.renderedProjection=a,this.manageTilePyramid(n,O,D,C,a,H,$,E.getPreload()),this.scheduleExpireCache(n,O),this.postRender(vt,n),i.extent&&vt.restore(),xl(vt,TAe),Yt!==Qt.style.transform&&(Qt.style.transform=Yt),this.container},t.prototype.drawTileImage=function(n,r,i,o,a,s,h,m){var C=this.getTileImage(n);if(C){var E=Vi(this),O=r.layerStatesArray[r.layerIndex],P=O.opacity*(m?n.getAlpha(E,r.time):1),D=P!==this.context.globalAlpha;D&&(this.context.save(),this.context.globalAlpha=P),this.context.drawImage(C,h,h,C.width-2*h,C.height-2*h,i,o,a,s),D&&this.context.restore(),P!==O.opacity?r.animate=!0:m&&n.endTransition(E)}},t.prototype.getImage=function(){var n=this.context;return n?n.canvas:null},t.prototype.getTileImage=function(n){return n.getImage()},t.prototype.scheduleExpireCache=function(n,r){if(r.canExpireCache()){var i=(function(o,a,s){var h=Vi(o);h in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[h])}).bind(null,r);n.postRenderFunctions.push(i)}},t.prototype.updateUsedTiles=function(n,r,i){var o=Vi(r);o in n||(n[o]={}),n[o][i.getKey()]=!0},t.prototype.manageTilePyramid=function(n,r,i,o,a,s,h,m,C){var E=Vi(r);E in n.wantedTiles||(n.wantedTiles[E]={});var O=n.wantedTiles[E],P=n.tileQueue,D=i.getMinZoom(),$=n.viewState.rotation,ee=$?pO(n.viewState.center,n.viewState.resolution,$,n.size):void 0,H=0,G,Z,ue,ye,be,X;for(X=D;X<=h;++X)for(Z=i.getTileRangeForExtentAndZ(s,X,Z),ue=i.getResolution(X),ye=Z.minX;ye<=Z.maxX;++ye)for(be=Z.minY;be<=Z.maxY;++be)$&&!i.tileCoordIntersectsViewport([X,ye,be],ee)||(h-X<=m?(++H,G=r.getTile(X,ye,be,o,a),G.getState()==gr.IDLE&&(O[G.getKey()]=!0,P.isKeyQueued(G.getKey())||P.enqueue([G,E,i.getTileCoordCenter(G.tileCoord),ue])),C!==void 0&&C(G)):r.useTile(X,ye,be,a));r.updateCacheSize(H,a)},t}(_N);const YN=Ace;var cce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dce=function(e){cce(t,e);function t(n){return e.call(this,n)||this}return t.prototype.createRenderer=function(){return new YN(this)},t}(lce);const Xm={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var hce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fce={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},pce={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},mce=function(e){hce(t,e);function t(n){var r=e.call(this,n)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=Qd(),r}return t.prototype.prepareTile=function(n,r,i){var o,a=n.getState();return(a===gr.LOADED||a===gr.ERROR)&&(this.updateExecutorGroup_(n,r,i),this.tileImageNeedsRender_(n)&&(o=!0)),o},t.prototype.getTile=function(n,r,i,o){var a=o.pixelRatio,s=o.viewState,h=s.resolution,m=s.projection,C=this.getLayer(),E=C.getSource().getTile(n,r,i,a,m),O=o.viewHints,P=!(O[ll.ANIMATING]||O[ll.INTERACTING]);(P||!E.wantedResolution)&&(E.wantedResolution=h);var D=this.prepareTile(E,a,m);return D&&(P||Date.now()-o.time<8)&&C.getRenderMode()!==Xm.VECTOR&&this.renderTileImage_(E,o),e.prototype.getTile.call(this,n,r,i,o)},t.prototype.isDrawableTile=function(n){var r=this.getLayer();return e.prototype.isDrawableTile.call(this,n)&&(r.getRenderMode()===Xm.VECTOR?Vi(r)in n.executorGroups:n.hasContext(r))},t.prototype.getTileImage=function(n){return n.getImage(this.getLayer())},t.prototype.prepareFrame=function(n){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),e.prototype.prepareFrame.call(this,n)},t.prototype.updateExecutorGroup_=function(n,r,i){var o=this.getLayer(),a=o.getRevision(),s=o.getRenderOrder()||null,h=n.wantedResolution,m=n.getReplayState(o);if(!(!m.dirty&&m.renderedResolution===h&&m.renderedRevision==a&&m.renderedRenderOrder==s)){var C=o.getSource(),E=o.getDeclutter(),O=C.getTileGrid(),P=C.getTileGridForProjection(i),D=P.getTileCoordExtent(n.wrappedTileCoord),$=C.getSourceTiles(r,i,n),ee=Vi(o);delete n.hitDetectionImageData[ee],n.executorGroups[ee]=[],E&&(n.declutterExecutorGroups[ee]=[]),m.dirty=!1;for(var H=function(ye,be){var X=$[ye];if(X.getState()!=gr.LOADED)return"continue";var se=X.tileCoord,we=O.getTileCoordExtent(se),xe=S1(D,we),De=A0(xe,o.getRenderBuffer()*h,G.tmpExtent),Ue=fv(we,xe)?null:De,he=new B4(0,De,h,r),$e=E?new B4(0,xe,h,r):void 0,ge=SN(h,r),yt=function(vt){var Qt,$t=vt.getStyleFunction()||o.getStyleFunction();if($t&&(Qt=$t(vt,h)),Qt){var ke=this.renderFeature(vt,ge,Qt,he,$e);m.dirty=m.dirty||ke}},wt=X.getFeatures();s&&s!==m.renderedRenderOrder&&wt.sort(s);for(var st=0,mt=wt.length;st<mt;++st){var ze=wt[st];(!Ue||bl(Ue,ze.getGeometry().getExtent()))&&yt.call(G,ze)}var He=he.finish(),Ve=o.getRenderMode()!==Xm.VECTOR&&E&&$.length===1?null:xe,Vt=new I4(Ve,h,r,C.getOverlaps(),He,o.getRenderBuffer());if(n.executorGroups[ee].push(Vt),$e){var Yt=new I4(null,h,r,C.getOverlaps(),$e.finish(),o.getRenderBuffer());n.declutterExecutorGroups[ee].push(Yt)}},G=this,Z=0,ue=$.length;Z<ue;++Z)H(Z);m.renderedRevision=a,m.renderedRenderOrder=s,m.renderedResolution=h}},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){var s=r.viewState.resolution,h=r.viewState.rotation;i=i??0;var m=this.getLayer(),C=m.getSource(),E=C.getTileGridForProjection(r.viewState.projection),O=cO([n]);A0(O,s*i,O);for(var P={},D=function(ue,ye,be){var X=ue.getId();X===void 0&&(X=Vi(ue));var se=P[X];if(se){if(se!==!0&&be<se.distanceSq){if(be===0)return P[X]=!0,a.splice(a.lastIndexOf(se),1),o(ue,m,ye);se.geometry=ye,se.distanceSq=be}}else{if(be===0)return P[X]=!0,o(ue,m,ye);a.push(P[X]={feature:ue,layer:m,geometry:ye,distanceSq:be,callback:o})}},$=this.renderedTiles,ee,H=function(ue,ye){var be=$[ue],X=E.getTileCoordExtent(be.wrappedTileCoord);if(!bl(X,O))return"continue";var se=Vi(m),we=[be.executorGroups[se]],xe=be.declutterExecutorGroups[se];xe&&we.push(xe),we.some(function(De){for(var Ue=De===xe?r.declutterTree.all().map(function(yt){return yt.value}):null,he=0,$e=De.length;he<$e;++he){var ge=De[he];if(ee=ge.forEachFeatureAtCoordinate(n,s,h,i,D,Ue),ee)return!0}})},G=0,Z=$.length;!ee&&G<Z;++G)H(G);return ee},t.prototype.getFeatures=function(n){return new Promise((function(r,i){for(var o=this.getLayer(),a=Vi(o),s=o.getSource(),h=this.renderedProjection,m=h.getExtent(),C=this.renderedResolution,E=s.getTileGridForProjection(h),O=Cl(this.renderedPixelToCoordinateTransform_,n.slice()),P=E.getTileCoordForCoordAndResolution(O,C),D,$=0,ee=this.renderedTiles.length;$<ee;++$)if(P.toString()===this.renderedTiles[$].tileCoord.toString()){if(D=this.renderedTiles[$],D.getState()===gr.LOADED){var H=E.getTileCoordExtent(D.tileCoord);s.getWrapX()&&h.canWrapX()&&!qm(m,H)&&g7(O,h);break}D=void 0}if(!D||D.loadingSourceTiles>0){r([]);return}var G=E.getTileCoordExtent(D.wrappedTileCoord),Z=x0(G),ue=[(O[0]-Z[0])/C,(Z[1]-O[1])/C],ye=D.getSourceTiles().reduce(function(xe,De){return xe.concat(De.getFeatures())},[]),be=D.hitDetectionImageData[a];if(!be&&!this.animatingOrInteracting_){var X=NA(E.getTileSize(E.getZForResolution(C,s.zDirection))),se=this.renderedRotation_,we=[this.getRenderTransform(E.getTileCoordCenter(D.wrappedTileCoord),C,0,ed,X[0]*ed,X[1]*ed,0)];be=xN(X,we,ye,o.getStyleFunction(),E.getTileCoordExtent(D.wrappedTileCoord),D.getReplayState(o).renderedResolution,se),D.hitDetectionImageData[a]=be}r(wN(ue,ye,be))}).bind(this))},t.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.renderedLayerRevision_!==void 0&&n.changed()},t.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()},t.prototype.renderDeclutter=function(n){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=n.viewHints,a=!(o[ll.ANIMATING]||o[ll.INTERACTING]),s=this.renderedTiles,h=0,m=s.length;h<m;++h){var C=s[h],E=C.declutterExecutorGroups[Vi(this.getLayer())];if(E)for(var O=E.length-1;O>=0;--O)E[O].execute(this.context,1,this.getTileRenderTransform(C,n),n.viewState.rotation,a,void 0,n.declutterTree)}r.globalAlpha=i},t.prototype.getTileRenderTransform=function(n,r){var i=r.pixelRatio,o=r.viewState,a=o.center,s=o.resolution,h=o.rotation,m=r.size,C=Math.round(m[0]*i),E=Math.round(m[1]*i),O=this.getLayer().getSource(),P=O.getTileGridForProjection(r.viewState.projection),D=n.tileCoord,$=P.getTileCoordExtent(n.wrappedTileCoord),ee=P.getTileCoordExtent(D,this.tmpExtent)[0]-$[0],H=A7(OS(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(a,s,h,i,C,E,ee));return H},t.prototype.renderFrame=function(n,r){var i=n.viewHints,o=!(i[ll.ANIMATING]||i[ll.INTERACTING]);e.prototype.renderFrame.call(this,n,r),this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation;var a=this.getLayer(),s=a.getRenderMode(),h=this.context,m=h.globalAlpha;h.globalAlpha=a.getOpacity();for(var C=pce[s],E=n.viewState,O=E.rotation,P=a.getSource(),D=P.getTileGridForProjection(E.projection),$=D.getZForResolution(E.resolution,P.zDirection),ee=this.renderedTiles,H=[],G=[],Z=!0,ue=ee.length-1;ue>=0;--ue){var ye=ee[ue];Z=Z&&!ye.getReplayState(a).dirty;var be=ye.executorGroups[Vi(a)].filter(function(wt){return wt.hasExecutors(C)});if(be.length!==0){var X=this.getTileRenderTransform(ye,n),se=ye.tileCoord[0],we=!1,xe=be[0].getClipCoords(X);if(xe){for(var De=0,Ue=H.length;De<Ue;++De)if($!==se&&se<G[De]){var he=H[De];bl([xe[0],xe[3],xe[4],xe[7]],[he[0],he[3],he[4],he[7]])&&(we||(h.save(),we=!0),h.beginPath(),h.moveTo(xe[0],xe[1]),h.lineTo(xe[2],xe[3]),h.lineTo(xe[4],xe[5]),h.lineTo(xe[6],xe[7]),h.moveTo(he[6],he[7]),h.lineTo(he[4],he[5]),h.lineTo(he[2],he[3]),h.lineTo(he[0],he[1]),h.clip())}H.push(xe),G.push(se)}for(var $e=0,ge=be.length;$e<ge;++$e){var yt=be[$e];yt.execute(h,1,X,O,o,C)}we&&h.restore()}}return h.globalAlpha=m,this.ready=Z,this.container},t.prototype.renderFeature=function(n,r,i,o,a){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var h=0,m=i.length;h<m;++h)s=k4(o,n,i[h],r,this.boundHandleStyleImageChange_,void 0,a)||s;else s=k4(o,n,i,r,this.boundHandleStyleImageChange_,void 0,a);return s},t.prototype.tileImageNeedsRender_=function(n){var r=this.getLayer();if(r.getRenderMode()===Xm.VECTOR)return!1;var i=n.getReplayState(r),o=r.getRevision(),a=n.wantedResolution;return i.renderedTileResolution!==a||i.renderedTileRevision!==o},t.prototype.renderTileImage_=function(n,r){var i=this.getLayer(),o=n.getReplayState(i),a=i.getRevision(),s=n.executorGroups[Vi(i)];o.renderedTileRevision=a;var h=n.wrappedTileCoord,m=h[0],C=i.getSource(),E=r.pixelRatio,O=r.viewState,P=O.projection,D=C.getTileGridForProjection(P),$=D.getResolution(n.tileCoord[0]),ee=r.pixelRatio/n.wantedResolution*$,H=D.getResolution(m),G=n.getContext(i);E=Math.round(Math.max(E,ee/E));var Z=C.getTilePixelSize(m,E,P);G.canvas.width=Z[0],G.canvas.height=Z[1];var ue=E/ee;if(ue!==1){var ye=zT(this.tmpTransform_);OS(ye,ue,ue),G.setTransform.apply(G,ye)}var be=D.getTileCoordExtent(h,this.tmpExtent),X=ee/H,se=zT(this.tmpTransform_);OS(se,X,-X),Tie(se,-be[0],-be[3]);for(var we=0,xe=s.length;we<xe;++we){var De=s[we];De.execute(G,ue,se,0,!0,fce[i.getRenderMode()])}o.renderedTileResolution=n.wantedResolution},t}(YN);const gce=mce;var yce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qN=function(e){yce(t,e);function t(n){var r=this,i=n||{},o=xl({},i);delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,i.renderMode===Xm.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var a=i.renderMode||Xm.HYBRID;return fo(a==Xm.HYBRID||a==Xm.VECTOR,28),r.renderMode_=a,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return t.prototype.createRenderer=function(){return new gce(this)},t.prototype.getFeatures=function(n){return e.prototype.getFeatures.call(this,n)},t.prototype.getRenderMode=function(){return this.renderMode_},t.prototype.getPreload=function(){return this.get(Zm.PRELOAD)},t.prototype.getUseInterimTilesOnError=function(){return this.get(Zm.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setPreload=function(n){this.set(Zm.PRELOAD,n)},t.prototype.setUseInterimTilesOnError=function(n){this.set(Zm.USE_INTERIM_TILES_ON_ERROR,n)},t}(yN),vce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cce=function(e){vce(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,s)||this;return h.extent=null,h.format_=o,h.features_=null,h.loader_,h.projection=null,h.resolution,h.tileLoadFunction_=a,h.url_=i,h.key=i,h}return t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.load=function(){this.state==gr.IDLE&&(this.setState(gr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},t.prototype.onLoad=function(n,r){this.setFeatures(n)},t.prototype.onError=function(){this.setState(gr.ERROR)},t.prototype.setFeatures=function(n){this.features_=n,this.setState(gr.LOADED)},t.prototype.setLoader=function(n){this.loader_=n},t}(yw);const _ce=Cce;var bce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TK=[],xce=function(e){bce(t,e);function t(n,r,i,o){var a=e.call(this,n,r,{transition:0})||this;return a.context_={},a.executorGroups={},a.declutterExecutorGroups={},a.loadingSourceTiles=0,a.hitDetectionImageData={},a.replayState_={},a.sourceTiles=[],a.errorTileKeys={},a.wantedResolution,a.getSourceTiles=o.bind(void 0,a),a.wrappedTileCoord=i,a}return t.prototype.getContext=function(n){var r=Vi(n);return r in this.context_||(this.context_[r]=Bc(1,1,TK)),this.context_[r]},t.prototype.hasContext=function(n){return Vi(n)in this.context_},t.prototype.getImage=function(n){return this.hasContext(n)?this.getContext(n).canvas:null},t.prototype.getReplayState=function(n){var r=Vi(n);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},t.prototype.load=function(){this.getSourceTiles()},t.prototype.release=function(){for(var n in this.context_){var r=this.context_[n];K7(r),TK.push(r.canvas),delete this.context_[n]}e.prototype.release.call(this)},t}(yw);const wce=xce;var Mce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sce=function(e){Mce(t,e);function t(n){var r=this,i=n.projection||"EPSG:3857",o=n.extent||vw(i),a=n.tileGrid||W7({extent:o,maxResolution:n.maxResolution,maxZoom:n.maxZoom!==void 0?n.maxZoom:22,minZoom:n.minZoom,tileSize:n.tileSize||512});return r=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,interpolate:!0,opaque:!1,projection:i,state:n.state,tileGrid:a,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:Ece,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX===void 0?!0:n.wrapX,transition:n.transition,zDirection:n.zDirection===void 0?1:n.zDirection})||this,r.format_=n.format?n.format:null,r.sourceTileCache=new G7(r.tileCache.highWaterMark),r.overlaps_=n.overlaps==null?!0:n.overlaps,r.tileClass=n.tileClass?n.tileClass:_ce,r.tileGrids_={},r}return t.prototype.getFeaturesInExtent=function(n){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=UN(i.peekFirstKey())[0],a=this.tileGrid;return i.forEach(function(s){if(!(s.tileCoord[0]!==o||s.getState()!==gr.LOADED))for(var h=s.getSourceTiles(),m=0,C=h.length;m<C;++m){var E=h[m],O=E.tileCoord;if(bl(n,a.getTileCoordExtent(O))){var P=E.getFeatures();if(P)for(var D=0,$=P.length;D<$;++D){var ee=P[D],H=ee.getGeometry();bl(n,H.getExtent())&&r.push(ee)}}}}),r},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n),o=Object.keys(r).reduce(function(a,s){var h=vAe(s),m=i.peek(h);if(m)for(var C=m.sourceTiles,E=0,O=C.length;E<O;++E)a[C[E].getKey()]=!0;return a},{});e.prototype.expireCache.call(this,n,r),this.sourceTileCache.expireCache(o)},t.prototype.getSourceTiles=function(n,r,i){var o=this;if(i.getState()===gr.IDLE){i.setState(gr.LOADING);var a=i.wrappedTileCoord,s=this.getTileGridForProjection(r),h=s.getTileCoordExtent(a),m=a[0],C=s.getResolution(m);A0(h,-C,h);var E=this.tileGrid,O=E.getExtent();O&&S1(h,O,h);var P=E.getZForResolution(C,this.zDirection);E.forEachTileCoord(h,P,function(D){var $=o.tileUrlFunction(D,n,r),ee=o.sourceTileCache.containsKey($)?o.sourceTileCache.get($):new o.tileClass(D,$?gr.IDLE:gr.EMPTY,$,o.format_,o.tileLoadFunction);i.sourceTiles.push(ee);var H=ee.getState();if(H<gr.LOADED){var G=function(Z){o.handleTileChange(Z);var ue=ee.getState();if(ue===gr.LOADED||ue===gr.ERROR){var ye=ee.getKey();ye in i.errorTileKeys?ee.getState()===gr.LOADED&&delete i.errorTileKeys[ye]:i.loadingSourceTiles--,ue===gr.ERROR?i.errorTileKeys[ye]=!0:ee.removeEventListener(Gi.CHANGE,G),i.loadingSourceTiles===0&&i.setState(N1(i.errorTileKeys)?gr.LOADED:gr.ERROR)}};ee.addEventListener(Gi.CHANGE,G),i.loadingSourceTiles++}H===gr.IDLE&&(ee.extent=E.getTileCoordExtent(D),ee.projection=r,ee.resolution=E.getResolution(D[0]),o.sourceTileCache.set($,ee),ee.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(D){return D.getState()===gr.ERROR})?gr.ERROR:gr.LOADED)}return i.sourceTiles},t.prototype.getTile=function(n,r,i,o,a){var s=Kv(n,r,i),h=this.getKey(),m;if(this.tileCache.containsKey(s)&&(m=this.tileCache.get(s),m.key===h))return m;var C=[n,r,i],E=this.getTileCoordForTileUrlFunction(C,a),O=this.getTileGrid().getExtent(),P=this.getTileGridForProjection(a);if(E&&O){var D=P.getTileCoordExtent(E);A0(D,-P.getResolution(n),D),bl(O,D)||(E=null)}var $=!0;if(E!==null){var ee=this.tileGrid,H=P.getResolution(n),G=ee.getZForResolution(H,1),Z=P.getTileCoordExtent(E);A0(Z,-H,Z),ee.forEachTileCoord(Z,G,(function(ye){$=$&&!this.tileUrlFunction(ye,o,a)}).bind(this))}var ue=new wce(C,$?gr.EMPTY:gr.IDLE,E,this.getSourceTiles.bind(this,o,a));return ue.key=h,m?(ue.interimTile=m,ue.refreshInterimChain(),this.tileCache.replace(s,ue)):this.tileCache.set(s,ue),ue},t.prototype.getTileGridForProjection=function(n){var r=n.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,a=o.getResolutions().slice(),s=a.map(function(E,O){return o.getOrigin(O)}),h=a.map(function(E,O){return o.getTileSize(O)}),m=oN+1,C=a.length;C<m;++C)a.push(a[C-1]/2),s.push(s[C-1]),h.push(h[C-1]);i=new Gb({extent:o.getExtent(),origins:s,resolutions:a,tileSizes:h}),this.tileGrids_[r]=i}return i},t.prototype.getTilePixelRatio=function(n){return n},t.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),a=NA(o.getTileSize(n),this.tmpSize);return[Math.round(a[0]*r),Math.round(a[1]*r)]},t.prototype.updateCacheSize=function(n,r){e.prototype.updateCacheSize.call(this,n*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},t}(WN);const HN=Sce;function Ece(e,t){e.setLoader(function(n,r,i){IN(t,e.getFormat(),n,r,i,e.onLoad.bind(e),e.onError.bind(e))})}var KK={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},KC=" ",PK=/(italic|oblique)$/i,DK={},Oce=function(e,t,n){var r=DK[e];if(!r){Array.isArray(e)||(e=[e]);for(var i=400,o="normal",a=[],s,h,m=0,C=e.length;m<C;++m){var E=e[m],O=E.split(" "),P=O[O.length-1].toLowerCase();P=="normal"||P=="italic"||P=="oblique"?(o=h?o:P,h=!0,O.pop(),P=O[O.length-1].toLowerCase()):PK.test(P)&&(P=P.replace(PK,""),o=h?o:O[O.length-1].replace(P,""),h=!0);for(var D in KK){var $=O.length>1?O[O.length-2].toLowerCase():"";if(P==D||P==D.replace("-","")||$+"-"+P==D){i=s?i:KK[D],O.pop(),$&&D.startsWith($)&&O.pop();break}}!s&&typeof P=="number"&&(i=P,s=!0);var ee=O.join(KC).replace("Klokantech Noto Sans","Noto Sans");ee.indexOf(KC)!==-1&&(ee='"'+ee+'"'),a.push(ee)}r=DK[e]=[o,i,a]}return r[0]+KC+r[1]+KC+t+"px"+(n?"/"+n:"")+KC+r[2]};const PO=Ka(Oce);var Bce=8,Ice={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},kce={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},Tce=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Kce={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Pce={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Dce={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Uce={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Fce={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Lce={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Rce={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},zce=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],jce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Nce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},Gce={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Wce={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Qce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},$ce={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Yce={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},qce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Hce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Vce={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Zce={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},Xce={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Jce={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},ede={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},tde={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},nde={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},rde={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},ide={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},ode={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},ade={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},sde={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},lde={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},ude={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carre projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},Ade={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},cde=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],dde={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},hde={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},fde={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},pde={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},mde={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},gde={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},yde={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},vde={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Cde={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},_de={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},bde={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},VN={$version:Bce,$root:Ice,sources:kce,source:Tce,source_vector:Kce,source_raster:Pce,source_raster_dem:Dce,source_geojson:Uce,source_video:Fce,source_image:Lce,layer:Rce,layout:zce,layout_background:jce,layout_sky:Nce,layout_fill:Gce,layout_circle:Wce,layout_heatmap:Qce,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:$ce,layout_symbol:Yce,layout_raster:qce,layout_hillshade:Hce,filter:Vce,filter_symbol:Zce,filter_fill:Xce,filter_line:Jce,filter_circle:ede,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:tde,filter_operator:nde,geometry_type:rde,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:ide,expression:ode,expression_name:ade,fog:sde,light:lde,projection:ude,terrain:Ade,paint:cde,paint_fill:dde,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:hde,paint_circle:fde,paint_heatmap:pde,paint_symbol:mde,paint_raster:gde,paint_hillshade:yde,paint_background:vde,paint_sky:Cde,transition:_de,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:bde},WS=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},DO={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof WS=="object"&&WS;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s=2147483647,h=36,m=1,C=26,E=38,O=700,P=72,D=128,$="-",ee=/^xn--/,H=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=h-m,ye=Math.floor,be=String.fromCharCode,X;function se(ze){throw RangeError(Z[ze])}function we(ze,He){for(var Ve=ze.length,Vt=[];Ve--;)Vt[Ve]=He(ze[Ve]);return Vt}function xe(ze,He){var Ve=ze.split("@"),Vt="";Ve.length>1&&(Vt=Ve[0]+"@",ze=Ve[1]),ze=ze.replace(G,".");var Yt=ze.split("."),vt=we(Yt,He).join(".");return Vt+vt}function De(ze){for(var He=[],Ve=0,Vt=ze.length,Yt,vt;Ve<Vt;)Yt=ze.charCodeAt(Ve++),Yt>=55296&&Yt<=56319&&Ve<Vt?(vt=ze.charCodeAt(Ve++),(vt&64512)==56320?He.push(((Yt&1023)<<10)+(vt&1023)+65536):(He.push(Yt),Ve--)):He.push(Yt);return He}function Ue(ze){return we(ze,function(He){var Ve="";return He>65535&&(He-=65536,Ve+=be(He>>>10&1023|55296),He=56320|He&1023),Ve+=be(He),Ve}).join("")}function he(ze){return ze-48<10?ze-22:ze-65<26?ze-65:ze-97<26?ze-97:h}function $e(ze,He){return ze+22+75*(ze<26)-((He!=0)<<5)}function ge(ze,He,Ve){var Vt=0;for(ze=Ve?ye(ze/O):ze>>1,ze+=ye(ze/He);ze>ue*C>>1;Vt+=h)ze=ye(ze/ue);return ye(Vt+(ue+1)*ze/(ze+E))}function yt(ze){var He=[],Ve=ze.length,Vt,Yt=0,vt=D,Qt=P,$t,ke,pe,Se,Re,it,ot,St,Rt;for($t=ze.lastIndexOf($),$t<0&&($t=0),ke=0;ke<$t;++ke)ze.charCodeAt(ke)>=128&&se("not-basic"),He.push(ze.charCodeAt(ke));for(pe=$t>0?$t+1:0;pe<Ve;){for(Se=Yt,Re=1,it=h;pe>=Ve&&se("invalid-input"),ot=he(ze.charCodeAt(pe++)),(ot>=h||ot>ye((s-Yt)/Re))&&se("overflow"),Yt+=ot*Re,St=it<=Qt?m:it>=Qt+C?C:it-Qt,!(ot<St);it+=h)Rt=h-St,Re>ye(s/Rt)&&se("overflow"),Re*=Rt;Vt=He.length+1,Qt=ge(Yt-Se,Vt,Se==0),ye(Yt/Vt)>s-vt&&se("overflow"),vt+=ye(Yt/Vt),Yt%=Vt,He.splice(Yt++,0,vt)}return Ue(He)}function wt(ze){var He,Ve,Vt,Yt,vt,Qt,$t,ke,pe,Se,Re,it=[],ot,St,Rt,zt;for(ze=De(ze),ot=ze.length,He=D,Ve=0,vt=P,Qt=0;Qt<ot;++Qt)Re=ze[Qt],Re<128&&it.push(be(Re));for(Vt=Yt=it.length,Yt&&it.push($);Vt<ot;){for($t=s,Qt=0;Qt<ot;++Qt)Re=ze[Qt],Re>=He&&Re<$t&&($t=Re);for(St=Vt+1,$t-He>ye((s-Ve)/St)&&se("overflow"),Ve+=($t-He)*St,He=$t,Qt=0;Qt<ot;++Qt)if(Re=ze[Qt],Re<He&&++Ve>s&&se("overflow"),Re==He){for(ke=Ve,pe=h;Se=pe<=vt?m:pe>=vt+C?C:pe-vt,!(ke<Se);pe+=h)zt=ke-Se,Rt=h-Se,it.push(be($e(Se+zt%Rt,0))),ke=ye(zt/Rt);it.push(be($e(ke,0))),vt=ge(Ve,St,Vt==Yt),Ve=0,++Vt}++Ve,++He}return it.join("")}function st(ze){return xe(ze,function(He){return ee.test(He)?yt(He.slice(4).toLowerCase()):He})}function mt(ze){return xe(ze,function(He){return H.test(He)?"xn--"+wt(He):He})}if(a={version:"1.3.2",ucs2:{decode:De,encode:Ue},decode:yt,encode:wt,toASCII:mt,toUnicode:st},r&&i)if(e.exports==r)i.exports=a;else for(X in a)a.hasOwnProperty(X)&&(r[X]=a[X]);else n.punycode=a})(WS)})(DO,DO.exports);var xde={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},fb={};function wde(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mde=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&typeof r.maxKeys=="number"&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var h=0;h<s;++h){var m=e[h].replace(o,"%20"),C=m.indexOf(n),E,O,P,D;C>=0?(E=m.substr(0,C),O=m.substr(C+1)):(E=m,O=""),P=decodeURIComponent(E),D=decodeURIComponent(O),wde(i,P)?Array.isArray(i[P])?i[P].push(D):i[P]=[i[P],D]:i[P]=D}return i},PC=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Sde=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(PC(i))+n;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(PC(a))}).join(t):o+encodeURIComponent(PC(e[i]))}).join(t):r?encodeURIComponent(PC(r))+n+encodeURIComponent(PC(e)):""};fb.decode=fb.parse=Mde;fb.encode=fb.stringify=Sde;var Ede=DO.exports,zp=xde;function Hp(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ode=/^([a-z0-9.+-]+:)/i,Bde=/:[0-9]*$/,Ide=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,kde=["<",">",'"',"`"," ","\r",`
`,"	"],Tde=["{","}","|","\\","^","`"].concat(kde),UO=["'"].concat(Tde),UK=["%","/","?",";","#"].concat(UO),FK=["/","?","#"],Kde=255,LK=/^[+a-z0-9A-Z_-]{0,63}$/,Pde=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Dde={javascript:!0,"javascript:":!0},FO={javascript:!0,"javascript:":!0},$y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},LO=fb;function Ude(e,t,n){if(e&&zp.isObject(e)&&e instanceof Hp)return e;var r=new Hp;return r.parse(e,t,n),r}Hp.prototype.parse=function(e,t,n){if(!zp.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var h=Ide.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=LO.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var m=Ode.exec(s);if(m){m=m[0];var C=m.toLowerCase();this.protocol=C,s=s.substr(m.length)}if(n||m||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var E=s.substr(0,2)==="//";E&&!(m&&FO[m])&&(s=s.substr(2),this.slashes=!0)}if(!FO[m]&&(E||m&&!$y[m])){for(var O=-1,P=0;P<FK.length;P++){var D=s.indexOf(FK[P]);D!==-1&&(O===-1||D<O)&&(O=D)}var $,ee;O===-1?ee=s.lastIndexOf("@"):ee=s.lastIndexOf("@",O),ee!==-1&&($=s.slice(0,ee),s=s.slice(ee+1),this.auth=decodeURIComponent($)),O=-1;for(var P=0;P<UK.length;P++){var D=s.indexOf(UK[P]);D!==-1&&(O===-1||D<O)&&(O=D)}O===-1&&(O=s.length),this.host=s.slice(0,O),s=s.slice(O),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var G=this.hostname.split(/\./),P=0,Z=G.length;P<Z;P++){var ue=G[P];if(ue&&!ue.match(LK)){for(var ye="",be=0,X=ue.length;be<X;be++)ue.charCodeAt(be)>127?ye+="x":ye+=ue[be];if(!ye.match(LK)){var se=G.slice(0,P),we=G.slice(P+1),xe=ue.match(Pde);xe&&(se.push(xe[1]),we.unshift(xe[2])),we.length&&(s="/"+we.join(".")+s),this.hostname=se.join(".");break}}}this.hostname.length>Kde?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=Ede.toASCII(this.hostname));var De=this.port?":"+this.port:"",Ue=this.hostname||"";this.host=Ue+De,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Dde[C])for(var P=0,Z=UO.length;P<Z;P++){var he=UO[P];if(s.indexOf(he)!==-1){var $e=encodeURIComponent(he);$e===he&&($e=escape(he)),s=s.split(he).join($e)}}var ge=s.indexOf("#");ge!==-1&&(this.hash=s.substr(ge),s=s.slice(0,ge));var yt=s.indexOf("?");if(yt!==-1?(this.search=s.substr(yt),this.query=s.substr(yt+1),t&&(this.query=LO.parse(this.query)),s=s.slice(0,yt)):t&&(this.search="",this.query={}),s&&(this.pathname=s),$y[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var De=this.pathname||"",wt=this.search||"";this.path=De+wt}return this.href=this.format(),this};Hp.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&zp.isObject(this.query)&&Object.keys(this.query).length&&(o=LO.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||$y[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+n+a+r};Hp.prototype.resolve=function(e){return this.resolveObject(Ude(e,!1,!0)).format()};Hp.prototype.resolveObject=function(e){if(zp.isString(e)){var t=new Hp;t.parse(e,!1,!0),e=t}for(var n=new Hp,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var h=a[s];h!=="protocol"&&(n[h]=e[h])}return $y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!$y[e.protocol]){for(var m=Object.keys(e),C=0;C<m.length;C++){var E=m[C];n[E]=e[E]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!FO[e.protocol]){for(var Z=(e.pathname||"").split("/");Z.length&&!(e.host=Z.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),n.pathname=Z.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var O=n.pathname||"",P=n.search||"";n.path=O+P}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var D=n.pathname&&n.pathname.charAt(0)==="/",$=e.host||e.pathname&&e.pathname.charAt(0)==="/",ee=$||D||n.host&&e.pathname,H=ee,G=n.pathname&&n.pathname.split("/")||[],Z=e.pathname&&e.pathname.split("/")||[],ue=n.protocol&&!$y[n.protocol];if(ue&&(n.hostname="",n.port=null,n.host&&(G[0]===""?G[0]=n.host:G.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(Z[0]===""?Z[0]=e.host:Z.unshift(e.host)),e.host=null),ee=ee&&(Z[0]===""||G[0]==="")),$)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,G=Z;else if(Z.length)G||(G=[]),G.pop(),G=G.concat(Z),n.search=e.search,n.query=e.query;else if(!zp.isNullOrUndefined(e.search)){if(ue){n.hostname=n.host=G.shift();var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.host=n.hostname=ye.shift())}return n.search=e.search,n.query=e.query,(!zp.isNull(n.pathname)||!zp.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!G.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var be=G.slice(-1)[0],X=(n.host||e.host||G.length>1)&&(be==="."||be==="..")||be==="",se=0,we=G.length;we>=0;we--)be=G[we],be==="."?G.splice(we,1):be===".."?(G.splice(we,1),se++):se&&(G.splice(we,1),se--);if(!ee&&!H)for(;se--;se)G.unshift("..");ee&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),X&&G.join("/").substr(-1)!=="/"&&G.push("");var xe=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(ue){n.hostname=n.host=xe?"":G.length?G.shift():"";var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.host=n.hostname=ye.shift())}return ee=ee||n.host&&G.length,ee&&!xe&&G.unshift(""),G.length?n.pathname=G.join("/"):(n.pathname=null,n.path=null),(!zp.isNull(n.pathname)||!zp.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};Hp.prototype.parseHost=function(){var e=this.host,t=Bde.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function ZN(e,...t){for(const n of t)for(const r in n)e[r]=n[r];return e}class Fde extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}var Lf=Fde;class Q7{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[r,i]of n)this.bindings[r]=i}concat(t){return new Q7(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1}}var Lde=Q7;const Cw={kind:"null"},tr={kind:"number"},ho={kind:"string"},eo={kind:"boolean"},Vp={kind:"color"},Yy={kind:"object"},no={kind:"value"},Rde={kind:"error"},_w={kind:"collator"},bw={kind:"formatted"},Wb={kind:"resolvedImage"};function zd(e,t){return{kind:"array",itemType:e,N:t}}function Ls(e){if(e.kind==="array"){const t=Ls(e.itemType);return typeof e.N=="number"?`array<${t}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${t}>`}else return e.kind}const zde=[Cw,tr,ho,eo,Vp,bw,Yy,zd(no),Wb];function pb(e,t){if(t.kind==="error")return null;if(e.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!pb(e.itemType,t.itemType))&&(typeof e.N!="number"||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind==="value"){for(const n of zde)if(!pb(n,t))return null}}return`Expected ${Ls(e)} but found ${Ls(t)} instead.`}function $7(e,t){return t.some(n=>n.kind===e.kind)}function mb(e,t){return t.some(n=>n==="null"?e===null:n==="array"?Array.isArray(e):n==="object"?e&&!Array.isArray(e)&&typeof e=="object":n===typeof e)}var jde={},XN,RK={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function C_(e){return e=Math.round(e),e<0?0:e>255?255:e}function zK(e){return e<0?0:e>1?1:e}function QS(e){return e[e.length-1]==="%"?C_(parseFloat(e)/100*255):C_(parseInt(e))}function Kx(e){return e[e.length-1]==="%"?zK(parseFloat(e)/100):zK(parseFloat(e))}function $S(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function Nde(e){var t=e.replace(/ /g,"").toLowerCase();if(t in RK)return RK[t].slice();if(t[0]==="#"){if(t.length===4){var n=parseInt(t.substr(1),16);return n>=0&&n<=4095?[(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,1]:null}else if(t.length===7){var n=parseInt(t.substr(1),16);return n>=0&&n<=16777215?[(n&16711680)>>16,(n&65280)>>8,n&255,1]:null}return null}var r=t.indexOf("("),i=t.indexOf(")");if(r!==-1&&i+1===t.length){var o=t.substr(0,r),a=t.substr(r+1,i-(r+1)).split(","),s=1;switch(o){case"rgba":if(a.length!==4)return null;s=Kx(a.pop());case"rgb":return a.length!==3?null:[QS(a[0]),QS(a[1]),QS(a[2]),s];case"hsla":if(a.length!==4)return null;s=Kx(a.pop());case"hsl":if(a.length!==3)return null;var h=(parseFloat(a[0])%360+360)%360/360,m=Kx(a[1]),C=Kx(a[2]),E=C<=.5?C*(m+1):C+m-C*m,O=C*2-E;return[C_($S(O,E,h+1/3)*255),C_($S(O,E,h)*255),C_($S(O,E,h-1/3)*255),s];default:return null}}return null}try{XN=jde.parseCSSColor=Nde}catch{}class Ic{constructor(t,n,r,i=1){this.r=t,this.g=n,this.b=r,this.a=i}static parse(t){if(!t)return;if(t instanceof Ic)return t;if(typeof t!="string")return;const n=XN(t);if(n)return new Ic(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3])}toString(){const[t,n,r,i]=this.toArray();return`rgba(${Math.round(t)},${Math.round(n)},${Math.round(r)},${i})`}toArray(){const{r:t,g:n,b:r,a:i}=this;return i===0?[0,0,0,0]:[t*255/i,n*255/i,r*255/i,i]}toArray01(){const{r:t,g:n,b:r,a:i}=this;return i===0?[0,0,0,0]:[t/i,n/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:t,g:n,b:r,a:i}=this;return[t,n,r,i]}}Ic.black=new Ic(0,0,0,1);Ic.white=new Ic(1,1,1,1);Ic.transparent=new Ic(0,0,0,0);Ic.red=new Ic(1,0,0,1);Ic.blue=new Ic(0,0,1,1);var nu=Ic;class Y7{constructor(t,n,r){t?this.sensitivity=n?"variant":"case":this.sensitivity=n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class RO{constructor(t,n,r,i,o){this.text=t.normalize?t.normalize():t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=o}}class Fh{constructor(t){this.sections=t}static fromString(t){return new Fh([new RO(t,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Fh?t:Fh.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const n of this.sections){if(n.image){t.push(["image",n.image.name]);continue}t.push(n.text);const r={};n.fontStack&&(r["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(r["font-scale"]=n.scale),n.textColor&&(r["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(r)}return t}}class im{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new im({name:t,available:!1}):null}serialize(){return["image",this.name]}}function JN(e,t,n,r){return typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function T4(e){if(e===null)return!0;if(typeof e=="string")return!0;if(typeof e=="boolean")return!0;if(typeof e=="number")return!0;if(e instanceof nu)return!0;if(e instanceof Y7)return!0;if(e instanceof Fh)return!0;if(e instanceof im)return!0;if(Array.isArray(e)){for(const t of e)if(!T4(t))return!1;return!0}else if(typeof e=="object"){for(const t in e)if(!T4(e[t]))return!1;return!0}else return!1}function tu(e){if(e===null)return Cw;if(typeof e=="string")return ho;if(typeof e=="boolean")return eo;if(typeof e=="number")return tr;if(e instanceof nu)return Vp;if(e instanceof Y7)return _w;if(e instanceof Fh)return bw;if(e instanceof im)return Wb;if(Array.isArray(e)){const t=e.length;let n;for(const r of e){const i=tu(r);if(!n)n=i;else{if(n===i)continue;n=no;break}}return zd(n||no,t)}else return Yy}function __(e){const t=typeof e;return e===null?"":t==="string"||t==="number"||t==="boolean"?String(e):e instanceof nu||e instanceof Fh||e instanceof im?e.toString():JSON.stringify(e)}class q7{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!T4(t[1]))return n.error("invalid value");const r=t[1];let i=tu(r);const o=n.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new q7(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof nu?["rgba"].concat(this.value.toArray()):this.value instanceof Fh?this.value.serialize():this.value}}var K4=q7;class Gde{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}var Wu=Gde;const YS={string:ho,number:tr,boolean:eo,object:Yy};class H7{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let r=1,i;const o=t[0];if(o==="array"){let s;if(t.length>2){const m=t[1];if(typeof m!="string"||!(m in YS)||m==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);s=YS[m],r++}else s=no;let h;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);h=t[2],r++}i=zd(s,h)}else i=YS[o];const a=[];for(;r<t.length;r++){const s=n.parse(t[r],r,no);if(!s)return null;a.push(s)}return new H7(i,a)}evaluate(t){for(let n=0;n<this.args.length;n++){const r=this.args[n].evaluate(t);if(pb(this.type,tu(r))){if(n===this.args.length-1)throw new Wu(`Expected value to be of type ${Ls(this.type)}, but found ${Ls(tu(r))} instead.`)}else return r}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,n=[t.kind];if(t.kind==="array"){const r=t.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){n.push(r.kind);const i=t.N;(typeof i=="number"||this.args.length>1)&&n.push(i)}}return n.concat(this.args.map(r=>r.serialize()))}}var Gp=H7;class xw{constructor(t){this.type=bw,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&typeof r=="object")return n.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=t.length-1;++a){const s=t[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let h=null;if(s["font-scale"]&&(h=n.parse(s["font-scale"],1,tr),!h))return null;let m=null;if(s["text-font"]&&(m=n.parse(s["text-font"],1,zd(ho)),!m))return null;let C=null;if(s["text-color"]&&(C=n.parse(s["text-color"],1,Vp),!C))return null;const E=i[i.length-1];E.scale=h,E.font=m,E.textColor=C}else{const h=n.parse(t[a],1,no);if(!h)return null;const m=h.type.kind;if(m!=="string"&&m!=="value"&&m!=="null"&&m!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new xw(i)}evaluate(t){const n=r=>{const i=r.content.evaluate(t);return tu(i)===Wb?new RO("",i,null,null,null):new RO(__(i),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)};return new Fh(this.sections.map(n))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const n of this.sections){t.push(n.content.serialize());const r={};n.scale&&(r["font-scale"]=n.scale.serialize()),n.font&&(r["text-font"]=n.font.serialize()),n.textColor&&(r["text-color"]=n.textColor.serialize()),t.push(r)}return t}}class ww{constructor(t){this.type=Wb,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const r=n.parse(t[1],1,ho);return r?new ww(r):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),r=im.fromString(n);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(n)>-1),r}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Wde={"to-boolean":eo,"to-color":Vp,"to-number":tr,"to-string":ho};class V7{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[0];if((r==="to-boolean"||r==="to-string")&&t.length!==2)return n.error("Expected one argument.");const i=Wde[r],o=[];for(let a=1;a<t.length;a++){const s=n.parse(t[a],a,no);if(!s)return null;o.push(s)}return new V7(i,o)}evaluate(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){let n,r;for(const i of this.args){if(n=i.evaluate(t),r=null,n instanceof nu)return n;if(typeof n=="string"){const o=t.parseColor(n);if(o)return o}else if(Array.isArray(n)&&(n.length<3||n.length>4?r=`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:r=JN(n[0],n[1],n[2],n[3]),!r))return new nu(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new Wu(r||`Could not parse color from value '${typeof n=="string"?n:String(JSON.stringify(n))}'`)}else if(this.type.kind==="number"){let n=null;for(const r of this.args){if(n=r.evaluate(t),n===null)return 0;const i=Number(n);if(!isNaN(i))return i}throw new Wu(`Could not convert ${JSON.stringify(n)} to number.`)}else return this.type.kind==="formatted"?Fh.fromString(__(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?im.fromString(__(this.args[0].evaluate(t))):__(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new xw([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ww(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(n=>{t.push(n.serialize())}),t}}var wy=V7;const Qde=["Unknown","Point","LineString","Polygon"];class $de{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Qde[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,n=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*n-t[0],a=i*n-t[1],s=this.featureDistanceData.bearing[0],h=this.featureDistanceData.bearing[1];return s*o+h*a}return 0}parseColor(t){let n=this._parseColorCache[t];return n||(n=this._parseColorCache[t]=nu.parse(t)),n}}var eG=$de;class My{constructor(t,n,r,i){this.name=t,this.type=n,this._evaluate=r,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,n){const r=t[0],i=My.definitions[r];if(!i)return n.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([m])=>!Array.isArray(m)||m.length===t.length-1);let h=null;for(const[m,C]of s){h=new oG(n.registry,n.path,null,n.scope);const E=[];let O=!1;for(let P=1;P<t.length;P++){const D=t[P],$=Array.isArray(m)?m[P-1]:m.type,ee=h.parse(D,1+E.length,$);if(!ee){O=!0;break}E.push(ee)}if(!O){if(Array.isArray(m)&&m.length!==E.length){h.error(`Expected ${m.length} arguments, but found ${E.length} instead.`);continue}for(let P=0;P<E.length;P++){const D=Array.isArray(m)?m[P]:m.type,$=E[P];h.concat(P+1).checkSubtype(D,$.type)}if(h.errors.length===0)return new My(r,o,C,E)}}if(s.length===1)n.errors.push(...h.errors);else{const C=(s.length?s:a).map(([O])=>Yde(O)).join(" | "),E=[];for(let O=1;O<t.length;O++){const P=n.parse(t[O],1+E.length);if(!P)return null;E.push(Ls(P.type))}n.error(`Expected arguments of type ${C}, but found (${E.join(", ")}) instead.`)}return null}static register(t,n){My.definitions=n;for(const r in n)t[r]=My}}function Yde(e){return Array.isArray(e)?`(${e.map(Ls).join(", ")})`:`(${Ls(e.type)}...)`}var Pv=My;class Mw{constructor(t,n,r){this.type=_w,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const r=t[1];if(typeof r!="object"||Array.isArray(r))return n.error("Collator options argument must be an object.");const i=n.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,eo);if(!i)return null;const o=n.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,eo);if(!o)return null;let a=null;return r.locale&&(a=n.parse(r.locale,1,ho),!a)?null:new Mw(i,o,a)}evaluate(t){return new Y7(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const h0=8192;function Z7(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function qde(e){return(180+e)/360}function Hde(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function P4(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Vde(e,t){const n=qde(e[0]),r=Hde(e[1]),i=Math.pow(2,t.z);return[Math.round(n*i*h0),Math.round(r*i*h0)]}function Zde(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i===0&&r*o<=0&&i*a<=0}function Xde(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function X7(e,t){let n=!1;for(let r=0,i=t.length;r<i;r++){const o=t[r];for(let a=0,s=o.length;a<s-1;a++){if(Zde(e,o[a],o[a+1]))return!1;Xde(e,o[a],o[a+1])&&(n=!n)}}return n}function Jde(e,t){for(let n=0;n<t.length;n++)if(X7(e,t[n]))return!0;return!1}function ehe(e,t){return e[0]*t[1]-e[1]*t[0]}function jK(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],h=r[0]-n[0],m=r[1]-n[1],C=i*m-h*o,E=a*m-h*s;return C>0&&E<0||C<0&&E>0}function the(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return ehe(o,i)===0?!1:!!(jK(e,t,n,r)&&jK(n,r,e,t))}function nhe(e,t,n){for(const r of n)for(let i=0;i<r.length-1;++i)if(the(e,t,r[i],r[i+1]))return!0;return!1}function tG(e,t){for(let n=0;n<e.length;++n)if(!X7(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(nhe(e[n],e[n+1],t))return!1;return!0}function rhe(e,t){for(let n=0;n<t.length;n++)if(tG(e,t[n]))return!0;return!1}function J7(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let a=0;a<e[i].length;a++){const s=Vde(e[i][a],n);Z7(t,s),o.push(s)}r.push(o)}return r}function nG(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=J7(e[i],t,n);r.push(o)}return r}function rG(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const i=r*.5;let o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;o===0&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}Z7(t,e)}function ihe(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function NK(e,t,n,r){const i=Math.pow(2,r.z)*h0,o=[r.x*h0,r.y*h0],a=[];if(!e)return a;for(const s of e)for(const h of s){const m=[h.x+o[0],h.y+o[1]];rG(m,t,n,i),a.push(m)}return a}function GK(e,t,n,r){const i=Math.pow(2,r.z)*h0,o=[r.x*h0,r.y*h0],a=[];if(!e)return a;for(const s of e){const h=[];for(const m of s){const C=[m.x+o[0],m.y+o[1]];Z7(t,C),h.push(C)}a.push(h)}if(t[2]-t[0]<=i/2){ihe(t);for(const s of a)for(const h of s)rG(h,t,n,i)}return a}function ohe(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(t.type==="Polygon"){const o=J7(t.coordinates,r,i),a=NK(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!X7(s,o))return!1}if(t.type==="MultiPolygon"){const o=nG(t.coordinates,r,i),a=NK(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!Jde(s,o))return!1}return!0}function ahe(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(t.type==="Polygon"){const o=J7(t.coordinates,r,i),a=GK(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!tG(s,o))return!1}if(t.type==="MultiPolygon"){const o=nG(t.coordinates,r,i),a=GK(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!rhe(s,o))return!1}return!0}class b_{constructor(t,n){this.type=eo,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(T4(t[1])){const r=t[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new b_(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new b_(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new b_(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return ohe(t,this.geometries);if(t.geometryType()==="LineString")return ahe(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var eI=b_;function Sw(e){if(e instanceof Pv){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof eI)return!1;let t=!0;return e.eachChild(n=>{t&&!Sw(n)&&(t=!1)}),t}function tI(e){if(e instanceof Pv&&e.name==="feature-state")return!1;let t=!0;return e.eachChild(n=>{t&&!tI(n)&&(t=!1)}),t}function nI(e,t){if(e instanceof Pv&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(r=>{n&&!nI(r,t)&&(n=!1)}),n}class rI{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const r=t[1];return n.scope.has(r)?new rI(r,n.scope.get(r)):n.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var iG=rI;class iI{constructor(t,n=[],r,i=new Lde,o=[]){this.registry=t,this.path=n,this.key=n.map(a=>`[${a}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(t,n,r,i,o={}){return n?this.concat(n,r,i)._parse(t,o):this._parse(t,o)}_parse(t,n){(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number")&&(t=["literal",t]);function r(i,o,a){return a==="assert"?new Gp(o,[i]):a==="coerce"?new wy(o,[i]):i}if(Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(t,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,h=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&h.kind==="value")a=r(a,s,n.typeAnnotation||"assert");else if((s.kind==="color"||s.kind==="formatted"||s.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))a=r(a,s,n.typeAnnotation||"coerce");else if(this.checkSubtype(s,h))return null}if(!(a instanceof K4)&&a.type.kind!=="resolvedImage"&&zO(a)){const s=new eG;try{a=new K4(a.type,a.evaluate(s))}catch(h){return this.error(h.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof t>"u"?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,n,r){const i=typeof t=="number"?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new iI(this.registry,i,n||null,o,this.errors)}error(t,...n){const r=`${this.key}${n.map(i=>`[${i}]`).join("")}`;this.errors.push(new Lf(r,t))}checkSubtype(t,n){const r=pb(t,n);return r&&this.error(r),r}}var oG=iI;function zO(e){if(e instanceof iG)return zO(e.boundExpression);if(e instanceof Pv&&e.name==="error")return!1;if(e instanceof Mw)return!1;if(e instanceof eI)return!1;const t=e instanceof wy||e instanceof Gp;let n=!0;return e.eachChild(r=>{t?n=n&&zO(r):n=n&&r instanceof K4}),n?Sw(e)&&nI(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function Ew(e,t){const n=e.length-1;let r=0,i=n,o=0,a,s;for(;r<=i;)if(o=Math.floor((r+i)/2),a=e[o],s=e[o+1],a<=t){if(o===n||t<s)return o;r=o+1}else if(a>t)i=o-1;else throw new Wu("Input is not a number.");return 0}class oI{constructor(t,n,r){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");const r=n.parse(t[1],1,tr);if(!r)return null;const i=[];let o=null;n.expectedType&&n.expectedType.kind!=="value"&&(o=n.expectedType);for(let a=1;a<t.length;a+=2){const s=a===1?-1/0:t[a],h=t[a+1],m=a,C=a+1;if(typeof s!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',m);const E=n.parse(h,C,o);if(!E)return null;o=o||E.type,i.push([s,E])}return new oI(o,r,i)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=Ew(n,i);return r[a].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let n=0;n<this.labels.length;n++)n>0&&t.push(this.labels[n]),t.push(this.outputs[n].serialize());return t}}var aG=oI,she=sG;function sG(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}sG.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n=n-i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=(s-a)*.5+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};function rd(e,t,n){return e*(1-n)+t*n}function lhe(e,t,n){return new nu(rd(e.r,t.r,n),rd(e.g,t.g,n),rd(e.b,t.b,n),rd(e.a,t.a,n))}function uhe(e,t,n){return e.map((r,i)=>rd(r,t[i],n))}var lG=Object.freeze({__proto__:null,number:rd,color:lhe,array:uhe});const uG=.95047,AG=1,cG=1.08883,dG=4/29,qy=6/29,hG=3*qy*qy,Ahe=qy*qy*qy,che=Math.PI/180,dhe=180/Math.PI;function qS(e){return e>Ahe?Math.pow(e,1/3):e/hG+dG}function HS(e){return e>qy?e*e*e:hG*(e-dG)}function VS(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ZS(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function fG(e){const t=ZS(e.r),n=ZS(e.g),r=ZS(e.b),i=qS((.4124564*t+.3575761*n+.1804375*r)/uG),o=qS((.2126729*t+.7151522*n+.072175*r)/AG),a=qS((.0193339*t+.119192*n+.9503041*r)/cG);return{l:116*o-16,a:500*(i-o),b:200*(o-a),alpha:e.a}}function pG(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=AG*HS(t),n=uG*HS(n),r=cG*HS(r),new nu(VS(3.2404542*n-1.5371385*t-.4985314*r),VS(-.969266*n+1.8760108*t+.041556*r),VS(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function hhe(e,t,n){return{l:rd(e.l,t.l,n),a:rd(e.a,t.a,n),b:rd(e.b,t.b,n),alpha:rd(e.alpha,t.alpha,n)}}function fhe(e){const{l:t,a:n,b:r}=fG(e),i=Math.atan2(r,n)*dhe;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}}function phe(e){const t=e.h*che,n=e.c,r=e.l;return pG({l:r,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})}function mhe(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}function ghe(e,t,n){return{h:mhe(e.h,t.h,n),c:rd(e.c,t.c,n),l:rd(e.l,t.l,n),alpha:rd(e.alpha,t.alpha,n)}}const XC={forward:fG,reverse:pG,interpolate:hhe},JC={forward:fhe,reverse:phe,interpolate:ghe};var mG=Object.freeze({__proto__:null,lab:XC,hcl:JC});class D4{constructor(t,n,r,i,o){this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(t,n,r,i){let o=0;if(t.name==="exponential")o=XS(n,t.base,r,i);else if(t.name==="linear")o=XS(n,1,r,i);else if(t.name==="cubic-bezier"){const a=t.controlPoints;o=new she(a[0],a[1],a[2],a[3]).solve(XS(n,1,r,i))}return o}static parse(t,n){let[r,i,o,...a]=t;if(!Array.isArray(i)||i.length===0)return n.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const m=i[1];if(typeof m!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:m}}else if(i[0]==="cubic-bezier"){const m=i.slice(1);if(m.length!==4||m.some(C=>typeof C!="number"||C<0||C>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:m}}else return n.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");if(o=n.parse(o,2,tr),!o)return null;const s=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=Vp:n.expectedType&&n.expectedType.kind!=="value"&&(h=n.expectedType);for(let m=0;m<a.length;m+=2){const C=a[m],E=a[m+1],O=m+3,P=m+4;if(typeof C!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(s.length&&s[s.length-1][0]>=C)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',O);const D=n.parse(E,P,h);if(!D)return null;h=h||D.type,s.push([C,D])}return h.kind!=="number"&&h.kind!=="color"&&!(h.kind==="array"&&h.itemType.kind==="number"&&typeof h.N=="number")?n.error(`Type ${Ls(h)} is not interpolatable.`):new D4(h,r,i,o,s)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=Ew(n,i),s=n[a],h=n[a+1],m=D4.interpolationFactor(this.interpolation,i,s,h),C=r[a].evaluate(t),E=r[a+1].evaluate(t);return this.operator==="interpolate"?lG[this.type.kind.toLowerCase()](C,E,m):this.operator==="interpolate-hcl"?JC.reverse(JC.interpolate(JC.forward(C),JC.forward(E),m)):XC.reverse(XC.interpolate(XC.forward(C),XC.forward(E),m))}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;this.interpolation.name==="linear"?t=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?t=["linear"]:t=["exponential",this.interpolation.base]:t=["cubic-bezier"].concat(this.interpolation.controlPoints);const n=[this.operator,t,this.input.serialize()];for(let r=0;r<this.labels.length;r++)n.push(this.labels[r],this.outputs[r].serialize());return n}}function XS(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var Zp=D4;class U4{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expectected at least one argument.");let r=null;const i=n.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const s of t.slice(1)){const h=n.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}return i&&o.some(s=>pb(i,s.type))?new U4(no,o):new U4(r,o)}evaluate(t){let n=null,r=0,i;for(const o of this.args){if(r++,n=o.evaluate(t),n&&n instanceof im&&!n.available&&(i||(i=n),n=null,r===this.args.length))return i;if(n!==null)break}return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var gG=U4;class aI{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let o=1;o<t.length-1;o+=2){const a=t[o];if(typeof a!="string")return n.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=n.parse(t[o+1],o+1);if(!s)return null;r.push([a,s])}const i=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return i?new aI(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[n,r]of this.bindings)t.push(n,r.serialize());return t.push(this.result.serialize()),t}}var yG=aI;class sI{constructor(t,n,r){this.type=t,this.index=n,this.input=r}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,tr),i=n.parse(t[2],2,zd(n.expectedType||no));if(!r||!i)return null;const o=i.type;return new sI(o.itemType,r,i)}evaluate(t){const n=this.index.evaluate(t),r=this.input.evaluate(t);if(n<0)throw new Wu(`Array index out of bounds: ${n} < 0.`);if(n>=r.length)throw new Wu(`Array index out of bounds: ${n} > ${r.length-1}.`);if(n!==Math.floor(n))throw new Wu(`Array index must be an integer, but found ${n} instead.`);return r[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var yhe=sI;class lI{constructor(t,n){this.type=eo,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,no),i=n.parse(t[2],2,no);return!r||!i?null:$7(r.type,[eo,ho,tr,Cw,no])?new lI(r,i):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ls(r.type)} instead`)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(r==null)return!1;if(!mb(n,["boolean","string","number","null"]))throw new Wu(`Expected first argument to be of type boolean, string, number or null, but found ${Ls(tu(n))} instead.`);if(!mb(r,["string","array"]))throw new Wu(`Expected second argument to be of type array or string, but found ${Ls(tu(r))} instead.`);return r.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var vhe=lI;class F4{constructor(t,n,r){this.type=tr,this.needle=t,this.haystack=n,this.fromIndex=r}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,no),i=n.parse(t[2],2,no);if(!r||!i)return null;if(!$7(r.type,[eo,ho,tr,Cw,no]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ls(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,tr);return o?new F4(r,i,o):null}else return new F4(r,i)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!mb(n,["boolean","string","number","null"]))throw new Wu(`Expected first argument to be of type boolean, string, number or null, but found ${Ls(tu(n))} instead.`);if(!mb(r,["string","array"]))throw new Wu(`Expected second argument to be of type array or string, but found ${Ls(tu(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return r.indexOf(n,i)}return r.indexOf(n)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Che=F4;class uI{constructor(t,n,r,i,o,a){this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return n.error("Expected an even number of arguments.");let r,i;n.expectedType&&n.expectedType.kind!=="value"&&(i=n.expectedType);const o={},a=[];for(let m=2;m<t.length-1;m+=2){let C=t[m];const E=t[m+1];Array.isArray(C)||(C=[C]);const O=n.concat(m);if(C.length===0)return O.error("Expected at least one branch label.");for(const D of C){if(typeof D!="number"&&typeof D!="string")return O.error("Branch labels must be numbers or strings.");if(typeof D=="number"&&Math.abs(D)>Number.MAX_SAFE_INTEGER)return O.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof D=="number"&&Math.floor(D)!==D)return O.error("Numeric branch labels must be integer values.");if(!r)r=tu(D);else if(O.checkSubtype(r,tu(D)))return null;if(typeof o[String(D)]<"u")return O.error("Branch labels must be unique.");o[String(D)]=a.length}const P=n.parse(E,m,i);if(!P)return null;i=i||P.type,a.push(P)}const s=n.parse(t[1],1,no);if(!s)return null;const h=n.parse(t[t.length-1],t.length-1,i);return!h||s.type.kind!=="value"&&n.concat(1).checkSubtype(r,s.type)?null:new uI(r,i,s,o,a,h)}evaluate(t){const n=this.input.evaluate(t);return(tu(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),r=[],i={};for(const a of n){const s=i[this.cases[a]];s===void 0?(i[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[s][1].push(a)}const o=a=>this.inputType.kind==="number"?Number(a):a;for(const[a,s]of r)s.length===1?t.push(o(s[0])):t.push(s.map(o)),t.push(this.outputs[a].serialize());return t.push(this.otherwise.serialize()),t}}var _he=uI;class AI{constructor(t,n,r){this.type=t,this.branches=n,this.otherwise=r}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return n.error("Expected an odd number of arguments.");let r;n.expectedType&&n.expectedType.kind!=="value"&&(r=n.expectedType);const i=[];for(let a=1;a<t.length-1;a+=2){const s=n.parse(t[a],a,eo);if(!s)return null;const h=n.parse(t[a+1],a+1,r);if(!h)return null;i.push([s,h]),r=r||h.type}const o=n.parse(t[t.length-1],t.length-1,r);return o?new AI(r,i,o):null}evaluate(t){for(const[n,r]of this.branches)if(n.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,r]of this.branches)t(n),t(r);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var bhe=AI;class L4{constructor(t,n,r,i){this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,no),i=n.parse(t[2],2,tr);if(!r||!i)return null;if(!$7(r.type,[zd(no),ho,no]))return n.error(`Expected first argument to be of type array or string, but found ${Ls(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,tr);return o?new L4(r.type,r,i,o):null}else return new L4(r.type,r,i)}evaluate(t){const n=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!mb(n,["string","array"]))throw new Wu(`Expected first argument to be of type array or string, but found ${Ls(tu(n))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return n.slice(r,i)}return n.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var xhe=L4;function WK(e,t){return e==="=="||e==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function whe(e,t,n){return t===n}function Mhe(e,t,n){return t!==n}function She(e,t,n){return t<n}function Ehe(e,t,n){return t>n}function Ohe(e,t,n){return t<=n}function Bhe(e,t,n){return t>=n}function vG(e,t,n,r){return r.compare(t,n)===0}function Ihe(e,t,n,r){return!vG(e,t,n,r)}function khe(e,t,n,r){return r.compare(t,n)<0}function The(e,t,n,r){return r.compare(t,n)>0}function Khe(e,t,n,r){return r.compare(t,n)<=0}function Phe(e,t,n,r){return r.compare(t,n)>=0}function Dv(e,t,n){const r=e!=="=="&&e!=="!=";return class CG{constructor(o,a,s){this.type=eo,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let h=a.parse(o[1],1,no);if(!h)return null;if(!WK(s,h.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${Ls(h.type)}'.`);let m=a.parse(o[2],2,no);if(!m)return null;if(!WK(s,m.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${Ls(m.type)}'.`);if(h.type.kind!==m.type.kind&&h.type.kind!=="value"&&m.type.kind!=="value")return a.error(`Cannot compare types '${Ls(h.type)}' and '${Ls(m.type)}'.`);r&&(h.type.kind==="value"&&m.type.kind!=="value"?h=new Gp(m.type,[h]):h.type.kind!=="value"&&m.type.kind==="value"&&(m=new Gp(h.type,[m])));let C=null;if(o.length===4){if(h.type.kind!=="string"&&m.type.kind!=="string"&&h.type.kind!=="value"&&m.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(C=a.parse(o[3],3,_w),!C)return null}return new CG(h,m,C)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=tu(a),m=tu(s);if(h.kind!==m.kind||!(h.kind==="string"||h.kind==="number"))throw new Wu(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${m.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=tu(a),m=tu(s);if(h.kind!=="string"||m.kind!=="string")return t(o,a,s)}return this.collator?n(o,a,s,this.collator.evaluate(o)):t(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[e];return this.eachChild(a=>{o.push(a.serialize())}),o}}}const Dhe=Dv("==",whe,vG),Uhe=Dv("!=",Mhe,Ihe),Fhe=Dv("<",She,khe),Lhe=Dv(">",Ehe,The),Rhe=Dv("<=",Ohe,Khe),zhe=Dv(">=",Bhe,Phe);class cI{constructor(t,n,r,i,o,a){this.type=ho,this.number=t,this.locale=n,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=a}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const r=n.parse(t[1],1,tr);if(!r)return null;const i=t[2];if(typeof i!="object"||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=n.parse(i.locale,1,ho),!o))return null;let a=null;if(i.currency&&(a=n.parse(i.currency,1,ho),!a))return null;let s=null;if(i.unit&&(s=n.parse(i.unit,1,ho),!s))return null;let h=null;if(i["min-fraction-digits"]&&(h=n.parse(i["min-fraction-digits"],1,tr),!h))return null;let m=null;return i["max-fraction-digits"]&&(m=n.parse(i["max-fraction-digits"],1,tr),!m)?null:new cI(r,o,a,s,h,m)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class dI{constructor(t){this.type=tr,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=n.parse(t[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${Ls(r.type)} instead.`):new dI(r):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return n.length;if(Array.isArray(n))return n.length;throw new Wu(`Expected value to be of type string or array, but found ${Ls(tu(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var jhe=dI;const _G={"==":Dhe,"!=":Uhe,">":Lhe,"<":Fhe,">=":zhe,"<=":Rhe,array:Gp,at:yhe,boolean:Gp,case:bhe,coalesce:gG,collator:Mw,format:xw,image:ww,in:vhe,"index-of":Che,interpolate:Zp,"interpolate-hcl":Zp,"interpolate-lab":Zp,length:jhe,let:yG,literal:K4,match:_he,number:Gp,"number-format":cI,object:Gp,slice:xhe,step:aG,string:Gp,"to-boolean":wy,"to-color":wy,"to-number":wy,"to-string":wy,var:iG,within:eI};function QK(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=JN(t,n,r,o);if(a)throw new Wu(a);return new nu(t/255*o,n/255*o,r/255*o,o)}function $K(e,t){return e in t}function JS(e,t){const n=t[e];return typeof n>"u"?null:n}function Nhe(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}function H0(e){return{type:e}}Pv.register(_G,{error:[Rde,[ho],(e,[t])=>{throw new Wu(t.evaluate(e))}],typeof:[ho,[no],(e,[t])=>Ls(tu(t.evaluate(e)))],"to-rgba":[zd(tr,4),[Vp],(e,[t])=>t.evaluate(e).toArray()],rgb:[Vp,[tr,tr,tr],QK],rgba:[Vp,[tr,tr,tr,tr],QK],has:{type:eo,overloads:[[[ho],(e,[t])=>$K(t.evaluate(e),e.properties())],[[ho,Yy],(e,[t,n])=>$K(t.evaluate(e),n.evaluate(e))]]},get:{type:no,overloads:[[[ho],(e,[t])=>JS(t.evaluate(e),e.properties())],[[ho,Yy],(e,[t,n])=>JS(t.evaluate(e),n.evaluate(e))]]},"feature-state":[no,[ho],(e,[t])=>JS(t.evaluate(e),e.featureState||{})],properties:[Yy,[],e=>e.properties()],"geometry-type":[ho,[],e=>e.geometryType()],id:[no,[],e=>e.id()],zoom:[tr,[],e=>e.globals.zoom],pitch:[tr,[],e=>e.globals.pitch||0],"distance-from-center":[tr,[],e=>e.distanceFromCenter()],"heatmap-density":[tr,[],e=>e.globals.heatmapDensity||0],"line-progress":[tr,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[tr,[],e=>e.globals.skyRadialProgress||0],accumulated:[no,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[tr,H0(tr),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[tr,H0(tr),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:tr,overloads:[[[tr,tr],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[tr],(e,[t])=>-t.evaluate(e)]]},"/":[tr,[tr,tr],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[tr,[tr,tr],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[tr,[],()=>Math.LN2],pi:[tr,[],()=>Math.PI],e:[tr,[],()=>Math.E],"^":[tr,[tr,tr],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[tr,[tr],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[tr,[tr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[tr,[tr],(e,[t])=>Math.log(t.evaluate(e))],log2:[tr,[tr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[tr,[tr],(e,[t])=>Math.sin(t.evaluate(e))],cos:[tr,[tr],(e,[t])=>Math.cos(t.evaluate(e))],tan:[tr,[tr],(e,[t])=>Math.tan(t.evaluate(e))],asin:[tr,[tr],(e,[t])=>Math.asin(t.evaluate(e))],acos:[tr,[tr],(e,[t])=>Math.acos(t.evaluate(e))],atan:[tr,[tr],(e,[t])=>Math.atan(t.evaluate(e))],min:[tr,H0(tr),(e,t)=>Math.min(...t.map(n=>n.evaluate(e)))],max:[tr,H0(tr),(e,t)=>Math.max(...t.map(n=>n.evaluate(e)))],abs:[tr,[tr],(e,[t])=>Math.abs(t.evaluate(e))],round:[tr,[tr],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[tr,[tr],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[tr,[tr],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[eo,[ho,no],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[eo,[no],(e,[t])=>e.id()===t.value],"filter-type-==":[eo,[ho],(e,[t])=>e.geometryType()===t.value],"filter-<":[eo,[ho,no],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[eo,[no],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[eo,[ho,no],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[eo,[no],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[eo,[ho,no],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[eo,[no],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[eo,[ho,no],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[eo,[no],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[eo,[no],(e,[t])=>t.value in e.properties()],"filter-has-id":[eo,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[eo,[zd(ho)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[eo,[zd(no)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[eo,[ho,zd(no)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[eo,[ho,zd(no)],(e,[t,n])=>Nhe(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:eo,overloads:[[[eo,eo],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[H0(eo),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:eo,overloads:[[[eo,eo],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[H0(eo),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[eo,[eo],(e,[t])=>!t.evaluate(e)],"is-supported-script":[eo,[ho],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return n?n(t.evaluate(e)):!0}],upcase:[ho,[ho],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[ho,[ho],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[ho,H0(no),(e,t)=>t.map(n=>__(n.evaluate(e))).join("")],"resolved-locale":[ho,[_w],(e,[t])=>t.evaluate(e).resolvedLocale()]});var bG=_G;function jO(e){return{result:"success",value:e}}function ay(e){return{result:"error",value:e}}function Ghe(e){return e["property-type"]==="data-driven"}function Whe(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function xG(e){return!!e.expression&&e.expression.interpolated}function hI(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function fI(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Qhe(e){return e}function pI(e,t){const n=t.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,a=e.type||(xG(t)?"exponential":"interval");if(n&&(e=ZN({},e),e.stops&&(e.stops=e.stops.map(C=>[C[0],nu.parse(C[1])])),e.default?e.default=nu.parse(e.default):e.default=nu.parse(t.default)),e.colorSpace&&e.colorSpace!=="rgb"&&!mG[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let s,h,m;if(a==="exponential")s=YK;else if(a==="interval")s=Yhe;else if(a==="categorical"){s=$he,h=Object.create(null);for(const C of e.stops)h[C[0]]=C[1];m=typeof e.stops[0][0]}else if(a==="identity")s=qhe;else throw new Error(`Unknown function type "${a}"`);if(r){const C={},E=[];for(let D=0;D<e.stops.length;D++){const $=e.stops[D],ee=$[0].zoom;C[ee]===void 0&&(C[ee]={zoom:ee,type:e.type,property:e.property,default:e.default,stops:[]},E.push(ee)),C[ee].stops.push([$[0].value,$[1]])}const O=[];for(const D of E)O.push([C[D].zoom,pI(C[D],t)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:Zp.interpolationFactor.bind(void 0,P),zoomStops:O.map(D=>D[0]),evaluate({zoom:D},$){return YK({stops:O,base:e.base},t,D).evaluate(D,$)}}}else if(o){const C=a==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:Zp.interpolationFactor.bind(void 0,C),zoomStops:e.stops.map(E=>E[0]),evaluate:({zoom:E})=>s(e,t,E,h,m)}}else return{kind:"source",evaluate(C,E){const O=E&&E.properties?E.properties[e.property]:void 0;return O===void 0?Qb(e.default,t.default):s(e,t,O,h,m)}}}function Qb(e,t,n){if(e!==void 0)return e;if(t!==void 0)return t;if(n!==void 0)return n}function $he(e,t,n,r,i){const o=typeof n===i?r[n]:void 0;return Qb(o,e.default,t.default)}function Yhe(e,t,n){if(hI(n)!=="number")return Qb(e.default,t.default);const r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=Ew(e.stops.map(o=>o[0]),n);return e.stops[i][1]}function YK(e,t,n){const r=e.base!==void 0?e.base:1;if(hI(n)!=="number")return Qb(e.default,t.default);const i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=Ew(e.stops.map(C=>C[0]),n),a=Hhe(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],h=e.stops[o+1][1];let m=lG[t.type]||Qhe;if(e.colorSpace&&e.colorSpace!=="rgb"){const C=mG[e.colorSpace];m=(E,O)=>C.reverse(C.interpolate(C.forward(E),C.forward(O),a))}return typeof s.evaluate=="function"?{evaluate(...C){const E=s.evaluate.apply(void 0,C),O=h.evaluate.apply(void 0,C);if(!(E===void 0||O===void 0))return m(E,O,a)}}:m(s,h,a)}function qhe(e,t,n){return t.type==="color"?n=nu.parse(n):t.type==="formatted"?n=Fh.fromString(n.toString()):t.type==="resolvedImage"?n=im.fromString(n.toString()):hI(n)!==t.type&&(t.type!=="enum"||!t.values[n])&&(n=void 0),Qb(n,e.default,t.default)}function Hhe(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}class wG{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new eG,this._defaultValue=n?Xhe(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,r,i,o,a,s,h){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=h||null,this.expression.evaluate(this._evaluator)}evaluate(t,n,r,i,o,a,s,h){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=h||null;try{const m=this.expression.evaluate(this._evaluator);if(m==null||typeof m=="number"&&m!==m)return this._defaultValue;if(this._enumValues&&!(m in this._enumValues))throw new Wu(`Expected value to be one of ${Object.keys(this._enumValues).map(C=>JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(m)} instead.`);return m}catch(m){return this._warningHistory[m.message]||(this._warningHistory[m.message]=!0,typeof console<"u"&&console.warn(m.message)),this._defaultValue}}}function MG(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in bG}function R4(e,t){const n=new oG(bG,[],t?Zhe(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?jO(new wG(r,t)):ay(n.errors)}class NO{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!tI(n.expression)}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}}class GO{constructor(t,n,r,i){this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!tI(n.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}interpolationFactor(t,n,r){return this.interpolationType?Zp.interpolationFactor(this.interpolationType,t,n,r):0}}function SG(e,t){if(e=R4(e,t),e.result==="error")return e;const n=e.value.expression,r=Sw(n);if(!r&&!Ghe(t))return ay([new Lf("","data expressions not supported")]);const i=nI(n,["zoom","pitch","distance-from-center"]);if(!i&&!Whe(t))return ay([new Lf("","zoom expressions not supported")]);const o=m3(n);if(!o&&!i)return ay([new Lf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Lf)return ay([o]);if(o instanceof Zp&&!xG(t))return ay([new Lf("",'"interpolate" expressions cannot be used with this property')]);if(!o)return jO(r?new NO("constant",e.value):new NO("source",e.value));const a=o instanceof Zp?o.interpolation:void 0;return jO(r?new GO("camera",e.value,o.labels,a):new GO("composite",e.value,o.labels,a))}class Ow{constructor(t,n){this._parameters=t,this._specification=n,ZN(this,pI(this._parameters,this._specification))}static deserialize(t){return new Ow(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function Vhe(e,t){if(fI(e))return new Ow(e,t);if(MG(e)){const n=SG(e,t);if(n.result==="error")throw new Error(n.value.map(r=>`${r.key}: ${r.message}`).join(", "));return n.value}else{let n=e;return typeof e=="string"&&t.type==="color"&&(n=nu.parse(e)),{kind:"constant",evaluate:()=>n}}}function m3(e){let t=null;if(e instanceof yG)t=m3(e.result);else if(e instanceof gG){for(const n of e.args)if(t=m3(n),t)break}else(e instanceof aG||e instanceof Zp)&&e.input instanceof Pv&&e.input.name==="zoom"&&(t=e);return t instanceof Lf||e.eachChild(n=>{const r=m3(n);r instanceof Lf?t=r:!t&&r?t=new Lf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new Lf("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Zhe(e){const t={color:Vp,string:ho,number:tr,enum:ho,boolean:eo,formatted:bw,resolvedImage:Wb};return e.type==="array"?zd(t[e.value]||no,e.length):t[e.type]}function Xhe(e){return e.type==="color"&&(fI(e.default)||Array.isArray(e.default))?new nu(0,0,0,0):e.type==="color"?nu.parse(e.default)||null:e.default===void 0?null:e.default}function gb(e){return typeof e=="object"?["literal",e]:e}function Jhe(e,t){let n=e.stops;if(!n)return efe(e,t);const r=n&&typeof n[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return n=n.map(a=>!i&&t.tokens&&typeof a[1]=="string"?[a[0],ife(a[1])]:[a[0],gb(a[1])]),r?tfe(e,t,n):o?rfe(e,t,n):WO(e,t,n)}function efe(e,t){const n=["get",e.property];if(e.default===void 0)return t.type==="string"?["string",n]:n;if(t.type==="enum")return["match",n,Object.keys(t.values),n,e.default];{const r=[t.type==="color"?"to-color":t.type,n,gb(e.default)];return t.type==="array"&&r.splice(1,0,t.value,t.length||null),r}}function mI(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function tfe(e,t,n){const r={},i={},o=[];for(let s=0;s<n.length;s++){const h=n[s],m=h[0].zoom;r[m]===void 0&&(r[m]={zoom:m,type:e.type,property:e.property,default:e.default},i[m]=[],o.push(m)),i[m].push([h[0].value,h[1]])}if(yI({},t)==="exponential"){const s=[mI(e),["linear"],["zoom"]];for(const h of o){const m=WO(r[h],t,i[h]);Hy(s,h,m,!1)}return s}else{const s=["step",["zoom"]];for(const h of o){const m=WO(r[h],t,i[h]);Hy(s,h,m,!0)}return gI(s),s}}function nfe(e,t){if(e!==void 0)return e;if(t!==void 0)return t}function qK(e,t){const n=gb(nfe(e.default,t.default));return n===void 0&&t.type==="resolvedImage"?"":n}function WO(e,t,n){const r=yI(e,t),i=["get",e.property];if(r==="categorical"&&typeof n[0][0]=="boolean"){const o=["case"];for(const a of n)o.push(["==",i,a[0]],a[1]);return o.push(qK(e,t)),o}else if(r==="categorical"){const o=["match",i];for(const a of n)Hy(o,a[0],a[1],!1);return o.push(qK(e,t)),o}else if(r==="interval"){const o=["step",["number",i]];for(const a of n)Hy(o,a[0],a[1],!0);return gI(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,gb(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,a=[mI(e),o===1?["linear"]:["exponential",o],["number",i]];for(const s of n)Hy(a,s[0],s[1],!1);return e.default===void 0?a:["case",["==",["typeof",i],"number"],a,gb(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function rfe(e,t,n,r=["zoom"]){const i=yI(e,t);let o,a=!1;if(i==="interval")o=["step",r],a=!0;else if(i==="exponential"){const s=e.base!==void 0?e.base:1;o=[mI(e),s===1?["linear"]:["exponential",s],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of n)Hy(o,s[0],s[1],a);return gI(o),o}function gI(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function Hy(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&e.length===2||e.push(t),e.push(n))}function yI(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function ife(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);i!==null;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(t.length===1)return e;if(r<e.length)t.push(e.slice(r));else if(t.length===2)return["to-string",t[1]];return t}function ofe(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function QO(e){if(Array.isArray(e))return e.map(QO);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=QO(e[n]);return t}return ofe(e)}function vI(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!vI(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function afe(e,t="fill"){if(e==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};vI(e)||(e=z4(e));const n=e;let r=!0;try{r=sfe(n)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(n,null,2)}
        `)}const i=VN[`filter_${t}`],o=R4(r,i);let a=null;if(o.result==="error")throw new Error(o.value.map(C=>`${C.key}: ${C.message}`).join(", "));a=(C,E,O)=>o.value.evaluate(C,E,{},O);let s=null,h=null;if(r!==n){const C=R4(n,i);if(C.result==="error")throw new Error(C.value.map(E=>`${E.key}: ${E.message}`).join(", "));s=(E,O,P,D,$)=>C.value.evaluate(E,O,{},P,void 0,void 0,D,$),h=!Sw(C.value.expression)}a=a;const m=BG(r);return{filter:a,dynamicFilter:s||void 0,needGeometry:m,needFeature:!!h}}function sfe(e){if(!Vy(e))return e;let t=QO(e);return OG(t),t=EG(t),t}function EG(e){if(!Array.isArray(e))return e;const t=Afe(e);return t===!0?t:t.map(n=>EG(n))}function OG(e){let t=!1;const n=[];if(e[0]==="case"){for(let r=1;r<e.length-1;r+=2)t=t||Vy(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if(e[0]==="match"){t=t||Vy(e[1]);for(let r=2;r<e.length-1;r+=2)n.push(e[r+1]);n.push(e[e.length-1])}else if(e[0]==="step"){t=t||Vy(e[1]);for(let r=1;r<e.length-1;r+=2)n.push(e[r+1])}t&&(e.length=0,e.push("any",...n));for(let r=1;r<e.length;r++)OG(e[r])}function Vy(e){if(!Array.isArray(e))return!1;if(lfe(e[0]))return!0;for(let t=1;t<e.length;t++){const n=e[t];if(Vy(n))return!0}return!1}function lfe(e){return e==="pitch"||e==="distance-from-center"}const ufe=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Afe(e){if(ufe.has(e[0]))for(let t=1;t<e.length;t++){const n=e[t];if(Vy(n))return!0}return e}function cfe(e,t){return e<t?-1:e>t?1:0}function BG(e){if(!Array.isArray(e))return!1;if(e[0]==="within")return!0;for(let t=1;t<e.length;t++)if(BG(e[t]))return!0;return!1}function z4(e){if(!e)return!0;const t=e[0];return e.length<=1?t!=="any":t==="=="?e6(e[1],e[2],"=="):t==="!="?Px(e6(e[1],e[2],"==")):t==="<"||t===">"||t==="<="||t===">="?e6(e[1],e[2],t):t==="any"?dfe(e.slice(1)):t==="all"?["all"].concat(e.slice(1).map(z4)):t==="none"?["all"].concat(e.slice(1).map(z4).map(Px)):t==="in"?HK(e[1],e.slice(2)):t==="!in"?Px(HK(e[1],e.slice(2))):t==="has"?VK(e[1]):t==="!has"?Px(VK(e[1])):t==="within"?e:!0}function e6(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function dfe(e){return["any"].concat(e.map(z4))}function HK(e,t){if(t.length===0)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(n=>typeof n!=typeof t[0])?["filter-in-large",e,["literal",t.sort(cfe)]]:["filter-in-small",e,["literal",t]]}}function VK(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Px(e){return["!",e]}var hfe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ffe(e,t){const n={};for(const r in e)r!=="ref"&&(n[r]=e[r]);return hfe.forEach(r=>{r in t&&(n[r]=t[r])}),n}function pfe(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=ffe(e[n],t[e[n].ref]));return e}function mfe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gfe={};(function(e){var t=function(){var n=function(ee,H,G,Z){for(G=G||{},Z=ee.length;Z--;G[ee[Z]]=H);return G},r=[1,12],i=[1,13],o=[1,9],a=[1,10],s=[1,11],h=[1,14],m=[1,15],C=[14,18,22,24],E=[18,22],O=[22,24],P={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(H,G,Z,ue,ye,be,X){var se=be.length-1;switch(ye){case 1:this.$=new String(H.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(H),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=be[se-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=be[se-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[be[se-2],be[se]];break;case 16:this.$={},this.$[be[se][0]]=be[se][1];break;case 17:this.$=be[se-2],be[se-2][be[se][0]]=be[se][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[be[se]];break;case 21:this.$=be[se-2],be[se-2].push(be[se]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,12:1,13:2,15:7,16:8,17:h,23:m},{1:[3]},{14:[1,16]},n(C,[2,7]),n(C,[2,8]),n(C,[2,9]),n(C,[2,10]),n(C,[2,11]),n(C,[2,12]),n(C,[2,3]),n(C,[2,4]),n(C,[2,5]),n([14,18,21,22,24],[2,1]),n(C,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:23,15:7,16:8,17:h,23:m,24:[1,21],25:22},{1:[2,6]},n(C,[2,13]),{18:[1,24],22:[1,25]},n(E,[2,16]),{21:[1,26]},n(C,[2,18]),{22:[1,28],24:[1,27]},n(O,[2,20]),n(C,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:30,15:7,16:8,17:h,23:m},n(C,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:31,15:7,16:8,17:h,23:m},n(E,[2,17]),n(E,[2,15]),n(O,[2,21])],defaultActions:{16:[2,6]},parseError:function(H,G){if(G.recoverable)this.trace(H);else throw new Error(H)},parse:function(H){var G=this,Z=[0],ue=[null],ye=[],be=this.table,X="",se=0,we=0,xe=2,De=1,Ue=ye.slice.call(arguments,1),he=Object.create(this.lexer),$e={yy:{}};for(var ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ge)&&($e.yy[ge]=this.yy[ge]);he.setInput(H,$e.yy),$e.yy.lexer=he,$e.yy.parser=this,typeof he.yylloc>"u"&&(he.yylloc={});var yt=he.yylloc;ye.push(yt);var wt=he.options&&he.options.ranges;typeof $e.yy.parseError=="function"?this.parseError=$e.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function st(){var pe;return pe=he.lex()||De,typeof pe!="number"&&(pe=G.symbols_[pe]||pe),pe}for(var mt,ze,He,Ve,Vt={},Yt,vt,Qt,$t;;){if(ze=Z[Z.length-1],this.defaultActions[ze]?He=this.defaultActions[ze]:((mt===null||typeof mt>"u")&&(mt=st()),He=be[ze]&&be[ze][mt]),typeof He>"u"||!He.length||!He[0]){var ke="";$t=[];for(Yt in be[ze])this.terminals_[Yt]&&Yt>xe&&$t.push("'"+this.terminals_[Yt]+"'");he.showPosition?ke="Parse error on line "+(se+1)+`:
`+he.showPosition()+`
Expecting `+$t.join(", ")+", got '"+(this.terminals_[mt]||mt)+"'":ke="Parse error on line "+(se+1)+": Unexpected "+(mt==De?"end of input":"'"+(this.terminals_[mt]||mt)+"'"),this.parseError(ke,{text:he.match,token:this.terminals_[mt]||mt,line:he.yylineno,loc:yt,expected:$t})}if(He[0]instanceof Array&&He.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ze+", token: "+mt);switch(He[0]){case 1:Z.push(mt),ue.push(he.yytext),ye.push(he.yylloc),Z.push(He[1]),mt=null,we=he.yyleng,X=he.yytext,se=he.yylineno,yt=he.yylloc;break;case 2:if(vt=this.productions_[He[1]][1],Vt.$=ue[ue.length-vt],Vt._$={first_line:ye[ye.length-(vt||1)].first_line,last_line:ye[ye.length-1].last_line,first_column:ye[ye.length-(vt||1)].first_column,last_column:ye[ye.length-1].last_column},wt&&(Vt._$.range=[ye[ye.length-(vt||1)].range[0],ye[ye.length-1].range[1]]),Ve=this.performAction.apply(Vt,[X,we,se,$e.yy,He[1],ue,ye].concat(Ue)),typeof Ve<"u")return Ve;vt&&(Z=Z.slice(0,-1*vt*2),ue=ue.slice(0,-1*vt),ye=ye.slice(0,-1*vt)),Z.push(this.productions_[He[1]][0]),ue.push(Vt.$),ye.push(Vt._$),Qt=be[Z[Z.length-2]][Z[Z.length-1]],Z.push(Qt);break;case 3:return!0}}return!0}},D=function(){var ee={EOF:1,parseError:function(G,Z){if(this.yy.parser)this.yy.parser.parseError(G,Z);else throw new Error(G)},setInput:function(H,G){return this.yy=G||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var G=H.match(/(?:\r\n?|\n).*/g);return G?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var G=H.length,Z=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var ue=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Z.length-1&&(this.yylineno-=Z.length-1);var ye=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Z?(Z.length===ue.length?this.yylloc.first_column:0)+ue[ue.length-Z.length].length-Z[0].length:this.yylloc.first_column-G},this.options.ranges&&(this.yylloc.range=[ye[0],ye[0]+this.yyleng-G]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),G=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+G+"^"},test_match:function(H,G){var Z,ue,ye;if(this.options.backtrack_lexer&&(ye={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ye.yylloc.range=this.yylloc.range.slice(0))),ue=H[0].match(/(?:\r\n?|\n).*/g),ue&&(this.yylineno+=ue.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ue?ue[ue.length-1].length-ue[ue.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],Z=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Z)return Z;if(this._backtrack){for(var be in ye)this[be]=ye[be];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,G,Z,ue;this._more||(this.yytext="",this.match="");for(var ye=this._currentRules(),be=0;be<ye.length;be++)if(Z=this._input.match(this.rules[ye[be]]),Z&&(!G||Z[0].length>G[0].length)){if(G=Z,ue=be,this.options.backtrack_lexer){if(H=this.test_match(Z,ye[be]),H!==!1)return H;if(this._backtrack){G=!1;continue}else return!1}else if(!this.options.flex)break}return G?(H=this.test_match(G,ye[ue]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var G=this.next();return G||this.lex()},begin:function(G){this.conditionStack.push(G)},popState:function(){var G=this.conditionStack.length-1;return G>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},pushState:function(G){this.begin(G)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(G,Z,ue,ye){switch(ue){case 0:break;case 1:return 6;case 2:return Z.yytext=Z.yytext.substr(1,Z.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return ee}();P.lexer=D;function $(){this.yy={}}return $.prototype=P,P.Parser=$,new $}();typeof mfe<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(gfe);const IG={StyleExpression:wG,isExpression:MG,isExpressionFilter:vI,createExpression:R4,createPropertyExpression:SG,normalizePropertyExpression:Vhe,ZoomConstantExpression:NO,ZoomDependentExpression:GO,StylePropertyFunction:Ow},kG={convertFunction:Jhe,createFunction:pI,isFunction:fI};var TG=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function t6(e){return e*Math.PI/180}var mv=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function KG(e,t){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(e,t);var n=document.createElement("canvas");return n.width=e,n.height=t,n}function yfe(e,t){for(var n=0,r=t.length;n<r;++n){var i=t[n];if(i<e&&n+1<r){var o=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(o)}}return r-1}var vfe=Array(256).join("");function $O(e,t){if(t>=.05){for(var n="",r=e.split(`
`),i=vfe.slice(0,Math.round(t/.1)),o=0,a=r.length;o<a;++o)o>0&&(n+=`
`),n+=r[o].split("").join(i);return n}return e}var n6;function PG(){return n6||(n6=KG(1,1).getContext("2d")),n6}function V0(e,t){return PG().measureText(e).width+(e.length-1)*t}var YO={};EO&&Bo(EO,Gi.CLEAR,function(){YO={}});function qO(e,t,n,r){if(e.indexOf(`
`)!==-1){for(var i=e.split(`
`),o=[],a=0,s=i.length;a<s;++a)o.push(qO(i[a],t,n,r));return o.join(`
`)}var h=n+","+t+","+e+","+r,m=YO[h];if(!m){var C=e.split(" ");if(C.length>1){var E=PG();E.font=t;for(var O=E.measureText("M").width,P=O*n,D="",o=[],a=0,s=C.length;a<s;++a){var $=C[a],ee=D+(D?" ":"")+$;V0(ee,r)<=P?D=ee:(D&&o.push(D),D=$)}D&&o.push(D);for(var a=0,s=o.length;a<s&&s>1;++a){var H=o[a];if(V0(H,r)<P*.35){var G=a>0?V0(o[a-1],r):1/0,Z=a<s-1?V0(o[a+1],r):1/0;o.splice(a,1),s-=1,G<Z?(o[a-1]+=" "+H,a-=1):o[a]=H+" "+o[a]}}for(var a=0,s=o.length-1;a<s;++a){var ue=o[a],ye=o[a+1];if(V0(ue,r)>P*.7&&V0(ye,r)<P*.6){var be=ue.split(" "),X=be.pop();V0(X,r)<P*.2&&(o[a]=be.join(" "),o[a+1]=X+" "+ye),s-=1}}m=o.join(`
`)}else m=e;m=$O(m,r),YO[h]=m}return m}var Cfe=kG.isFunction,_fe=kG.convertFunction,bfe=IG.isExpression,xfe=IG.createPropertyExpression,wfe={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Mfe={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Sfe=function(e,t){var n=xfe(e,t);if(n.result==="error")throw new Error(n.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return n.value},HO={},j4={zoom:0},Dx,r6;function Ui(e,t,n,r,i,o){var a=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[a]||(o[a]={});var s=o[a];if(!s[n]){var h=(e[t]||HO)[n],m=VN["".concat(t,"_").concat(e.type)][n];h===void 0&&(h=m.default);var C=bfe(h);if(!C&&Cfe(h)&&(h=_fe(h,m),C=!0),C){var E=Sfe(h,m);s[n]=E.evaluate.bind(E)}else m.type=="color"&&(h=nu.parse(h)),s[n]=function(){return h}}return j4.zoom=r,s[n](j4,i)}function Efe(e,t,n,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=afe(t).filter),j4.zoom=r,i[e](j4,n)}function Km(e,t){if(e){if(e.a===0||t===0)return;var n=e.a;return t=t===void 0?1:t,n===0?"transparent":"rgba("+Math.round(e.r*255/n)+","+Math.round(e.g*255/n)+","+Math.round(e.b*255/n)+","+n*t+")"}return e}var Ofe=/^([^]*)\{(.*)\}([^]*)$/;function i6(e,t){var n;do if(n=e.match(Ofe),n){var r=t[n[2]]||"";e=n[1]+r+n[3]}while(n);return e}function Bfe(e,t,n,r,i,o,a){if(r===void 0&&(r=mv),typeof t=="string"&&(t=JSON.parse(t)),t.version!=8)throw new Error("glStyle version 8 required.");var s,h;if(o){if(typeof Image<"u"){var m=new Image;m.crossOrigin="anonymous",m.onload=function(){s=m,h=[m.width,m.height],e.changed(),m.onload=null},m.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var C=self;C.postMessage({action:"loadImage",src:o}),C.addEventListener("message",function(yt){yt.data.action==="imageLoaded"&&yt.data.src===o&&(s=yt.data.image,h=[s.width,s.height])})}}for(var E=pfe(t.layers),O={},P=[],D={},$={},ee={},H={},G,Z=0,ue=E.length;Z<ue;++Z){var ye=E[Z],be=ye.id;if(typeof n=="string"&&ye.source==n||n.indexOf(be)!==-1){var X=ye["source-layer"];if(!G){G=ye.source;var se=t.sources[G];if(!se)throw new Error('Source "'.concat(G,'" is not defined'));var we=se.type;if(we!=="vector"&&we!=="geojson")throw new Error('Source "'.concat(G,'" is not of type "vector" or "geojson", but "').concat(we,'"'))}var xe=O[X];xe||(xe=[],O[X]=xe),xe.push({layer:ye,index:Z}),P.push(be)}}var De=new ZC,Ue=new xy,he=[],$e=function(ge,yt){var wt=ge.getProperties(),st=O[wt.layer];if(st){var mt=r.indexOf(yt);mt==-1&&(mt=yfe(yt,r));for(var ze=wfe[ge.getGeometry().getType()],He={properties:wt,type:ze},Ve=-1,Vt=function(Qt,$t){var ke=st[Qt],pe=ke.layer,Se=pe.id,Re=pe.layout||HO,it=pe.paint||HO;if(Re.visibility==="none"||"minzoom"in pe&&mt<pe.minzoom||"maxzoom"in pe&&mt>=pe.maxzoom)return"continue";var ot=pe.filter;if(!ot||Efe(Se,ot,He,mt,H)){var St=void 0,Rt=void 0,zt=void 0,pt=void 0,ir=void 0,gn=void 0,yn=ke.index;if(ze==3&&(pe.type=="fill"||pe.type=="fill-extrusion"))if(Rt=Ui(pe,"paint",pe.type+"-opacity",mt,He,ee),pe.type+"-pattern"in it){var er=Ui(pe,"paint",pe.type+"-pattern",mt,He,ee);if(er){var cr=typeof er=="string"?i6(er,wt):er.toString();if(s&&i&&i[cr]){++Ve,gn=he[Ve],(!gn||!gn.getFill()||gn.getStroke()||gn.getText())&&(gn=new i1({fill:new xy}),he[Ve]=gn),zt=gn.getFill(),gn.setZIndex(yn);var Sr=cr+"."+Rt,Gr=$[Sr];if(!Gr){var yr=i[cr],_i=KG(yr.width,yr.height),Ee=_i.getContext("2d");Ee.globalAlpha=Rt,Ee.drawImage(s,yr.x,yr.y,yr.width,yr.height,0,0,yr.width,yr.height),Gr=Ee.createPattern(_i,"repeat"),$[Sr]=Gr}zt.setColor(Gr)}}}else St=Km(Ui(pe,"paint",pe.type+"-color",mt,He,ee),Rt),pe.type+"-outline-color"in it&&(ir=Km(Ui(pe,"paint",pe.type+"-outline-color",mt,He,ee),Rt)),ir||(ir=St),(St||ir)&&(++Ve,gn=he[Ve],(!gn||St&&!gn.getFill()||!St&&gn.getFill()||ir&&!gn.getStroke()||!ir&&gn.getStroke()||gn.getText())&&(gn=new i1({fill:St?new xy:void 0,stroke:ir?new ZC:void 0}),he[Ve]=gn),St&&(zt=gn.getFill(),zt.setColor(St)),ir&&(pt=gn.getStroke(),pt.setColor(ir),pt.setWidth(.5)),gn.setZIndex(yn));if(ze!=1&&pe.type=="line"){St=!("line-pattern"in it)&&"line-color"in it?Km(Ui(pe,"paint","line-color",mt,He,ee),Ui(pe,"paint","line-opacity",mt,He,ee)):void 0;var J=Ui(pe,"paint","line-width",mt,He,ee);St&&J>0&&(++Ve,gn=he[Ve],(!gn||!gn.getStroke()||gn.getFill()||gn.getText())&&(gn=new i1({stroke:new ZC}),he[Ve]=gn),pt=gn.getStroke(),pt.setLineCap(Ui(pe,"layout","line-cap",mt,He,ee)),pt.setLineJoin(Ui(pe,"layout","line-join",mt,He,ee)),pt.setMiterLimit(Ui(pe,"layout","line-miter-limit",mt,He,ee)),pt.setColor(St),pt.setWidth(J),pt.setLineDash(it["line-dasharray"]?Ui(pe,"paint","line-dasharray",mt,He,ee).map(function(ii){return ii*J}):null),gn.setZIndex(yn))}var q=!1,Te=null,At=0,Bt=void 0,kt=void 0,Ut=void 0;if((ze==1||ze==2)&&"icon-image"in Re){var fn=Ui(pe,"layout","icon-image",mt,He,ee);if(fn){Bt=typeof fn=="string"?i6(fn,wt):fn.toString();var Pn=void 0;if(s&&i&&i[Bt]){var On=Ui(pe,"layout","icon-rotation-alignment",mt,He,ee);if(ze==2){var g=ge.getGeometry();if(g.getFlatMidpoint||g.getFlatMidpoints){var Kt=g.getExtent(),Pr=Math.sqrt(Math.max(Math.pow((Kt[2]-Kt[0])/yt,2),Math.pow((Kt[3]-Kt[1])/yt,2)));if(Pr>150){var nr=g.getType()==="MultiLineString"?g.getFlatMidpoints():g.getFlatMidpoint();r6||(Dx=[NaN,NaN],r6=new SO("Point",Dx,[],{},null)),Pn=r6,Dx[0]=nr[0],Dx[1]=nr[1];var Pe=Ui(pe,"layout","symbol-placement",mt,He,ee);if(Pe==="line"&&On==="map")for(var ce=g.getStride(),_e=g.getFlatCoordinates(),Ie=0,je=_e.length-ce;Ie<je;Ie+=ce){var rt=_e[Ie],lt=_e[Ie+1],ft=_e[Ie+ce],et=_e[Ie+ce+1],Mt=Math.min(rt,ft),tn=Math.min(lt,et),Ht=Math.max(rt,ft),en=Math.max(lt,et);if(nr[0]>=Mt&&nr[0]<=Ht&&nr[1]>=tn&&nr[1]<=en){At=Math.atan2(lt-et,ft-rt);break}}}}}if(ze!==2||Pn){var Dn=Ui(pe,"layout","icon-size",mt,He,ee),Bn=it["icon-color"]!==void 0?Ui(pe,"paint","icon-color",mt,He,ee):null;if(!Bn||Bn.a!==0){var Sr=Bt+"."+Dn;if(Bn!==null&&(Sr+="."+Bn),kt=D[Sr],!kt){var qn=i[Bt];kt=new bN({color:Bn?[Bn.r*255,Bn.g*255,Bn.b*255,Bn.a]:void 0,img:s,imgSize:h,size:[qn.width,qn.height],offset:[qn.x,qn.y],rotateWithView:On==="map",scale:Dn/qn.pixelRatio,displacement:"icon-offset"in Re?Ui(pe,"layout","icon-offset",mt,He,ee).map(function(li){return-li*qn.pixelRatio}):void 0}),D[Sr]=kt}}kt&&(++Ve,gn=he[Ve],(!gn||!gn.getImage()||gn.getFill()||gn.getStroke())&&(gn=new i1,he[Ve]=gn),gn.setGeometry(Pn),kt.setRotation(At+t6(Ui(pe,"layout","icon-rotate",mt,He,ee))),kt.setOpacity(Ui(pe,"paint","icon-opacity",mt,He,ee)),kt.setAnchor(Mfe[Ui(pe,"layout","icon-anchor",mt,He,ee)]),gn.setImage(kt),Te=gn.getText(),gn.setText(void 0),gn.setZIndex(yn),q=!0,Ut=!1)}else Ut=!0}}}if(ze==1&&pe.type==="circle"){++Ve,gn=he[Ve],(!gn||!gn.getImage()||gn.getFill()||gn.getStroke())&&(gn=new i1,he[Ve]=gn);var Er="circle-radius"in it?Ui(pe,"paint","circle-radius",mt,He,ee):5,ur=Km(Ui(pe,"paint","circle-stroke-color",mt,He,ee),Ui(pe,"paint","circle-stroke-opacity",mt,He,ee)),Yr=Km(Ui(pe,"paint","circle-color",mt,He,ee),Ui(pe,"paint","circle-opacity",mt,He,ee)),Br=Ui(pe,"paint","circle-stroke-width",mt,He,ee),Fr=Er+"."+ur+"."+Yr+"."+Br;kt=D[Fr],kt||(kt=new gN({radius:Er,stroke:ur&&Br>0?new ZC({width:Br,color:ur}):void 0,fill:Yr?new xy({color:Yr}):void 0}),D[Fr]=kt),gn.setImage(kt),Te=gn.getText(),gn.setText(void 0),gn.setGeometry(void 0),gn.setZIndex(yn),q=!0}var or=void 0,di=void 0,Ri,ro,po,si;if("text-field"in Re){ro=Math.round(Ui(pe,"layout","text-size",mt,He,ee));var mo=Ui(pe,"layout","text-font",mt,He,ee);Ri=Ui(pe,"layout","text-line-height",mt,He,ee),di=PO(a?a(mo):mo,ro,Ri),po=Ui(pe,"layout","text-letter-spacing",mt,He,ee),si=Ui(pe,"layout","text-max-width",mt,He,ee);var Qa=Ui(pe,"layout","text-field",mt,He,ee);typeof Qa=="object"&&Qa.sections?Qa.sections.length===1?or=Qa.toString():or=Qa.sections.reduce(function(ii,li,ea){var Fa=li.fontStack?li.fontStack.split(","):mo,Dr=PO(a?a(Fa):Fa,ro*(li.scale||1),Ri),$a=li.text;if($a===`
`)return ii.push(`
`,""),ii;if(ze==2){ii.push($O($a,po),Dr);return}$a=qO($a,Dr,si,po).split(`
`);for(var vi=0,Ya=$a.length;vi<Ya;++vi)vi>0&&ii.push(`
`,""),ii.push($a[vi],Dr);return ii},[]):or=i6(Qa,wt).trim(),Rt=Ui(pe,"paint","text-opacity",mt,He,ee)}if(or&&Rt&&!Ut){q||(++Ve,gn=he[Ve],(!gn||!gn.getText()||gn.getFill()||gn.getStroke())&&(gn=new i1,he[Ve]=gn),gn.setImage(void 0),gn.setGeometry(void 0)),gn.getText()||gn.setText(Te||new Hue({padding:[2,2,2,2]})),Te=gn.getText();var Pa=Re["text-transform"];Pa=="uppercase"?or=Array.isArray(or)?or.map(function(li,ea){return ea%2?li:li.toUpperCase()}):or.toUpperCase():Pa=="lowercase"&&(or=Array.isArray(or)?or.map(function(li,ea){return ea%2?li:li.toLowerCase()}):or.toLowerCase());var Ei=Array.isArray(or)?or:ze==2?$O(or,po):qO(or,di,si,po);Te.setText(Ei),Te.setFont(di),Te.setRotation(t6(Ui(pe,"layout","text-rotate",mt,He,ee)));var ls=Ui(pe,"layout","text-anchor",mt,He,ee),Pe=q||ze==1?"point":Ui(pe,"layout","symbol-placement",mt,He,ee);Te.setPlacement(Pe),Te.setOverflow(Pe==="point");var yi=Ui(pe,"paint","text-halo-width",mt,He,ee),Nn=Ui(pe,"layout","text-offset",mt,He,ee),oo=Ui(pe,"paint","text-translate",mt,He,ee),bo=0,zi=0;if(Pe=="point"){var ve="center";ls.indexOf("left")!==-1?(ve="left",zi=yi):ls.indexOf("right")!==-1&&(ve="right",zi=-yi),Te.setTextAlign(ve);var Je=Ui(pe,"layout","text-rotation-alignment",mt,He,ee);Te.setRotateWithView(Je=="map")}else Te.setMaxAngle(t6(Ui(pe,"layout","text-max-angle",mt,He,ee))*or.length/Ei.length),Te.setTextAlign(),Te.setRotateWithView(!1);var Zt="middle";ls.indexOf("bottom")==0?(Zt="bottom",bo=-yi-.5*(Ri-1)*ro):ls.indexOf("top")==0&&(Zt="top",bo=yi+.5*(Ri-1)*ro),Te.setTextBaseline(Zt),Te.setOffsetX(Nn[0]*ro+zi+oo[0]),Te.setOffsetY(Nn[1]*ro+bo+oo[1]),Ue.setColor(Km(Ui(pe,"paint","text-color",mt,He,ee),Rt)),Te.setFill(Ue);var sn=Km(Ui(pe,"paint","text-halo-color",mt,He,ee),Rt);if(sn){De.setColor(sn),yi*=2;var Ft=.5*ro;De.setWidth(yi<=Ft?yi:Ft),Te.setStroke(De)}else Te.setStroke(void 0);var wn=Ui(pe,"layout","text-padding",mt,He,ee),hr=Te.getPadding();wn!==hr[0]&&(hr[0]=wn,hr[1]=wn,hr[2]=wn,hr[3]=wn),gn.setZIndex(yn)}}},Yt=0,vt=st.length;Yt<vt;++Yt)Vt(Yt);if(Ve>-1)return he.length=Ve+1,he}};return e.setStyle($e),e.set("mapbox-source",G),e.set("mapbox-layers",P),$e}var DG={exports:{}};(function(){var e;DG.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(t){return"https://fonts.google.com/specimen/"+t.replace(/( )/g,"+")},normalizeName:function(t){return t}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(Rh);var Ife=DG.exports;const kfe=Ka(Ife);var ZK={},Tfe=/font-family: ?([^;]*);/,Kfe=/("|')/g,Ux;function Pfe(e){if(!Ux){Ux={};for(var t=document.styleSheets,n=0,r=t.length;n<r;++n){var i=t[n];try{var o=i.rules||i.cssRules;if(o)for(var a=0,s=o.length;a<s;++a){var h=o[a];if(h.type==5){var m=h.cssText.match(Tfe);Ux[m[1].replace(Kfe,"")]=!0}}}catch{}}}return e in Ux}var XK={},Dfe=kfe.getNames();function Ufe(e){var t=e.toString();if(t in XK)return e;for(var n=e.map(function(m){var C=PO(m,1).split(" ");return[C.slice(3).join(" ").replace(/"/g,""),C[1]+C[0]]}),r=0,i=n.length;r<i;++r){var o=n[r],a=o[0];if(!Pfe(a)&&Dfe.indexOf(a)!==-1){var s="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+s+'"]')){var h=document.createElement("link");h.href=s,h.rel="stylesheet",document.head.appendChild(h)}}}return XK[t]=!0,e}var UG=/^(.*)(\?.*)$/;function N4(e,t){return t&&e.indexOf(".")===0&&(e=t+e),e}function o6(e,t,n){e=N4(e,t);var r=e.match(UG);return r?r[1]+n+(r.length>2?r[2]:""):e+n}function Ffe(e,t,n,r,i){return new Promise(function(o,a){if(typeof t!="object"&&(t=JSON.parse(t)),t.version!=8)return a(new Error("glStyle version 8 required."));if(!(e instanceof ON||e instanceof qN))return a(new Error("Can only apply to VectorLayer or VectorTileLayer"));var s,h,m,C;function E(){!C&&(!t.sprite||h)?(C=Bfe(e,t,n,i,h,m,Ufe),e.getStyle()?o():a(new Error("Nothing to show for source [".concat(n,"]")))):C?(e.setStyle(C),o()):a(new Error("Something went wrong trying to apply style."))}if(t.sprite){s=window.devicePixelRatio>=1.5?.5:1;var O=s==.5?"@2x":"",P=o6(t.sprite,r,O+".json");fetch(P,{credentials:"same-origin"}).then(function(D){return!D.ok&&O!==""?(P=o6(t.sprite,r,".json"),fetch(P,{credentials:"same-origin"})):D}).then(function(D){if(D.ok)return D.json();a(new Error("Problem fetching sprite from ".concat(P,": ").concat(D.statusText)))}).then(function(D){if(D===void 0)return a(new Error("No sprites found."));h=D,m=o6(t.sprite,r,O+".png"),E()}).catch(function(D){a(new Error("Sprites cannot be loaded: ".concat(P,": ").concat(D.message)))})}else E()})}var VO={};function Lfe(e,t){var n={id:t.id,type:t.type},r={};function i(o){var a=t.layout||{},s=t.paint||{};n.paint=s;var h=typeof e.getSource=="function"?e.getSource().getTileGrid().getZForResolution(o):e.getView().getZoom(),m=typeof e.getTargetElement=="function"?e.getTargetElement():void 0,C,E;if(s["background-color"]!==void 0&&(C=Ui(n,"paint","background-color",h,VO,r),m&&(m.style.background=nu.parse(C).toString())),s["background-opacity"]!==void 0&&(E=Ui(n,"paint","background-opacity",h,VO,r),m&&(m.style.opacity=E)),a.visibility=="none"){m&&(m.style.backgroundColor="",m.style.opacity="");return}return Km(C,E)}if(typeof e.getTargetElement=="function")e.getTargetElement()&&i(),e.on(["change:resolution","change:target"],i);else if(typeof e.setBackground=="function")e.setBackground(i);else throw new Error("Unable to apply background.")}function Rfe(e,t){var n;return e.some(function(r){if(r.id==t)return n=r.source,!0}),n}function FG(e){var t=e.bounds;if(t){var n=yO([t[0],t[1]]),r=yO([t[2],t[3]]);return[n[0],n[1],r[0],r[1]]}}function zfe(e,t){e=TG({},e);var n=[t,JSON.stringify(e)].toString(),r=ZK[n];return r||(r=new $N({url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0}),ZK[n]=r),new Promise(function(i){var o=r.on("change",function(){var a=r.getState();if(a==="ready"){var s=r.getTileJSON(),h=Array.isArray(s.tiles)?s.tiles:[s.tiles];if(t)for(var m=0,C=h.length;m<C;++m)h[m]=decodeURI(new URL(h[m],t).href);var E=r.getTileGrid(),O=FG(s),P=s.minzoom||0,D=s.maxzoom||22,$=r.get("ol-source");$===void 0&&($=new HN({attributions:r.getAttributions(),format:new Wae,tileGrid:new Gb({origin:E.getOrigin(0),extent:O||E.getExtent(),minZoom:P,resolutions:mv.slice(0,D+1),tileSize:512}),urls:h}),r.set("ol-source",$)),rb(o),i($)}else a==="error"&&(r.set("ol-source",null),rb(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function jfe(e,t){var n=new qN({declutter:!0,visible:!1});return zfe(e,t).then(function(r){n.setSource(r)}),n}function Nfe(e,t){var n=new dce,r=new $N({transition:0,url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){rb(i);var a=r.getTileJSON(),s=FG(a),h=r.getTileGrid(),m=e.tileSize||a.tileSize||512,C=a.minzoom||0,E=a.maxzoom||22;r.tileGrid=new Gb({origin:h.getOrigin(0),extent:s||h.getExtent(),minZoom:C,resolutions:W7({maxZoom:E,tileSize:m}).getResolutions(),tileSize:m}),n.setSource(r)}else o==="error"&&(rb(i),n.setSource(void 0))});return r.setTileLoadFunction(function(o,a){if(a.indexOf("{bbox-epsg-3857}")!=-1){var s=r.getTileGrid().getTileCoordExtent(o.getTileCoord());a=a.replace("{bbox-epsg-3857}",s.toString())}var h=o.getImage();h.src=a}),n}var JK=new rae;function Gfe(e,t){var n=e.data,r,i;return typeof n=="string"?i=N4(n,t):r=JK.readFeatures(n,{featureProjection:"EPSG:3857"}),new ON({declutter:!0,source:new TN({attributions:e.attribution,features:r,format:JK,url:i}),visible:!1})}function eP(e,t,n,r){var i=n.getZoom(),o=Ui(e,"paint","raster-opacity",i,VO,r);t.setOpacity(o)}function tP(e,t,n,r,i,o){o===void 0&&(o="");var a=[],s=t.getView();!s.isDef()&&!s.getRotation()&&!s.getResolutions()&&(s=new Np(TG(s.getProperties(),{maxResolution:mv[0]})),t.setView(s)),"center"in e&&!s.getCenter()&&s.setCenter(yO(e.center)),"zoom"in e&&s.getZoom()===void 0&&s.setResolution(mv[0]/Math.pow(2,e.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:t.getSize()}),e.sprite&&(e.sprite.indexOf("mapbox://")==0?e.sprite=n+"/sprite"+o:e.sprite.indexOf("http")!=0&&(e.sprite=(r?r+i:"")+e.sprite+o));for(var h=e.layers,m=[],C,E,O,P,D,$,ee=function(ue,ye){C=h[ue];var be=C.type;if(!(be=="heatmap"||be=="hillshade"))if(be=="background")Lfe(t,C);else{if(P=C.source||Rfe(h,C.ref),P!=O){if(m.length&&(a.push(nP(D,m,e,i,t)),m=[]),E=e.sources[P],$=E.url,$)if($=N4($,i),$.indexOf("mapbox://")==0){var X=$.replace("mapbox://","");E.tiles=["a","b","c","d"].map(function(we){return"https://"+we+".tiles.mapbox.com/v4/"+X+"/{z}/{x}/{y}."+(E.type=="vector"?"vector.pbf":"png")+o})}else $.indexOf("/")===0&&r.indexOf("http")===0&&($=r+$);if(E.tiles&&(E.tiles=E.tiles.map(function(we){return N4(we,i)})),E.type=="vector")D=jfe(E,$);else if(E.type=="raster"){D=Nfe(E,$),D.setVisible(C.layout?C.layout.visibility!=="none":!0);var se={};s.on("change:resolution",eP.bind(H,C,D,s,se)),eP(C,D,s,se)}else E.type=="geojson"&&(D=Gfe(E,i));O=P,D&&D.set("mapbox-source",O)}m.push(C.id)}},H=this,G=0,Z=h.length;G<Z;++G)ee(G);return a.push(nP(D,m,e,i,t)),t.set("mapbox-style",e),Promise.all(a)}function Wfe(e,t){var n,r="",i="",o="",a="";if((typeof e=="string"||e instanceof HTMLElement)&&(e=new N7({target:e})),typeof t=="string"){var s=t.match(UG);s&&(i=s[1],r=s.length>2?s[2]:""),n=new Promise(function(h,m){fetch(t,{credentials:"same-origin"}).then(function(C){return C.json()}).then(function(C){var E=document.createElement("A");E.href=t;var O=E.href;a=E.pathname.split("/").slice(0,-1).join("/")+"/",o=O.substr(0,O.indexOf(a)),tP(C,e,i,o,a,r).then(function(){h(e)}).catch(m)}).catch(function(C){m(new Error("Could not load ".concat(t,": ").concat(C.message)))})})}else n=new Promise(function(h,m){tP(t,e).then(function(){h(e)}).catch(m)});return n}function Qfe(e,t){return(typeof e=="string"||e instanceof HTMLElement)&&(e=new N7({target:e})),setTimeout(function(){Wfe(e,t)},0),e}function nP(e,t,n,r,i){for(var o=24,a=0,s=n.layers,h=0,m=s.length;h<m;++h){var C=s[h];t.indexOf(C.id)!==-1&&(o=Math.min("minzoom"in C?C.minzoom:0,o),a=Math.max("maxzoom"in C?C.maxzoom:24,a))}return new Promise(function(E,O){var P=function(){var D=e.getSource();if(!D||D.getState()==="error"){O(new Error("Error accessing data for source "+e.get("mapbox-source")));return}if("getTileGrid"in D){var $=D.getTileGrid();if($){var ee=$.getMinZoom();(o>0||ee>0)&&e.setMaxResolution(Math.min(mv[o],$.getResolution(ee))+1e-9),a<24&&e.setMinResolution(mv[a]+1e-9)}}D instanceof TN||D instanceof HN?Ffe(e,n,t,r).then(function(){e.setVisible(!0),E()},function(H){O(H)}):E()};e.set("mapbox-layers",t),i.getLayers().getArray().indexOf(e)===-1&&i.addLayer(e),e.getSource()?P():e.once("change:source",P)})}function Or(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapOpenLayers.tsx",t="5df68ba3e5c0976693bd1290503f55c4bf85f897",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:14,column:3}},1:{start:{line:11,column:4},end:{line:11,column:16}},2:{start:{line:13,column:4},end:{line:13,column:149}},3:{start:{line:13,column:103},end:{line:13,column:133}},4:{start:{line:17,column:24},end:{line:24,column:3}},5:{start:{line:27,column:14},end:{line:27,column:18}},6:{start:{line:29,column:19},end:{line:29,column:23}},7:{start:{line:31,column:4},end:{line:31,column:17}},8:{start:{line:32,column:4},end:{line:37,column:6}},9:{start:{line:38,column:4},end:{line:38,column:67}},10:{start:{line:41,column:4},end:{line:42,column:13}},11:{start:{line:42,column:6},end:{line:42,column:13}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:4},end:{line:169,column:9}},36:{start:{line:116,column:22},end:{line:116,column:45}},37:{start:{line:161,column:22},end:{line:161,column:40}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:9,column:9},end:{line:9,column:21}},loc:{start:{line:9,column:30},end:{line:15,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:92},end:{line:13,column:93}},loc:{start:{line:13,column:103},end:{line:13,column:133}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:23},end:{line:19,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:20,column:18},end:{line:20,column:19}},loc:{start:{line:20,column:24},end:{line:21,column:5}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:25},end:{line:23,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:21},end:{line:39,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:28},end:{line:45,column:3}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:170,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:116,column:15},end:{line:116,column:16}},loc:{start:{line:116,column:22},end:{line:116,column:45}},line:116},15:{name:"(anonymous_15)",decl:{start:{line:161,column:15},end:{line:161,column:16}},loc:{start:{line:161,column:22},end:{line:161,column:40}},line:161}},branchMap:{0:{loc:{start:{line:10,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:14,column:3}},{start:{line:12,column:9},end:{line:14,column:3}}],line:10},1:{loc:{start:{line:10,column:6},end:{line:10,column:34}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:13}},{start:{line:10,column:17},end:{line:10,column:34}}],line:10},2:{loc:{start:{line:41,column:4},end:{line:42,column:13}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:132,column:26},end:{line:132,column:59}},type:"binary-expr",locations:[{start:{line:132,column:26},end:{line:132,column:53}},{start:{line:132,column:57},end:{line:132,column:59}}],line:132},5:{loc:{start:{line:143,column:6},end:{line:156,column:10}},type:"binary-expr",locations:[{start:{line:143,column:6},end:{line:143,column:29}},{start:{line:143,column:49},end:{line:156,column:10}}],line:143}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAmBW,cAuIL,YAvIK;AAnBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AAEvB,OAAO,6BAA6B;AAEpC,OAAO;AAEP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK;AAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAA+B;AAChD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAW;AAAA,gBACZ;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBAAmB;AAAA;AAAA,QACzB,KAAK,MAAM;AAAA,SACpB;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,wBAAU;AAAA,UACjB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAW;AAAA,UACX,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5df68ba3e5c0976693bd1290503f55c4bf85f897"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Or=function(){return a},a}Or();function rP(e){return Or().f[0]++,Or().s[0]++,Or().b[1][0]++,!e||(Or().b[1][1]++,e.length<2)?(Or().b[0][0]++,Or().s[1]++,null):(Or().b[0][1]++,Or().s[2]++,W.jsx("span",{className:"maputnik-coords",children:e.map(t=>(Or().f[1]++,Or().s[3]++,String(t).padStart(7,""))).join(", ")}))}class LG extends Mn.Component{constructor(n){Or().f[5]++,Or().s[7]++;super(n);on(this,"updateStyle");on(this,"map");on(this,"container",(Or().s[5]++,null));on(this,"overlay");on(this,"popupContainer",(Or().s[6]++,null));on(this,"closeOverlay",(Or().s[32]++,n=>{Or().f[12]++,Or().s[33]++,n.target.blur(),Or().s[34]++,this.overlay.setPosition(void 0)}));Or().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},Or().s[9]++,this.updateStyle=q5.throttle(this._updateStyle.bind(this),200)}_updateStyle(n){if(Or().f[6]++,Or().s[10]++,this.map)Or().b[2][1]++;else{Or().b[2][0]++,Or().s[11]++;return}Or().s[12]++,this.map.getLayers().clear(),Or().s[13]++,Qfe(this.map,n)}componentDidUpdate(n){Or().f[7]++,Or().s[14]++,this.props.mapStyle!==n.mapStyle?(Or().b[3][0]++,Or().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):Or().b[3][1]++}componentDidMount(){Or().f[8]++,Or().s[16]++,this.overlay=new ole({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const n=(Or().s[17]++,new N7({target:this.container,overlays:[this.overlay],view:new Np({zoom:1,center:[180,-90]})}));Or().s[18]++,n.on("pointermove",i=>{Or().f[9]++;const o=(Or().s[19]++,BS(i.coordinate));Or().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),Or().s[21]++;const r=()=>{Or().f[10]++;const i=(Or().s[22]++,n.getView().getZoom()),o=(Or().s[23]++,BS(n.getView().getCenter()));Or().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};Or().s[25]++,r(),Or().s[26]++,n.on("moveend",r),Or().s[27]++,n.on("postrender",i=>{Or().f[11]++;const o=(Or().s[28]++,BS(n.getView().getCenter()));Or().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:n.getView().getRotation().toFixed(2),zoom:n.getView().getZoom().toFixed(2)})}),Or().s[30]++,this.map=n,Or().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){return Or().f[13]++,Or().s[35]++,W.jsxs("div",{className:"maputnik-ol-container",children:[W.jsxs("div",{ref:n=>(Or().f[14]++,Or().s[36]++,this.popupContainer=n),style:{background:"black"},className:"maputnik-popup",children:[W.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":"Close popup",children:""}),W.jsx(Tz,{features:(Or().b[4][0]++,this.state.selectedFeatures||(Or().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),W.jsxs("div",{className:"maputnik-ol-zoom",children:["Zoom: ",this.state.zoom]}),(Or().b[5][0]++,this.props.debugToolbox&&(Or().b[5][1]++,W.jsxs("div",{className:"maputnik-ol-debug",children:[W.jsxs("div",{children:[W.jsx("label",{children:"cursor: "}),W.jsx("span",{children:rP(this.state.cursor)})]}),W.jsxs("div",{children:[W.jsx("label",{children:"center: "}),W.jsx("span",{children:rP(this.state.center)})]}),W.jsxs("div",{children:[W.jsx("label",{children:"rotation: "}),W.jsx("span",{children:this.state.rotation})]})]}))),W.jsx("div",{className:"maputnik-ol",ref:n=>(Or().f[15]++,Or().s[37]++,this.container=n),role:"region","aria-label":"Map view",style:{...this.props.style}})]})}}on(LG,"defaultProps",(Or().s[4]++,{onMapLoaded:()=>{Or().f[2]++},onDataChange:()=>{Or().f[3]++},onLayerSelect:()=>{Or().f[4]++}}));var RG={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(RG);var $fe=RG.exports;const Hf=Ka($fe);function u1(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Collapser.tsx",t="0608638be58db5191aa8de87c19d1fc34ba09845",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0608638be58db5191aa8de87c19d1fc34ba09845"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return u1=function(){return a},a}u1();class Yfe extends Mn.Component{render(){u1().f[0]++;const t=(u1().s[0]++,{width:20,height:20,...this.props.style});return u1().s[1]++,this.props.isCollapsed?(u1().b[0][0]++,W.jsx(Vte,{style:t})):(u1().b[0][1]++,W.jsx(Hte,{style:t}))}}function Sy(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerListGroup.tsx",t="099e6a3caf1c5cfd8226575550f67d53fb22456b",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"099e6a3caf1c5cfd8226575550f67d53fb22456b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Sy=function(){return a},a}Sy();class qfe extends Mn.Component{render(){return Sy().f[0]++,Sy().s[0]++,W.jsx("li",{className:"maputnik-layer-list-group",children:W.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:t=>(Sy().f[1]++,Sy().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[W.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),W.jsx("span",{className:"maputnik-space"}),W.jsx(Yfe,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(this,arguments)}function Hfe(e){if(Array.isArray(e))return e}function Vfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],h=!0,m=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);h=!0);}catch(C){m=!0,i=C}finally{try{if(!h&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(m)throw i}}return s}}function ZO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zG(e,t){if(e){if(typeof e=="string")return ZO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZO(e,t)}}function Zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(e,t){return Hfe(e)||Vfe(e,t)||zG(e,t)||Zfe()}function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function Xfe(e,t){if(gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NG(e){var t=Xfe(e,"string");return gv(t)=="symbol"?t:t+""}function Ba(e,t,n){return t=NG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.forEach(function(i){Ba(e,i,n[i])})}return e}function $b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NG(r.key),r)}}function Yb(e,t,n){return t&&iP(e.prototype,t),n&&iP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CI(e,t){if(t&&(gv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vo(e)}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vb(e)}function XO(e,t){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XO(e,t)}function _I(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XO(e,t)}var Jfe=function(e,t,n,r,i,o,a,s){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[n,r,i,o,a,s],C=0;h=new Error(t.replace(/%s/g,function(){return m[C++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}},epe=Jfe;const G1=Ka(epe);function tpe(e){if(Array.isArray(e))return ZO(e)}function npe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(e){return tpe(e)||npe(e)||zG(e)||rpe()}var ope=function(){function e(){$b(this,e),Ba(this,"refs",{})}return Yb(e,[{key:"add",value:function(n,r){this.refs[n]||(this.refs[n]=[]),this.refs[n].push(r)}},{key:"remove",value:function(n,r){var i=this.getIndex(n,r);i!==-1&&this.refs[n].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var n=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==n.active.index})}},{key:"getIndex",value:function(n,r){return this.refs[n].indexOf(r)}},{key:"getOrderedRefs",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[n].sort(ape)}}]),e}();function ape(e,t){var n=e.node.sortableInfo.index,r=t.node.sortableInfo.index;return n-r}function GG(e,t){return Object.keys(e).reduce(function(n,r){return t.indexOf(r)===-1&&(n[r]=e[r]),n},{})}var Wg={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},WG=function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function Fx(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})}function Lx(e,t){e.style["".concat(WG,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function s6(e,t){e.style["".concat(WG,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function e_(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function oP(e,t,n){return Math.max(e,Math.min(n,t))}function Ey(e){return e.substr(-2)==="px"?parseFloat(e):0}function spe(e){var t=window.getComputedStyle(e);return{bottom:Ey(t.marginBottom),left:Ey(t.marginLeft),right:Ey(t.marginRight),top:Ey(t.marginTop)}}function bI(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function l6(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function DC(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function lpe(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function g3(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:g3(e.parentNode,t,r)}}function upe(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function aP(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if(typeof t=="string"){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);G1(s!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return G1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),a==="%"&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function Ape(e){var t=e.height,n=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];G1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=jG(i,2),a=o[0],s=o[1];return[aP({height:t,lockOffset:a,width:n}),aP({height:t,lockOffset:s,width:n})]}function cpe(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return n.test(t[i])})}function QG(e){return e instanceof HTMLElement?cpe(e)?e:QG(e.parentNode):null}function dpe(e){var t=window.getComputedStyle(e);return t.display==="grid"?{x:Ey(t.gridColumnGap),y:Ey(t.gridRowGap)}:{x:0,y:0}}var Z0={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},A1={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function hpe(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0),i=ipe(r.querySelectorAll(t));return i.forEach(function(o,a){if(o.type!=="file"&&(o.value=n[a].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===A1.Canvas&&n[a].width>0&&n[a].height>0){var s=o.getContext("2d");s.drawImage(n[a],0,0)}}),r}function fpe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){_I(o,i);function o(){var a,s;$b(this,o);for(var h=arguments.length,m=new Array(h),C=0;C<h;C++)m[C]=arguments[C];return s=CI(this,(a=vb(o)).call.apply(a,[this].concat(m))),Ba(vo(vo(s)),"wrappedInstance",ar.createRef()),s}return Yb(o,[{key:"componentDidMount",value:function(){var s=b0.findDOMNode(this);s.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return G1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return ar.createElement(e,yb({ref:s},this.props))}}]),o}(ar.Component),Ba(t,"displayName",bI("sortableHandle",e)),n}function sP(e){return e.sortableHandle!=null}var ppe=function(){function e(t,n){$b(this,e),this.container=t,this.onScrollCallback=n}return Yb(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(n){var r=this,i=n.translate,o=n.minTranslate,a=n.maxTranslate,s=n.width,h=n.height,m={x:0,y:0},C={x:1,y:1},E={x:10,y:10},O=this.container,P=O.scrollTop,D=O.scrollLeft,$=O.scrollHeight,ee=O.scrollWidth,H=O.clientHeight,G=O.clientWidth,Z=P===0,ue=$-P-H===0,ye=D===0,be=ee-D-G===0;i.y>=a.y-h/2&&!ue?(m.y=1,C.y=E.y*Math.abs((a.y-h/2-i.y)/h)):i.x>=a.x-s/2&&!be?(m.x=1,C.x=E.x*Math.abs((a.x-s/2-i.x)/s)):i.y<=o.y+h/2&&!Z?(m.y=-1,C.y=E.y*Math.abs((i.y-h/2-o.y)/h)):i.x<=o.x+s/2&&!ye&&(m.x=-1,C.x=E.x*Math.abs((i.x-s/2-o.x)/s)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(m.x!==0||m.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var X={left:C.x*m.x,top:C.y*m.y};r.container.scrollTop+=X.top,r.container.scrollLeft+=X.left,r.onScrollCallback(X)},5))}}]),e}();function mpe(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function gpe(e){var t=[A1.Input,A1.Textarea,A1.Select,A1.Option,A1.Button];return!!(t.indexOf(e.target.tagName)!==-1||e_(e.target,function(n){return n.contentEditable==="true"}))}var $G={axis:Rr.oneOf(["x","y","xy"]),contentWindow:Rr.any,disableAutoscroll:Rr.bool,distance:Rr.number,getContainer:Rr.func,getHelperDimensions:Rr.func,helperClass:Rr.string,helperContainer:Rr.oneOfType([Rr.func,typeof HTMLElement>"u"?Rr.any:Rr.instanceOf(HTMLElement)]),hideSortableGhost:Rr.bool,keyboardSortingTransitionDuration:Rr.number,lockAxis:Rr.string,lockOffset:Rr.oneOfType([Rr.number,Rr.string,Rr.arrayOf(Rr.oneOfType([Rr.number,Rr.string]))]),lockToContainerEdges:Rr.bool,onSortEnd:Rr.func,onSortMove:Rr.func,onSortOver:Rr.func,onSortStart:Rr.func,pressDelay:Rr.number,pressThreshold:Rr.number,keyCodes:Rr.shape({lift:Rr.arrayOf(Rr.number),drop:Rr.arrayOf(Rr.number),cancel:Rr.arrayOf(Rr.number),up:Rr.arrayOf(Rr.number),down:Rr.arrayOf(Rr.number)}),shouldCancelStart:Rr.func,transitionDuration:Rr.number,updateBeforeSortStart:Rr.func,useDragHandle:Rr.bool,useWindowAsScrollContainer:Rr.bool},YG={lift:[Z0.SPACE],drop:[Z0.SPACE],cancel:[Z0.ESC],up:[Z0.UP,Z0.LEFT],down:[Z0.DOWN,Z0.RIGHT]},ype={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:mpe,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:YG,shouldCancelStart:gpe,transitionDuration:300,useWindowAsScrollContainer:!1},vpe=Object.keys($G);function Cpe(e){G1(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function _pe(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var qG=ar.createContext({manager:{}});function bpe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){_I(o,i);function o(a){var s;$b(this,o),s=CI(this,vb(o).call(this,a)),Ba(vo(vo(s)),"state",{}),Ba(vo(vo(s)),"handleStart",function(m){var C=s.props,E=C.distance,O=C.shouldCancelStart;if(!(m.button===2||O(m))){s.touched=!0,s.position=DC(m);var P=e_(m.target,function(Z){return Z.sortableInfo!=null});if(P&&P.sortableInfo&&s.nodeIsChild(P)&&!s.state.sorting){var D=s.props.useDragHandle,$=P.sortableInfo,ee=$.index,H=$.collection,G=$.disabled;if(G||D&&!e_(m.target,sP))return;s.manager.active={collection:H,index:ee},!lpe(m)&&m.target.tagName===A1.Anchor&&m.preventDefault(),E||(s.props.pressDelay===0?s.handlePress(m):s.pressTimer=setTimeout(function(){return s.handlePress(m)},s.props.pressDelay))}}}),Ba(vo(vo(s)),"nodeIsChild",function(m){return m.sortableInfo.manager===s.manager}),Ba(vo(vo(s)),"handleMove",function(m){var C=s.props,E=C.distance,O=C.pressThreshold;if(!s.state.sorting&&s.touched&&!s._awaitingUpdateBeforeSortStart){var P=DC(m),D={x:s.position.x-P.x,y:s.position.y-P.y},$=Math.abs(D.x)+Math.abs(D.y);s.delta=D,!E&&(!O||$>=O)?(clearTimeout(s.cancelTimer),s.cancelTimer=setTimeout(s.cancel,0)):E&&$>=E&&s.manager.isActive()&&s.handlePress(m)}}),Ba(vo(vo(s)),"handleEnd",function(){s.touched=!1,s.cancel()}),Ba(vo(vo(s)),"cancel",function(){var m=s.props.distance,C=s.state.sorting;C||(m||clearTimeout(s.pressTimer),s.manager.active=null)}),Ba(vo(vo(s)),"handlePress",function(m){try{var C=s.manager.getActive(),E=function(){if(C){var O=function(){var xe=ye.sortableInfo.index,De=spe(ye),Ue=dpe(s.container),he=s.scrollContainer.getBoundingClientRect(),$e=$({index:xe,node:ye,collection:be});if(s.node=ye,s.margin=De,s.gridGap=Ue,s.width=$e.width,s.height=$e.height,s.marginOffset={x:s.margin.left+s.margin.right+s.gridGap.x,y:Math.max(s.margin.top,s.margin.bottom,s.gridGap.y)},s.boundingClientRect=ye.getBoundingClientRect(),s.containerBoundingRect=he,s.index=xe,s.newIndex=xe,s.axis={x:D.indexOf("x")>=0,y:D.indexOf("y")>=0},s.offsetEdge=g3(ye,s.container),X?s.initialOffset=DC(a6({},m,{pageX:s.boundingClientRect.left,pageY:s.boundingClientRect.top})):s.initialOffset=DC(m),s.initialScroll={left:s.scrollContainer.scrollLeft,top:s.scrollContainer.scrollTop},s.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},s.helper=s.helperContainer.appendChild(hpe(ye)),Fx(s.helper,{boxSizing:"border-box",height:"".concat(s.height,"px"),left:"".concat(s.boundingClientRect.left-De.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(s.boundingClientRect.top-De.top,"px"),width:"".concat(s.width,"px")}),X&&s.helper.focus(),H&&(s.sortableGhost=ye,Fx(ye,{opacity:0,visibility:"hidden"})),s.minTranslate={},s.maxTranslate={},X){var ge=ue?{top:0,left:0,width:s.contentWindow.innerWidth,height:s.contentWindow.innerHeight}:s.containerBoundingRect,yt=ge.top,wt=ge.left,st=ge.width,mt=ge.height,ze=yt+mt,He=wt+st;s.axis.x&&(s.minTranslate.x=wt-s.boundingClientRect.left,s.maxTranslate.x=He-(s.boundingClientRect.left+s.width)),s.axis.y&&(s.minTranslate.y=yt-s.boundingClientRect.top,s.maxTranslate.y=ze-(s.boundingClientRect.top+s.height))}else s.axis.x&&(s.minTranslate.x=(ue?0:he.left)-s.boundingClientRect.left-s.width/2,s.maxTranslate.x=(ue?s.contentWindow.innerWidth:he.left+he.width)-s.boundingClientRect.left-s.width/2),s.axis.y&&(s.minTranslate.y=(ue?0:he.top)-s.boundingClientRect.top-s.height/2,s.maxTranslate.y=(ue?s.contentWindow.innerHeight:he.top+he.height)-s.boundingClientRect.top-s.height/2);ee&&ee.split(" ").forEach(function(Ve){return s.helper.classList.add(Ve)}),s.listenerNode=m.touches?m.target:s.contentWindow,X?(s.listenerNode.addEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.addEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.addEventListener("keydown",s.handleKeyDown)):(Wg.move.forEach(function(Ve){return s.listenerNode.addEventListener(Ve,s.handleSortMove,!1)}),Wg.end.forEach(function(Ve){return s.listenerNode.addEventListener(Ve,s.handleSortEnd,!1)})),s.setState({sorting:!0,sortingIndex:xe}),Z&&Z({node:ye,index:xe,collection:be,isKeySorting:X,nodes:s.manager.getOrderedRefs(),helper:s.helper},m),X&&s.keyMove(0)},P=s.props,D=P.axis,$=P.getHelperDimensions,ee=P.helperClass,H=P.hideSortableGhost,G=P.updateBeforeSortStart,Z=P.onSortStart,ue=P.useWindowAsScrollContainer,ye=C.node,be=C.collection,X=s.manager.isKeySorting,se=function(){if(typeof G=="function"){s._awaitingUpdateBeforeSortStart=!0;var we=_pe(function(){var xe=ye.sortableInfo.index;return Promise.resolve(G({collection:be,index:xe,node:ye,isKeySorting:X},m)).then(function(){})},function(xe,De){if(s._awaitingUpdateBeforeSortStart=!1,xe)throw De;return De});if(we&&we.then)return we.then(function(){})}}();return se&&se.then?se.then(O):O(se)}}();return Promise.resolve(E&&E.then?E.then(function(){}):void 0)}catch(O){return Promise.reject(O)}}),Ba(vo(vo(s)),"handleSortMove",function(m){var C=s.props.onSortMove;typeof m.preventDefault=="function"&&m.cancelable&&m.preventDefault(),s.updateHelperPosition(m),s.animateNodes(),s.autoscroll(),C&&C(m)}),Ba(vo(vo(s)),"handleSortEnd",function(m){var C=s.props,E=C.hideSortableGhost,O=C.onSortEnd,P=s.manager,D=P.active.collection,$=P.isKeySorting,ee=s.manager.getOrderedRefs();s.listenerNode&&($?(s.listenerNode.removeEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("keydown",s.handleKeyDown)):(Wg.move.forEach(function(ye){return s.listenerNode.removeEventListener(ye,s.handleSortMove)}),Wg.end.forEach(function(ye){return s.listenerNode.removeEventListener(ye,s.handleSortEnd)}))),s.helper.parentNode.removeChild(s.helper),E&&s.sortableGhost&&Fx(s.sortableGhost,{opacity:"",visibility:""});for(var H=0,G=ee.length;H<G;H++){var Z=ee[H],ue=Z.node;Z.edgeOffset=null,Z.boundingClientRect=null,Lx(ue,null),s6(ue,null),Z.translate=null}s.autoScroller.clear(),s.manager.active=null,s.manager.isKeySorting=!1,s.setState({sorting:!1,sortingIndex:null}),typeof O=="function"&&O({collection:D,newIndex:s.newIndex,oldIndex:s.index,isKeySorting:$,nodes:ee},m),s.touched=!1}),Ba(vo(vo(s)),"autoscroll",function(){var m=s.props.disableAutoscroll,C=s.manager.isKeySorting;if(m){s.autoScroller.clear();return}if(C){var E=a6({},s.translate),O=0,P=0;s.axis.x&&(E.x=Math.min(s.maxTranslate.x,Math.max(s.minTranslate.x,s.translate.x)),O=s.translate.x-E.x),s.axis.y&&(E.y=Math.min(s.maxTranslate.y,Math.max(s.minTranslate.y,s.translate.y)),P=s.translate.y-E.y),s.translate=E,Lx(s.helper,s.translate),s.scrollContainer.scrollLeft+=O,s.scrollContainer.scrollTop+=P;return}s.autoScroller.update({height:s.height,maxTranslate:s.maxTranslate,minTranslate:s.minTranslate,translate:s.translate,width:s.width})}),Ba(vo(vo(s)),"onAutoScroll",function(m){s.translate.x+=m.left,s.translate.y+=m.top,s.animateNodes()}),Ba(vo(vo(s)),"handleKeyDown",function(m){var C=m.keyCode,E=s.props,O=E.shouldCancelStart,P=E.keyCodes,D=P===void 0?{}:P,$=a6({},YG,D);s.manager.active&&!s.manager.isKeySorting||!s.manager.active&&(!$.lift.includes(C)||O(m)||!s.isValidSortingTarget(m))||(m.stopPropagation(),m.preventDefault(),$.lift.includes(C)&&!s.manager.active?s.keyLift(m):$.drop.includes(C)&&s.manager.active?s.keyDrop(m):$.cancel.includes(C)?(s.newIndex=s.manager.active.index,s.keyDrop(m)):$.up.includes(C)?s.keyMove(-1):$.down.includes(C)&&s.keyMove(1))}),Ba(vo(vo(s)),"keyLift",function(m){var C=m.target,E=e_(C,function($){return $.sortableInfo!=null}),O=E.sortableInfo,P=O.index,D=O.collection;s.initialFocusedNode=C,s.manager.isKeySorting=!0,s.manager.active={index:P,collection:D},s.handlePress(m)}),Ba(vo(vo(s)),"keyMove",function(m){var C=s.manager.getOrderedRefs(),E=C[C.length-1].node.sortableInfo.index,O=s.newIndex+m,P=s.newIndex;if(!(O<0||O>E)){s.prevIndex=P,s.newIndex=O;var D=upe(s.newIndex,s.prevIndex,s.index),$=C.find(function(X){var se=X.node;return se.sortableInfo.index===D}),ee=$.node,H=s.containerScrollDelta,G=$.boundingClientRect||l6(ee,H),Z=$.translate||{x:0,y:0},ue={top:G.top+Z.y-H.top,left:G.left+Z.x-H.left},ye=P<O,be={x:ye&&s.axis.x?ee.offsetWidth-s.width:0,y:ye&&s.axis.y?ee.offsetHeight-s.height:0};s.handleSortMove({pageX:ue.left+be.x,pageY:ue.top+be.y,ignoreTransition:m===0})}}),Ba(vo(vo(s)),"keyDrop",function(m){s.handleSortEnd(m),s.initialFocusedNode&&s.initialFocusedNode.focus()}),Ba(vo(vo(s)),"handleKeyEnd",function(m){s.manager.active&&s.keyDrop(m)}),Ba(vo(vo(s)),"isValidSortingTarget",function(m){var C=s.props.useDragHandle,E=m.target,O=e_(E,function(P){return P.sortableInfo!=null});return O&&O.sortableInfo&&!O.sortableInfo.disabled&&(C?sP(E):E.sortableInfo)});var h=new ope;return Cpe(a),s.manager=h,s.wrappedInstance=ar.createRef(),s.sortableContextValue={manager:h},s.events={end:s.handleEnd,move:s.handleMove,start:s.handleStart},s}return Yb(o,[{key:"componentDidMount",value:function(){var s=this,h=this.props.useWindowAsScrollContainer,m=this.getContainer();Promise.resolve(m).then(function(C){s.container=C,s.document=s.container.ownerDocument||document;var E=s.props.contentWindow||s.document.defaultView||window;s.contentWindow=typeof E=="function"?E():E,s.scrollContainer=h?s.document.scrollingElement||s.document.documentElement:QG(s.container)||s.container,s.autoScroller=new ppe(s.scrollContainer,s.onAutoScroll),Object.keys(s.events).forEach(function(O){return Wg[O].forEach(function(P){return s.container.addEventListener(P,s.events[O],!1)})}),s.container.addEventListener("keydown",s.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var s=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(h){return Wg[h].forEach(function(m){return s.container.removeEventListener(m,s.events[h])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(s){var h=this.props,m=h.lockAxis,C=h.lockOffset,E=h.lockToContainerEdges,O=h.transitionDuration,P=h.keyboardSortingTransitionDuration,D=P===void 0?O:P,$=this.manager.isKeySorting,ee=s.ignoreTransition,H=DC(s),G={x:H.x-this.initialOffset.x,y:H.y-this.initialOffset.y};if(G.y-=window.pageYOffset-this.initialWindowScroll.top,G.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=G,E){var Z=Ape({height:this.height,lockOffset:C,width:this.width}),ue=jG(Z,2),ye=ue[0],be=ue[1],X={x:this.width/2-ye.x,y:this.height/2-ye.y},se={x:this.width/2-be.x,y:this.height/2-be.y};G.x=oP(this.minTranslate.x+X.x,this.maxTranslate.x-se.x,G.x),G.y=oP(this.minTranslate.y+X.y,this.maxTranslate.y-se.y,G.y)}m==="x"?G.y=0:m==="y"&&(G.x=0),$&&D&&!ee&&s6(this.helper,D),Lx(this.helper,G)}},{key:"animateNodes",value:function(){var s=this.props,h=s.transitionDuration,m=s.hideSortableGhost,C=s.onSortOver,E=this.containerScrollDelta,O=this.windowScrollDelta,P=this.manager.getOrderedRefs(),D={left:this.offsetEdge.left+this.translate.x+E.left,top:this.offsetEdge.top+this.translate.y+E.top},$=this.manager.isKeySorting,ee=this.newIndex;this.newIndex=null;for(var H=0,G=P.length;H<G;H++){var Z=P[H].node,ue=Z.sortableInfo.index,ye=Z.offsetWidth,be=Z.offsetHeight,X={height:this.height>be?be/2:this.height/2,width:this.width>ye?ye/2:this.width/2},se=$&&ue>this.index&&ue<=ee,we=$&&ue<this.index&&ue>=ee,xe={x:0,y:0},De=P[H].edgeOffset;De||(De=g3(Z,this.container),P[H].edgeOffset=De,$&&(P[H].boundingClientRect=l6(Z,E)));var Ue=H<P.length-1&&P[H+1],he=H>0&&P[H-1];if(Ue&&!Ue.edgeOffset&&(Ue.edgeOffset=g3(Ue.node,this.container),$&&(Ue.boundingClientRect=l6(Ue.node,E))),ue===this.index){m&&(this.sortableGhost=Z,Fx(Z,{opacity:0,visibility:"hidden"}));continue}h&&s6(Z,h),this.axis.x?this.axis.y?we||ue<this.index&&(D.left+O.left-X.width<=De.left&&D.top+O.top<=De.top+X.height||D.top+O.top+X.height<=De.top)?(xe.x=this.width+this.marginOffset.x,De.left+xe.x>this.containerBoundingRect.width-X.width&&Ue&&(xe.x=Ue.edgeOffset.left-De.left,xe.y=Ue.edgeOffset.top-De.top),this.newIndex===null&&(this.newIndex=ue)):(se||ue>this.index&&(D.left+O.left+X.width>=De.left&&D.top+O.top+X.height>=De.top||D.top+O.top+X.height>=De.top+be))&&(xe.x=-(this.width+this.marginOffset.x),De.left+xe.x<this.containerBoundingRect.left+X.width&&he&&(xe.x=he.edgeOffset.left-De.left,xe.y=he.edgeOffset.top-De.top),this.newIndex=ue):se||ue>this.index&&D.left+O.left+X.width>=De.left?(xe.x=-(this.width+this.marginOffset.x),this.newIndex=ue):(we||ue<this.index&&D.left+O.left<=De.left+X.width)&&(xe.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=ue)):this.axis.y&&(se||ue>this.index&&D.top+O.top+X.height>=De.top?(xe.y=-(this.height+this.marginOffset.y),this.newIndex=ue):(we||ue<this.index&&D.top+O.top<=De.top+X.height)&&(xe.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=ue))),Lx(Z,xe),P[H].translate=xe}this.newIndex==null&&(this.newIndex=this.index),$&&(this.newIndex=ee);var $e=$?this.prevIndex:ee;C&&this.newIndex!==$e&&C({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:$e,isKeySorting:$,nodes:P,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return G1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var s=this.props.getContainer;return typeof s!="function"?b0.findDOMNode(this):s(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return ar.createElement(qG.Provider,{value:this.sortableContextValue},ar.createElement(e,yb({ref:s},GG(this.props,vpe))))}},{key:"helperContainer",get:function(){var s=this.props.helperContainer;return typeof s=="function"?s():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var s=this.props.useWindowAsScrollContainer;return s?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(ar.Component),Ba(t,"displayName",bI("sortableList",e)),Ba(t,"defaultProps",ype),Ba(t,"propTypes",$G),n}var HG={index:Rr.number.isRequired,collection:Rr.oneOfType([Rr.number,Rr.string]),disabled:Rr.bool},xpe=Object.keys(HG);function wpe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){_I(o,i);function o(){var a,s;$b(this,o);for(var h=arguments.length,m=new Array(h),C=0;C<h;C++)m[C]=arguments[C];return s=CI(this,(a=vb(o)).call.apply(a,[this].concat(m))),Ba(vo(vo(s)),"wrappedInstance",ar.createRef()),s}return Yb(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(s){this.node&&(s.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),s.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),s.collection!==this.props.collection&&(this.unregister(s.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var s=this.props,h=s.collection,m=s.disabled,C=s.index,E=b0.findDOMNode(this);E.sortableInfo={collection:h,disabled:m,index:C,manager:this.context.manager},this.node=E,this.ref={node:E},this.context.manager.add(h,this.ref)}},{key:"unregister",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(s,this.ref)}},{key:"getWrappedInstance",value:function(){return G1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return ar.createElement(e,yb({ref:s},GG(this.props,xpe)))}}]),o}(ar.Component),Ba(t,"displayName",bI("sortableElement",e)),Ba(t,"contextType",qG),Ba(t,"propTypes",HG),Ba(t,"defaultProps",{collection:0}),n}function Si(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerListItem.tsx",t="3398bf652ff08006b59579a622961c0f3a7f6687",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAoC,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAE7H,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3398bf652ff08006b59579a622961c0f3a7f6687"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Si=function(){return a},a}Si();const Mpe=(Si().s[0]++,fpe(e=>(Si().f[0]++,Si().s[1]++,W.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[W.jsx(kz,{className:"layer-handle__icon",type:e.layerType}),W.jsx("button",{className:"maputnik-layer-list-item-id",children:e.layerId})]}))));class u6 extends Mn.Component{renderIcon(){switch(Si().f[1]++,Si().s[2]++,this.props.action){case"duplicate":return Si().b[0][0]++,Si().s[3]++,W.jsx(Wte,{});case"show":return Si().b[0][1]++,Si().s[4]++,W.jsx(Gte,{});case"hide":return Si().b[0][2]++,Si().s[5]++,W.jsx(Nte,{});case"delete":return Si().b[0][3]++,Si().s[6]++,W.jsx(Iv,{})}}render(){Si().f[2]++;const{classBlockName:t,classBlockModifier:n}=(Si().s[7]++,this.props);let r=(Si().s[8]++,"");return Si().s[9]++,t?(Si().b[1][0]++,Si().s[10]++,r=`maputnik-layer-list-icon-action__${t}`,Si().s[11]++,n?(Si().b[2][0]++,Si().s[12]++,r+=` maputnik-layer-list-icon-action__${t}--${n}`):Si().b[2][1]++):Si().b[1][1]++,Si().s[13]++,W.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class JO extends Mn.Component{getChildContext(){return Si().f[6]++,Si().s[16]++,{reactIconBase:{size:14}}}render(){Si().f[7]++;const t=(Si().s[17]++,this.props.visibility==="visible"?(Si().b[3][0]++,"show"):(Si().b[3][1]++,"hide"));return Si().s[18]++,W.jsxs("li",{id:this.props.id,onClick:n=>(Si().f[8]++,Si().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:Hf({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[W.jsx(Mpe,{...this.props}),W.jsx("span",{style:{flexGrow:1}}),W.jsx(u6,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:n=>(Si().f[9]++,Si().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),W.jsx(u6,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:n=>(Si().f[10]++,Si().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),W.jsx(u6,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:t,classBlockName:"visibility",classBlockModifier:t,onClick:n=>(Si().f[11]++,Si().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}on(JO,"defaultProps",(Si().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{Si().f[3]++},onLayerDestroy:()=>{Si().f[4]++},onLayerVisibilityToggle:()=>{Si().f[5]++}})),on(JO,"childContextTypes",(Si().s[15]++,{reactIconBase:Rr.object}));const Spe=(Si().s[23]++,wpe(e=>(Si().f[12]++,Si().s[24]++,W.jsx(JO,{...e}))));function G4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputButton.tsx",t="e2fb4e01279c848d5a90760238d95018f73924d3",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e2fb4e01279c848d5a90760238d95018f73924d3"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return G4=function(){return a},a}G4();class Ta extends Mn.Component{render(){return G4().f[0]++,G4().s[0]++,W.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:Hf("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var VG=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],W4=VG.join(","),ZG=typeof Element>"u",W1=ZG?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Q4=!ZG&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},$4=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",a=o||n&&t&&e(t.parentNode);return a},Epe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},XG=function(t,n,r){if($4(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(W4));return n&&W1.call(t,W4)&&i.unshift(t),i=i.filter(r),i},JG=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!$4(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),h=s.length?s:a.children,m=e(h,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:a,candidates:m})}else{var C=W1.call(a,W4);C&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var E=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),O=!$4(E,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(E&&O){var P=e(E===!0?a.children:E.children,!0,r);r.flatten?i.push.apply(i,P):i.push({scopeParent:a,candidates:P})}else o.unshift.apply(o,a.children)}}return i},eW=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Wm=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Epe(t))&&!eW(t)?0:t.tabIndex},Ope=function(t,n){var r=Wm(t);return r<0&&n&&!eW(t)?0:r},Bpe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},tW=function(t){return t.tagName==="INPUT"},Ipe=function(t){return tW(t)&&t.type==="hidden"},kpe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Tpe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Kpe=function(t){if(!t.name)return!0;var n=t.form||Q4(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Tpe(i,t.form);return!o||o===t},Ppe=function(t){return tW(t)&&t.type==="radio"},Dpe=function(t){return Ppe(t)&&!Kpe(t)},Upe=function(t){var n,r=t&&Q4(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var a,s,h;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(h=t.ownerDocument)!==null&&h!==void 0&&h.contains(t));!o&&i;){var m,C,E;r=Q4(i),i=(m=r)===null||m===void 0?void 0:m.host,o=!!((C=i)!==null&&C!==void 0&&(E=C.ownerDocument)!==null&&E!==void 0&&E.contains(i))}}return o},lP=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Fpe=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=W1.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(W1.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var h=t.parentElement,m=Q4(t);if(h&&!h.shadowRoot&&i(h)===!0)return lP(t);t.assignedSlot?t=t.assignedSlot:!h&&m!==t.ownerDocument?t=m.host:t=h}t=s}if(Upe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return lP(t);return!1},Lpe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return W1.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},Y4=function(t,n){return!(n.disabled||$4(n)||Ipe(n)||Fpe(n,t)||kpe(n)||Lpe(n))},eB=function(t,n){return!(Dpe(n)||Wm(n)<0||!Y4(t,n))},Rpe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},zpe=function e(t){var n=[],r=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,h=Ope(s,a),m=a?e(i.candidates):s;h===0?a?n.push.apply(n,m):n.push(s):r.push({documentOrder:o,tabIndex:h,item:i,isScope:a,content:m})}),r.sort(Bpe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},nW=function(t,n){n=n||{};var r;return n.getShadowRoot?r=JG([t],n.includeContainer,{filter:eB.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Rpe}):r=XG(t,n.includeContainer,eB.bind(null,n)),zpe(r)},rW=function(t,n){n=n||{};var r;return n.getShadowRoot?r=JG([t],n.includeContainer,{filter:Y4.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=XG(t,n.includeContainer,Y4.bind(null,n)),r},o1=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return W1.call(t,W4)===!1?!1:eB(n,t)},jpe=VG.concat("iframe").join(","),y3=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return W1.call(t,jpe)===!1?!1:Y4(n,t)};const Npe=Object.freeze(Object.defineProperty({__proto__:null,focusable:rW,getTabIndex:Wm,isFocusable:y3,isTabbable:o1,tabbable:nW},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(r){Gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gpe(e,t,n){return t=Qpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wpe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qpe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:String(t)}var cP={activateTrap:function(t,n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(t,n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}},$pe=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Ype=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},x_=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},qpe=function(t){return x_(t)&&!t.shiftKey},Hpe=function(t){return x_(t)&&t.shiftKey},dP=function(t){return setTimeout(t,0)},hP=function(t,n){var r=-1;return t.every(function(i,o){return n(i)?(r=o,!1):!0}),r},UC=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},Rx=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},Vpe=[],Zpe=function(t,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Vpe,o=AP({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:qpe,isKeyBackward:Hpe},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s,h=function(Ue,he,$e){return Ue&&Ue[he]!==void 0?Ue[he]:o[$e||he]},m=function(Ue,he){var $e=typeof(he==null?void 0:he.composedPath)=="function"?he.composedPath():void 0;return a.containerGroups.findIndex(function(ge){var yt=ge.container,wt=ge.tabbableNodes;return yt.contains(Ue)||($e==null?void 0:$e.includes(yt))||wt.find(function(st){return st===Ue})})},C=function(Ue){var he=o[Ue];if(typeof he=="function"){for(var $e=arguments.length,ge=new Array($e>1?$e-1:0),yt=1;yt<$e;yt++)ge[yt-1]=arguments[yt];he=he.apply(void 0,ge)}if(he===!0&&(he=void 0),!he){if(he===void 0||he===!1)return he;throw new Error("`".concat(Ue,"` was specified but was not a node, or did not return a node"))}var wt=he;if(typeof he=="string"&&(wt=r.querySelector(he),!wt))throw new Error("`".concat(Ue,"` as selector refers to no known node"));return wt},E=function(){var Ue=C("initialFocus");if(Ue===!1)return!1;if(Ue===void 0||!y3(Ue,o.tabbableOptions))if(m(r.activeElement)>=0)Ue=r.activeElement;else{var he=a.tabbableGroups[0],$e=he&&he.firstTabbableNode;Ue=$e||C("fallbackFocus")}if(!Ue)throw new Error("Your focus-trap needs to have at least one focusable element");return Ue},O=function(){if(a.containerGroups=a.containers.map(function(Ue){var he=nW(Ue,o.tabbableOptions),$e=rW(Ue,o.tabbableOptions),ge=he.length>0?he[0]:void 0,yt=he.length>0?he[he.length-1]:void 0,wt=$e.find(function(ze){return o1(ze)}),st=$e.slice().reverse().find(function(ze){return o1(ze)}),mt=!!he.find(function(ze){return Wm(ze)>0});return{container:Ue,tabbableNodes:he,focusableNodes:$e,posTabIndexesFound:mt,firstTabbableNode:ge,lastTabbableNode:yt,firstDomTabbableNode:wt,lastDomTabbableNode:st,nextTabbableNode:function(He){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Vt=he.indexOf(He);return Vt<0?Ve?$e.slice($e.indexOf(He)+1).find(function(Yt){return o1(Yt)}):$e.slice(0,$e.indexOf(He)).reverse().find(function(Yt){return o1(Yt)}):he[Vt+(Ve?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(Ue){return Ue.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!C("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(Ue){return Ue.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},P=function De(Ue){var he=Ue.activeElement;if(he)return he.shadowRoot&&he.shadowRoot.activeElement!==null?De(he.shadowRoot):he},D=function De(Ue){if(Ue!==!1&&Ue!==P(document)){if(!Ue||!Ue.focus){De(E());return}Ue.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=Ue,$pe(Ue)&&Ue.select()}},$=function(Ue){var he=C("setReturnFocus",Ue);return he||(he===!1?!1:Ue)},ee=function(Ue){var he=Ue.target,$e=Ue.event,ge=Ue.isBackward,yt=ge===void 0?!1:ge;he=he||Rx($e),O();var wt=null;if(a.tabbableGroups.length>0){var st=m(he,$e),mt=st>=0?a.containerGroups[st]:void 0;if(st<0)yt?wt=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:wt=a.tabbableGroups[0].firstTabbableNode;else if(yt){var ze=hP(a.tabbableGroups,function(Qt){var $t=Qt.firstTabbableNode;return he===$t});if(ze<0&&(mt.container===he||y3(he,o.tabbableOptions)&&!o1(he,o.tabbableOptions)&&!mt.nextTabbableNode(he,!1))&&(ze=st),ze>=0){var He=ze===0?a.tabbableGroups.length-1:ze-1,Ve=a.tabbableGroups[He];wt=Wm(he)>=0?Ve.lastTabbableNode:Ve.lastDomTabbableNode}else x_($e)||(wt=mt.nextTabbableNode(he,!1))}else{var Vt=hP(a.tabbableGroups,function(Qt){var $t=Qt.lastTabbableNode;return he===$t});if(Vt<0&&(mt.container===he||y3(he,o.tabbableOptions)&&!o1(he,o.tabbableOptions)&&!mt.nextTabbableNode(he))&&(Vt=st),Vt>=0){var Yt=Vt===a.tabbableGroups.length-1?0:Vt+1,vt=a.tabbableGroups[Yt];wt=Wm(he)>=0?vt.firstTabbableNode:vt.firstDomTabbableNode}else x_($e)||(wt=mt.nextTabbableNode(he))}}else wt=C("fallbackFocus");return wt},H=function(Ue){var he=Rx(Ue);if(!(m(he,Ue)>=0)){if(UC(o.clickOutsideDeactivates,Ue)){s.deactivate({returnFocus:o.returnFocusOnDeactivate});return}UC(o.allowOutsideClick,Ue)||Ue.preventDefault()}},G=function(Ue){var he=Rx(Ue),$e=m(he,Ue)>=0;if($e||he instanceof Document)$e&&(a.mostRecentlyFocusedNode=he);else{Ue.stopImmediatePropagation();var ge,yt=!0;if(a.mostRecentlyFocusedNode)if(Wm(a.mostRecentlyFocusedNode)>0){var wt=m(a.mostRecentlyFocusedNode),st=a.containerGroups[wt].tabbableNodes;if(st.length>0){var mt=st.findIndex(function(ze){return ze===a.mostRecentlyFocusedNode});mt>=0&&(o.isKeyForward(a.recentNavEvent)?mt+1<st.length&&(ge=st[mt+1],yt=!1):mt-1>=0&&(ge=st[mt-1],yt=!1))}}else a.containerGroups.some(function(ze){return ze.tabbableNodes.some(function(He){return Wm(He)>0})})||(yt=!1);else yt=!1;yt&&(ge=ee({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),D(ge||a.mostRecentlyFocusedNode||E())}a.recentNavEvent=void 0},Z=function(Ue){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=Ue;var $e=ee({event:Ue,isBackward:he});$e&&(x_(Ue)&&Ue.preventDefault(),D($e))},ue=function(Ue){if(Ype(Ue)&&UC(o.escapeDeactivates,Ue)!==!1){Ue.preventDefault(),s.deactivate();return}(o.isKeyForward(Ue)||o.isKeyBackward(Ue))&&Z(Ue,o.isKeyBackward(Ue))},ye=function(Ue){var he=Rx(Ue);m(he,Ue)>=0||UC(o.clickOutsideDeactivates,Ue)||UC(o.allowOutsideClick,Ue)||(Ue.preventDefault(),Ue.stopImmediatePropagation())},be=function(){if(a.active)return cP.activateTrap(i,s),a.delayInitialFocusTimer=o.delayInitialFocus?dP(function(){D(E())}):D(E()),r.addEventListener("focusin",G,!0),r.addEventListener("mousedown",H,{capture:!0,passive:!1}),r.addEventListener("touchstart",H,{capture:!0,passive:!1}),r.addEventListener("click",ye,{capture:!0,passive:!1}),r.addEventListener("keydown",ue,{capture:!0,passive:!1}),s},X=function(){if(a.active)return r.removeEventListener("focusin",G,!0),r.removeEventListener("mousedown",H,!0),r.removeEventListener("touchstart",H,!0),r.removeEventListener("click",ye,!0),r.removeEventListener("keydown",ue,!0),s},se=function(Ue){var he=Ue.some(function($e){var ge=Array.from($e.removedNodes);return ge.some(function(yt){return yt===a.mostRecentlyFocusedNode})});he&&D(E())},we=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(se):void 0,xe=function(){we&&(we.disconnect(),a.active&&!a.paused&&a.containers.map(function(Ue){we.observe(Ue,{subtree:!0,childList:!0})}))};return s={get active(){return a.active},get paused(){return a.paused},activate:function(Ue){if(a.active)return this;var he=h(Ue,"onActivate"),$e=h(Ue,"onPostActivate"),ge=h(Ue,"checkCanFocusTrap");ge||O(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,he==null||he();var yt=function(){ge&&O(),be(),xe(),$e==null||$e()};return ge?(ge(a.containers.concat()).then(yt,yt),this):(yt(),this)},deactivate:function(Ue){if(!a.active)return this;var he=AP({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},Ue);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,X(),a.active=!1,a.paused=!1,xe(),cP.deactivateTrap(i,s);var $e=h(he,"onDeactivate"),ge=h(he,"onPostDeactivate"),yt=h(he,"checkCanReturnFocus"),wt=h(he,"returnFocus","returnFocusOnDeactivate");$e==null||$e();var st=function(){dP(function(){wt&&D($(a.nodeFocusedBeforeActivation)),ge==null||ge()})};return wt&&yt?(yt($(a.nodeFocusedBeforeActivation)).then(st,st),this):(st(),this)},pause:function(Ue){if(a.paused||!a.active)return this;var he=h(Ue,"onPause"),$e=h(Ue,"onPostPause");return a.paused=!0,he==null||he(),X(),xe(),$e==null||$e(),this},unpause:function(Ue){if(!a.paused||!a.active)return this;var he=h(Ue,"onUnpause"),$e=h(Ue,"onPostUnpause");return a.paused=!1,he==null||he(),O(),be(),xe(),$e==null||$e(),this},updateContainerElements:function(Ue){var he=[].concat(Ue).filter(Boolean);return a.containers=he.map(function($e){return typeof $e=="string"?r.querySelector($e):$e}),a.active&&O(),xe(),this}},s.updateContainerElements(t),s};const Xpe=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Zpe},Symbol.toStringTag,{value:"Module"})),Jpe=jB(Xpe),eme=jB(Npe);function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function tme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iW(r.key),r)}}function nme(e,t,n){return t&&fP(e.prototype,t),n&&fP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tB(e,t)}function tB(e,t){return tB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tB(e,t)}function ime(e){var t=ame();return function(){var r=q4(e),i;if(t){var o=q4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ome(this,i)}}function ome(e,t){if(t&&(yv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_(e)}function t_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ame(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q4(e){return q4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q4(e)}function sme(e,t,n){return t=iW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iW(e){var t=lme(e,"string");return yv(t)==="symbol"?t:String(t)}function lme(e,t){if(yv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zx=ar,mi=zh,ume=Jpe,Ame=ume.createFocusTrap,cme=eme,dme=cme.isFocusable,xI=function(e){rme(n,e);var t=ime(n);function n(r){var i;tme(this,n),i=t.call(this,r),sme(t_(i),"getNodeForOption",function(s){var h,m=(h=this.internalOptions[s])!==null&&h!==void 0?h:this.originalOptions[s];if(typeof m=="function"){for(var C=arguments.length,E=new Array(C>1?C-1:0),O=1;O<C;O++)E[O-1]=arguments[O];m=m.apply(void 0,E)}if(m===!0&&(m=void 0),!m){if(m===void 0||m===!1)return m;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var P=m;if(typeof m=="string"){var D;if(P=(D=this.getDocument())===null||D===void 0?void 0:D.querySelector(m),!P)throw new Error("`".concat(s,"` as selector refers to no known node"))}return P}),i.handleDeactivate=i.handleDeactivate.bind(t_(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(t_(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(t_(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){if(a==="returnFocusOnDeactivate"||a==="onDeactivate"||a==="onPostDeactivate"||a==="checkCanReturnFocus"||a==="clickOutsideDeactivates"){i.originalOptions[a]=o[a];continue}i.internalOptions[a]=o[a]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return nme(n,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var s=i.getReturnFocusNode(),h=!!(i.originalOptions.returnFocusOnDeactivate&&s!==null&&s!==void 0&&s.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!dme(i.outsideClick.target,i.internalOptions.tabbableOptions))),m=i.internalOptions.preventScroll,C=m===void 0?!1:m;h&&s.focus({preventScroll:C}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var i=this.focusTrapElements.some(Boolean);i&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,a=i.active&&!this.props.active,s=!i.paused&&this.props.paused,h=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),a){this.deactivateTrap();return}s&&this.focusTrap.pause(),h&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?zx.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===zx.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var a=function(m){var C=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(m):o.ref&&(o.ref.current=m)),i.focusTrapElements=C||[m]},s=zx.cloneElement(o,{ref:a});return s}return null}}]),n}(zx.Component),FC=typeof Element>"u"?Function:Element;xI.propTypes={active:mi.bool,paused:mi.bool,focusTrapOptions:mi.shape({document:mi.object,onActivate:mi.func,onPostActivate:mi.func,checkCanFocusTrap:mi.func,onPause:mi.func,onPostPause:mi.func,onUnpause:mi.func,onPostUnpause:mi.func,onDeactivate:mi.func,onPostDeactivate:mi.func,checkCanReturnFocus:mi.func,initialFocus:mi.oneOfType([mi.instanceOf(FC),mi.string,mi.bool,mi.func]),fallbackFocus:mi.oneOfType([mi.instanceOf(FC),mi.string,mi.func]),escapeDeactivates:mi.oneOfType([mi.bool,mi.func]),clickOutsideDeactivates:mi.oneOfType([mi.bool,mi.func]),returnFocusOnDeactivate:mi.bool,setReturnFocus:mi.oneOfType([mi.instanceOf(FC),mi.string,mi.bool,mi.func]),allowOutsideClick:mi.oneOfType([mi.bool,mi.func]),preventScroll:mi.bool,tabbableOptions:mi.shape({displayCheck:mi.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:mi.oneOfType([mi.bool,mi.func])}),trapStack:mi.array,isKeyForward:mi.func,isKeyBackward:mi.func}),containerElements:mi.arrayOf(mi.instanceOf(FC)),children:mi.oneOfType([mi.element,mi.instanceOf(FC)])};xI.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:Ame};var hme=xI,oW={exports:{}};(function(e){(function(t){var n=!1,r,i;function o(){if(typeof r<"u")return r;var E=document.documentElement,O=document.createElement("div");return O.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),E.appendChild(O),r=O.offsetWidth-O.clientWidth,E.removeChild(O),r}function a(){return document.documentElement.scrollHeight>window.innerHeight}function s(E){if(!(typeof document>"u"||n)){var O=document.documentElement;i=window.pageYOffset,a()?O.style.width="calc(100% - "+o()+"px)":O.style.width="100%",O.style.position="fixed",O.style.top=-i+"px",O.style.overflow="hidden",n=!0}}function h(){if(!(typeof document>"u"||!n)){var E=document.documentElement;E.style.width="",E.style.position="",E.style.top="",E.style.overflow="",window.scroll(0,i),n=!1}}function m(){if(n){h();return}s()}var C={on:s,off:h,toggle:m};e.exports=C})()})(oW);var fme=oW.exports;function nB(e){"@babel/helpers - typeof";return nB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nB(e)}function aW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sW(e,t,n){return t&&pP(e.prototype,t),n&&pP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rB(e,t)}function rB(e,t){return rB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rB(e,t)}function uW(e){var t=mme();return function(){var r=H4(e),i;if(t){var o=H4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pme(this,i)}}function pme(e,t){if(t&&(nB(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oy(e)}function Oy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H4(e){return H4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H4(e)}function _1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c1=ar,gme=b0,yme=hme,jx=fme,wI=function(e){lW(n,e);var t=uW(n);function n(r){var i;if(aW(this,n),i=t.call(this,r),_1(Oy(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),_1(Oy(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),_1(Oy(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),_1(Oy(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return sW(n,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&jx.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?jx.off():!i.scrollDisabled&&this.props.scrollDisabled&&jx.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&jx.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var a in i.underlayStyle)i.underlayStyle.hasOwnProperty(a)&&(o[a]=i.underlayStyle[a]);var s={className:i.underlayClass,style:o};i.underlayClickExits&&(s.onMouseDown=this.checkUnderlayClick);for(var h in this.props.underlayProps)s[h]=this.props.underlayProps[h];var m={};i.includeDefaultStyles&&(m={display:"inline-block",height:"100%",verticalAlign:"middle"});var C={key:"a",style:m},E={};if(i.includeDefaultStyles&&(E={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(E.verticalAlign="middle",E.top=0)),i.dialogStyle)for(var O in i.dialogStyle)i.dialogStyle.hasOwnProperty(O)&&(E[O]=i.dialogStyle[O]);var P={key:"b",ref:(function(H){this.dialogNode=H}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:E};i.titleId?P["aria-labelledby"]=i.titleId:i.titleText&&(P["aria-label"]=i.titleText),i.focusDialog&&(P.tabIndex="-1");for(var D in i)/^(data-|aria-)/.test(D)&&(P[D]=i[D]);var $=[c1.createElement("div",P,i.children)];i.verticallyCenter&&$.unshift(c1.createElement("div",C));var ee=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(ee.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),ee.escapeDeactivates=i.escapeExits,c1.createElement(yme,{focusTrapOptions:ee,paused:i.focusTrapPaused},c1.createElement("div",s,$))}}]),n}(c1.Component);_1(wI,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});function AW(e,t){if(!window.document)return function(){return null};t=t||{};var n=function(r){lW(o,r);var i=uW(o);function o(){var a;aW(this,o);for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return a=i.call.apply(i,[this].concat(h)),_1(Oy(a),"container",null),a}return sW(o,[{key:"componentDidMount",value:function(){t.renderTo?this.container=typeof t.renderTo=="string"?document.querySelector(t.renderTo):t.renderTo:(this.container=document.createElement("div"),document.body.appendChild(this.container)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){t.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return this.container===null||!this.props.mounted?null:gme.createPortal(c1.createElement(e,this.props,this.props.children),this.container)}}]),o}(c1.Component);return _1(n,"defaultProps",{mounted:!0}),n}var cW=AW(wI);cW.renderTo=function(e){return AW(wI,{renderTo:e})};var vme=cW;const Cme=Ka(vme);function vu(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Modal.tsx",t="08fd846654650a57ca76caa2252d3776fc11fd63",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:12},end:{line:18,column:3}},2:{start:{line:12,column:4},end:{line:14,column:5}},3:{start:{line:13,column:6},end:{line:13,column:36}},4:{start:{line:15,column:4},end:{line:17,column:10}},5:{start:{line:16,column:6},end:{line:16,column:37}},6:{start:{line:20,column:4},end:{line:58,column:5}},7:{start:{line:21,column:6},end:{line:55,column:8}},8:{start:{line:57,column:6},end:{line:57,column:19}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:18},end:{line:18,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:15,column:15},end:{line:15,column:16}},loc:{start:{line:15,column:21},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:11},end:{line:59,column:3}},line:19}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:20,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Modal.tsx"],names:[],mappings:"AA+CU,SACE,KADF;AA/CV,OAAO,WAAkC;AACzC,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAcvB,qBAAqB,cAAc,MAAM,UAAsB;AAAA,EAC7D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAM;AAAA,sBACN,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"08fd846654650a57ca76caa2252d3776fc11fd63"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return vu=function(){return a},a}vu();class Ad extends Mn.Component{constructor(){super(...arguments);on(this,"onClose",(vu().s[1]++,()=>{vu().f[0]++,vu().s[2]++,document.activeElement?(vu().b[0][0]++,vu().s[3]++,document.activeElement.blur()):vu().b[0][1]++,vu().s[4]++,setTimeout(()=>{vu().f[1]++,vu().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){return vu().f[2]++,vu().s[6]++,this.props.isOpen?(vu().b[1][0]++,vu().s[7]++,W.jsx(Cme,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:W.jsxs("div",{className:Hf("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[W.jsxs("header",{className:"maputnik-modal-header",children:[W.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),W.jsx("span",{className:"maputnik-modal-header-space"}),W.jsx("button",{className:"maputnik-modal-header-toggle",title:"Close modal",onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:W.jsx(Zte,{})})]}),W.jsx("div",{className:"maputnik-modal-scroller",children:W.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(vu().b[1][1]++,vu().s[8]++,!1)}}on(Ad,"defaultProps",(vu().s[0]++,{underlayClickExits:!0}));const _me=8,bme={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration.",example:{"sky-color":"#199EF3","fog-color":"#00ff00","horizon-blend":.5,"fog-blend":.6}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"coastline",source:"maplibre","source-layer":"contries",type:"line",paint:{"line-color":"#198EC8"}}]}},xme={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},wme=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Mme={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Sme={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Eme={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default."},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Ome={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js-docs/api/sources/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Bme={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Ime={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},kme={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},Tme=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Kme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Pme={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Dme={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Ume={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Fme={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Lme={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions. Values are declared using CSS margin shorthand syntax: a single value applies to all four sides; two values apply to [top/bottom, left/right]; three values apply to [top, left/right, bottom]; four values apply to [top, right, bottom, left]. For backwards compatibility, a single bare number is accepted, and treated the same as a one-element array - padding applied to all sides.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.2.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"`viewport-glyph` value":{js:"2.1.8"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],doc:'To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \n\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \n\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \n\n ```json \n { "text-variable-anchor-offset": ["top", [0, 4], "left", [3,0], "bottom", [1, 1]] } \n ``` \n\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \n\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.',"sdk-support":{"basic functionality":{js:"3.3.0"},"data-driven styling":{js:"3.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Rme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},zme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},jme={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Nme={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},Gme={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},Wme={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},Qme={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},$me={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",ios:"6.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",ios:"6.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},Yme={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},qme={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog."},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. A value between 0 and 1. Where 0 is the map center and 1 is the horizon"},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog and sky color at the horizon. A value between 0 and 1. Where 0 is the horizon and 1 is map-height / 2"}},Hme={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0"}}}},Vme=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],Zme={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Xme={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Jme={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},e0e={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},t0e={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},n0e={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},r0e={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},i0e={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},o0e={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},a0e={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},io={$version:_me,$root:bme,sources:xme,source:wme,source_vector:Mme,source_raster:Sme,source_raster_dem:Eme,source_geojson:Ome,source_video:Bme,source_image:Ime,layer:kme,layout:Tme,layout_background:Kme,layout_fill:Pme,layout_circle:Dme,layout_heatmap:Ume,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:Fme,layout_symbol:Lme,layout_raster:Rme,layout_hillshade:zme,filter:jme,filter_operator:Nme,geometry_type:Gme,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:Wme,expression:Qme,expression_name:$me,light:Yme,sky:qme,terrain:Hme,paint:Vme,paint_fill:Zme,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Xme,paint_circle:Jme,paint_heatmap:e0e,paint_symbol:t0e,paint_raster:n0e,paint_hillshade:r0e,paint_background:i0e,transition:o0e,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:a0e};function Fo(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldDocLabel.tsx",t="c232698fbbe60276633f073ece8f06cf9729a6fa",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c232698fbbe60276633f073ece8f06cf9729a6fa"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fo=function(){return a},a}Fo();class MI extends Mn.Component{constructor(n){Fo().f[0]++,Fo().s[0]++;super(n);on(this,"onToggleDoc",(Fo().s[2]++,n=>{Fo().f[1]++,Fo().s[3]++,this.setState({open:n},()=>{Fo().f[2]++,Fo().s[4]++,this.props.onToggleDoc?(Fo().b[0][0]++,Fo().s[5]++,this.props.onToggleDoc(this.state.open)):Fo().b[0][1]++})}));Fo().s[1]++,this.state={open:!1}}render(){Fo().f[3]++;const{label:n,fieldSpec:r}=(Fo().s[6]++,this.props),{doc:i}=(Fo().s[7]++,Fo().b[1][0]++,r||(Fo().b[1][1]++,{}));if(Fo().s[8]++,i)return Fo().b[2][0]++,Fo().s[9]++,W.jsx("label",{className:"maputnik-doc-wrapper",children:W.jsxs("div",{className:"maputnik-doc-target",children:[n,"",W.jsx("button",{"aria-label":this.state.open?(Fo().b[3][0]++,"close property documentation"):(Fo().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(Fo().b[4][0]++,"open"):(Fo().b[4][1]++,"closed")}`,onClick:()=>(Fo().f[4]++,Fo().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+n,children:this.state.open?(Fo().b[5][0]++,W.jsx(Rte,{})):(Fo().b[5][1]++,W.jsx(zte,{}))})]})});if(Fo().b[2][1]++,Fo().s[11]++,n)return Fo().b[6][0]++,Fo().s[12]++,W.jsx("label",{className:"maputnik-doc-wrapper",children:W.jsx("div",{className:"maputnik-doc-target",children:n})});Fo().b[6][1]++,Fo().s[13]++}}function Ea(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Doc.tsx",t="9f596e38c6875ad301e27e41f25c7a843981ac3d",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:28},end:{line:12,column:37}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:47,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAsCM,mBAGM,KAKQ,YARd;AAtCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAgBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,OAAM,IAAI;AACtB,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9f596e38c6875ad301e27e41f25c7a843981ac3d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ea=function(){return a},a}Ea();const mP=(Ea().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class SI extends Mn.Component{render(){Ea().f[0]++;const{fieldSpec:t}=(Ea().s[1]++,this.props),{doc:n,values:r}=(Ea().s[2]++,t),i=(Ea().s[3]++,t["sdk-support"]),o=(Ea().s[4]++,Ea().b[0][0]++,!!r&&(Ea().b[0][1]++,!Array.isArray(r)));return Ea().s[5]++,W.jsxs(W.Fragment,{children:[(Ea().b[1][0]++,n&&(Ea().b[1][1]++,W.jsxs("div",{className:"SpecDoc",children:[W.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:n}),(Ea().b[2][0]++,o&&(Ea().b[2][1]++,W.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([a,s])=>(Ea().f[1]++,Ea().s[6]++,W.jsxs("li",{children:[W.jsx("code",{children:JSON.stringify(a)}),W.jsx("div",{children:s.doc})]},a)))})))]}))),(Ea().b[3][0]++,i&&(Ea().b[3][1]++,W.jsx("div",{className:"SpecDoc__sdk-support",children:W.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{}),Object.values(mP).map(a=>(Ea().f[2]++,Ea().s[7]++,W.jsx("th",{children:a},a)))]})}),W.jsx("tbody",{children:Object.entries(i).map(([a,s])=>(Ea().f[3]++,Ea().s[8]++,W.jsxs("tr",{children:[W.jsx("td",{children:a}),Object.keys(mP).map(h=>(Ea().f[4]++,Ea().s[9]++,Object.prototype.hasOwnProperty.call(s,h)?(Ea().b[4][0]++,Ea().s[10]++,W.jsx("td",{children:s[h]},h)):(Ea().b[4][1]++,Ea().s[11]++,W.jsx("td",{children:"no"},h))))]},a)))})]})})))]})}}function co(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Block.tsx",t="85ef8fabcd12e6632815da9e44efca6eda1481f2",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:38,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:37,column:27}},14:{start:{line:40,column:4},end:{line:73,column:6}},15:{start:{line:62,column:95},end:{line:62,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:38,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:11},end:{line:74,column:3}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:62,column:87},end:{line:62,column:88}},loc:{start:{line:62,column:95},end:{line:62,column:113}},line:62}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:52,column:10},end:{line:59,column:14}},type:"binary-expr",locations:[{start:{line:52,column:10},end:{line:52,column:30}},{start:{line:52,column:50},end:{line:59,column:14}}],line:52},5:{loc:{start:{line:60,column:10},end:{line:60,column:134}},type:"binary-expr",locations:[{start:{line:60,column:10},end:{line:60,column:31}},{start:{line:60,column:51},end:{line:60,column:134}}],line:60},6:{loc:{start:{line:63,column:10},end:{line:70,column:11}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:30}},{start:{line:63,column:50},end:{line:70,column:11}}],line:63},7:{loc:{start:{line:67,column:32},end:{line:67,column:64}},type:"cond-expr",locations:[{start:{line:67,column:53},end:{line:67,column:55}},{start:{line:67,column:58},end:{line:67,column:64}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Block.tsx"],names:[],mappings:"AA8DW,SAWD,KAXC;AA9DX,OAAO,WAAgD;AACvD,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,UAAM,eAAe;AAAA,EACvB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"85ef8fabcd12e6632815da9e44efca6eda1481f2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return co=function(){return a},a}co();class la extends Mn.Component{constructor(n){co().f[0]++,co().s[1]++;super(n);on(this,"_blockEl",(co().s[0]++,null));on(this,"onToggleDoc",(co().s[6]++,n=>{co().f[2]++,co().s[7]++,this.setState({showDoc:n})}));on(this,"onLabelClick",(co().s[8]++,n=>{var o;co().f[3]++;const r=(co().s[9]++,n.nativeEvent.target),i=(co().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));co().s[11]++,co().b[3][0]++,n.nativeEvent.target.nodeName!=="INPUT"&&(co().b[3][1]++,!i)?(co().b[2][0]++,co().s[12]++,n.stopPropagation()):co().b[2][1]++,co().s[13]++,n.preventDefault()}));co().s[2]++,this.state={showDoc:!1}}onChange(n){co().f[1]++;const r=(co().s[3]++,n.target.value);if(co().s[4]++,this.props.onChange)return co().b[0][0]++,co().s[5]++,this.props.onChange(r===""?(co().b[1][0]++,void 0):(co().b[1][1]++,r));co().b[0][1]++}render(){return co().f[4]++,co().s[14]++,W.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:Hf({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(co().b[4][0]++,this.props.fieldSpec&&(co().b[4][1]++,W.jsx("div",{className:"maputnik-input-block-label",children:W.jsx(MI,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(co().b[5][0]++,!this.props.fieldSpec&&(co().b[5][1]++,W.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),W.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),W.jsx("div",{className:"maputnik-input-block-content",ref:n=>(co().f[5]++,co().s[15]++,this._blockEl=n),children:this.props.children}),(co().b[6][0]++,this.props.fieldSpec&&(co().b[6][1]++,W.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(co().b[7][0]++,""):(co().b[7][1]++,"none")},children:W.jsx(SI,{fieldSpec:this.props.fieldSpec})})))]})}}function zu(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputSelect.tsx",t="b2bc83fab6d8ddef5a97a8436a8e82eda20f1236",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b2bc83fab6d8ddef5a97a8436a8e82eda20f1236"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zu=function(){return a},a}zu();class eg extends Mn.Component{render(){zu().f[0]++;let t=(zu().s[0]++,this.props.options);return zu().s[1]++,zu().b[1][0]++,t.length>0&&(zu().b[1][1]++,!Array.isArray(t[0]))?(zu().b[0][0]++,zu().s[2]++,t=t.map(n=>(zu().f[1]++,zu().s[3]++,[n,n]))):zu().b[0][1]++,zu().s[4]++,W.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:n=>(zu().f[2]++,zu().s[5]++,this.props.onChange(n.target.value)),"aria-label":this.props["aria-label"],children:t.map(([n,r])=>(zu().f[3]++,zu().s[6]++,W.jsx("option",{value:n,children:r},n)))})}}function ni(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputString.tsx",t="76296d32763173c563ce594ea226a92c5e798d2f",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:72,column:7}},14:{start:{line:51,column:8},end:{line:57,column:11}},15:{start:{line:55,column:10},end:{line:56,column:49}},16:{start:{line:56,column:12},end:{line:56,column:49}},17:{start:{line:60,column:8},end:{line:64,column:9}},18:{start:{line:61,column:10},end:{line:61,column:44}},19:{start:{line:62,column:10},end:{line:63,column:50}},20:{start:{line:63,column:12},end:{line:63,column:50}},21:{start:{line:67,column:8},end:{line:69,column:9}},22:{start:{line:68,column:10},end:{line:68,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:73,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:58,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:57,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:14},end:{line:59,column:15}},loc:{start:{line:59,column:20},end:{line:65,column:7}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:66,column:17},end:{line:66,column:18}},loc:{start:{line:66,column:24},end:{line:70,column:7}},line:66}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:56,column:49}},type:"if",locations:[{start:{line:55,column:10},end:{line:56,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:60,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:64,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:62,column:10},end:{line:63,column:50}},type:"if",locations:[{start:{line:62,column:10},end:{line:63,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},10:{loc:{start:{line:67,column:12},end:{line:67,column:51}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:28}},{start:{line:67,column:32},end:{line:67,column:51}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM;AAAS,iBAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM;AAAU,iBAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"76296d32763173c563ce594ea226a92c5e798d2f"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ni=function(){return a},a}ni();class sd extends Mn.Component{constructor(t){ni().f[1]++,ni().s[1]++,super(t),ni().s[2]++,this.state={editing:!1,value:(ni().b[0][0]++,t.value||(ni().b[0][1]++,""))}}static getDerivedStateFromProps(t,n){if(ni().f[2]++,ni().s[3]++,n.editing)ni().b[1][1]++;else return ni().b[1][0]++,ni().s[4]++,{value:t.value};return ni().s[5]++,{}}render(){ni().f[3]++;let t,n;return ni().s[6]++,this.props.multi?(ni().b[2][0]++,ni().s[7]++,t="textarea",ni().s[8]++,n=["maputnik-string","maputnik-string--multi"]):(ni().b[2][1]++,ni().s[9]++,t="input",ni().s[10]++,n=["maputnik-string"]),ni().s[11]++,this.props.disabled?(ni().b[3][0]++,ni().s[12]++,n.push("maputnik-string--disabled")):ni().b[3][1]++,ni().s[13]++,Mn.createElement(t,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(ni().b[4][0]++,this.props.spellCheck):(ni().b[4][1]++,t!=="input"),disabled:this.props.disabled,className:n.join(" "),style:this.props.style,value:this.state.value===void 0?(ni().b[5][0]++,""):(ni().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{ni().f[4]++,ni().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{ni().f[5]++,ni().s[15]++,this.props.onInput?(ni().b[6][0]++,ni().s[16]++,this.props.onInput(this.state.value)):ni().b[6][1]++})},onBlur:()=>{ni().f[6]++,ni().s[17]++,this.state.value!==this.props.value?(ni().b[7][0]++,ni().s[18]++,this.setState({editing:!1}),ni().s[19]++,this.props.onChange?(ni().b[8][0]++,ni().s[20]++,this.props.onChange(this.state.value)):ni().b[8][1]++):ni().b[7][1]++},onKeyDown:r=>{ni().f[7]++,ni().s[21]++,ni().b[10][0]++,r.keyCode===13&&(ni().b[10][1]++,this.props.onChange)?(ni().b[9][0]++,ni().s[22]++,this.props.onChange(this.state.value)):ni().b[9][1]++},required:this.props.required})}}on(sd,"defaultProps",(ni().s[0]++,{onInput:()=>{ni().f[0]++}}));function Dp(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldType.tsx",t="0ff6529a2f6703a9debcb862faa585f0b8b911cd",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:4},end:{line:48,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:49,column:3}},line:11}},branchMap:{0:{loc:{start:{line:20,column:10},end:{line:26,column:11}},type:"binary-expr",locations:[{start:{line:20,column:10},end:{line:20,column:29}},{start:{line:20,column:49},end:{line:26,column:11}}],line:20},1:{loc:{start:{line:27,column:10},end:{line:45,column:11}},type:"binary-expr",locations:[{start:{line:27,column:10},end:{line:27,column:30}},{start:{line:27,column:50},end:{line:45,column:11}}],line:27}},s:{0:0,1:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAqBW,SAKH,KALG;AArBX,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAUxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAQ,WAAW,OAAO,MAAM;AAAA,QACnD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0ff6529a2f6703a9debcb862faa585f0b8b911cd"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Dp=function(){return a},a}Dp();class EI extends Mn.Component{render(){return Dp().f[0]++,Dp().s[1]++,W.jsxs(la,{label:"Type",fieldSpec:io.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(Dp().b[0][0]++,this.props.disabled&&(Dp().b[0][1]++,W.jsx(sd,{value:this.props.value,disabled:!0}))),(Dp().b[1][0]++,!this.props.disabled&&(Dp().b[1][1]++,W.jsx(eg,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}on(EI,"defaultProps",(Dp().s[0]++,{disabled:!1}));function V4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldId.tsx",t="d67cde46037028a99dd992a3a1a5c33ebeacd9c0",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAmBM;AAnBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAM,WAAW,OAAO,MAAM;AAAA,QACjD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d67cde46037028a99dd992a3a1a5c33ebeacd9c0"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return V4=function(){return a},a}V4();class dW extends Mn.Component{render(){return V4().f[0]++,V4().s[0]++,W.jsx(la,{label:"ID",fieldSpec:io.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:W.jsx(sd,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var hW={exports:{}},s0e=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function l0e(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function fW(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function iB(e){return fW(e)}function oB(e){return fW(e,!0)}function pW(e){var t=l0e(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=iB(r),t.top+=oB(r),t}function u0e(e,t,n){var r="",i=e.ownerDocument;return(n=n||i.defaultView.getComputedStyle(e,null))&&(r=n.getPropertyValue(t)||n[t]),r}var A0e=new RegExp("^("+s0e+")(?!px)[a-z%]+$","i"),c0e=/^(top|right|bottom|left)$/,A6="currentStyle",c6="runtimeStyle",X0="left",d0e="px";function h0e(e,t){var n=e[A6]&&e[A6][t];if(A0e.test(n)&&!c0e.test(t)){var r=e.style,i=r[X0],o=e[c6][X0];e[c6][X0]=e[A6][X0],r[X0]=t==="fontSize"?"1em":n||0,n=r.pixelLeft+d0e,r[X0]=i,e[c6][X0]=o}return n===""?"auto":n}var Q1;typeof window<"u"&&(Q1=window.getComputedStyle?u0e:h0e);function f0e(e,t){Zy(e,"position")==="static"&&(e.style.position="relative");var n=pW(e),r={},i,o;for(o in t)i=parseFloat(Zy(e,o))||0,r[o]=i+t[o]-n[o];Zy(e,r)}function OI(e,t){for(var n=0;n<e.length;n++)t(e[n])}function mW(e){return Q1(e,"boxSizing")==="border-box"}var p0e=["margin","border","padding"],aB=-1,m0e=2,sB=1,g0e=0;function y0e(e,t,n){var r={},i=e.style,o;for(o in t)r[o]=i[o],i[o]=t[o];n.call(e);for(o in t)i[o]=r[o]}function n_(e,t,n){var r=0,i,o,a;for(o=0;o<t.length;o++)if(i=t[o],i)for(a=0;a<n.length;a++){var s;i==="border"?s=i+n[a]+"Width":s=i+n[a],r+=parseFloat(Q1(e,s))||0}return r}function v3(e){return e!=null&&e==e.window}var zf={};OI(["Width","Height"],function(e){zf["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],zf["viewport"+e](n))},zf["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement,a=o[n];return r.compatMode==="CSS1Compat"&&a||i&&i[n]||a}});function gP(e,t,n){if(v3(e))return t==="width"?zf.viewportWidth(e):zf.viewportHeight(e);if(e.nodeType===9)return t==="width"?zf.docWidth(e):zf.docHeight(e);var r=t==="width"?["Left","Right"]:["Top","Bottom"],i=t==="width"?e.offsetWidth:e.offsetHeight;Q1(e);var o=mW(e),a=0;(i==null||i<=0)&&(i=void 0,a=Q1(e,t),(a==null||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),n===void 0&&(n=o?sB:aB);var s=i!==void 0||o,h=i||a;return n===aB?s?h-n_(e,["border","padding"],r):a:s?h+(n===sB?0:n===m0e?-n_(e,["border"],r):n_(e,["margin"],r)):a+n_(e,p0e.slice(n),r)}var v0e={position:"absolute",visibility:"hidden",display:"block"};function yP(e){var t,n=arguments;return e.offsetWidth!==0?t=gP.apply(void 0,n):y0e(e,v0e,function(){t=gP.apply(void 0,n)}),t}OI(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);zf["outer"+t]=function(r,i){return r&&yP(r,e,i?g0e:sB)};var n=e==="width"?["Left","Right"]:["Top","Bottom"];zf[e]=function(r,i){if(i!==void 0){if(r){Q1(r);var o=mW(r);return o&&(i+=n_(r,["padding","border"],n)),Zy(r,e,i)}return}return r&&yP(r,e,aB)}});function Zy(e,t,n){if(typeof t=="object"){for(var r in t)Zy(e,r,t[r]);return}if(typeof n<"u")typeof n=="number"&&(n=n+"px"),e.style[t]=n;else return Q1(e,t)}function gW(e,t){for(var n in t)e[n]=t[n];return e}var yW=hW.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(typeof t<"u")f0e(e,t);else return pW(e)},isWindow:v3,each:OI,css:Zy,clone:function(e){var t={};for(var n in e)t[n]=e[n];var r=e.overflow;if(r)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:gW,scrollLeft:function(e,t){if(v3(e)){if(t===void 0)return iB(e);window.scrollTo(t,oB(e))}else{if(t===void 0)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(v3(e)){if(t===void 0)return oB(e);window.scrollTo(iB(e),t)}else{if(t===void 0)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)yW.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};gW(yW,zf);var C0e=hW.exports,es=C0e;function _0e(e,t,n){n=n||{},t.nodeType===9&&(t=es.getWindow(t));var r=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,o=n.alignWithTop,a=n.alignWithLeft;r=r===void 0?!0:r;var s=es.isWindow(t),h=es.offset(e),m=es.outerHeight(e),C=es.outerWidth(e),E,O,P,D,$,ee,H,G,Z,ue;s?(H=t,ue=es.height(H),Z=es.width(H),G={left:es.scrollLeft(H),top:es.scrollTop(H)},$={left:h.left-G.left,top:h.top-G.top},ee={left:h.left+C-(G.left+Z),top:h.top+m-(G.top+ue)},D=G):(E=es.offset(t),O=t.clientHeight,P=t.clientWidth,D={left:t.scrollLeft,top:t.scrollTop},$={left:h.left-(E.left+(parseFloat(es.css(t,"borderLeftWidth"))||0)),top:h.top-(E.top+(parseFloat(es.css(t,"borderTopWidth"))||0))},ee={left:h.left+C-(E.left+P+(parseFloat(es.css(t,"borderRightWidth"))||0)),top:h.top+m-(E.top+O+(parseFloat(es.css(t,"borderBottomWidth"))||0))}),$.top<0||ee.top>0?o===!0?es.scrollTop(t,D.top+$.top):o===!1?es.scrollTop(t,D.top+ee.top):$.top<0?es.scrollTop(t,D.top+$.top):es.scrollTop(t,D.top+ee.top):i||(o=o===void 0?!0:!!o,o?es.scrollTop(t,D.top+$.top):es.scrollTop(t,D.top+ee.top)),r&&($.left<0||ee.left>0?a===!0?es.scrollLeft(t,D.left+$.left):a===!1?es.scrollLeft(t,D.left+ee.left):$.left<0?es.scrollLeft(t,D.left+$.left):es.scrollLeft(t,D.left+ee.left):i||(a=a===void 0?!0:!!a,a?es.scrollLeft(t,D.left+$.left):es.scrollLeft(t,D.left+ee.left)))}var b0e=_0e,x0e=b0e,C3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function M0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S0e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function E0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d1=ar,Pl=zh,O0e=b0,vP=O0e.findDOMNode,B0e=x0e,I0e=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function k0e(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var Bw=function(e){E0e(t,e);function t(n){M0e(this,t);var r=S0e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return w0e(t,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,I0e.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;B0e(vP(r),vP(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){t.keyDownHandlers[r.key]?t.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,a){return r.sortItems(o,a,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,a=i.value,s=i.getItemValue,h=o===null?0:o,m=this.getFilteredItems(i),C=0;C<m.length&&!i.isItemSelectable(m[h]);C++)h=(h+1)%m.length;var E=m[h]&&i.isItemSelectable(m[h])?m[h]:null;if(a!==""&&E){var O=s(E),P=O.toLowerCase().indexOf(a.toLowerCase())===0;if(P)return{highlightedIndex:h}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),a=parseInt(o.marginBottom,10)||0,s=parseInt(o.marginLeft,10)||0,h=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+a,menuLeft:i.left+s,menuWidth:i.width+s+h})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(s,h){var m=r.props.renderItem(s,r.state.highlightedIndex===h,{cursor:"default"});return d1.cloneElement(m,{onMouseEnter:r.props.isItemSelectable(s)?function(){return r.highlightItemFromMouse(h)}:null,onClick:r.props.isItemSelectable(s)?function(){return r.selectItemFromMouse(s)}:null,ref:function(E){return r.refs["item-"+h]=E}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},a=this.props.renderMenu(i,this.props.value,o);return d1.cloneElement(a,{ref:function(h){return r.refs.menu=h},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=k0e(),this.refs.input.focus();return}var o=void 0,a=this.state.highlightedIndex;if(this.props.selectOnBlur&&a!==null){var s=this.getFilteredItems(this.props),h=s[a],m=this.props.getItemValue(h);o=function(){return i.props.onSelect(m,h)}}this.setState({isOpen:!1,highlightedIndex:null},o);var C=this.props.inputProps.onBlur;C&&C(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,a=o.x,s=o.y;this._scrollOffset=null,window.scrollTo(a,s),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(a,s)},0);return}this.setState({isOpen:!0});var h=this.props.inputProps.onFocus;h&&h(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return d1.createElement("div",C3({style:C3({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(C3({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&d1.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),t}(d1.Component);Bw.propTypes={items:Pl.array.isRequired,value:Pl.any,onChange:Pl.func,onSelect:Pl.func,shouldItemRender:Pl.func,isItemSelectable:Pl.func,sortItems:Pl.func,getItemValue:Pl.func.isRequired,renderItem:Pl.func.isRequired,renderMenu:Pl.func,menuStyle:Pl.object,renderInput:Pl.func,inputProps:Pl.object,wrapperProps:Pl.object,wrapperStyle:Pl.object,autoHighlight:Pl.bool,selectOnBlur:Pl.bool,onMenuVisibilityChange:Pl.func,open:Pl.bool,debug:Pl.bool};Bw.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(t){return d1.createElement("input",t)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(t,n,r){return d1.createElement("div",{style:C3({},r,this.menuStyle),children:t})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};Bw.keyDownHandlers={ArrowDown:function(t){t.preventDefault();var n=this.getFilteredItems(this.props);if(n.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<n.length;o++){var a=(i+o+1)%n.length;if(this.props.isItemSelectable(n[a])){i=a;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(t){t.preventDefault();var n=this.getFilteredItems(this.props);if(n.length){for(var r=this.state.highlightedIndex,i=r===null?n.length:r,o=0;o<n.length;o++){var a=(i-(1+o)+n.length)%n.length;if(this.props.isItemSelectable(n[a])){i=a;break}}i!==n.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(t){var n=this;if(t.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){n.refs.input.select()});else{t.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){n.refs.input.setSelectionRange(i.length,i.length),n.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var T0e=Bw;const K0e=Ka(T0e);function Hi(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputAutocomplete.tsx",t="9e184579071db67d81ca657ba10c62e7f811e36c",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9e184579071db67d81ca657ba10c62e7f811e36c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Hi=function(){return a},a}Hi();const CP=(Hi().s[0]++,140);class Uv extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Hi().s[1]++,{maxHeight:CP}));on(this,"autocompleteMenuEl",(Hi().s[2]++,null))}calcMaxHeight(){if(Hi().f[1]++,Hi().s[4]++,this.props.keepMenuWithinWindowBounds){Hi().b[0][0]++;const n=(Hi().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(Hi().s[6]++,Math.min(n,CP));Hi().s[7]++,r!=this.state.maxHeight?(Hi().b[1][0]++,Hi().s[8]++,this.setState({maxHeight:r})):Hi().b[1][1]++}else Hi().b[0][1]++}componentDidMount(){Hi().f[2]++,Hi().s[9]++,this.calcMaxHeight()}componentDidUpdate(){Hi().f[3]++,Hi().s[10]++,this.calcMaxHeight()}onChange(n){Hi().f[4]++,Hi().s[11]++,this.props.onChange(n===""?(Hi().b[2][0]++,void 0):(Hi().b[2][1]++,n))}render(){return Hi().f[5]++,Hi().s[12]++,W.jsx("div",{ref:n=>{Hi().f[6]++,Hi().s[13]++,this.autocompleteMenuEl=n},children:W.jsx(K0e,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:n=>(Hi().f[7]++,Hi().s[14]++,n[0]),onSelect:n=>(Hi().f[8]++,Hi().s[15]++,this.onChange(n)),onChange:(n,r)=>(Hi().f[9]++,Hi().s[16]++,this.onChange(r)),shouldItemRender:(n,r=(Hi().b[3][0]++,""))=>(Hi().f[10]++,Hi().s[17]++,typeof r=="string"?(Hi().b[4][0]++,Hi().s[18]++,n[0].toLowerCase().indexOf(r.toLowerCase())>-1):(Hi().b[4][1]++,Hi().s[19]++,!1)),renderItem:(n,r)=>(Hi().f[11]++,Hi().s[20]++,W.jsx("div",{className:Hf({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:n[1]},n[0]))})})}}on(Uv,"defaultProps",(Hi().s[3]++,{onChange:()=>{Hi().f[0]++},options:[]}));function Lm(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSource.tsx",t="8b9e7a4f69f9ee43158083d9046d6e4ae2a5cc5c",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:11,column:3}},1:{start:{line:13,column:4},end:{line:29,column:6}},2:{start:{line:25,column:56},end:{line:25,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:30,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:56},end:{line:25,column:66}},line:25}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA2BM;AA3BN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9e7a4f69f9ee43158083d9046d6e4ae2a5cc5c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Lm=function(){return a},a}Lm();class BI extends Mn.Component{render(){var t;return Lm().f[1]++,Lm().s[1]++,W.jsx(la,{label:"Source",fieldSpec:io.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:W.jsx(Uv,{value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceIds)==null?void 0:t.map(n=>(Lm().f[2]++,Lm().s[2]++,[n,n]))})})}}on(BI,"defaultProps",(Lm().s[0]++,{onChange:()=>{Lm().f[0]++},sourceIds:[]}));function Rm(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSourceLayer.tsx",t="955b31dc56de5173e206e334cf44cb55d06a1dd2",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:12,column:3}},1:{start:{line:14,column:4},end:{line:31,column:6}},2:{start:{line:27,column:59},end:{line:27,column:65}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:52},end:{line:27,column:53}},loc:{start:{line:27,column:59},end:{line:27,column:65}},line:27}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA5BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"955b31dc56de5173e206e334cf44cb55d06a1dd2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Rm=function(){return a},a}Rm();class II extends Mn.Component{render(){var t;return Rm().f[1]++,Rm().s[1]++,W.jsx(la,{label:"Source Layer",fieldSpec:Ia.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:W.jsx(Uv,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceLayerIds)==null?void 0:t.map(n=>(Rm().f[2]++,Rm().s[2]++,[n,n]))})})}}on(II,"defaultProps",(Rm().s[0]++,{onChange:()=>{Rm().f[0]++},sourceLayerIds:[],isFixed:!1}));function dr(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalAdd.tsx",t="07c00f990717f090a602f4e2a6fbee536e173ff6",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:10,column:13},end:{line:25,column:3}},1:{start:{line:11,column:26},end:{line:11,column:52}},2:{start:{line:12,column:18},end:{line:15,column:5}},3:{start:{line:16,column:4},end:{line:21,column:5}},4:{start:{line:17,column:6},end:{line:17,column:39}},5:{start:{line:18,column:6},end:{line:20,column:7}},6:{start:{line:19,column:8},end:{line:19,column:59}},7:{start:{line:22,column:4},end:{line:22,column:30}},8:{start:{line:23,column:4},end:{line:23,column:45}},9:{start:{line:24,column:4},end:{line:24,column:35}},10:{start:{line:27,column:4},end:{line:27,column:17}},11:{start:{line:28,column:18},end:{line:31,column:5}},12:{start:{line:32,column:4},end:{line:35,column:5}},13:{start:{line:33,column:6},end:{line:33,column:56}},14:{start:{line:34,column:6},end:{line:34,column:66}},15:{start:{line:36,column:4},end:{line:36,column:23}},16:{start:{line:39,column:20},end:{line:39,column:34}},17:{start:{line:40,column:20},end:{line:40,column:35}},18:{start:{line:41,column:32},end:{line:41,column:56}},19:{start:{line:42,column:32},end:{line:42,column:56}},20:{start:{line:43,column:4},end:{line:50,column:5}},21:{start:{line:47,column:6},end:{line:49,column:9}},22:{start:{line:53,column:22},end:{line:53,column:54}},23:{start:{line:54,column:4},end:{line:54,column:34}},24:{start:{line:57,column:20},end:{line:57,column:22}},25:{start:{line:58,column:18},end:{line:78,column:5}},26:{start:{line:79,column:4},end:{line:84,column:5}},27:{start:{line:80,column:22},end:{line:80,column:30}},28:{start:{line:81,column:6},end:{line:83,column:7}},29:{start:{line:82,column:8},end:{line:82,column:26}},30:{start:{line:85,column:4},end:{line:85,column:19}},31:{start:{line:88,column:20},end:{line:88,column:52}},32:{start:{line:89,column:19},end:{line:89,column:61}},33:{start:{line:90,column:4},end:{line:146,column:6}},34:{start:{line:105,column:16},end:{line:105,column:41}},35:{start:{line:114,column:31},end:{line:114,column:57}},36:{start:{line:123,column:31},end:{line:123,column:59}},37:{start:{line:132,column:31},end:{line:132,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:13},end:{line:10,column:14}},loc:{start:{line:10,column:19},end:{line:25,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:21},end:{line:37,column:3}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:44},end:{line:51,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:29},end:{line:55,column:3}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:19},end:{line:86,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:11},end:{line:147,column:3}},line:87},6:{name:"(anonymous_6)",decl:{start:{line:104,column:24},end:{line:104,column:25}},loc:{start:{line:104,column:31},end:{line:106,column:15}},line:104},7:{name:"(anonymous_7)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:31},end:{line:114,column:57}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:123,column:24},end:{line:123,column:25}},loc:{start:{line:123,column:31},end:{line:123,column:59}},line:123},9:{name:"(anonymous_9)",decl:{start:{line:132,column:24},end:{line:132,column:25}},loc:{start:{line:132,column:31},end:{line:132,column:67}},line:132}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:18,column:6},end:{line:20,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:20,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:18,column:10},end:{line:18,column:68}},type:"binary-expr",locations:[{start:{line:18,column:10},end:{line:18,column:38}},{start:{line:18,column:42},end:{line:18,column:68}}],line:18},3:{loc:{start:{line:32,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:35,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},4:{loc:{start:{line:43,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},5:{loc:{start:{line:45,column:6},end:{line:45,column:160}},type:"binary-expr",locations:[{start:{line:45,column:6},end:{line:45,column:25}},{start:{line:45,column:29},end:{line:45,column:52}},{start:{line:45,column:56},end:{line:45,column:106}},{start:{line:45,column:110},end:{line:45,column:160}}],line:45},6:{loc:{start:{line:53,column:22},end:{line:53,column:54}},type:"binary-expr",locations:[{start:{line:53,column:22},end:{line:53,column:48}},{start:{line:53,column:52},end:{line:53,column:54}}],line:53},7:{loc:{start:{line:54,column:11},end:{line:54,column:33}},type:"binary-expr",locations:[{start:{line:54,column:11},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:54,column:33}}],line:54},8:{loc:{start:{line:81,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:83,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:81},9:{loc:{start:{line:81,column:10},end:{line:81,column:61}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:24}},{start:{line:81,column:28},end:{line:81,column:61}}],line:81},10:{loc:{start:{line:117,column:10},end:{line:125,column:11}},type:"binary-expr",locations:[{start:{line:117,column:10},end:{line:117,column:42}},{start:{line:117,column:62},end:{line:125,column:11}}],line:117},11:{loc:{start:{line:126,column:10},end:{line:134,column:11}},type:"binary-expr",locations:[{start:{line:126,column:10},end:{line:126,column:87}},{start:{line:126,column:107},end:{line:134,column:11}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AAyIM,SACE,KADF;AAzIN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAmB7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAAsB;AAChC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAwC,EAAE,CAAC;AAAA,IAC9F;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAA2B,WAA0B;AAEtE,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cACb;AAAA;AAAA,UAED;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"07c00f990717f090a602f4e2a6fbee536e173ff6"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return dr=function(){return a},a}dr();class P0e extends Mn.Component{constructor(n){dr().f[1]++,dr().s[10]++;super(n);on(this,"addLayer",(dr().s[0]++,()=>{dr().f[0]++;const n=(dr().s[1]++,this.props.layers.slice(0)),r=(dr().s[2]++,{id:this.state.id,type:this.state.type});dr().s[3]++,this.state.type!=="background"?(dr().b[0][0]++,dr().s[4]++,r.source=this.state.source,dr().s[5]++,dr().b[2][0]++,this.state.type!=="raster"&&(dr().b[2][1]++,this.state["source-layer"])?(dr().b[1][0]++,dr().s[6]++,r["source-layer"]=this.state["source-layer"]):dr().b[1][1]++):dr().b[0][1]++,dr().s[7]++,n.push(r),dr().s[8]++,this.props.onLayersChange(n),dr().s[9]++,this.props.onOpenToggle(!1)}));const r=(dr().s[11]++,{type:"fill",id:""});dr().s[12]++,n.sources.length>0?(dr().b[3][0]++,dr().s[13]++,r.source=Object.keys(this.props.sources)[0],dr().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):dr().b[3][1]++,dr().s[15]++,this.state=r}componentDidUpdate(n,r){dr().f[2]++;const i=(dr().s[16]++,r.type),o=(dr().s[17]++,this.state.type),a=(dr().s[18]++,this.getSources(i)),s=(dr().s[19]++,this.getSources(o));dr().s[20]++,dr().b[5][0]++,i!==o&&(dr().b[5][1]++,r.source!=="")&&(dr().b[5][2]++,a.indexOf(r.source)>-1)&&(dr().b[5][3]++,s.indexOf(this.state.source)<0)?(dr().b[4][0]++,dr().s[21]++,this.setState({source:""})):dr().b[4][1]++}getLayersForSource(n){dr().f[3]++;const r=(dr().s[22]++,dr().b[6][0]++,this.props.sources[n]||(dr().b[6][1]++,{}));return dr().s[23]++,dr().b[7][0]++,r.layers||(dr().b[7][1]++,[])}getSources(n){dr().f[4]++;const r=(dr().s[24]++,[]),i=(dr().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});dr().s[26]++;for(const[o,a]of Object.entries(this.props.sources)){const s=(dr().s[27]++,a.type);dr().s[28]++,dr().b[9][0]++,i[s]&&(dr().b[9][1]++,i[s].indexOf(n)>-1)?(dr().b[8][0]++,dr().s[29]++,r.push(o)):dr().b[8][1]++}return dr().s[30]++,r}render(){dr().f[5]++;const n=(dr().s[31]++,this.getSources(this.state.type)),r=(dr().s[32]++,this.getLayersForSource(this.state.source));return dr().s[33]++,W.jsx(Ad,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Add Layer","data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:W.jsxs("div",{className:"maputnik-add-layer",children:[W.jsx(dW,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:i=>{dr().f[6]++,dr().s[34]++,this.setState({id:i})}}),W.jsx(EI,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:i=>(dr().f[7]++,dr().s[35]++,this.setState({type:i}))}),(dr().b[10][0]++,this.state.type!=="background"&&(dr().b[10][1]++,W.jsx(BI,{sourceIds:n,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:i=>(dr().f[8]++,dr().s[36]++,this.setState({source:i}))}))),(dr().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(dr().b[11][1]++,W.jsx(II,{isFixed:!0,sourceLayerIds:r,value:this.state["source-layer"],onChange:i=>(dr().f[9]++,dr().s[37]++,this.setState({"source-layer":i}))}))),W.jsx(Ta,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:"Add Layer"})]})})}}function b1(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/document-uid.ts",t="2e056c51999d1c22bcbf998a95bb8d2937f038ab",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2e056c51999d1c22bcbf998a95bb8d2937f038ab"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return b1=function(){return a},a}b1();let _P=(b1().s[0]++,0);function vv(e=(b1().b[0][0]++,"")){return b1().f[0]++,b1().s[1]++,_P++,b1().s[2]++,e+_P}function ai(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/layer.ts",t="bdaf1e9ff3399a7a02496773fcd0a5b042e01b48",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bdaf1e9ff3399a7a02496773fcd0a5b042e01b48"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ai=function(){return a},a}ai();function D0e(e,t){ai().f[0]++;const n=(ai().s[0]++,{...e.paint});ai().s[1]++,Object.keys(n).forEach(i=>{ai().f[1]++,ai().s[2]++,i in Ia["paint_"+t]?ai().b[0][1]++:(ai().b[0][0]++,ai().s[3]++,delete n[i])});const r=(ai().s[4]++,{...e.layout});return ai().s[5]++,Object.keys(r).forEach(i=>{ai().f[2]++,ai().s[6]++,i in Ia["layout_"+t]?ai().b[1][1]++:(ai().b[1][0]++,ai().s[7]++,delete r[i])}),ai().s[8]++,{...e,paint:n,layout:r,type:t}}function U0e(e,t,n,r){if(ai().f[3]++,ai().s[9]++,r===void 0)if(ai().b[2][0]++,ai().s[10]++,t){ai().b[3][0]++;const i=(ai().s[11]++,{...e,[t]:{...e[t]}});return ai().s[12]++,delete i[t][n],ai().s[13]++,Object.keys(i[t]).length<1?(ai().b[4][0]++,ai().s[14]++,delete i[t]):ai().b[4][1]++,ai().s[15]++,i}else{ai().b[3][1]++;const i=(ai().s[16]++,{...e});return ai().s[17]++,delete i[n],ai().s[18]++,i}else return ai().b[2][1]++,ai().s[19]++,t?(ai().b[5][0]++,ai().s[20]++,{...e,[t]:{...e[t],[n]:r}}):(ai().b[5][1]++,ai().s[21]++,{...e,[n]:r})}function By(e){return ai().f[4]++,ai().s[22]++,e.replace(" ","-").replace("_","-").split("-")[0]}function F0e(e,t){ai().f[5]++;const n=(ai().s[23]++,By(e[t].id));let r=(ai().s[24]++,t);ai().s[25]++;for(let i=(ai().s[26]++,t);i>0;i--){const o=(ai().s[27]++,By(e[i-1].id));if(ai().s[28]++,o===n)ai().b[6][0]++,ai().s[29]++,r=i-1;else return ai().b[6][1]++,ai().s[30]++,r}return ai().s[31]++,r}function qt(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerList.tsx",t="4c57c617870450a6a1edafdceba3a1ea0ccbb118",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:12,column:24},end:{line:15,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:20,column:45}},3:{start:{line:21,column:4},end:{line:21,column:48}},4:{start:{line:22,column:4},end:{line:31,column:6}},5:{start:{line:34,column:4},end:{line:43,column:7}},6:{start:{line:45,column:17},end:{line:62,column:3}},7:{start:{line:46,column:14},end:{line:46,column:15}},8:{start:{line:47,column:22},end:{line:47,column:24}},9:{start:{line:48,column:4},end:{line:57,column:7}},10:{start:{line:49,column:26},end:{line:49,column:51}},11:{start:{line:50,column:24},end:{line:50,column:52}},12:{start:{line:51,column:6},end:{line:53,column:7}},13:{start:{line:52,column:8},end:{line:52,column:63}},14:{start:{line:54,column:6},end:{line:56,column:9}},15:{start:{line:55,column:8},end:{line:55,column:17}},16:{start:{line:58,column:4},end:{line:61,column:7}},17:{start:{line:64,column:19},end:{line:64,column:21}},18:{start:{line:65,column:41},end:{line:65,column:50}},19:{start:{line:66,column:4},end:{line:83,column:5}},20:{start:{line:66,column:17},end:{line:66,column:18}},21:{start:{line:67,column:24},end:{line:67,column:44}},22:{start:{line:68,column:28},end:{line:68,column:52}},23:{start:{line:69,column:6},end:{line:72,column:8}},24:{start:{line:73,column:20},end:{line:76,column:7}},25:{start:{line:77,column:6},end:{line:82,column:7}},26:{start:{line:78,column:26},end:{line:78,column:51}},27:{start:{line:79,column:8},end:{line:79,column:30}},28:{start:{line:81,column:8},end:{line:81,column:29}},29:{start:{line:84,column:4},end:{line:84,column:18}},30:{start:{line:87,column:22},end:{line:87,column:50}},31:{start:{line:88,column:22},end:{line:88,column:55}},32:{start:{line:89,column:4},end:{line:93,column:5}},33:{start:{line:90,column:6},end:{line:90,column:68}},34:{start:{line:92,column:6},end:{line:92,column:35}},35:{start:{line:94,column:4},end:{line:96,column:7}},36:{start:{line:99,column:22},end:{line:99,column:78}},37:{start:{line:100,column:4},end:{line:100,column:51}},38:{start:{line:103,column:4},end:{line:105,column:5}},39:{start:{line:104,column:6},end:{line:104,column:18}},40:{start:{line:107,column:18},end:{line:109,column:7}},41:{start:{line:110,column:6},end:{line:114,column:7}},42:{start:{line:111,column:8},end:{line:113,column:10}},43:{start:{line:115,column:6},end:{line:115,column:17}},44:{start:{line:117,column:24},end:{line:120,column:5}},45:{start:{line:122,column:18},end:{line:124,column:7}},46:{start:{line:125,column:6},end:{line:125,column:27}},47:{start:{line:126,column:6},end:{line:126,column:17}},48:{start:{line:128,column:23},end:{line:131,column:5}},49:{start:{line:132,column:25},end:{line:132,column:53}},50:{start:{line:133,column:4},end:{line:133,column:24}},51:{start:{line:136,column:4},end:{line:152,column:5}},52:{start:{line:137,column:31},end:{line:137,column:59}},53:{start:{line:138,column:6},end:{line:151,column:7}},54:{start:{line:139,column:23},end:{line:139,column:44}},55:{start:{line:140,column:24},end:{line:143,column:9}},56:{start:{line:144,column:25},end:{line:149,column:19}},57:{start:{line:145,column:10},end:{line:145,column:37}},58:{start:{line:146,column:10},end:{line:148,column:11}},59:{start:{line:147,column:12},end:{line:147,column:36}},60:{start:{line:150,column:8},end:{line:150,column:33}},61:{start:{line:155,column:22},end:{line:155,column:24}},62:{start:{line:156,column:14},end:{line:156,column:15}},63:{start:{line:157,column:26},end:{line:157,column:46}},64:{start:{line:158,column:4},end:{line:209,column:7}},65:{start:{line:159,column:26},end:{line:159,column:51}},66:{start:{line:160,column:6},end:{line:173,column:7}},67:{start:{line:161,column:36},end:{line:171,column:9}},68:{start:{line:165,column:47},end:{line:165,column:52}},69:{start:{line:172,column:8},end:{line:172,column:28}},70:{start:{line:174,column:6},end:{line:208,column:9}},71:{start:{line:175,column:25},end:{line:175,column:72}},72:{start:{line:176,column:27},end:{line:178,column:10}},73:{start:{line:177,column:10},end:{line:177,column:97}},74:{start:{line:179,column:32},end:{line:179,column:34}},75:{start:{line:180,column:8},end:{line:182,column:9}},76:{start:{line:181,column:10},end:{line:181,column:53}},77:{start:{line:183,column:41},end:{line:205,column:9}},78:{start:{line:206,column:8},end:{line:206,column:33}},79:{start:{line:207,column:8},end:{line:207,column:17}},80:{start:{line:210,column:4},end:{line:262,column:6}},81:{start:{line:265,column:35},end:{line:265,column:118}},82:{start:{line:265,column:80},end:{line:265,column:117}},83:{start:{line:268,column:4},end:{line:277,column:6}},84:{start:{line:275,column:33},end:{line:275,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:25},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:32,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:25},end:{line:44,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:45,column:17},end:{line:45,column:18}},loc:{start:{line:45,column:23},end:{line:62,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:48,column:33},end:{line:48,column:34}},loc:{start:{line:48,column:45},end:{line:57,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:54,column:21},end:{line:54,column:22}},loc:{start:{line:54,column:33},end:{line:56,column:7}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:18},end:{line:85,column:3}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:37},end:{line:97,column:3}},line:86},8:{name:"(anonymous_8)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:32},end:{line:101,column:3}},line:98},9:{name:"(anonymous_9)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:46},end:{line:134,column:3}},line:102},10:{name:"getRequiredProps",decl:{start:{line:106,column:13},end:{line:106,column:29}},loc:{start:{line:106,column:37},end:{line:116,column:5}},line:106},11:{name:"withoutLayers",decl:{start:{line:121,column:13},end:{line:121,column:26}},loc:{start:{line:121,column:34},end:{line:127,column:5}},line:121},12:{name:"(anonymous_12)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:32},end:{line:153,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:144,column:50},end:{line:144,column:51}},loc:{start:{line:144,column:63},end:{line:149,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:11},end:{line:263,column:3}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:158,column:26},end:{line:158,column:27}},loc:{start:{line:158,column:38},end:{line:209,column:5}},line:158},16:{name:"(anonymous_16)",decl:{start:{line:165,column:40},end:{line:165,column:41}},loc:{start:{line:165,column:47},end:{line:165,column:52}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:174,column:21},end:{line:174,column:22}},loc:{start:{line:174,column:44},end:{line:208,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:176,column:50},end:{line:176,column:51}},loc:{start:{line:176,column:61},end:{line:178,column:9}},line:176},19:{name:"(anonymous_19)",decl:{start:{line:265,column:53},end:{line:265,column:54}},loc:{start:{line:265,column:80},end:{line:265,column:117}},line:265},20:{name:"(anonymous_20)",decl:{start:{line:267,column:2},end:{line:267,column:3}},loc:{start:{line:267,column:11},end:{line:278,column:3}},line:267},21:{name:"(anonymous_21)",decl:{start:{line:275,column:27},end:{line:275,column:28}},loc:{start:{line:275,column:33},end:{line:275,column:38}},line:275}},branchMap:{0:{loc:{start:{line:51,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:51,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},1:{loc:{start:{line:71,column:8},end:{line:71,column:79}},type:"cond-expr",locations:[{start:{line:71,column:41},end:{line:71,column:75}},{start:{line:71,column:78},end:{line:71,column:79}}],line:71},2:{loc:{start:{line:77,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:82,column:7}},{start:{line:80,column:13},end:{line:82,column:7}}],line:77},3:{loc:{start:{line:77,column:10},end:{line:77,column:81}},type:"binary-expr",locations:[{start:{line:77,column:10},end:{line:77,column:23}},{start:{line:77,column:27},end:{line:77,column:81}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:89},5:{loc:{start:{line:100,column:11},end:{line:100,column:50}},type:"cond-expr",locations:[{start:{line:100,column:34},end:{line:100,column:38}},{start:{line:100,column:41},end:{line:100,column:50}}],line:100},6:{loc:{start:{line:103,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:103,column:4},end:{line:105,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:103},7:{loc:{start:{line:110,column:6},end:{line:114,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:114,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:110},8:{loc:{start:{line:132,column:27},end:{line:132,column:52}},type:"binary-expr",locations:[{start:{line:132,column:27},end:{line:132,column:38}},{start:{line:132,column:42},end:{line:132,column:52}}],line:132},9:{loc:{start:{line:136,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:136,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:136},10:{loc:{start:{line:138,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:138},11:{loc:{start:{line:138,column:10},end:{line:138,column:51}},type:"binary-expr",locations:[{start:{line:138,column:10},end:{line:138,column:26}},{start:{line:138,column:30},end:{line:138,column:51}}],line:138},12:{loc:{start:{line:146,column:10},end:{line:148,column:11}},type:"if",locations:[{start:{line:146,column:10},end:{line:148,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},13:{loc:{start:{line:146,column:14},end:{line:146,column:68}},type:"binary-expr",locations:[{start:{line:146,column:14},end:{line:146,column:32}},{start:{line:146,column:36},end:{line:146,column:68}}],line:146},14:{loc:{start:{line:160,column:6},end:{line:173,column:7}},type:"if",locations:[{start:{line:160,column:6},end:{line:173,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},15:{loc:{start:{line:167,column:22},end:{line:167,column:98}},type:"binary-expr",locations:[{start:{line:167,column:22},end:{line:167,column:57}},{start:{line:167,column:61},end:{line:167,column:98}}],line:167},16:{loc:{start:{line:177,column:17},end:{line:177,column:96}},type:"binary-expr",locations:[{start:{line:177,column:17},end:{line:177,column:29}},{start:{line:177,column:33},end:{line:177,column:62}},{start:{line:177,column:66},end:{line:177,column:96}}],line:177},17:{loc:{start:{line:180,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:180,column:8},end:{line:182,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:180},18:{loc:{start:{line:187,column:52},end:{line:187,column:153}},type:"binary-expr",locations:[{start:{line:187,column:52},end:{line:187,column:69}},{start:{line:187,column:73},end:{line:187,column:112}},{start:{line:187,column:116},end:{line:187,column:153}}],line:187},19:{loc:{start:{line:188,column:53},end:{line:188,column:105}},type:"binary-expr",locations:[{start:{line:188,column:53},end:{line:188,column:84}},{start:{line:188,column:88},end:{line:188,column:105}}],line:188},20:{loc:{start:{line:196,column:25},end:{line:196,column:43}},type:"binary-expr",locations:[{start:{line:196,column:25},end:{line:196,column:37}},{start:{line:196,column:41},end:{line:196,column:43}}],line:196},21:{loc:{start:{line:239,column:26},end:{line:239,column:90}},type:"cond-expr",locations:[{start:{line:239,column:69},end:{line:239,column:79}},{start:{line:239,column:82},end:{line:239,column:90}}],line:239}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAiNoB,cAkEd,YAlEc;AAjNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AAsBrD,MAAM,2BAA2B,MAAM,UAA4D;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAgC;AAC1C,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAmC,oBAAM;AAAA,YACzD,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OAAO,aAAa;AAAA;AAAA,YAC3D,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBAA2C;AAAA;AAAA,YAEvD,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAW;AAAA,cAEX,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAGA,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4c57c617870450a6a1edafdceba3a1ea0ccbb118"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return qt=function(){return a},a}qt();class vW extends Mn.Component{constructor(n){qt().f[1]++,qt().s[1]++;super(n);on(this,"selectedItemRef");on(this,"scrollContainerRef");on(this,"toggleLayers",(qt().s[6]++,()=>{qt().f[3]++;let n=(qt().s[7]++,0);const r=(qt().s[8]++,{});qt().s[9]++,this.groupedLayers().forEach(i=>{qt().f[4]++;const o=(qt().s[10]++,By(i[0].id)),a=(qt().s[11]++,[o,n].join("-"));qt().s[12]++,i.length>1?(qt().b[0][0]++,qt().s[13]++,r[a]=this.state.areAllGroupsExpanded):qt().b[0][1]++,qt().s[14]++,i.forEach(s=>{qt().f[5]++,qt().s[15]++,n+=1})}),qt().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));qt().s[2]++,this.selectedItemRef=Mn.createRef(),qt().s[3]++,this.scrollContainerRef=Mn.createRef(),qt().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+vv()},isOpen:{add:!1}}}toggleModal(n){qt().f[2]++,qt().s[5]++,this.setState({keys:{...this.state.keys,[n]:+vv()},isOpen:{...this.state.isOpen,[n]:!this.state.isOpen[n]}})}groupedLayers(){qt().f[6]++;const n=(qt().s[17]++,[]),r=(qt().s[18]++,new Map);qt().s[19]++;for(let i=(qt().s[20]++,0);i<this.props.layers.length;i++){const o=(qt().s[21]++,this.props.layers[i]),a=(qt().s[22]++,this.props.layers[i-1]);qt().s[23]++,r.set(o.id,r.has(o.id)?(qt().b[1][0]++,r.get(o.id)+1):(qt().b[1][1]++,0));const s=(qt().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if(qt().s[25]++,qt().b[3][0]++,a&&(qt().b[3][1]++,By(a.id)==By(s.id))){qt().b[2][0]++;const h=(qt().s[26]++,n[n.length-1]);qt().s[27]++,h.push(s)}else qt().b[2][1]++,qt().s[28]++,n.push([s])}return qt().s[29]++,n}toggleLayerGroup(n,r){qt().f[7]++;const i=(qt().s[30]++,[n,r].join("-")),o=(qt().s[31]++,{...this.state.collapsedGroups});qt().s[32]++,i in this.state.collapsedGroups?(qt().b[4][0]++,qt().s[33]++,o[i]=!this.state.collapsedGroups[i]):(qt().b[4][1]++,qt().s[34]++,o[i]=!1),qt().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(n,r){qt().f[8]++;const i=(qt().s[36]++,this.state.collapsedGroups[[n,r].join("-")]);return qt().s[37]++,i===void 0?(qt().b[5][0]++,!0):(qt().b[5][1]++,i)}shouldComponentUpdate(n,r){if(qt().f[9]++,qt().s[38]++,this.state!==r)return qt().b[6][0]++,qt().s[39]++,!0;qt().b[6][1]++;function i(m){qt().f[10]++;const C=(qt().s[40]++,{id:m.id});return qt().s[41]++,m.layout?(qt().b[7][0]++,qt().s[42]++,C.layout={visibility:m.layout.visibility}):qt().b[7][1]++,qt().s[43]++,C}const o=(qt().s[44]++,FE.isEqual(n.layers.map(i),this.props.layers.map(i)));function a(m){qt().f[11]++;const C=(qt().s[45]++,{...m});return qt().s[46]++,delete C.layers,qt().s[47]++,C}const s=(qt().s[48]++,FE.isEqual(a(this.props),a(n))),h=(qt().s[49]++,qt().b[8][0]++,!(o&&(qt().b[8][1]++,s)));return qt().s[50]++,h}componentDidUpdate(n){if(qt().f[12]++,qt().s[51]++,n.selectedLayerIndex!==this.props.selectedLayerIndex){qt().b[9][0]++;const r=(qt().s[52]++,this.selectedItemRef.current);if(qt().s[53]++,qt().b[11][0]++,r&&(qt().b[11][1]++,r.node)){qt().b[10][0]++;const i=(qt().s[54]++,r.node),o=(qt().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),a=(qt().s[56]++,new IntersectionObserver(s=>{qt().f[13]++,qt().s[57]++,a.unobserve(i),qt().s[58]++,qt().b[13][0]++,s.length>0&&(qt().b[13][1]++,s[0].intersectionRatio<1)?(qt().b[12][0]++,qt().s[59]++,i.scrollIntoView()):qt().b[12][1]++},o));qt().s[60]++,a.observe(i)}else qt().b[10][1]++}else qt().b[9][1]++}render(){qt().f[14]++;const n=(qt().s[61]++,[]);let r=(qt().s[62]++,0);const i=(qt().s[63]++,this.groupedLayers());return qt().s[64]++,i.forEach(o=>{qt().f[15]++;const a=(qt().s[65]++,By(o[0].id));if(qt().s[66]++,o.length>1){qt().b[14][0]++;const s=(qt().s[67]++,W.jsx(qfe,{"data-wd-key":[a,r].join("-"),"aria-controls":o.map(h=>(qt().f[16]++,qt().s[68]++,h.key)).join(" "),title:a,isActive:(qt().b[15][0]++,!this.isCollapsed(a,r)||(qt().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,a,r)},`group-${a}-${r}`));qt().s[69]++,n.push(s)}else qt().b[14][1]++;qt().s[70]++,o.forEach((s,h)=>{var P;qt().f[17]++;const m=(qt().s[71]++,F0e(this.props.layers,r)),C=(qt().s[72]++,this.props.errors.find(D=>(qt().f[18]++,qt().s[73]++,qt().b[16][0]++,D.parsed&&(qt().b[16][1]++,D.parsed.type==="layer")&&(qt().b[16][2]++,D.parsed.data.index==r)))),E=(qt().s[74]++,{});qt().s[75]++,r===this.props.selectedLayerIndex?(qt().b[17][0]++,qt().s[76]++,E.ref=this.selectedItemRef):qt().b[17][1]++;const O=(qt().s[77]++,W.jsx(Spe,{className:Hf({"maputnik-layer-list-item-collapsed":(qt().b[18][0]++,o.length>1&&(qt().b[18][1]++,this.isCollapsed(a,m))&&(qt().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(qt().b[19][0]++,h==o.length-1&&(qt().b[19][1]++,o.length>1)),"maputnik-layer-list-item--error":!!C}),index:r,id:s.key,layerId:s.id,layerIndex:r,layerType:s.type,visibility:(qt().b[20][0]++,s.layout||(qt().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(P=this.props.onLayerDestroy)==null?void 0:P.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...E},s.key));qt().s[78]++,n.push(O),qt().s[79]++,r+=1})}),qt().s[80]++,W.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":"Layers list",ref:this.scrollContainerRef,children:[W.jsx(P0e,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),W.jsxs("header",{className:"maputnik-layer-list-header",children:[W.jsx("span",{className:"maputnik-layer-list-header-title",children:"Layers"}),W.jsx("span",{className:"maputnik-space"}),W.jsx("div",{className:"maputnik-default-property",children:W.jsx("div",{className:"maputnik-multibutton",children:W.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(qt().b[21][0]++,"Collapse"):(qt().b[21][1]++,"Expand")})})}),W.jsx("div",{className:"maputnik-default-property",children:W.jsx("div",{className:"maputnik-multibutton",children:W.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:"Add Layer"})})})]}),W.jsx("div",{role:"navigation","aria-label":"Layers list",children:W.jsx("ul",{className:"maputnik-layer-list-container",children:n})})]})}}on(vW,"defaultProps",(qt().s[0]++,{onLayerSelect:()=>{qt().f[0]++}}));const L0e=(qt().s[81]++,bpe(e=>(qt().f[19]++,qt().s[82]++,W.jsx(vW,{...e}))));class R0e extends Mn.Component{render(){return qt().f[20]++,qt().s[83]++,W.jsx(L0e,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>(qt().f[21]++,qt().s[84]++,!1)})}}var Iw={},CW="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function z0e(e,t){Iw[e]=t}function j0e(e){delete Iw[e]}function N0e(e,t){var n=Iw[e];if(!n)throw new Error("Cannot open "+CW);n.openMenu(t)}function G0e(e,t){var n=Iw[e];if(!n)throw new Error("Cannot close "+CW);n.closeMenu(t)}var _W={registerManager:z0e,unregisterManager:j0e,openMenu:N0e,closeMenu:G0e};function zs(e){e=e||{};var t=e.keybindings||{};this._settings={keybindings:{next:t.next||{keyCode:40},prev:t.prev||{keyCode:38},first:t.first,last:t.last},wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var n,r;for(n in this._settings.keybindings)r=this._settings.keybindings[n],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:n,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}zs.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};zs.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};zs.prototype._handleKeydownEvent=function(e){var t=this._getActiveElementIndex();if(t!==-1){var n=!1;this._keybindingsLookup.forEach((function(r){if(W0e(r.eventMatcher,e))switch(n=!0,e.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),n||this._handleUnboundKey(e)}};zs.prototype.moveFocusForward=function(){var e=this._getActiveElementIndex(),t;return e<this._members.length-1?t=e+1:this._settings.wrap?t=0:t=e,this.focusNodeAtIndex(t),t};zs.prototype.moveFocusBack=function(){var e=this._getActiveElementIndex(),t;return e>0?t=e-1:this._settings.wrap?t=this._members.length-1:t=e,this.focusNodeAtIndex(t),t};zs.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};zs.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};zs.prototype._handleUnboundKey=function(e){if(this._settings.stringSearch){if(this._searchString!==""&&(e.key===" "||e.keyCode===32))return e.preventDefault(),-1;if(!Q0e(e.keyCode)||e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}};zs.prototype._clearSearchString=function(){this._searchString=""};zs.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()};zs.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){e._clearSearchString()},this._settings.stringSearchDelay)};zs.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};zs.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};zs.prototype.moveFocusByString=function(e){for(var t,n=0,r=this._members.length;n<r;n++)if(t=this._members[n],!!t.text&&t.text.indexOf(e)===0)return bW(t.node)};zs.prototype._findIndexOfNode=function(e){for(var t=0,n=this._members.length;t<n;t++)if(this._members[t].node===e)return t;return-1};zs.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};zs.prototype.focusNodeAtIndex=function(e){var t=this._members[e];return t&&bW(t.node),this};zs.prototype.addMember=function(e,t){var n=e.node||e,r=e.text||n.getAttribute("data-focus-group-text")||n.textContent||"";this._checkNode(n);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:n,text:i};return t!=null?this._members.splice(t,0,o):this._members.push(o),this};zs.prototype.removeMember=function(e){var t=typeof e=="number"?e:this._findIndexOfNode(e);if(t!==-1)return this._members.splice(t,1),this};zs.prototype.clearMembers=function(){return this._members=[],this};zs.prototype.setMembers=function(e){this.clearMembers();for(var t=0,n=e.length;t<n;t++)this.addMember(e[t]);return this};zs.prototype.getMembers=function(){return this._members};zs.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e};function W0e(e,t){for(var n in e)if(t[n]!==void 0&&e[n]!==t[n])return!1;return!0}function Q0e(e){return e>=65&&e<=90}function bW(e){!e||!e.focus||(e.focus(),e.tagName.toLowerCase()==="input"&&e.select())}var $0e=function(t){return new zs(t)},Y0e=$0e,bP=_W,q0e={wrap:!0,stringSearch:!0},H0e={init:function(t){this.updateOptions(t),this.handleBlur=V0e.bind(this),this.handleSelection=Z0e.bind(this),this.handleMenuKey=X0e.bind(this),this.focusGroup=Y0e(q0e),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(t){var n=this.options;this.options=t||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&bP.registerManager(this.options.id,this),n&&n.id&&n.id!==this.options.id&&bP.unregisterManager(this.options.id,this)},focusItem:function(t){this.focusGroup.focusNodeAtIndex(t)},addItem:function(t){this.focusGroup.addMember(t)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(t){this.focusGroup._handleUnboundKey(t)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(t){if(!this.isOpen&&(t=t||{},t.focusMenu===void 0&&(t.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),t.focusMenu)){var n=this;this.moveFocusTimer=setTimeout(function(){n.focusItem(0)},0)}},closeMenu:function(t){this.isOpen&&(t=t||{},this.isOpen=!1,this.update(),t.focusButton&&this.button.ref.current.focus())},toggleMenu:function(t,n){t=t||{},n=n||{},this.isOpen?this.closeMenu(t):this.openMenu(n)}};function V0e(){var e=this;e.blurTimer=setTimeout(function(){if(e.button){var t=e.button.ref.current;if(t){var n=t.ownerDocument.activeElement;if(!(t&&n===t)){var r=e.menu.ref.current;if(r===n){e.focusItem(0);return}r&&r.contains(n)||e.isOpen&&e.closeMenu({focusButton:!1})}}}},0)}function Z0e(e,t){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(e,t)}function X0e(e){if(this.isOpen)switch(e.key){case"Escape":e.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":e.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":e.preventDefault(),this.focusGroup.moveFocusToLast();break}}var J0e=function(e){var t=Object.create(H0e);return t.init(e),t},e1e=ar,t1e=e1e.createContext(),kw=t1e,Nx=zh,Tw={refType:Nx.oneOfType([Nx.func,Nx.shape({current:Nx.elementType})])},Kw=function(e,t,n){n=n||{};for(var r in t)t.hasOwnProperty(r)&&(n[r]||(e[r]=t[r]))};function n1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r1e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function i1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w_=ar,Qg=zh,o1e=J0e,a1e=kw,s1e=Tw,l1e=s1e.refType,lB=Kw,Z4={children:Qg.node.isRequired,forwardedRef:l1e,onMenuToggle:Qg.func,onSelection:Qg.func,closeOnSelection:Qg.bool,closeOnBlur:Qg.bool,tag:Qg.string},xP=function(t){return{onMenuToggle:t.onMenuToggle,onSelection:t.onSelection,closeOnSelection:t.closeOnSelection,closeOnBlur:t.closeOnBlur,id:t.id}},kI=function(e){i1e(t,e);function t(n){n1e(this,t);var r=r1e(this,e.call(this,n));return r.manager=o1e(xP(n)),r}return t.prototype.componentDidUpdate=function(){this.manager.updateOptions(xP(this.props))},t.prototype.render=function(){var r={};return lB(r,this.props,Z4),w_.createElement(a1e.Provider,{value:this.manager},w_.createElement(this.props.tag,r,this.props.children))},t}(w_.Component);kI.propTypes=Z4;kI.defaultProps={tag:"div"};var u1e=w_.forwardRef(function(e,t){var n={forwardedRef:t};return lB(n,e,{children:Z4.children,forwardedRef:Z4.forwardedRef}),lB(n,{forwardedRef:t}),w_.createElement(kI,n,e.children)});function A1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xy=ar,Gx=zh,d1e=kw,h1e=Tw,f1e=h1e.refType,_3=Kw,M_={ambManager:Gx.object.isRequired,children:Gx.node.isRequired,disabled:Gx.bool,forwardedRef:f1e,tag:Gx.string},p1e=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},TI=function(e){c1e(t,e);function t(){var n,r,i;A1e(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=wP(this,e.call.apply(e,[this].concat(a))),r),r.ref=Xy.createRef(),r.handleKeyDown=function(h){if(!r.props.disabled){var m=r.props.ambManager;switch(h.key){case"ArrowDown":h.preventDefault(),m.isOpen?m.focusItem(0):m.openMenu();break;case"Enter":case" ":h.preventDefault(),m.toggleMenu();break;case"Escape":m.handleMenuKey(h);break;default:m.handleButtonNonArrowKey(h)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),wP(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.button=this},t.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},t.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},a={};return _3(a,M_),p1e().indexOf(r.tag)>=0&&delete a.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),_3(o,r,a),_3(o,{ref:this.setRef}),Xy.createElement(r.tag,o,r.children)},t}(Xy.Component);TI.propTypes=M_;TI.defaultProps={tag:"span"};var m1e=Xy.forwardRef(function(e,t){return Xy.createElement(d1e.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return _3(r,e,{ambManager:M_.ambManager,children:M_.children,forwardedRef:M_.forwardedRef}),Xy.createElement(TI,r,e.children)})}),g1e=function(t,n,r){var i=0,o=0,a=!1,s=!1,h=!1;t.addEventListener("click",m,r),t.addEventListener("touchstart",C,r);function m(ee){h||n(ee)}function C(ee){h=!0,!a&&(a=!0,t.addEventListener("touchmove",E,r),t.addEventListener("touchend",O,r),t.addEventListener("touchcancel",P,r),s=!1,i=ee.touches[0].clientX,o=ee.touches[0].clientY)}function E(ee){s||Math.abs(ee.touches[0].clientX-i)<=10&&Math.abs(ee.touches[0].clientY-o)<=10||(s=!0)}function O(ee){a=!1,D(),s||n(ee)}function P(){a=!1,s=!1,i=0,o=0}function D(){t.removeEventListener("touchmove",E,r),t.removeEventListener("touchend",O,r),t.removeEventListener("touchcancel",P,r)}function $(){t.removeEventListener("click",m,r),t.removeEventListener("touchstart",C,r),D()}return{remove:$}};function y1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function v1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Jy=ar,LC=zh,C1e=g1e,_1e=kw,b1e=Tw,x1e=b1e.refType,uB=Kw,S_={ambManager:LC.object.isRequired,children:LC.oneOfType([LC.func,LC.node]).isRequired,forwardedRef:x1e,tag:LC.string},KI=function(e){v1e(t,e);function t(){var n,r,i;y1e(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=MP(this,e.call.apply(e,[this].concat(a))),r),r.ref=Jy.createRef(),r.addTapListener=function(){var h=r.ref.current;if(h){var m=h.ownerDocument;m&&(r.tapListener=C1e(m.documentElement,r.handleTap))}},r.handleTap=function(h){r.ref.current.contains(h.target)||r.props.ambManager.button.ref.current.contains(h.target)||r.props.ambManager.closeMenu()},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),MP(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.menu=this},t.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},t.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},t.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var a={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(a.onBlur=i.handleBlur),uB(a,r,S_),uB(a,{ref:this.setRef}),Jy.createElement(r.tag,a,o)},t}(Jy.Component);KI.propTypes=S_;KI.defaultProps={tag:"div"};var w1e=Jy.forwardRef(function(e,t){return Jy.createElement(_1e.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return uB(r,e,{ambManager:S_.ambManager,children:S_.children,forwardedRef:S_.forwardedRef}),Jy.createElement(KI,r,e.children)})});function M1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function S1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ev=ar,RC=zh,E1e=kw,O1e=Tw,B1e=O1e.refType,xW=Kw,E_={ambManager:RC.object.isRequired,children:RC.node.isRequired,forwardedRef:B1e,tag:RC.string,text:RC.string,value:RC.any},PI=function(e){S1e(t,e);function t(){var n,r,i;M1e(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=SP(this,e.call.apply(e,[this].concat(a))),r),r.ref=ev.createRef(),r.handleKeyDown=function(h){h.key!=="Enter"&&h.key!==" "||r.props.tag==="a"&&r.props.href||(h.preventDefault(),r.selectItem(h))},r.selectItem=function(h){var m=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(m,h)},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),SP(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},t.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return xW(r,this.props,E_),ev.createElement(this.props.tag,r,this.props.children)},t}(ev.Component);PI.propTypes=E_;PI.defaultProps={tag:"div"};var I1e=ev.forwardRef(function(e,t){return ev.createElement(E1e.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return xW(r,e,{ambManager:E_.ambManager,children:E_.children,forwardedRef:E_.forwardedRef}),ev.createElement(PI,r,e.children)})}),EP=_W,Wx={Wrapper:u1e,Button:m1e,Menu:w1e,MenuItem:I1e,openMenu:EP.openMenu,closeMenu:EP.closeMenu};function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){bs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dw(e,t,n){return t&&BP(e.prototype,t),n&&BP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vf(){return Vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}function DI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cB(e,t)}function X4(e){return X4=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},X4(e)}function cB(e,t){return cB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cB(e,t)}function k1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T1e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Uw(e,t){if(e==null)return{};var n=T1e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Th(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K1e(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Th(e)}function UI(e){var t=k1e();return function(){var r=X4(e),i;if(t){var o=X4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return K1e(this,i)}}function P1e(e,t){return F1e(e)||R1e(e,t)||wW(e,t)||j1e()}function D1e(e){return U1e(e)||L1e(e)||wW(e)||z1e()}function U1e(e){if(Array.isArray(e))return dB(e)}function F1e(e){if(Array.isArray(e))return e}function L1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(h){o=!0,s=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function wW(e,t){if(e){if(typeof e=="string")return dB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dB(e,t)}}function dB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N1e=Dw(function e(t){var n=this,r=t.expanded,i=r===void 0?[]:r,o=t.allowMultipleExpanded,a=o===void 0?!1:o,s=t.allowZeroExpanded,h=s===void 0?!1:s;Pw(this,e),bs(this,"expanded",void 0),bs(this,"allowMultipleExpanded",void 0),bs(this,"allowZeroExpanded",void 0),bs(this,"toggleExpanded",function(m){if(n.isItemDisabled(m))return n;var C=n.isItemExpanded(m);return C?n.augment({expanded:n.expanded.filter(function(E){return E!==m})}):n.augment({expanded:n.allowMultipleExpanded?[].concat(D1e(n.expanded),[m]):[m]})}),bs(this,"isItemDisabled",function(m){var C=n.isItemExpanded(m),E=n.expanded.length===1;return!!(C&&!n.allowZeroExpanded&&E)}),bs(this,"isItemExpanded",function(m){return n.expanded.indexOf(m)!==-1}),bs(this,"getPanelAttributes",function(m,C){var E=C??n.isItemExpanded(m);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!E:void 0,"aria-labelledby":n.getButtonId(m),id:n.getPanelId(m),hidden:E?void 0:!0}}),bs(this,"getHeadingAttributes",function(){return{role:"heading"}}),bs(this,"getButtonAttributes",function(m,C){var E=C??n.isItemExpanded(m),O=n.isItemDisabled(m);return{id:n.getButtonId(m),"aria-disabled":O,"aria-expanded":E,"aria-controls":n.getPanelId(m),role:"button",tabIndex:0}}),bs(this,"getPanelId",function(m){return"accordion__panel-".concat(m)}),bs(this,"getButtonId",function(m){return"accordion__heading-".concat(m)}),bs(this,"augment",function(m){return new e(AB({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},m))}),this.expanded=i,this.allowMultipleExpanded=a,this.allowZeroExpanded=h}),MW=ar.createContext(null),SW=function(e){DI(n,e);var t=UI(n);function n(){var r;Pw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),bs(Th(r),"state",new N1e({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),bs(Th(r),"toggleExpanded",function(s){r.setState(function(h){return h.toggleExpanded(s)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),bs(Th(r),"isItemDisabled",function(s){return r.state.isItemDisabled(s)}),bs(Th(r),"isItemExpanded",function(s){return r.state.isItemExpanded(s)}),bs(Th(r),"getPanelAttributes",function(s,h){return r.state.getPanelAttributes(s,h)}),bs(Th(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),bs(Th(r),"getButtonAttributes",function(s,h){return r.state.getButtonAttributes(s,h)}),r}return Dw(n,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,a=i.allowMultipleExpanded;return ar.createElement(MW.Provider,{value:{allowMultipleExpanded:a,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),n}(ar.PureComponent);bs(SW,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var EW=function(e){DI(n,e);var t=UI(n);function n(){var r;Pw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),bs(Th(r),"renderChildren",function(s){return s?r.props.children(s):null}),r}return Dw(n,[{key:"render",value:function(){return ar.createElement(MW.Consumer,null,this.renderChildren)}}]),n}(ar.PureComponent),G1e=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],W1e=function(t){var n=t.className,r=n===void 0?"accordion":n,i=t.allowMultipleExpanded,o=t.allowZeroExpanded,a=t.onChange,s=t.preExpanded,h=Uw(t,G1e);return ar.createElement(SW,{preExpanded:s,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:a},ar.createElement("div",Vf({"data-accordion-component":"Accordion",className:r},h)))},hB;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(hB||(hB={}));var OW=hB,d6=0;function Q1e(){var e=d6;return d6=d6+1,"raa-".concat(e)}var $1e=ar.useId||Q1e,Y1e=/[\u0009\u000a\u000c\u000d\u0020]/g;function Cb(e){return e===""||Y1e.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var BW=ar.createContext(null),q1e=function(t){var n=t.children,r=t.uuid,i=t.accordionContext,o=t.dangerouslySetExpanded,a=function(){i.toggleExpanded(r)},s=function(m){var C=o??m.isItemExpanded(r),E=m.isItemDisabled(r),O=m.getPanelAttributes(r,o),P=m.getHeadingAttributes(r),D=m.getButtonAttributes(r,o);return ar.createElement(BW.Provider,{value:{uuid:r,expanded:C,disabled:E,toggleExpanded:a,panelAttributes:O,headingAttributes:P,buttonAttributes:D}},n)};return ar.createElement(EW,null,s)},H1e=function(t){return ar.createElement(EW,null,function(n){return ar.createElement(q1e,Vf({},t,{accordionContext:n}))})},Fw=function(t){var n=t.children,r=function(o){return o?n(o):null};return ar.createElement(BW.Consumer,null,r)},V1e=["uuid","dangerouslySetExpanded","className","activeClassName"],IW=function(t){var n=t.uuid,r=t.dangerouslySetExpanded,i=t.className,o=i===void 0?"accordion__item":i,a=t.activeClassName,s=Uw(t,V1e),h=ar.useState($1e()),m=P1e(h,1),C=m[0],E=n??C,O=function(D){var $=D.expanded,ee=$&&a?a:o;return ar.createElement("div",Vf({"data-accordion-component":"AccordionItem",className:ee},s))};return Cb(E.toString()),s.id&&Cb(s.id),ar.createElement(H1e,{uuid:E,dangerouslySetExpanded:r},ar.createElement(Fw,null,O))};IW.displayName=OW.AccordionItem;function kW(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:kW(e.parentElement))}function Lw(e){var t=kW(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Z1e(e){var t=Lw(e)||[],n=t[0];n&&n.focus()}function X1e(e){var t=Lw(e)||[],n=t[t.length-1];n&&n.focus()}function J1e(e){var t=Lw(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n+1];r&&r.focus()}}function ege(e){var t=Lw(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n-1];r&&r.focus()}}var Bp={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},tge=["toggleExpanded","className"],nge=function(t){var n=t.toggleExpanded,r=t.className,i=r===void 0?"accordion__button":r,o=Uw(t,tge),a=function(h){var m=h.key;if((m===Bp.ENTER||m===Bp.SPACE||m===Bp.SPACE_DEPRECATED)&&(h.preventDefault(),n()),h.target instanceof HTMLElement)switch(m){case Bp.HOME:{h.preventDefault(),Z1e(h.target);break}case Bp.END:{h.preventDefault(),X1e(h.target);break}case Bp.LEFT:case Bp.UP:{h.preventDefault(),ege(h.target);break}case Bp.RIGHT:case Bp.DOWN:{h.preventDefault(),J1e(h.target);break}}};return o.id&&Cb(o.id),ar.createElement("div",Vf({className:i},o,{role:"button",tabIndex:0,onClick:n,onKeyDown:a,"data-accordion-component":"AccordionItemButton"}))},rge=function(t){return ar.createElement(Fw,null,function(n){var r=n.toggleExpanded,i=n.buttonAttributes;return ar.createElement(nge,Vf({toggleExpanded:r},t,i))})},ige={className:"accordion__heading","aria-level":3},oge=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,TW=function(e){DI(n,e);var t=UI(n);function n(){var r;Pw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),bs(Th(r),"ref",void 0),bs(Th(r),"setRef",function(s){r.ref=s}),r}return Dw(n,[{key:"componentDidUpdate",value:function(){n.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){n.VALIDATE(this.ref)}},{key:"render",value:function(){return ar.createElement("div",Vf({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(oge)}}]),n}(ar.PureComponent);bs(TW,"defaultProps",ige);var KW=function(t){return ar.createElement(Fw,null,function(n){var r=n.headingAttributes;return t.id&&Cb(t.id),ar.createElement(TW,Vf({},t,r))})};KW.displayName=OW.AccordionItemHeading;var age=["className","region","id"],sge=function(t){var n=t.className,r=n===void 0?"accordion__panel":n,i=t.region,o=t.id,a=Uw(t,age),s=function(m){var C=m.panelAttributes;o&&Cb(o);var E=AB(AB({},C),{},{"aria-labelledby":i?C["aria-labelledby"]:void 0});return ar.createElement("div",Vf({"data-accordion-component":"AccordionItemPanel",className:r},a,E,{role:i?"region":void 0}))};return ar.createElement(Fw,null,s)},h6={exports:{}},IP;function Rw(){return IP||(IP=1,function(e,t){(function(n,r){e.exports=r()})(Rh,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),s=/Edge\/(\d+)/.exec(n),h=o||a||s,m=h&&(o?document.documentMode||6:+(s||a)[1]),C=!s&&/WebKit\//.test(n),E=C&&/Qt\/\d+\.\d+/.test(n),O=!s&&/Chrome\/(\d+)/.exec(n),P=O&&+O[1],D=/Opera\//.test(n),$=/Apple Computer/.test(navigator.vendor),ee=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),H=/PhantomJS/.test(n),G=$&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),Z=/Android/.test(n),ue=G||Z||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),ye=G||/Mac/.test(r),be=/\bCrOS\b/.test(n),X=/win/i.test(r),se=D&&n.match(/Version\/(\d*\.\d*)/);se&&(se=Number(se[1])),se&&se>=15&&(D=!1,C=!0);var we=ye&&(E||D&&(se==null||se<12.11)),xe=i||h&&m>=9;function De(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var Ue=function(A,f){var x=A.className,b=De(f).exec(x);if(b){var B=x.slice(b.index+b[0].length);A.className=x.slice(0,b.index)+(B?b[1]+B:"")}};function he(A){for(var f=A.childNodes.length;f>0;--f)A.removeChild(A.firstChild);return A}function $e(A,f){return he(A).appendChild(f)}function ge(A,f,x,b){var B=document.createElement(A);if(x&&(B.className=x),b&&(B.style.cssText=b),typeof f=="string")B.appendChild(document.createTextNode(f));else if(f)for(var L=0;L<f.length;++L)B.appendChild(f[L]);return B}function yt(A,f,x,b){var B=ge(A,f,x,b);return B.setAttribute("role","presentation"),B}var wt;document.createRange?wt=function(A,f,x,b){var B=document.createRange();return B.setEnd(b||A,x),B.setStart(A,f),B}:wt=function(A,f,x){var b=document.body.createTextRange();try{b.moveToElementText(A.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",x),b.moveStart("character",f),b};function st(A,f){if(f.nodeType==3&&(f=f.parentNode),A.contains)return A.contains(f);do if(f.nodeType==11&&(f=f.host),f==A)return!0;while(f=f.parentNode)}function mt(A){var f=A.ownerDocument||A,x;try{x=A.activeElement}catch{x=f.body||null}for(;x&&x.shadowRoot&&x.shadowRoot.activeElement;)x=x.shadowRoot.activeElement;return x}function ze(A,f){var x=A.className;De(f).test(x)||(A.className+=(x?" ":"")+f)}function He(A,f){for(var x=A.split(" "),b=0;b<x.length;b++)x[b]&&!De(x[b]).test(f)&&(f+=" "+x[b]);return f}var Ve=function(A){A.select()};G?Ve=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:h&&(Ve=function(A){try{A.select()}catch{}});function Vt(A){return A.display.wrapper.ownerDocument}function Yt(A){return vt(A.display.wrapper)}function vt(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function Qt(A){return Vt(A).defaultView}function $t(A){var f=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,f)}}function ke(A,f,x){f||(f={});for(var b in A)A.hasOwnProperty(b)&&(x!==!1||!f.hasOwnProperty(b))&&(f[b]=A[b]);return f}function pe(A,f,x,b,B){f==null&&(f=A.search(/[^\s\u00a0]/),f==-1&&(f=A.length));for(var L=b||0,Y=B||0;;){var ne=A.indexOf("	",L);if(ne<0||ne>=f)return Y+(f-L);Y+=ne-L,Y+=x-Y%x,L=ne+1}}var Se=function(){this.id=null,this.f=null,this.time=0,this.handler=$t(this.onTimeout,this)};Se.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},Se.prototype.set=function(A,f){this.f=f;var x=+new Date+A;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=x)};function Re(A,f){for(var x=0;x<A.length;++x)if(A[x]==f)return x;return-1}var it=50,ot={toString:function(){return"CodeMirror.Pass"}},St={scroll:!1},Rt={origin:"*mouse"},zt={origin:"+move"};function pt(A,f,x){for(var b=0,B=0;;){var L=A.indexOf("	",b);L==-1&&(L=A.length);var Y=L-b;if(L==A.length||B+Y>=f)return b+Math.min(Y,f-B);if(B+=L-b,B+=x-B%x,b=L+1,B>=f)return b}}var ir=[""];function gn(A){for(;ir.length<=A;)ir.push(yn(ir)+" ");return ir[A]}function yn(A){return A[A.length-1]}function er(A,f){for(var x=[],b=0;b<A.length;b++)x[b]=f(A[b],b);return x}function cr(A,f,x){for(var b=0,B=x(f);b<A.length&&x(A[b])<=B;)b++;A.splice(b,0,f)}function Sr(){}function Gr(A,f){var x;return Object.create?x=Object.create(A):(Sr.prototype=A,x=new Sr),f&&ke(f,x),x}var yr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function _i(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||yr.test(A))}function Ee(A,f){return f?f.source.indexOf("\\w")>-1&&_i(A)?!0:f.test(A):_i(A)}function J(A){for(var f in A)if(A.hasOwnProperty(f)&&A[f])return!1;return!0}var q=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Te(A){return A.charCodeAt(0)>=768&&q.test(A)}function At(A,f,x){for(;(x<0?f>0:f<A.length)&&Te(A.charAt(f));)f+=x;return f}function Bt(A,f,x){for(var b=f>x?-1:1;;){if(f==x)return f;var B=(f+x)/2,L=b<0?Math.ceil(B):Math.floor(B);if(L==f)return A(L)?f:x;A(L)?x=L:f=L+b}}function kt(A,f,x,b){if(!A)return b(f,x,"ltr",0);for(var B=!1,L=0;L<A.length;++L){var Y=A[L];(Y.from<x&&Y.to>f||f==x&&Y.to==f)&&(b(Math.max(Y.from,f),Math.min(Y.to,x),Y.level==1?"rtl":"ltr",L),B=!0)}B||b(f,x,"ltr")}var Ut=null;function fn(A,f,x){var b;Ut=null;for(var B=0;B<A.length;++B){var L=A[B];if(L.from<f&&L.to>f)return B;L.to==f&&(L.from!=L.to&&x=="before"?b=B:Ut=B),L.from==f&&(L.from!=L.to&&x!="before"?b=B:Ut=B)}return b??Ut}var Pn=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function x(me){return me<=247?A.charAt(me):1424<=me&&me<=1524?"R":1536<=me&&me<=1785?f.charAt(me-1536):1774<=me&&me<=2220?"r":8192<=me&&me<=8203?"w":me==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,B=/[stwN]/,L=/[LRr]/,Y=/[Lb1n]/,ne=/[1n]/;function le(me,Qe,nt){this.level=me,this.from=Qe,this.to=nt}return function(me,Qe){var nt=Qe=="ltr"?"L":"R";if(me.length==0||Qe=="ltr"&&!b.test(me))return!1;for(var Ot=me.length,Ct=[],Nt=0;Nt<Ot;++Nt)Ct.push(x(me.charCodeAt(Nt)));for(var cn=0,kn=nt;cn<Ot;++cn){var Yn=Ct[cn];Yn=="m"?Ct[cn]=kn:kn=Yn}for(var bn=0,Fn=nt;bn<Ot;++bn){var sr=Ct[bn];sr=="1"&&Fn=="r"?Ct[bn]="n":L.test(sr)&&(Fn=sr,sr=="r"&&(Ct[bn]="R"))}for(var Tr=1,_r=Ct[0];Tr<Ot-1;++Tr){var fi=Ct[Tr];fi=="+"&&_r=="1"&&Ct[Tr+1]=="1"?Ct[Tr]="1":fi==","&&_r==Ct[Tr+1]&&(_r=="1"||_r=="n")&&(Ct[Tr]=_r),_r=fi}for(var zo=0;zo<Ot;++zo){var Za=Ct[zo];if(Za==",")Ct[zo]="N";else if(Za=="%"){var Ma=void 0;for(Ma=zo+1;Ma<Ot&&Ct[Ma]=="%";++Ma);for(var ja=zo&&Ct[zo-1]=="!"||Ma<Ot&&Ct[Ma]=="1"?"1":"N",hs=zo;hs<Ma;++hs)Ct[hs]=ja;zo=Ma-1}}for(var fs=0,Bl=nt;fs<Ot;++fs){var rl=Ct[fs];Bl=="L"&&rl=="1"?Ct[fs]="L":L.test(rl)&&(Bl=rl)}for(var Ts=0;Ts<Ot;++Ts)if(B.test(Ct[Ts])){var ps=void 0;for(ps=Ts+1;ps<Ot&&B.test(Ct[ps]);++ps);for(var fa=(Ts?Ct[Ts-1]:nt)=="L",Ks=(ps<Ot?Ct[ps]:nt)=="L",gh=fa==Ks?fa?"L":"R":nt,hc=Ts;hc<ps;++hc)Ct[hc]=gh;Ts=ps-1}for(var Ws=[],fc,Qs=0;Qs<Ot;)if(Y.test(Ct[Qs])){var R0=Qs;for(++Qs;Qs<Ot&&Y.test(Ct[Qs]);++Qs);Ws.push(new le(0,R0,Qs))}else{var KA=Qs,Gc=Ws.length,Xa=Qe=="rtl"?1:0;for(++Qs;Qs<Ot&&Ct[Qs]!="L";++Qs);for(var il=KA;il<Qs;)if(ne.test(Ct[il])){KA<il&&(Ws.splice(Gc,0,new le(1,KA,il)),Gc+=Xa);var yh=il;for(++il;il<Qs&&ne.test(Ct[il]);++il);Ws.splice(Gc,0,new le(2,yh,il)),Gc+=Xa,KA=il}else++il;KA<Qs&&Ws.splice(Gc,0,new le(1,KA,Qs))}return Qe=="ltr"&&(Ws[0].level==1&&(fc=me.match(/^\s+/))&&(Ws[0].from=fc[0].length,Ws.unshift(new le(0,0,fc[0].length))),yn(Ws).level==1&&(fc=me.match(/\s+$/))&&(yn(Ws).to-=fc[0].length,Ws.push(new le(0,Ot-fc[0].length,Ot)))),Qe=="rtl"?Ws.reverse():Ws}}();function On(A,f){var x=A.order;return x==null&&(x=A.order=Pn(A.text,f)),x}var g=[],Kt=function(A,f,x){if(A.addEventListener)A.addEventListener(f,x,!1);else if(A.attachEvent)A.attachEvent("on"+f,x);else{var b=A._handlers||(A._handlers={});b[f]=(b[f]||g).concat(x)}};function Pr(A,f){return A._handlers&&A._handlers[f]||g}function nr(A,f,x){if(A.removeEventListener)A.removeEventListener(f,x,!1);else if(A.detachEvent)A.detachEvent("on"+f,x);else{var b=A._handlers,B=b&&b[f];if(B){var L=Re(B,x);L>-1&&(b[f]=B.slice(0,L).concat(B.slice(L+1)))}}}function Pe(A,f){var x=Pr(A,f);if(x.length)for(var b=Array.prototype.slice.call(arguments,2),B=0;B<x.length;++B)x[B].apply(null,b)}function ce(A,f,x){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Pe(A,x||f.type,A,f),ft(f)||f.codemirrorIgnore}function _e(A){var f=A._handlers&&A._handlers.cursorActivity;if(f)for(var x=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),b=0;b<f.length;++b)Re(x,f[b])==-1&&x.push(f[b])}function Ie(A,f){return Pr(A,f).length>0}function je(A){A.prototype.on=function(f,x){Kt(this,f,x)},A.prototype.off=function(f,x){nr(this,f,x)}}function rt(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function lt(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function ft(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function et(A){rt(A),lt(A)}function Mt(A){return A.target||A.srcElement}function tn(A){var f=A.which;return f==null&&(A.button&1?f=1:A.button&2?f=3:A.button&4&&(f=2)),ye&&A.ctrlKey&&f==1&&(f=3),f}var Ht=function(){if(h&&m<9)return!1;var A=ge("div");return"draggable"in A||"dragDrop"in A}(),en;function Dn(A){if(en==null){var f=ge("span","");$e(A,ge("span",[f,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(en=f.offsetWidth<=1&&f.offsetHeight>2&&!(h&&m<8))}var x=en?ge("span",""):ge("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}var Bn;function qn(A){if(Bn!=null)return Bn;var f=$e(A,document.createTextNode("AA")),x=wt(f,0,1).getBoundingClientRect(),b=wt(f,1,2).getBoundingClientRect();return he(A),!x||x.left==x.right?!1:Bn=b.right-x.right<3}var Er=`

b`.split(/\n/).length!=3?function(A){for(var f=0,x=[],b=A.length;f<=b;){var B=A.indexOf(`
`,f);B==-1&&(B=A.length);var L=A.slice(f,A.charAt(B-1)=="\r"?B-1:B),Y=L.indexOf("\r");Y!=-1?(x.push(L.slice(0,Y)),f+=Y+1):(x.push(L),f=B+1)}return x}:function(A){return A.split(/\r\n?|\n/)},ur=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var f;try{f=A.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=A?!1:f.compareEndPoints("StartToEnd",f)!=0},Yr=function(){var A=ge("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),Br=null;function Fr(A){if(Br!=null)return Br;var f=$e(A,ge("span","x")),x=f.getBoundingClientRect(),b=wt(f,0,1).getBoundingClientRect();return Br=Math.abs(x.left-b.left)>1}var or={},di={};function Ri(A,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),or[A]=f}function ro(A,f){di[A]=f}function po(A){if(typeof A=="string"&&di.hasOwnProperty(A))A=di[A];else if(A&&typeof A.name=="string"&&di.hasOwnProperty(A.name)){var f=di[A.name];typeof f=="string"&&(f={name:f}),A=Gr(f,A),A.name=f.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return po("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return po("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function si(A,f){f=po(f);var x=or[f.name];if(!x)return si(A,"text/plain");var b=x(A,f);if(mo.hasOwnProperty(f.name)){var B=mo[f.name];for(var L in B)B.hasOwnProperty(L)&&(b.hasOwnProperty(L)&&(b["_"+L]=b[L]),b[L]=B[L])}if(b.name=f.name,f.helperType&&(b.helperType=f.helperType),f.modeProps)for(var Y in f.modeProps)b[Y]=f.modeProps[Y];return b}var mo={};function Qa(A,f){var x=mo.hasOwnProperty(A)?mo[A]:mo[A]={};ke(f,x)}function Pa(A,f){if(f===!0)return f;if(A.copyState)return A.copyState(f);var x={};for(var b in f){var B=f[b];B instanceof Array&&(B=B.concat([])),x[b]=B}return x}function Ei(A,f){for(var x;A.innerMode&&(x=A.innerMode(f),!(!x||x.mode==A));)f=x.state,A=x.mode;return x||{mode:A,state:f}}function ls(A,f,x){return A.startState?A.startState(f,x):!0}var yi=function(A,f,x){this.pos=this.start=0,this.string=A,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};yi.prototype.eol=function(){return this.pos>=this.string.length},yi.prototype.sol=function(){return this.pos==this.lineStart},yi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},yi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},yi.prototype.eat=function(A){var f=this.string.charAt(this.pos),x;if(typeof A=="string"?x=f==A:x=f&&(A.test?A.test(f):A(f)),x)return++this.pos,f},yi.prototype.eatWhile=function(A){for(var f=this.pos;this.eat(A););return this.pos>f},yi.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},yi.prototype.skipToEnd=function(){this.pos=this.string.length},yi.prototype.skipTo=function(A){var f=this.string.indexOf(A,this.pos);if(f>-1)return this.pos=f,!0},yi.prototype.backUp=function(A){this.pos-=A},yi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?pe(this.string,this.lineStart,this.tabSize):0)},yi.prototype.indentation=function(){return pe(this.string,null,this.tabSize)-(this.lineStart?pe(this.string,this.lineStart,this.tabSize):0)},yi.prototype.match=function(A,f,x){if(typeof A=="string"){var b=function(Y){return x?Y.toLowerCase():Y},B=this.string.substr(this.pos,A.length);if(b(B)==b(A))return f!==!1&&(this.pos+=A.length),!0}else{var L=this.string.slice(this.pos).match(A);return L&&L.index>0?null:(L&&f!==!1&&(this.pos+=L[0].length),L)}},yi.prototype.current=function(){return this.string.slice(this.start,this.pos)},yi.prototype.hideFirstChars=function(A,f){this.lineStart+=A;try{return f()}finally{this.lineStart-=A}},yi.prototype.lookAhead=function(A){var f=this.lineOracle;return f&&f.lookAhead(A)},yi.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function Nn(A,f){if(f-=A.first,f<0||f>=A.size)throw new Error("There is no line "+(f+A.first)+" in the document.");for(var x=A;!x.lines;)for(var b=0;;++b){var B=x.children[b],L=B.chunkSize();if(f<L){x=B;break}f-=L}return x.lines[f]}function oo(A,f,x){var b=[],B=f.line;return A.iter(f.line,x.line+1,function(L){var Y=L.text;B==x.line&&(Y=Y.slice(0,x.ch)),B==f.line&&(Y=Y.slice(f.ch)),b.push(Y),++B}),b}function bo(A,f,x){var b=[];return A.iter(f,x,function(B){b.push(B.text)}),b}function zi(A,f){var x=f-A.height;if(x)for(var b=A;b;b=b.parent)b.height+=x}function ve(A){if(A.parent==null)return null;for(var f=A.parent,x=Re(f.lines,A),b=f.parent;b;f=b,b=b.parent)for(var B=0;b.children[B]!=f;++B)x+=b.children[B].chunkSize();return x+f.first}function Je(A,f){var x=A.first;e:do{for(var b=0;b<A.children.length;++b){var B=A.children[b],L=B.height;if(f<L){A=B;continue e}f-=L,x+=B.chunkSize()}return x}while(!A.lines);for(var Y=0;Y<A.lines.length;++Y){var ne=A.lines[Y],le=ne.height;if(f<le)break;f-=le}return x+Y}function Zt(A,f){return f>=A.first&&f<A.first+A.size}function sn(A,f){return String(A.lineNumberFormatter(f+A.firstLineNumber))}function Ft(A,f,x){if(x===void 0&&(x=null),!(this instanceof Ft))return new Ft(A,f,x);this.line=A,this.ch=f,this.sticky=x}function wn(A,f){return A.line-f.line||A.ch-f.ch}function hr(A,f){return A.sticky==f.sticky&&wn(A,f)==0}function ii(A){return Ft(A.line,A.ch)}function li(A,f){return wn(A,f)<0?f:A}function ea(A,f){return wn(A,f)<0?A:f}function Fa(A,f){return Math.max(A.first,Math.min(f,A.first+A.size-1))}function Dr(A,f){if(f.line<A.first)return Ft(A.first,0);var x=A.first+A.size-1;return f.line>x?Ft(x,Nn(A,x).text.length):$a(f,Nn(A,f.line).text.length)}function $a(A,f){var x=A.ch;return x==null||x>f?Ft(A.line,f):x<0?Ft(A.line,0):A}function vi(A,f){for(var x=[],b=0;b<f.length;b++)x[b]=Dr(A,f[b]);return x}var Ya=function(A,f){this.state=A,this.lookAhead=f},ta=function(A,f,x,b){this.state=f,this.doc=A,this.line=x,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};ta.prototype.lookAhead=function(A){var f=this.doc.getLine(this.line+A);return f!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),f},ta.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},ta.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ta.fromSaved=function(A,f,x){return f instanceof Ya?new ta(A,Pa(A.mode,f.state),x,f.lookAhead):new ta(A,Pa(A.mode,f),x)},ta.prototype.save=function(A){var f=A!==!1?Pa(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ya(f,this.maxLookAhead):f};function Su(A,f,x,b){var B=[A.state.modeGen],L={};xA(A,f.text,A.doc.mode,x,function(me,Qe){return B.push(me,Qe)},L,b);for(var Y=x.state,ne=function(me){x.baseTokens=B;var Qe=A.state.overlays[me],nt=1,Ot=0;x.state=!0,xA(A,f.text,Qe.mode,x,function(Ct,Nt){for(var cn=nt;Ot<Ct;){var kn=B[nt];kn>Ct&&B.splice(nt,1,Ct,B[nt+1],kn),nt+=2,Ot=Math.min(Ct,kn)}if(Nt)if(Qe.opaque)B.splice(cn,nt-cn,Ct,"overlay "+Nt),nt=cn+2;else for(;cn<nt;cn+=2){var Yn=B[cn+1];B[cn+1]=(Yn?Yn+" ":"")+"overlay "+Nt}},L),x.state=Y,x.baseTokens=null,x.baseTokenPos=1},le=0;le<A.state.overlays.length;++le)ne(le);return{styles:B,classes:L.bgClass||L.textClass?L:null}}function us(A,f,x){if(!f.styles||f.styles[0]!=A.state.modeGen){var b=na(A,ve(f)),B=f.text.length>A.options.maxHighlightLength&&Pa(A.doc.mode,b.state),L=Su(A,f,b);B&&(b.state=B),f.stateAfter=b.save(!B),f.styles=L.styles,L.classes?f.styleClasses=L.classes:f.styleClasses&&(f.styleClasses=null),x===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return f.styles}function na(A,f,x){var b=A.doc,B=A.display;if(!b.mode.startState)return new ta(b,!0,f);var L=Ou(A,f,x),Y=L>b.first&&Nn(b,L-1).stateAfter,ne=Y?ta.fromSaved(b,Y,L):new ta(b,ls(b.mode),L);return b.iter(L,f,function(le){ra(A,le.text,ne);var me=ne.line;le.stateAfter=me==f-1||me%5==0||me>=B.viewFrom&&me<B.viewTo?ne.save():null,ne.nextLine()}),x&&(b.modeFrontier=ne.line),ne}function ra(A,f,x,b){var B=A.doc.mode,L=new yi(f,A.options.tabSize,x);for(L.start=L.pos=b||0,f==""&&Ms(B,x.state);!L.eol();)Eu(B,L,x.state),L.start=L.pos}function Ms(A,f){if(A.blankLine)return A.blankLine(f);if(A.innerMode){var x=Ei(A,f);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function Eu(A,f,x,b){for(var B=0;B<10;B++){b&&(b[0]=Ei(A,x).mode);var L=A.token(f,x);if(f.pos>f.start)return L}throw new Error("Mode "+A.name+" failed to advance stream.")}var ya=function(A,f,x){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=f||null,this.state=x};function bA(A,f,x,b){var B=A.doc,L=B.mode,Y;f=Dr(B,f);var ne=Nn(B,f.line),le=na(A,f.line,x),me=new yi(ne.text,A.options.tabSize,le),Qe;for(b&&(Qe=[]);(b||me.pos<f.ch)&&!me.eol();)me.start=me.pos,Y=Eu(L,me,le.state),b&&Qe.push(new ya(me,Y,Pa(B.mode,le.state)));return b?Qe:new ya(me,Y,le.state)}function $u(A,f){if(A)for(;;){var x=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;A=A.slice(0,x.index)+A.slice(x.index+x[0].length);var b=x[1]?"bgClass":"textClass";f[b]==null?f[b]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(f[b])||(f[b]+=" "+x[2])}return A}function xA(A,f,x,b,B,L,Y){var ne=x.flattenSpans;ne==null&&(ne=A.options.flattenSpans);var le=0,me=null,Qe=new yi(f,A.options.tabSize,b),nt,Ot=A.options.addModeClass&&[null];for(f==""&&$u(Ms(x,b.state),L);!Qe.eol();){if(Qe.pos>A.options.maxHighlightLength?(ne=!1,Y&&ra(A,f,b,Qe.pos),Qe.pos=f.length,nt=null):nt=$u(Eu(x,Qe,b.state,Ot),L),Ot){var Ct=Ot[0].name;Ct&&(nt="m-"+(nt?Ct+" "+nt:Ct))}if(!ne||me!=nt){for(;le<Qe.start;)le=Math.min(Qe.start,le+5e3),B(le,me);me=nt}Qe.start=Qe.pos}for(;le<Qe.pos;){var Nt=Math.min(Qe.pos,le+5e3);B(Nt,me),le=Nt}}function Ou(A,f,x){for(var b,B,L=A.doc,Y=x?-1:f-(A.doc.mode.innerMode?1e3:100),ne=f;ne>Y;--ne){if(ne<=L.first)return L.first;var le=Nn(L,ne-1),me=le.stateAfter;if(me&&(!x||ne+(me instanceof Ya?me.lookAhead:0)<=L.modeFrontier))return ne;var Qe=pe(le.text,null,A.options.tabSize);(B==null||b>Qe)&&(B=ne-1,b=Qe)}return B}function Yu(A,f){if(A.modeFrontier=Math.min(A.modeFrontier,f),!(A.highlightFrontier<f-10)){for(var x=A.first,b=f-1;b>x;b--){var B=Nn(A,b).stateAfter;if(B&&(!(B instanceof Ya)||b+B.lookAhead<f)){x=b+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,x)}}var Wo=!1,Ss=!1;function ru(){Wo=!0}function As(){Ss=!0}function Al(A,f,x){this.marker=A,this.from=f,this.to=x}function Qo(A,f){if(A)for(var x=0;x<A.length;++x){var b=A[x];if(b.marker==f)return b}}function Bu(A,f){for(var x,b=0;b<A.length;++b)A[b]!=f&&(x||(x=[])).push(A[b]);return x}function cl(A,f,x){var b=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));b&&A.markedSpans&&b.has(A.markedSpans)?A.markedSpans.push(f):(A.markedSpans=A.markedSpans?A.markedSpans.concat([f]):[f],b&&b.add(A.markedSpans)),f.marker.attachLine(A)}function Sl(A,f,x){var b;if(A)for(var B=0;B<A.length;++B){var L=A[B],Y=L.marker,ne=L.from==null||(Y.inclusiveLeft?L.from<=f:L.from<f);if(ne||L.from==f&&Y.type=="bookmark"&&(!x||!L.marker.insertLeft)){var le=L.to==null||(Y.inclusiveRight?L.to>=f:L.to>f);(b||(b=[])).push(new Al(Y,L.from,le?null:L.to))}}return b}function iu(A,f,x){var b;if(A)for(var B=0;B<A.length;++B){var L=A[B],Y=L.marker,ne=L.to==null||(Y.inclusiveRight?L.to>=f:L.to>f);if(ne||L.from==f&&Y.type=="bookmark"&&(!x||L.marker.insertLeft)){var le=L.from==null||(Y.inclusiveLeft?L.from<=f:L.from<f);(b||(b=[])).push(new Al(Y,le?null:L.from-f,L.to==null?null:L.to-f))}}return b}function Aa(A,f){if(f.full)return null;var x=Zt(A,f.from.line)&&Nn(A,f.from.line).markedSpans,b=Zt(A,f.to.line)&&Nn(A,f.to.line).markedSpans;if(!x&&!b)return null;var B=f.from.ch,L=f.to.ch,Y=wn(f.from,f.to)==0,ne=Sl(x,B,Y),le=iu(b,L,Y),me=f.text.length==1,Qe=yn(f.text).length+(me?B:0);if(ne)for(var nt=0;nt<ne.length;++nt){var Ot=ne[nt];if(Ot.to==null){var Ct=Qo(le,Ot.marker);Ct?me&&(Ot.to=Ct.to==null?null:Ct.to+Qe):Ot.to=B}}if(le)for(var Nt=0;Nt<le.length;++Nt){var cn=le[Nt];if(cn.to!=null&&(cn.to+=Qe),cn.from==null){var kn=Qo(ne,cn.marker);kn||(cn.from=Qe,me&&(ne||(ne=[])).push(cn))}else cn.from+=Qe,me&&(ne||(ne=[])).push(cn)}ne&&(ne=dl(ne)),le&&le!=ne&&(le=dl(le));var Yn=[ne];if(!me){var bn=f.text.length-2,Fn;if(bn>0&&ne)for(var sr=0;sr<ne.length;++sr)ne[sr].to==null&&(Fn||(Fn=[])).push(new Al(ne[sr].marker,null,null));for(var Tr=0;Tr<bn;++Tr)Yn.push(Fn);Yn.push(le)}return Yn}function dl(A){for(var f=0;f<A.length;++f){var x=A[f];x.from!=null&&x.from==x.to&&x.marker.clearWhenEmpty!==!1&&A.splice(f--,1)}return A.length?A:null}function wA(A,f,x){var b=null;if(A.iter(f.line,x.line+1,function(Ct){if(Ct.markedSpans)for(var Nt=0;Nt<Ct.markedSpans.length;++Nt){var cn=Ct.markedSpans[Nt].marker;cn.readOnly&&(!b||Re(b,cn)==-1)&&(b||(b=[])).push(cn)}}),!b)return null;for(var B=[{from:f,to:x}],L=0;L<b.length;++L)for(var Y=b[L],ne=Y.find(0),le=0;le<B.length;++le){var me=B[le];if(!(wn(me.to,ne.from)<0||wn(me.from,ne.to)>0)){var Qe=[le,1],nt=wn(me.from,ne.from),Ot=wn(me.to,ne.to);(nt<0||!Y.inclusiveLeft&&!nt)&&Qe.push({from:me.from,to:ne.from}),(Ot>0||!Y.inclusiveRight&&!Ot)&&Qe.push({from:ne.to,to:me.to}),B.splice.apply(B,Qe),le+=Qe.length-3}}return B}function _o(A){var f=A.markedSpans;if(f){for(var x=0;x<f.length;++x)f[x].marker.detachLine(A);A.markedSpans=null}}function ao(A,f){if(f){for(var x=0;x<f.length;++x)f[x].marker.attachLine(A);A.markedSpans=f}}function z(A){return A.inclusiveLeft?-1:0}function ae(A){return A.inclusiveRight?1:0}function Le(A,f){var x=A.lines.length-f.lines.length;if(x!=0)return x;var b=A.find(),B=f.find(),L=wn(b.from,B.from)||z(A)-z(f);if(L)return-L;var Y=wn(b.to,B.to)||ae(A)-ae(f);return Y||f.id-A.id}function gt(A,f){var x=Ss&&A.markedSpans,b;if(x)for(var B=void 0,L=0;L<x.length;++L)B=x[L],B.marker.collapsed&&(f?B.from:B.to)==null&&(!b||Le(b,B.marker)<0)&&(b=B.marker);return b}function Gn(A){return gt(A,!0)}function vn(A){return gt(A,!1)}function Kn(A,f){var x=Ss&&A.markedSpans,b;if(x)for(var B=0;B<x.length;++B){var L=x[B];L.marker.collapsed&&(L.from==null||L.from<f)&&(L.to==null||L.to>f)&&(!b||Le(b,L.marker)<0)&&(b=L.marker)}return b}function Lr(A,f,x,b,B){var L=Nn(A,f),Y=Ss&&L.markedSpans;if(Y)for(var ne=0;ne<Y.length;++ne){var le=Y[ne];if(le.marker.collapsed){var me=le.marker.find(0),Qe=wn(me.from,x)||z(le.marker)-z(B),nt=wn(me.to,b)||ae(le.marker)-ae(B);if(!(Qe>=0&&nt<=0||Qe<=0&&nt>=0)&&(Qe<=0&&(le.marker.inclusiveRight&&B.inclusiveLeft?wn(me.to,x)>=0:wn(me.to,x)>0)||Qe>=0&&(le.marker.inclusiveRight&&B.inclusiveLeft?wn(me.from,b)<=0:wn(me.from,b)<0)))return!0}}}function vr(A){for(var f;f=Gn(A);)A=f.find(-1,!0).line;return A}function kr(A){for(var f;f=vn(A);)A=f.find(1,!0).line;return A}function Ti(A){for(var f,x;f=vn(A);)A=f.find(1,!0).line,(x||(x=[])).push(A);return x}function go(A,f){var x=Nn(A,f),b=vr(x);return x==b?f:ve(b)}function Oi(A,f){if(f>A.lastLine())return f;var x=Nn(A,f),b;if(!Xr(A,x))return f;for(;b=vn(x);)x=b.find(1,!0).line;return ve(x)+1}function Xr(A,f){var x=Ss&&f.markedSpans;if(x){for(var b=void 0,B=0;B<x.length;++B)if(b=x[B],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&Zi(A,f,b))return!0}}}function Zi(A,f,x){if(x.to==null){var b=x.marker.find(1,!0);return Zi(A,b.line,Qo(b.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==f.text.length)return!0;for(var B=void 0,L=0;L<f.markedSpans.length;++L)if(B=f.markedSpans[L],B.marker.collapsed&&!B.marker.widgetNode&&B.from==x.to&&(B.to==null||B.to!=x.from)&&(B.marker.inclusiveLeft||x.marker.inclusiveRight)&&Zi(A,f,B))return!0}function ko(A){A=vr(A);for(var f=0,x=A.parent,b=0;b<x.lines.length;++b){var B=x.lines[b];if(B==A)break;f+=B.height}for(var L=x.parent;L;x=L,L=x.parent)for(var Y=0;Y<L.children.length;++Y){var ne=L.children[Y];if(ne==x)break;f+=ne.height}return f}function Mo(A){if(A.height==0)return 0;for(var f=A.text.length,x,b=A;x=Gn(b);){var B=x.find(0,!0);b=B.from.line,f+=B.from.ch-B.to.ch}for(b=A;x=vn(b);){var L=x.find(0,!0);f-=b.text.length-L.from.ch,b=L.to.line,f+=b.text.length-L.to.ch}return f}function qa(A){var f=A.display,x=A.doc;f.maxLine=Nn(x,x.first),f.maxLineLength=Mo(f.maxLine),f.maxLineChanged=!0,x.iter(function(b){var B=Mo(b);B>f.maxLineLength&&(f.maxLineLength=B,f.maxLine=b)})}var Ll=function(A,f,x){this.text=A,ao(this,f),this.height=x?x(this):1};Ll.prototype.lineNo=function(){return ve(this)},je(Ll);function ou(A,f,x,b){A.text=f,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),_o(A),ao(A,x);var B=b?b(A):1;B!=A.height&&zi(A,B)}function va(A){A.parent=null,_o(A)}var M0={},au={};function Gh(A,f){if(!A||/^\s*$/.test(A))return null;var x=f.addModeClass?au:M0;return x[A]||(x[A]=A.replace(/\S+/g,"cm-$&"))}function dd(A,f){var x=yt("span",null,null,C?"padding-right: .1px":null),b={pre:yt("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};f.measure={};for(var B=0;B<=(f.rest?f.rest.length:0);B++){var L=B?f.rest[B-1]:f.line,Y=void 0;b.pos=0,b.addToken=hd,qn(A.display.measure)&&(Y=On(L,A.doc.direction))&&(b.addToken=ia(b.addToken,Y)),b.map=[];var ne=f!=A.display.externalMeasured&&ve(L);Xd(L,b,us(A,L,ne)),L.styleClasses&&(L.styleClasses.bgClass&&(b.bgClass=He(L.styleClasses.bgClass,b.bgClass||"")),L.styleClasses.textClass&&(b.textClass=He(L.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(Dn(A.display.measure))),B==0?(f.measure.map=b.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(b.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(C){var le=b.content.lastChild;(/\bcm-tab\b/.test(le.className)||le.querySelector&&le.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return Pe(A,"renderLine",A,f.line,b.pre),b.pre.className&&(b.textClass=He(b.pre.className,b.textClass||"")),b}function qu(A){var f=ge("span","","cm-invalidchar");return f.title="\\u"+A.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function hd(A,f,x,b,B,L,Y){if(f){var ne=A.splitSpaces?qA(f,A.trailingSpace):f,le=A.cm.state.specialChars,me=!1,Qe;if(!le.test(f))A.col+=f.length,Qe=document.createTextNode(ne),A.map.push(A.pos,A.pos+f.length,Qe),h&&m<9&&(me=!0),A.pos+=f.length;else{Qe=document.createDocumentFragment();for(var nt=0;;){le.lastIndex=nt;var Ot=le.exec(f),Ct=Ot?Ot.index-nt:f.length-nt;if(Ct){var Nt=document.createTextNode(ne.slice(nt,nt+Ct));h&&m<9?Qe.appendChild(ge("span",[Nt])):Qe.appendChild(Nt),A.map.push(A.pos,A.pos+Ct,Nt),A.col+=Ct,A.pos+=Ct}if(!Ot)break;nt+=Ct+1;var cn=void 0;if(Ot[0]=="	"){var kn=A.cm.options.tabSize,Yn=kn-A.col%kn;cn=Qe.appendChild(ge("span",gn(Yn),"cm-tab")),cn.setAttribute("role","presentation"),cn.setAttribute("cm-text","	"),A.col+=Yn}else Ot[0]=="\r"||Ot[0]==`
`?(cn=Qe.appendChild(ge("span",Ot[0]=="\r"?"":"","cm-invalidchar")),cn.setAttribute("cm-text",Ot[0]),A.col+=1):(cn=A.cm.options.specialCharPlaceholder(Ot[0]),cn.setAttribute("cm-text",Ot[0]),h&&m<9?Qe.appendChild(ge("span",[cn])):Qe.appendChild(cn),A.col+=1);A.map.push(A.pos,A.pos+1,cn),A.pos++}}if(A.trailingSpace=ne.charCodeAt(f.length-1)==32,x||b||B||me||L||Y){var bn=x||"";b&&(bn+=b),B&&(bn+=B);var Fn=ge("span",[Qe],bn,L);if(Y)for(var sr in Y)Y.hasOwnProperty(sr)&&sr!="style"&&sr!="class"&&Fn.setAttribute(sr,Y[sr]);return A.content.appendChild(Fn)}A.content.appendChild(Qe)}}function qA(A,f){if(A.length>1&&!/  /.test(A))return A;for(var x=f,b="",B=0;B<A.length;B++){var L=A.charAt(B);L==" "&&x&&(B==A.length-1||A.charCodeAt(B+1)==32)&&(L=""),b+=L,x=L==" "}return b}function ia(A,f){return function(x,b,B,L,Y,ne,le){B=B?B+" cm-force-border":"cm-force-border";for(var me=x.pos,Qe=me+b.length;;){for(var nt=void 0,Ot=0;Ot<f.length&&(nt=f[Ot],!(nt.to>me&&nt.from<=me));Ot++);if(nt.to>=Qe)return A(x,b,B,L,Y,ne,le);A(x,b.slice(0,nt.to-me),B,L,null,ne,le),L=null,b=b.slice(nt.to-me),me=nt.to}}}function Hu(A,f,x,b){var B=!b&&x.widgetNode;B&&A.map.push(A.pos,A.pos+f,B),!b&&A.cm.display.input.needsContentAttribute&&(B||(B=A.content.appendChild(document.createElement("span"))),B.setAttribute("cm-marker",x.id)),B&&(A.cm.display.input.setUneditable(B),A.content.appendChild(B)),A.pos+=f,A.trailingSpace=!1}function Xd(A,f,x){var b=A.markedSpans,B=A.text,L=0;if(!b){for(var Y=1;Y<x.length;Y+=2)f.addToken(f,B.slice(L,L=x[Y]),Gh(x[Y+1],f.cm.options));return}for(var ne=B.length,le=0,me=1,Qe="",nt,Ot,Ct=0,Nt,cn,kn,Yn,bn;;){if(Ct==le){Nt=cn=kn=Ot="",bn=null,Yn=null,Ct=1/0;for(var Fn=[],sr=void 0,Tr=0;Tr<b.length;++Tr){var _r=b[Tr],fi=_r.marker;if(fi.type=="bookmark"&&_r.from==le&&fi.widgetNode)Fn.push(fi);else if(_r.from<=le&&(_r.to==null||_r.to>le||fi.collapsed&&_r.to==le&&_r.from==le)){if(_r.to!=null&&_r.to!=le&&Ct>_r.to&&(Ct=_r.to,cn=""),fi.className&&(Nt+=" "+fi.className),fi.css&&(Ot=(Ot?Ot+";":"")+fi.css),fi.startStyle&&_r.from==le&&(kn+=" "+fi.startStyle),fi.endStyle&&_r.to==Ct&&(sr||(sr=[])).push(fi.endStyle,_r.to),fi.title&&((bn||(bn={})).title=fi.title),fi.attributes)for(var zo in fi.attributes)(bn||(bn={}))[zo]=fi.attributes[zo];fi.collapsed&&(!Yn||Le(Yn.marker,fi)<0)&&(Yn=_r)}else _r.from>le&&Ct>_r.from&&(Ct=_r.from)}if(sr)for(var Za=0;Za<sr.length;Za+=2)sr[Za+1]==Ct&&(cn+=" "+sr[Za]);if(!Yn||Yn.from==le)for(var Ma=0;Ma<Fn.length;++Ma)Hu(f,0,Fn[Ma]);if(Yn&&(Yn.from||0)==le){if(Hu(f,(Yn.to==null?ne+1:Yn.to)-le,Yn.marker,Yn.from==null),Yn.to==null)return;Yn.to==le&&(Yn=!1)}}if(le>=ne)break;for(var ja=Math.min(ne,Ct);;){if(Qe){var hs=le+Qe.length;if(!Yn){var fs=hs>ja?Qe.slice(0,ja-le):Qe;f.addToken(f,fs,nt?nt+Nt:Nt,kn,le+fs.length==Ct?cn:"",Ot,bn)}if(hs>=ja){Qe=Qe.slice(ja-le),le=ja;break}le=hs,kn=""}Qe=B.slice(L,L=x[me++]),nt=Gh(x[me++],f.cm.options)}}}function HA(A,f,x){this.line=f,this.rest=Ti(f),this.size=this.rest?ve(yn(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Xr(A,f)}function Tc(A,f,x){for(var b=[],B,L=f;L<x;L=B){var Y=new HA(A.doc,Nn(A.doc,L),L);B=L+Y.size,b.push(Y)}return b}var Iu=null;function fd(A){Iu?Iu.ops.push(A):A.ownsGroup=Iu={ops:[A],delayedCallbacks:[]}}function om(A){var f=A.delayedCallbacks,x=0;do{for(;x<f.length;x++)f[x].call(null);for(var b=0;b<A.ops.length;b++){var B=A.ops[b];if(B.cursorActivityHandlers)for(;B.cursorActivityCalled<B.cursorActivityHandlers.length;)B.cursorActivityHandlers[B.cursorActivityCalled++].call(null,B.cm)}}while(x<f.length)}function Wh(A,f){var x=A.ownsGroup;if(x)try{om(x)}finally{Iu=null,f(x)}}var Ki=null;function To(A,f){var x=Pr(A,f);if(x.length){var b=Array.prototype.slice.call(arguments,2),B;Iu?B=Iu.delayedCallbacks:Ki?B=Ki:(B=Ki=[],setTimeout(S0,0));for(var L=function(ne){B.push(function(){return x[ne].apply(null,b)})},Y=0;Y<x.length;++Y)L(Y)}}function S0(){var A=Ki;Ki=null;for(var f=0;f<A.length;++f)A[f]()}function Qh(A,f,x,b){for(var B=0;B<f.changes.length;B++){var L=f.changes[B];L=="text"?np(A,f):L=="gutter"?VA(A,f,x,b):L=="class"?Wi(A,f):L=="widget"&&Ko(A,f,b)}f.changes=null}function Vu(A){return A.node==A.text&&(A.node=ge("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),h&&m<8&&(A.node.style.zIndex=2)),A.node}function tp(A,f){var x=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),f.background)x?f.background.className=x:(f.background.parentNode.removeChild(f.background),f.background=null);else if(x){var b=Vu(f);f.background=b.insertBefore(ge("div",null,x),b.firstChild),A.display.input.setUneditable(f.background)}}function ca(A,f){var x=A.display.externalMeasured;return x&&x.line==f.line?(A.display.externalMeasured=null,f.measure=x.measure,x.built):dd(A,f)}function np(A,f){var x=f.text.className,b=ca(A,f);f.text==f.node&&(f.node=b.pre),f.text.parentNode.replaceChild(b.pre,f.text),f.text=b.pre,b.bgClass!=f.bgClass||b.textClass!=f.textClass?(f.bgClass=b.bgClass,f.textClass=b.textClass,Wi(A,f)):x&&(f.text.className=x)}function Wi(A,f){tp(A,f),f.line.wrapClass?Vu(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var x=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=x||""}function VA(A,f,x,b){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var B=Vu(f);f.gutterBackground=ge("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),A.display.input.setUneditable(f.gutterBackground),B.insertBefore(f.gutterBackground,f.text)}var L=f.line.gutterMarkers;if(A.options.lineNumbers||L){var Y=Vu(f),ne=f.gutter=ge("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(ne.setAttribute("aria-hidden","true"),A.display.input.setUneditable(ne),Y.insertBefore(ne,f.text),f.line.gutterClass&&(ne.className+=" "+f.line.gutterClass),A.options.lineNumbers&&(!L||!L["CodeMirror-linenumbers"])&&(f.lineNumber=ne.appendChild(ge("div",sn(A.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),L)for(var le=0;le<A.display.gutterSpecs.length;++le){var me=A.display.gutterSpecs[le].className,Qe=L.hasOwnProperty(me)&&L[me];Qe&&ne.appendChild(ge("div",[Qe],"CodeMirror-gutter-elt","left: "+b.gutterLeft[me]+"px; width: "+b.gutterWidth[me]+"px"))}}}function Ko(A,f,x){f.alignable&&(f.alignable=null);for(var b=De("CodeMirror-linewidget"),B=f.node.firstChild,L=void 0;B;B=L)L=B.nextSibling,b.test(B.className)&&f.node.removeChild(B);ZA(A,f,x)}function Lo(A,f,x,b){var B=ca(A,f);return f.text=f.node=B.pre,B.bgClass&&(f.bgClass=B.bgClass),B.textClass&&(f.textClass=B.textClass),Wi(A,f),VA(A,f,x,b),ZA(A,f,b),f.node}function ZA(A,f,x){if(js(A,f.line,f,x,!0),f.rest)for(var b=0;b<f.rest.length;b++)js(A,f.rest[b],f,x,!1)}function js(A,f,x,b,B){if(f.widgets)for(var L=Vu(x),Y=0,ne=f.widgets;Y<ne.length;++Y){var le=ne[Y],me=ge("div",[le.node],"CodeMirror-linewidget"+(le.className?" "+le.className:""));le.handleMouseEvents||me.setAttribute("cm-ignore-events","true"),$h(le,me,x,b),A.display.input.setUneditable(me),B&&le.above?L.insertBefore(me,x.gutter||x.text):L.appendChild(me),To(le,"redraw")}}function $h(A,f,x,b){if(A.noHScroll){(x.alignable||(x.alignable=[])).push(f);var B=b.wrapperWidth;f.style.left=b.fixedPos+"px",A.coverGutter||(B-=b.gutterTotalWidth,f.style.paddingLeft=b.gutterTotalWidth+"px"),f.style.width=B+"px"}A.coverGutter&&(f.style.zIndex=5,f.style.position="relative",A.noHScroll||(f.style.marginLeft=-b.gutterTotalWidth+"px"))}function su(A){if(A.height!=null)return A.height;var f=A.doc.cm;if(!f)return 0;if(!st(document.body,A.node)){var x="position: relative;";A.coverGutter&&(x+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),A.noHScroll&&(x+="width: "+f.display.wrapper.clientWidth+"px;"),$e(f.display.measure,ge("div",[A.node],null,x))}return A.height=A.node.parentNode.offsetHeight}function Rl(A,f){for(var x=Mt(f);x!=A.wrapper;x=x.parentNode)if(!x||x.nodeType==1&&x.getAttribute("cm-ignore-events")=="true"||x.parentNode==A.sizer&&x!=A.mover)return!0}function Kc(A){return A.lineSpace.offsetTop}function Yh(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function Jd(A){if(A.cachedPaddingH)return A.cachedPaddingH;var f=$e(A.measure,ge("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,b={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(A.cachedPaddingH=b),b}function ku(A){return it-A.display.nativeBarWidth}function MA(A){return A.display.scroller.clientWidth-ku(A)-A.display.barWidth}function XA(A){return A.display.scroller.clientHeight-ku(A)-A.display.barHeight}function JA(A,f,x){var b=A.options.lineWrapping,B=b&&MA(A);if(!f.measure.heights||b&&f.measure.width!=B){var L=f.measure.heights=[];if(b){f.measure.width=B;for(var Y=f.text.firstChild.getClientRects(),ne=0;ne<Y.length-1;ne++){var le=Y[ne],me=Y[ne+1];Math.abs(le.bottom-me.bottom)>2&&L.push((le.bottom+me.top)/2-x.top)}}L.push(x.bottom-x.top)}}function rp(A,f,x){if(A.line==f)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var b=0;b<A.rest.length;b++)if(A.rest[b]==f)return{map:A.measure.maps[b],cache:A.measure.caches[b]};for(var B=0;B<A.rest.length;B++)if(ve(A.rest[B])>x)return{map:A.measure.maps[B],cache:A.measure.caches[B],before:!0}}}function am(A,f){f=vr(f);var x=ve(f),b=A.display.externalMeasured=new HA(A.doc,f,x);b.lineN=x;var B=b.built=dd(A,b);return b.text=B.pre,$e(A.display.lineMeasure,B.pre),b}function Pc(A,f,x,b){return El(A,zl(A,f),x,b)}function pd(A,f){if(f>=A.display.viewFrom&&f<A.display.viewTo)return A.display.view[ec(A,f)];var x=A.display.externalMeasured;if(x&&f>=x.lineN&&f<x.lineN+x.size)return x}function zl(A,f){var x=ve(f),b=pd(A,x);b&&!b.text?b=null:b&&b.changes&&(Qh(A,b,x,cs(A)),A.curOp.forceUpdate=!0),b||(b=am(A,f));var B=rp(b,f,x);return{line:f,view:b,rect:null,map:B.map,cache:B.cache,before:B.before,hasHeights:!1}}function El(A,f,x,b,B){f.before&&(x=-1);var L=x+(b||""),Y;return f.cache.hasOwnProperty(L)?Y=f.cache[L]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(JA(A,f.view,f.rect),f.hasHeights=!0),Y=Tu(A,f,x,b),Y.bogus||(f.cache[L]=Y)),{left:Y.left,right:Y.right,top:B?Y.rtop:Y.top,bottom:B?Y.rbottom:Y.bottom}}var Ca={left:0,right:0,top:0,bottom:0};function SA(A,f,x){for(var b,B,L,Y,ne,le,me=0;me<A.length;me+=3)if(ne=A[me],le=A[me+1],f<ne?(B=0,L=1,Y="left"):f<le?(B=f-ne,L=B+1):(me==A.length-3||f==le&&A[me+3]>f)&&(L=le-ne,B=L-1,f>=le&&(Y="right")),B!=null){if(b=A[me+2],ne==le&&x==(b.insertLeft?"left":"right")&&(Y=x),x=="left"&&B==0)for(;me&&A[me-2]==A[me-3]&&A[me-1].insertLeft;)b=A[(me-=3)+2],Y="left";if(x=="right"&&B==le-ne)for(;me<A.length-3&&A[me+3]==A[me+4]&&!A[me+5].insertLeft;)b=A[(me+=3)+2],Y="right";break}return{node:b,start:B,end:L,collapse:Y,coverStart:ne,coverEnd:le}}function jl(A,f){var x=Ca;if(f=="left")for(var b=0;b<A.length&&(x=A[b]).left==x.right;b++);else for(var B=A.length-1;B>=0&&(x=A[B]).left==x.right;B--);return x}function Tu(A,f,x,b){var B=SA(f.map,x,b),L=B.node,Y=B.start,ne=B.end,le=B.collapse,me;if(L.nodeType==3){for(var Qe=0;Qe<4;Qe++){for(;Y&&Te(f.line.text.charAt(B.coverStart+Y));)--Y;for(;B.coverStart+ne<B.coverEnd&&Te(f.line.text.charAt(B.coverStart+ne));)++ne;if(h&&m<9&&Y==0&&ne==B.coverEnd-B.coverStart?me=L.parentNode.getBoundingClientRect():me=jl(wt(L,Y,ne).getClientRects(),b),me.left||me.right||Y==0)break;ne=Y,Y=Y-1,le="right"}h&&m<11&&(me=Nl(A.display.measure,me))}else{Y>0&&(le=b="right");var nt;A.options.lineWrapping&&(nt=L.getClientRects()).length>1?me=nt[b=="right"?nt.length-1:0]:me=L.getBoundingClientRect()}if(h&&m<9&&!Y&&(!me||!me.left&&!me.right)){var Ot=L.parentNode.getClientRects()[0];Ot?me={left:Ot.left,right:Ot.left+Zu(A.display),top:Ot.top,bottom:Ot.bottom}:me=Ca}for(var Ct=me.top-f.rect.top,Nt=me.bottom-f.rect.top,cn=(Ct+Nt)/2,kn=f.view.measure.heights,Yn=0;Yn<kn.length-1&&!(cn<kn[Yn]);Yn++);var bn=Yn?kn[Yn-1]:0,Fn=kn[Yn],sr={left:(le=="right"?me.right:me.left)-f.rect.left,right:(le=="left"?me.left:me.right)-f.rect.left,top:bn,bottom:Fn};return!me.left&&!me.right&&(sr.bogus=!0),A.options.singleCursorHeightPerLine||(sr.rtop=Ct,sr.rbottom=Nt),sr}function Nl(A,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Fr(A))return f;var x=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*x,right:f.right*x,top:f.top*b,bottom:f.bottom*b}}function eh(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var f=0;f<A.rest.length;f++)A.measure.caches[f]={}}function Dc(A){A.display.externalMeasure=null,he(A.display.lineMeasure);for(var f=0;f<A.display.view.length;f++)eh(A.display.view[f])}function Ku(A){Dc(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Uc(A){return O&&Z?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function md(A){return O&&Z?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function th(A){var f=vr(A),x=f.widgets,b=0;if(x)for(var B=0;B<x.length;++B)x[B].above&&(b+=su(x[B]));return b}function lu(A,f,x,b,B){if(!B){var L=th(f);x.top+=L,x.bottom+=L}if(b=="line")return x;b||(b="local");var Y=ko(f);if(b=="local"?Y+=Kc(A.display):Y-=A.display.viewOffset,b=="page"||b=="window"){var ne=A.display.lineSpace.getBoundingClientRect();Y+=ne.top+(b=="window"?0:md(Vt(A)));var le=ne.left+(b=="window"?0:Uc(Vt(A)));x.left+=le,x.right+=le}return x.top+=Y,x.bottom+=Y,x}function Et(A,f,x){if(x=="div")return f;var b=f.left,B=f.top;if(x=="page")b-=Uc(Vt(A)),B-=md(Vt(A));else if(x=="local"||!x){var L=A.display.sizer.getBoundingClientRect();b+=L.left,B+=L.top}var Y=A.display.lineSpace.getBoundingClientRect();return{left:b-Y.left,top:B-Y.top}}function an(A,f,x,b,B){return b||(b=Nn(A.doc,f.line)),lu(A,b,Pc(A,b,f.ch,B),x)}function jt(A,f,x,b,B,L){b=b||Nn(A.doc,f.line),B||(B=zl(A,b));function Y(Nt,cn){var kn=El(A,B,Nt,cn?"right":"left",L);return cn?kn.left=kn.right:kn.right=kn.left,lu(A,b,kn,x)}var ne=On(b,A.doc.direction),le=f.ch,me=f.sticky;if(le>=b.text.length?(le=b.text.length,me="before"):le<=0&&(le=0,me="after"),!ne)return Y(me=="before"?le-1:le,me=="before");function Qe(Nt,cn,kn){var Yn=ne[cn],bn=Yn.level==1;return Y(kn?Nt-1:Nt,bn!=kn)}var nt=fn(ne,le,me),Ot=Ut,Ct=Qe(le,nt,me=="before");return Ot!=null&&(Ct.other=Qe(le,Ot,me!="before")),Ct}function fr(A,f){var x=0;f=Dr(A.doc,f),A.options.lineWrapping||(x=Zu(A.display)*f.ch);var b=Nn(A.doc,f.line),B=ko(b)+Kc(A.display);return{left:x,right:x,top:B,bottom:B+b.height}}function ui(A,f,x,b,B){var L=Ft(A,f,x);return L.xRel=B,b&&(L.outside=b),L}function so(A,f,x){var b=A.doc;if(x+=A.display.viewOffset,x<0)return ui(b.first,0,null,-1,-1);var B=Je(b,x),L=b.first+b.size-1;if(B>L)return ui(b.first+b.size-1,Nn(b,L).text.length,null,1,1);f<0&&(f=0);for(var Y=Nn(b,B);;){var ne=nh(A,Y,B,f,x),le=Kn(Y,ne.ch+(ne.xRel>0||ne.outside>0?1:0));if(!le)return ne;var me=le.find(1);if(me.line==B)return me;Y=Nn(b,B=me.line)}}function La(A,f,x,b){b-=th(f);var B=f.text.length,L=Bt(function(Y){return El(A,x,Y-1).bottom<=b},B,0);return B=Bt(function(Y){return El(A,x,Y).top>b},L,B),{begin:L,end:B}}function Po(A,f,x,b){x||(x=zl(A,f));var B=lu(A,f,El(A,x,b),"line").top;return La(A,f,x,B)}function EA(A,f,x,b){return A.bottom<=x?!1:A.top>x?!0:(b?A.left:A.right)>f}function nh(A,f,x,b,B){B-=ko(f);var L=zl(A,f),Y=th(f),ne=0,le=f.text.length,me=!0,Qe=On(f,A.doc.direction);if(Qe){var nt=(A.options.lineWrapping?OA:Do)(A,f,x,L,Qe,b,B);me=nt.level!=1,ne=me?nt.from:nt.to-1,le=me?nt.to:nt.from-1}var Ot=null,Ct=null,Nt=Bt(function(Tr){var _r=El(A,L,Tr);return _r.top+=Y,_r.bottom+=Y,EA(_r,b,B,!1)?(_r.top<=B&&_r.left<=b&&(Ot=Tr,Ct=_r),!0):!1},ne,le),cn,kn,Yn=!1;if(Ct){var bn=b-Ct.left<Ct.right-b,Fn=bn==me;Nt=Ot+(Fn?0:1),kn=Fn?"after":"before",cn=bn?Ct.left:Ct.right}else{!me&&(Nt==le||Nt==ne)&&Nt++,kn=Nt==0?"after":Nt==f.text.length?"before":El(A,L,Nt-(me?1:0)).bottom+Y<=B==me?"after":"before";var sr=jt(A,Ft(x,Nt,kn),"line",f,L);cn=sr.left,Yn=B<sr.top?-1:B>=sr.bottom?1:0}return Nt=At(f.text,Nt,1),ui(x,Nt,kn,Yn,b-cn)}function Do(A,f,x,b,B,L,Y){var ne=Bt(function(nt){var Ot=B[nt],Ct=Ot.level!=1;return EA(jt(A,Ft(x,Ct?Ot.to:Ot.from,Ct?"before":"after"),"line",f,b),L,Y,!0)},0,B.length-1),le=B[ne];if(ne>0){var me=le.level!=1,Qe=jt(A,Ft(x,me?le.from:le.to,me?"after":"before"),"line",f,b);EA(Qe,L,Y,!0)&&Qe.top>Y&&(le=B[ne-1])}return le}function OA(A,f,x,b,B,L,Y){var ne=La(A,f,b,Y),le=ne.begin,me=ne.end;/\s/.test(f.text.charAt(me-1))&&me--;for(var Qe=null,nt=null,Ot=0;Ot<B.length;Ot++){var Ct=B[Ot];if(!(Ct.from>=me||Ct.to<=le)){var Nt=Ct.level!=1,cn=El(A,b,Nt?Math.min(me,Ct.to)-1:Math.max(le,Ct.from)).right,kn=cn<L?L-cn+1e9:cn-L;(!Qe||nt>kn)&&(Qe=Ct,nt=kn)}}return Qe||(Qe=B[B.length-1]),Qe.from<le&&(Qe={from:le,to:Qe.to,level:Qe.level}),Qe.to>me&&(Qe={from:Qe.from,to:me,level:Qe.level}),Qe}var Es;function Ha(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(Es==null){Es=ge("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)Es.appendChild(document.createTextNode("x")),Es.appendChild(ge("br"));Es.appendChild(document.createTextNode("x"))}$e(A.measure,Es);var x=Es.offsetHeight/50;return x>3&&(A.cachedTextHeight=x),he(A.measure),x||1}function Zu(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var f=ge("span","xxxxxxxxxx"),x=ge("pre",[f],"CodeMirror-line-like");$e(A.measure,x);var b=f.getBoundingClientRect(),B=(b.right-b.left)/10;return B>2&&(A.cachedCharWidth=B),B||10}function cs(A){for(var f=A.display,x={},b={},B=f.gutters.clientLeft,L=f.gutters.firstChild,Y=0;L;L=L.nextSibling,++Y){var ne=A.display.gutterSpecs[Y].className;x[ne]=L.offsetLeft+L.clientLeft+B,b[ne]=L.clientWidth}return{fixedPos:Xi(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:x,gutterWidth:b,wrapperWidth:f.wrapper.clientWidth}}function Xi(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function qh(A){var f=Ha(A.display),x=A.options.lineWrapping,b=x&&Math.max(5,A.display.scroller.clientWidth/Zu(A.display)-3);return function(B){if(Xr(A.doc,B))return 0;var L=0;if(B.widgets)for(var Y=0;Y<B.widgets.length;Y++)B.widgets[Y].height&&(L+=B.widgets[Y].height);return x?L+(Math.ceil(B.text.length/b)||1)*f:L+f}}function Hh(A){var f=A.doc,x=qh(A);f.iter(function(b){var B=x(b);B!=b.height&&zi(b,B)})}function uu(A,f,x,b){var B=A.display;if(!x&&Mt(f).getAttribute("cm-not-content")=="true")return null;var L,Y,ne=B.lineSpace.getBoundingClientRect();try{L=f.clientX-ne.left,Y=f.clientY-ne.top}catch{return null}var le=so(A,L,Y),me;if(b&&le.xRel>0&&(me=Nn(A.doc,le.line).text).length==le.ch){var Qe=pe(me,me.length,A.options.tabSize)-me.length;le=Ft(le.line,Math.max(0,Math.round((L-Jd(A.display).left)/Zu(A.display))-Qe))}return le}function ec(A,f){if(f>=A.display.viewTo||(f-=A.display.viewFrom,f<0))return null;for(var x=A.display.view,b=0;b<x.length;b++)if(f-=x[b].size,f<0)return b}function _a(A,f,x,b){f==null&&(f=A.doc.first),x==null&&(x=A.doc.first+A.doc.size),b||(b=0);var B=A.display;if(b&&x<B.viewTo&&(B.updateLineNumbers==null||B.updateLineNumbers>f)&&(B.updateLineNumbers=f),A.curOp.viewChanged=!0,f>=B.viewTo)Ss&&go(A.doc,f)<B.viewTo&&Wn(A);else if(x<=B.viewFrom)Ss&&Oi(A.doc,x+b)>B.viewFrom?Wn(A):(B.viewFrom+=b,B.viewTo+=b);else if(f<=B.viewFrom&&x>=B.viewTo)Wn(A);else if(f<=B.viewFrom){var L=Gl(A,x,x+b,1);L?(B.view=B.view.slice(L.index),B.viewFrom=L.lineN,B.viewTo+=b):Wn(A)}else if(x>=B.viewTo){var Y=Gl(A,f,f,-1);Y?(B.view=B.view.slice(0,Y.index),B.viewTo=Y.lineN):Wn(A)}else{var ne=Gl(A,f,f,-1),le=Gl(A,x,x+b,1);ne&&le?(B.view=B.view.slice(0,ne.index).concat(Tc(A,ne.lineN,le.lineN)).concat(B.view.slice(le.index)),B.viewTo+=b):Wn(A)}var me=B.externalMeasured;me&&(x<me.lineN?me.lineN+=b:f<me.lineN+me.size&&(B.externalMeasured=null))}function hl(A,f,x){A.curOp.viewChanged=!0;var b=A.display,B=A.display.externalMeasured;if(B&&f>=B.lineN&&f<B.lineN+B.size&&(b.externalMeasured=null),!(f<b.viewFrom||f>=b.viewTo)){var L=b.view[ec(A,f)];if(L.node!=null){var Y=L.changes||(L.changes=[]);Re(Y,x)==-1&&Y.push(x)}}}function Wn(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function Gl(A,f,x,b){var B=ec(A,f),L,Y=A.display.view;if(!Ss||x==A.doc.first+A.doc.size)return{index:B,lineN:x};for(var ne=A.display.viewFrom,le=0;le<B;le++)ne+=Y[le].size;if(ne!=f){if(b>0){if(B==Y.length-1)return null;L=ne+Y[B].size-f,B++}else L=ne-f;f+=L,x+=L}for(;go(A.doc,x)!=x;){if(B==(b<0?0:Y.length-1))return null;x+=b*Y[B-(b<0?1:0)].size,B+=b}return{index:B,lineN:x}}function Xu(A,f,x){var b=A.display,B=b.view;B.length==0||f>=b.viewTo||x<=b.viewFrom?(b.view=Tc(A,f,x),b.viewFrom=f):(b.viewFrom>f?b.view=Tc(A,f,b.viewFrom).concat(b.view):b.viewFrom<f&&(b.view=b.view.slice(ec(A,f))),b.viewFrom=f,b.viewTo<x?b.view=b.view.concat(Tc(A,b.viewTo,x)):b.viewTo>x&&(b.view=b.view.slice(0,ec(A,x)))),b.viewTo=x}function tc(A){for(var f=A.display.view,x=0,b=0;b<f.length;b++){var B=f[b];!B.hidden&&(!B.node||B.changes)&&++x}return x}function Ju(A){A.display.input.showSelection(A.display.input.prepareSelection())}function Vn(A,f){f===void 0&&(f=!0);var x=A.doc,b={},B=b.cursors=document.createDocumentFragment(),L=b.selection=document.createDocumentFragment(),Y=A.options.$customCursor;Y&&(f=!0);for(var ne=0;ne<x.sel.ranges.length;ne++)if(!(!f&&ne==x.sel.primIndex)){var le=x.sel.ranges[ne];if(!(le.from().line>=A.display.viewTo||le.to().line<A.display.viewFrom)){var me=le.empty();if(Y){var Qe=Y(A,le);Qe&&nc(A,Qe,B)}else(me||A.options.showCursorWhenSelecting)&&nc(A,le.head,B);me||ip(A,le,L)}}return b}function nc(A,f,x){var b=jt(A,f,"div",null,null,!A.options.singleCursorHeightPerLine),B=x.appendChild(ge("div","","CodeMirror-cursor"));if(B.style.left=b.left+"px",B.style.top=b.top+"px",B.style.height=Math.max(0,b.bottom-b.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var L=an(A,f,"div",null,null),Y=L.right-L.left;B.style.width=(Y>0?Y:A.defaultCharWidth())+"px"}if(b.other){var ne=x.appendChild(ge("div","","CodeMirror-cursor CodeMirror-secondarycursor"));ne.style.display="",ne.style.left=b.other.left+"px",ne.style.top=b.other.top+"px",ne.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function eA(A,f){return A.top-f.top||A.left-f.left}function ip(A,f,x){var b=A.display,B=A.doc,L=document.createDocumentFragment(),Y=Jd(A.display),ne=Y.left,le=Math.max(b.sizerWidth,MA(A)-b.sizer.offsetLeft)-Y.right,me=B.direction=="ltr";function Qe(Fn,sr,Tr,_r){sr<0&&(sr=0),sr=Math.round(sr),_r=Math.round(_r),L.appendChild(ge("div",null,"CodeMirror-selected","position: absolute; left: "+Fn+`px;
                             top: `+sr+"px; width: "+(Tr??le-Fn)+`px;
                             height: `+(_r-sr)+"px"))}function nt(Fn,sr,Tr){var _r=Nn(B,Fn),fi=_r.text.length,zo,Za;function Ma(fs,Bl){return an(A,Ft(Fn,fs),"div",_r,Bl)}function ja(fs,Bl,rl){var Ts=Po(A,_r,null,fs),ps=Bl=="ltr"==(rl=="after")?"left":"right",fa=rl=="after"?Ts.begin:Ts.end-(/\s/.test(_r.text.charAt(Ts.end-1))?2:1);return Ma(fa,ps)[ps]}var hs=On(_r,B.direction);return kt(hs,sr||0,Tr??fi,function(fs,Bl,rl,Ts){var ps=rl=="ltr",fa=Ma(fs,ps?"left":"right"),Ks=Ma(Bl-1,ps?"right":"left"),gh=sr==null&&fs==0,hc=Tr==null&&Bl==fi,Ws=Ts==0,fc=!hs||Ts==hs.length-1;if(Ks.top-fa.top<=3){var Qs=(me?gh:hc)&&Ws,R0=(me?hc:gh)&&fc,KA=Qs?ne:(ps?fa:Ks).left,Gc=R0?le:(ps?Ks:fa).right;Qe(KA,fa.top,Gc-KA,fa.bottom)}else{var Xa,il,yh,pc;ps?(Xa=me&&gh&&Ws?ne:fa.left,il=me?le:ja(fs,rl,"before"),yh=me?ne:ja(Bl,rl,"after"),pc=me&&hc&&fc?le:Ks.right):(Xa=me?ja(fs,rl,"before"):ne,il=!me&&gh&&Ws?le:fa.right,yh=!me&&hc&&fc?ne:Ks.left,pc=me?ja(Bl,rl,"after"):le),Qe(Xa,fa.top,il-Xa,fa.bottom),fa.bottom<Ks.top&&Qe(ne,fa.bottom,null,Ks.top),Qe(yh,Ks.top,pc-yh,Ks.bottom)}(!zo||eA(fa,zo)<0)&&(zo=fa),eA(Ks,zo)<0&&(zo=Ks),(!Za||eA(fa,Za)<0)&&(Za=fa),eA(Ks,Za)<0&&(Za=Ks)}),{start:zo,end:Za}}var Ot=f.from(),Ct=f.to();if(Ot.line==Ct.line)nt(Ot.line,Ot.ch,Ct.ch);else{var Nt=Nn(B,Ot.line),cn=Nn(B,Ct.line),kn=vr(Nt)==vr(cn),Yn=nt(Ot.line,Ot.ch,kn?Nt.text.length+1:null).end,bn=nt(Ct.line,kn?0:null,Ct.ch).start;kn&&(Yn.top<bn.top-2?(Qe(Yn.right,Yn.top,null,Yn.bottom),Qe(ne,bn.top,bn.left,bn.bottom)):Qe(Yn.right,Yn.top,bn.left-Yn.right,Yn.bottom)),Yn.bottom<bn.top&&Qe(ne,Yn.bottom,null,bn.top)}x.appendChild(L)}function tA(A){if(A.state.focused){var f=A.display;clearInterval(f.blinker);var x=!0;f.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?f.blinker=setInterval(function(){A.hasFocus()||Fc(A),f.cursorDiv.style.visibility=(x=!x)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function nA(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||rh(A))}function rc(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&Fc(A))},100)}function rh(A,f){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(Pe(A,"focus",A,f),A.state.focused=!0,ze(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),C&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),tA(A))}function Fc(A,f){A.state.delayingBlurEvent||(A.state.focused&&(Pe(A,"blur",A,f),A.state.focused=!1,Ue(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function rA(A){for(var f=A.display,x=f.lineDiv.offsetTop,b=Math.max(0,f.scroller.getBoundingClientRect().top),B=f.lineDiv.getBoundingClientRect().top,L=0,Y=0;Y<f.view.length;Y++){var ne=f.view[Y],le=A.options.lineWrapping,me=void 0,Qe=0;if(!ne.hidden){if(B+=ne.line.height,h&&m<8){var nt=ne.node.offsetTop+ne.node.offsetHeight;me=nt-x,x=nt}else{var Ot=ne.node.getBoundingClientRect();me=Ot.bottom-Ot.top,!le&&ne.text.firstChild&&(Qe=ne.text.firstChild.getBoundingClientRect().right-Ot.left-1)}var Ct=ne.line.height-me;if((Ct>.005||Ct<-.005)&&(B<b&&(L-=Ct),zi(ne.line,me),So(ne.line),ne.rest))for(var Nt=0;Nt<ne.rest.length;Nt++)So(ne.rest[Nt]);if(Qe>A.display.sizerWidth){var cn=Math.ceil(Qe/Zu(A.display));cn>A.display.maxLineLength&&(A.display.maxLineLength=cn,A.display.maxLine=ne.line,A.display.maxLineChanged=!0)}}}Math.abs(L)>2&&(f.scroller.scrollTop+=L)}function So(A){if(A.widgets)for(var f=0;f<A.widgets.length;++f){var x=A.widgets[f],b=x.node.parentNode;b&&(x.height=b.offsetHeight)}}function iA(A,f,x){var b=x&&x.top!=null?Math.max(0,x.top):A.scroller.scrollTop;b=Math.floor(b-Kc(A));var B=x&&x.bottom!=null?x.bottom:b+A.wrapper.clientHeight,L=Je(f,b),Y=Je(f,B);if(x&&x.ensure){var ne=x.ensure.from.line,le=x.ensure.to.line;ne<L?(L=ne,Y=Je(f,ko(Nn(f,ne))+A.wrapper.clientHeight)):Math.min(le,f.lastLine())>=Y&&(L=Je(f,ko(Nn(f,le))-A.wrapper.clientHeight),Y=le)}return{from:L,to:Math.max(Y,L+1)}}function gd(A,f){if(!ce(A,"scrollCursorIntoView")){var x=A.display,b=x.sizer.getBoundingClientRect(),B=null,L=x.wrapper.ownerDocument;if(f.top+b.top<0?B=!0:f.bottom+b.top>(L.defaultView.innerHeight||L.documentElement.clientHeight)&&(B=!1),B!=null&&!H){var Y=ge("div","",null,`position: absolute;
                         top: `+(f.top-x.viewOffset-Kc(A.display))+`px;
                         height: `+(f.bottom-f.top+ku(A)+x.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");A.display.lineSpace.appendChild(Y),Y.scrollIntoView(B),A.display.lineSpace.removeChild(Y)}}}function op(A,f,x,b){b==null&&(b=0);var B;!A.options.lineWrapping&&f==x&&(x=f.sticky=="before"?Ft(f.line,f.ch+1,"before"):f,f=f.ch?Ft(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var L=0;L<5;L++){var Y=!1,ne=jt(A,f),le=!x||x==f?ne:jt(A,x);B={left:Math.min(ne.left,le.left),top:Math.min(ne.top,le.top)-b,right:Math.max(ne.left,le.left),bottom:Math.max(ne.bottom,le.bottom)+b};var me=Zh(A,B),Qe=A.doc.scrollTop,nt=A.doc.scrollLeft;if(me.scrollTop!=null&&(Lc(A,me.scrollTop),Math.abs(A.doc.scrollTop-Qe)>1&&(Y=!0)),me.scrollLeft!=null&&(ha(A,me.scrollLeft),Math.abs(A.doc.scrollLeft-nt)>1&&(Y=!0)),!Y)break}return B}function Vh(A,f){var x=Zh(A,f);x.scrollTop!=null&&Lc(A,x.scrollTop),x.scrollLeft!=null&&ha(A,x.scrollLeft)}function Zh(A,f){var x=A.display,b=Ha(A.display);f.top<0&&(f.top=0);var B=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:x.scroller.scrollTop,L=XA(A),Y={};f.bottom-f.top>L&&(f.bottom=f.top+L);var ne=A.doc.height+Yh(x),le=f.top<b,me=f.bottom>ne-b;if(f.top<B)Y.scrollTop=le?0:f.top;else if(f.bottom>B+L){var Qe=Math.min(f.top,(me?ne:f.bottom)-L);Qe!=B&&(Y.scrollTop=Qe)}var nt=A.options.fixedGutter?0:x.gutters.offsetWidth,Ot=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:x.scroller.scrollLeft-nt,Ct=MA(A)-x.gutters.offsetWidth,Nt=f.right-f.left>Ct;return Nt&&(f.right=f.left+Ct),f.left<10?Y.scrollLeft=0:f.left<Ot?Y.scrollLeft=Math.max(0,f.left+nt-(Nt?0:10)):f.right>Ct+Ot-3&&(Y.scrollLeft=f.right+(Nt?0:10)-Ct),Y}function ap(A,f){f!=null&&(Ir(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+f)}function lo(A){Ir(A);var f=A.getCursor();A.curOp.scrollToPos={from:f,to:f,margin:A.options.cursorScrollMargin}}function da(A,f,x){(f!=null||x!=null)&&Ir(A),f!=null&&(A.curOp.scrollLeft=f),x!=null&&(A.curOp.scrollTop=x)}function xr(A,f){Ir(A),A.curOp.scrollToPos=f}function Ir(A){var f=A.curOp.scrollToPos;if(f){A.curOp.scrollToPos=null;var x=fr(A,f.from),b=fr(A,f.to);BA(A,x,b,f.margin)}}function BA(A,f,x,b){var B=Zh(A,{left:Math.min(f.left,x.left),top:Math.min(f.top,x.top)-b,right:Math.max(f.right,x.right),bottom:Math.max(f.bottom,x.bottom)+b});da(A,B.scrollLeft,B.scrollTop)}function Lc(A,f){Math.abs(A.doc.scrollTop-f)<2||(i||Wl(A,{top:f}),ic(A,f,!0),i&&Wl(A),sc(A,100))}function ic(A,f,x){f=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,f)),!(A.display.scroller.scrollTop==f&&!x)&&(A.doc.scrollTop=f,A.display.scrollbars.setScrollTop(f),A.display.scroller.scrollTop!=f&&(A.display.scroller.scrollTop=f))}function ha(A,f,x,b){f=Math.max(0,Math.min(f,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((x?f==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-f)<2)&&!b)&&(A.doc.scrollLeft=f,I(A),A.display.scroller.scrollLeft!=f&&(A.display.scroller.scrollLeft=f),A.display.scrollbars.setScrollLeft(f))}function oc(A){var f=A.display,x=f.gutters.offsetWidth,b=Math.round(A.doc.height+Yh(A.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:A.options.fixedGutter?x:0,docHeight:b,scrollHeight:b+ku(A)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:x}}var Da=function(A,f,x){this.cm=x;var b=this.vert=ge("div",[ge("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),B=this.horiz=ge("div",[ge("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=B.tabIndex=-1,A(b),A(B),Kt(b,"scroll",function(){b.clientHeight&&f(b.scrollTop,"vertical")}),Kt(B,"scroll",function(){B.clientWidth&&f(B.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,h&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Da.prototype.update=function(A){var f=A.scrollWidth>A.clientWidth+1,x=A.scrollHeight>A.clientHeight+1,b=A.nativeBarWidth;if(x){this.vert.style.display="block",this.vert.style.bottom=f?b+"px":"0";var B=A.viewHeight-(f?b:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+B)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=x?b+"px":"0",this.horiz.style.left=A.barLeft+"px";var L=A.viewWidth-A.barLeft-(x?b:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+L)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?b:0,bottom:f?b:0}},Da.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Da.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Da.prototype.zeroWidthHack=function(){var A=ye&&!ee?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Se,this.disableVert=new Se},Da.prototype.enableZeroWidthBar=function(A,f,x){A.style.visibility="";function b(){var B=A.getBoundingClientRect(),L=x=="vert"?document.elementFromPoint(B.right-1,(B.top+B.bottom)/2):document.elementFromPoint((B.right+B.left)/2,B.bottom-1);L!=A?A.style.visibility="hidden":f.set(1e3,b)}f.set(1e3,b)},Da.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var oA=function(){};oA.prototype.update=function(){return{bottom:0,right:0}},oA.prototype.setScrollLeft=function(){},oA.prototype.setScrollTop=function(){},oA.prototype.clear=function(){};function fl(A,f){f||(f=oc(A));var x=A.display.barWidth,b=A.display.barHeight;$o(A,f);for(var B=0;B<4&&x!=A.display.barWidth||b!=A.display.barHeight;B++)x!=A.display.barWidth&&A.options.lineWrapping&&rA(A),$o(A,oc(A)),x=A.display.barWidth,b=A.display.barHeight}function $o(A,f){var x=A.display,b=x.scrollbars.update(f);x.sizer.style.paddingRight=(x.barWidth=b.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=b.bottom)+"px",x.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=b.bottom+"px",x.scrollbarFiller.style.width=b.right+"px"):x.scrollbarFiller.style.display="",b.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=b.bottom+"px",x.gutterFiller.style.width=f.gutterWidth+"px"):x.gutterFiller.style.display=""}var Yo={native:Da,null:oA};function sp(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&Ue(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new Yo[A.options.scrollbarStyle](function(f){A.display.wrapper.insertBefore(f,A.display.scrollbarFiller),Kt(f,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,x){x=="horizontal"?ha(A,f):Lc(A,f)},A),A.display.scrollbars.addClass&&ze(A.display.wrapper,A.display.scrollbars.addClass)}var ih=0;function aA(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ih,markArrays:null},fd(A.curOp)}function Ol(A){var f=A.curOp;f&&Wh(f,function(x){for(var b=0;b<x.ops.length;b++)x.ops[b].cm.curOp=null;lp(x)})}function lp(A){for(var f=A.ops,x=0;x<f.length;x++)yd(f[x]);for(var b=0;b<f.length;b++)IA(f[b]);for(var B=0;B<f.length;B++)Xh(f[B]);for(var L=0;L<f.length;L++)Fe(f[L]);for(var Y=0;Y<f.length;Y++)ac(f[Y])}function yd(A){var f=A.cm,x=f.display;Cd(f),A.updateMaxLine&&qa(f),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<x.viewFrom||A.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&f.options.lineWrapping,A.update=A.mustUpdate&&new Au(f,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function IA(A){A.updatedDisplay=A.mustUpdate&&_d(A.cm,A.update)}function Xh(A){var f=A.cm,x=f.display;A.updatedDisplay&&rA(f),A.barMeasure=oc(f),x.maxLineChanged&&!f.options.lineWrapping&&(A.adjustWidthTo=Pc(f,x.maxLine,x.maxLine.text.length).left+3,f.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+A.adjustWidthTo+ku(f)+f.display.barWidth),A.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+A.adjustWidthTo-MA(f))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=x.input.prepareSelection())}function Fe(A){var f=A.cm;A.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<f.doc.scrollLeft&&ha(f,Math.min(f.display.scroller.scrollLeft,A.maxScrollLeft),!0),f.display.maxLineChanged=!1);var x=A.focus&&A.focus==mt(Yt(f));A.preparedSelection&&f.display.input.showSelection(A.preparedSelection,x),(A.updatedDisplay||A.startHeight!=f.doc.height)&&fl(f,A.barMeasure),A.updatedDisplay&&Jh(f,A.barMeasure),A.selectionChanged&&tA(f),f.state.focused&&A.updateInput&&f.display.input.reset(A.typing),x&&nA(A.cm)}function ac(A){var f=A.cm,x=f.display,b=f.doc;if(A.updatedDisplay&&uc(f,A.update),x.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),A.scrollTop!=null&&ic(f,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&ha(f,A.scrollLeft,!0,!0),A.scrollToPos){var B=op(f,Dr(b,A.scrollToPos.from),Dr(b,A.scrollToPos.to),A.scrollToPos.margin);gd(f,B)}var L=A.maybeHiddenMarkers,Y=A.maybeUnhiddenMarkers;if(L)for(var ne=0;ne<L.length;++ne)L[ne].lines.length||Pe(L[ne],"hide");if(Y)for(var le=0;le<Y.length;++le)Y[le].lines.length&&Pe(Y[le],"unhide");x.wrapper.offsetHeight&&(b.scrollTop=f.display.scroller.scrollTop),A.changeObjs&&Pe(f,"changes",f,A.changeObjs),A.update&&A.update.finish()}function ds(A,f){if(A.curOp)return f();aA(A);try{return f()}finally{Ol(A)}}function Yi(A,f){return function(){if(A.curOp)return f.apply(A,arguments);aA(A);try{return f.apply(A,arguments)}finally{Ol(A)}}}function qr(A){return function(){if(this.curOp)return A.apply(this,arguments);aA(this);try{return A.apply(this,arguments)}finally{Ol(this)}}}function ba(A){return function(){var f=this.cm;if(!f||f.curOp)return A.apply(this,arguments);aA(f);try{return A.apply(this,arguments)}finally{Ol(f)}}}function sc(A,f){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(f,$t(vd,A))}function vd(A){var f=A.doc;if(!(f.highlightFrontier>=A.display.viewTo)){var x=+new Date+A.options.workTime,b=na(A,f.highlightFrontier),B=[];f.iter(b.line,Math.min(f.first+f.size,A.display.viewTo+500),function(L){if(b.line>=A.display.viewFrom){var Y=L.styles,ne=L.text.length>A.options.maxHighlightLength?Pa(f.mode,b.state):null,le=Su(A,L,b,!0);ne&&(b.state=ne),L.styles=le.styles;var me=L.styleClasses,Qe=le.classes;Qe?L.styleClasses=Qe:me&&(L.styleClasses=null);for(var nt=!Y||Y.length!=L.styles.length||me!=Qe&&(!me||!Qe||me.bgClass!=Qe.bgClass||me.textClass!=Qe.textClass),Ot=0;!nt&&Ot<Y.length;++Ot)nt=Y[Ot]!=L.styles[Ot];nt&&B.push(b.line),L.stateAfter=b.save(),b.nextLine()}else L.text.length<=A.options.maxHighlightLength&&ra(A,L.text,b),L.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>x)return sc(A,A.options.workDelay),!0}),f.highlightFrontier=b.line,f.modeFrontier=Math.max(f.modeFrontier,b.line),B.length&&ds(A,function(){for(var L=0;L<B.length;L++)hl(A,B[L],"text")})}}var Au=function(A,f,x){var b=A.display;this.viewport=f,this.visible=iA(b,A.doc,f),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=MA(A),this.force=x,this.dims=cs(A),this.events=[]};Au.prototype.signal=function(A,f){Ie(A,f)&&this.events.push(arguments)},Au.prototype.finish=function(){for(var A=0;A<this.events.length;A++)Pe.apply(null,this.events[A])};function Cd(A){var f=A.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=ku(A)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=ku(A)+"px",f.scrollbarsClipped=!0)}function lc(A){if(A.hasFocus())return null;var f=mt(Yt(A));if(!f||!st(A.display.lineDiv,f))return null;var x={activeElt:f};if(window.getSelection){var b=Qt(A).getSelection();b.anchorNode&&b.extend&&st(A.display.lineDiv,b.anchorNode)&&(x.anchorNode=b.anchorNode,x.anchorOffset=b.anchorOffset,x.focusNode=b.focusNode,x.focusOffset=b.focusOffset)}return x}function up(A){if(!(!A||!A.activeElt||A.activeElt==mt(vt(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&st(document.body,A.anchorNode)&&st(document.body,A.focusNode))){var f=A.activeElt.ownerDocument,x=f.defaultView.getSelection(),b=f.createRange();b.setEnd(A.anchorNode,A.anchorOffset),b.collapse(!1),x.removeAllRanges(),x.addRange(b),x.extend(A.focusNode,A.focusOffset)}}function _d(A,f){var x=A.display,b=A.doc;if(f.editorIsHidden)return Wn(A),!1;if(!f.force&&f.visible.from>=x.viewFrom&&f.visible.to<=x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&tc(A)==0)return!1;u(A)&&(Wn(A),f.dims=cs(A));var B=b.first+b.size,L=Math.max(f.visible.from-A.options.viewportMargin,b.first),Y=Math.min(B,f.visible.to+A.options.viewportMargin);x.viewFrom<L&&L-x.viewFrom<20&&(L=Math.max(b.first,x.viewFrom)),x.viewTo>Y&&x.viewTo-Y<20&&(Y=Math.min(B,x.viewTo)),Ss&&(L=go(A.doc,L),Y=Oi(A.doc,Y));var ne=L!=x.viewFrom||Y!=x.viewTo||x.lastWrapHeight!=f.wrapperHeight||x.lastWrapWidth!=f.wrapperWidth;Xu(A,L,Y),x.viewOffset=ko(Nn(A.doc,x.viewFrom)),A.display.mover.style.top=x.viewOffset+"px";var le=tc(A);if(!ne&&le==0&&!f.force&&x.renderedView==x.view&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo))return!1;var me=lc(A);return le>4&&(x.lineDiv.style.display="none"),Ap(A,x.updateLineNumbers,f.dims),le>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,up(me),he(x.cursorDiv),he(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,ne&&(x.lastWrapHeight=f.wrapperHeight,x.lastWrapWidth=f.wrapperWidth,sc(A,400)),x.updateLineNumbers=null,!0}function uc(A,f){for(var x=f.viewport,b=!0;;b=!1){if(!b||!A.options.lineWrapping||f.oldDisplayWidth==MA(A)){if(x&&x.top!=null&&(x={top:Math.min(A.doc.height+Yh(A.display)-XA(A),x.top)}),f.visible=iA(A.display,A.doc,x),f.visible.from>=A.display.viewFrom&&f.visible.to<=A.display.viewTo)break}else b&&(f.visible=iA(A.display,A.doc,x));if(!_d(A,f))break;rA(A);var B=oc(A);Ju(A),fl(A,B),Jh(A,B),f.force=!1}f.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(f.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function Wl(A,f){var x=new Au(A,f);if(_d(A,x)){rA(A),uc(A,x);var b=oc(A);Ju(A),fl(A,b),Jh(A,b),x.finish()}}function Ap(A,f,x){var b=A.display,B=A.options.lineNumbers,L=b.lineDiv,Y=L.firstChild;function ne(Nt){var cn=Nt.nextSibling;return C&&ye&&A.display.currentWheelTarget==Nt?Nt.style.display="none":Nt.parentNode.removeChild(Nt),cn}for(var le=b.view,me=b.viewFrom,Qe=0;Qe<le.length;Qe++){var nt=le[Qe];if(!nt.hidden)if(!nt.node||nt.node.parentNode!=L){var Ot=Lo(A,nt,me,x);L.insertBefore(Ot,Y)}else{for(;Y!=nt.node;)Y=ne(Y);var Ct=B&&f!=null&&f<=me&&nt.lineNumber;nt.changes&&(Re(nt.changes,"gutter")>-1&&(Ct=!1),Qh(A,nt,me,x)),Ct&&(he(nt.lineNumber),nt.lineNumber.appendChild(document.createTextNode(sn(A.options,me)))),Y=nt.node.nextSibling}me+=nt.size}for(;Y;)Y=ne(Y)}function oh(A){var f=A.gutters.offsetWidth;A.sizer.style.marginLeft=f+"px",To(A,"gutterChanged",A)}function Jh(A,f){A.display.sizer.style.minHeight=f.docHeight+"px",A.display.heightForcer.style.top=f.docHeight+"px",A.display.gutters.style.height=f.docHeight+A.display.barHeight+ku(A)+"px"}function I(A){var f=A.display,x=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!A.options.fixedGutter))){for(var b=Xi(f)-f.scroller.scrollLeft+A.doc.scrollLeft,B=f.gutters.offsetWidth,L=b+"px",Y=0;Y<x.length;Y++)if(!x[Y].hidden){A.options.fixedGutter&&(x[Y].gutter&&(x[Y].gutter.style.left=L),x[Y].gutterBackground&&(x[Y].gutterBackground.style.left=L));var ne=x[Y].alignable;if(ne)for(var le=0;le<ne.length;le++)ne[le].style.left=L}A.options.fixedGutter&&(f.gutters.style.left=b+B+"px")}}function u(A){if(!A.options.lineNumbers)return!1;var f=A.doc,x=sn(A.options,f.first+f.size-1),b=A.display;if(x.length!=b.lineNumChars){var B=b.measure.appendChild(ge("div",[ge("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),L=B.firstChild.offsetWidth,Y=B.offsetWidth-L;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(L,b.lineGutter.offsetWidth-Y)+1,b.lineNumWidth=b.lineNumInnerWidth+Y,b.lineNumChars=b.lineNumInnerWidth?x.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",oh(A.display),!0}return!1}function p(A,f){for(var x=[],b=!1,B=0;B<A.length;B++){var L=A[B],Y=null;if(typeof L!="string"&&(Y=L.style,L=L.className),L=="CodeMirror-linenumbers")if(f)b=!0;else continue;x.push({className:L,style:Y})}return f&&!b&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function _(A){var f=A.gutters,x=A.gutterSpecs;he(f),A.lineGutter=null;for(var b=0;b<x.length;++b){var B=x[b],L=B.className,Y=B.style,ne=f.appendChild(ge("div",null,"CodeMirror-gutter "+L));Y&&(ne.style.cssText=Y),L=="CodeMirror-linenumbers"&&(A.lineGutter=ne,ne.style.width=(A.lineNumWidth||1)+"px")}f.style.display=x.length?"":"none",oh(A)}function w(A){_(A.display),_a(A),I(A)}function k(A,f,x,b){var B=this;this.input=x,B.scrollbarFiller=ge("div",null,"CodeMirror-scrollbar-filler"),B.scrollbarFiller.setAttribute("cm-not-content","true"),B.gutterFiller=ge("div",null,"CodeMirror-gutter-filler"),B.gutterFiller.setAttribute("cm-not-content","true"),B.lineDiv=yt("div",null,"CodeMirror-code"),B.selectionDiv=ge("div",null,null,"position: relative; z-index: 1"),B.cursorDiv=ge("div",null,"CodeMirror-cursors"),B.measure=ge("div",null,"CodeMirror-measure"),B.lineMeasure=ge("div",null,"CodeMirror-measure"),B.lineSpace=yt("div",[B.measure,B.lineMeasure,B.selectionDiv,B.cursorDiv,B.lineDiv],null,"position: relative; outline: none");var L=yt("div",[B.lineSpace],"CodeMirror-lines");B.mover=ge("div",[L],null,"position: relative"),B.sizer=ge("div",[B.mover],"CodeMirror-sizer"),B.sizerWidth=null,B.heightForcer=ge("div",null,null,"position: absolute; height: "+it+"px; width: 1px;"),B.gutters=ge("div",null,"CodeMirror-gutters"),B.lineGutter=null,B.scroller=ge("div",[B.sizer,B.heightForcer,B.gutters],"CodeMirror-scroll"),B.scroller.setAttribute("tabIndex","-1"),B.wrapper=ge("div",[B.scrollbarFiller,B.gutterFiller,B.scroller],"CodeMirror"),O&&P>=105&&(B.wrapper.style.clipPath="inset(0px)"),B.wrapper.setAttribute("translate","no"),h&&m<8&&(B.gutters.style.zIndex=-1,B.scroller.style.paddingRight=0),!C&&!(i&&ue)&&(B.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(B.wrapper):A(B.wrapper)),B.viewFrom=B.viewTo=f.first,B.reportedViewFrom=B.reportedViewTo=f.first,B.view=[],B.renderedView=null,B.externalMeasured=null,B.viewOffset=0,B.lastWrapHeight=B.lastWrapWidth=0,B.updateLineNumbers=null,B.nativeBarWidth=B.barHeight=B.barWidth=0,B.scrollbarsClipped=!1,B.lineNumWidth=B.lineNumInnerWidth=B.lineNumChars=null,B.alignWidgets=!1,B.cachedCharWidth=B.cachedTextHeight=B.cachedPaddingH=null,B.maxLine=null,B.maxLineLength=0,B.maxLineChanged=!1,B.wheelDX=B.wheelDY=B.wheelStartX=B.wheelStartY=null,B.shift=!1,B.selForContextMenu=null,B.activeTouch=null,B.gutterSpecs=p(b.gutters,b.lineNumbers),_(B),x.init(B)}var R=0,j=null;h?j=-.53:i?j=15:O?j=-.7:$&&(j=-1/3);function Q(A){var f=A.wheelDeltaX,x=A.wheelDeltaY;return f==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(f=A.detail),x==null&&A.detail&&A.axis==A.VERTICAL_AXIS?x=A.detail:x==null&&(x=A.wheelDelta),{x:f,y:x}}function ie(A){var f=Q(A);return f.x*=j,f.y*=j,f}function de(A,f){O&&P==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var x=Q(f),b=x.x,B=x.y,L=j;f.deltaMode===0&&(b=f.deltaX,B=f.deltaY,L=1);var Y=A.display,ne=Y.scroller,le=ne.scrollWidth>ne.clientWidth,me=ne.scrollHeight>ne.clientHeight;if(b&&le||B&&me){if(B&&ye&&C){e:for(var Qe=f.target,nt=Y.view;Qe!=ne;Qe=Qe.parentNode)for(var Ot=0;Ot<nt.length;Ot++)if(nt[Ot].node==Qe){A.display.currentWheelTarget=Qe;break e}}if(b&&!i&&!D&&L!=null){B&&me&&Lc(A,Math.max(0,ne.scrollTop+B*L)),ha(A,Math.max(0,ne.scrollLeft+b*L)),(!B||B&&me)&&rt(f),Y.wheelStartX=null;return}if(B&&L!=null){var Ct=B*L,Nt=A.doc.scrollTop,cn=Nt+Y.wrapper.clientHeight;Ct<0?Nt=Math.max(0,Nt+Ct-50):cn=Math.min(A.doc.height,cn+Ct+50),Wl(A,{top:Nt,bottom:cn})}R<20&&f.deltaMode!==0&&(Y.wheelStartX==null?(Y.wheelStartX=ne.scrollLeft,Y.wheelStartY=ne.scrollTop,Y.wheelDX=b,Y.wheelDY=B,setTimeout(function(){if(Y.wheelStartX!=null){var kn=ne.scrollLeft-Y.wheelStartX,Yn=ne.scrollTop-Y.wheelStartY,bn=Yn&&Y.wheelDY&&Yn/Y.wheelDY||kn&&Y.wheelDX&&kn/Y.wheelDX;Y.wheelStartX=Y.wheelStartY=null,bn&&(j=(j*R+bn)/(R+1),++R)}},200)):(Y.wheelDX+=b,Y.wheelDY+=B))}}var fe=function(A,f){this.ranges=A,this.primIndex=f};fe.prototype.primary=function(){return this.ranges[this.primIndex]},fe.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var x=this.ranges[f],b=A.ranges[f];if(!hr(x.anchor,b.anchor)||!hr(x.head,b.head))return!1}return!0},fe.prototype.deepCopy=function(){for(var A=[],f=0;f<this.ranges.length;f++)A[f]=new Oe(ii(this.ranges[f].anchor),ii(this.ranges[f].head));return new fe(A,this.primIndex)},fe.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},fe.prototype.contains=function(A,f){f||(f=A);for(var x=0;x<this.ranges.length;x++){var b=this.ranges[x];if(wn(f,b.from())>=0&&wn(A,b.to())<=0)return x}return-1};var Oe=function(A,f){this.anchor=A,this.head=f};Oe.prototype.from=function(){return ea(this.anchor,this.head)},Oe.prototype.to=function(){return li(this.anchor,this.head)},Oe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function qe(A,f,x){var b=A&&A.options.selectionsMayTouch,B=f[x];f.sort(function(Ot,Ct){return wn(Ot.from(),Ct.from())}),x=Re(f,B);for(var L=1;L<f.length;L++){var Y=f[L],ne=f[L-1],le=wn(ne.to(),Y.from());if(b&&!Y.empty()?le>0:le>=0){var me=ea(ne.from(),Y.from()),Qe=li(ne.to(),Y.to()),nt=ne.empty()?Y.from()==Y.head:ne.from()==ne.head;L<=x&&--x,f.splice(--L,2,new Oe(nt?Qe:me,nt?me:Qe))}}return new fe(f,x)}function Ye(A,f){return new fe([new Oe(A,f||A)],0)}function Ze(A){return A.text?Ft(A.from.line+A.text.length-1,yn(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function Ne(A,f){if(wn(A,f.from)<0)return A;if(wn(A,f.to)<=0)return Ze(f);var x=A.line+f.text.length-(f.to.line-f.from.line)-1,b=A.ch;return A.line==f.to.line&&(b+=Ze(f).ch-f.to.ch),Ft(x,b)}function ht(A,f){for(var x=[],b=0;b<A.sel.ranges.length;b++){var B=A.sel.ranges[b];x.push(new Oe(Ne(B.anchor,f),Ne(B.head,f)))}return qe(A.cm,x,A.sel.primIndex)}function Dt(A,f,x){return A.line==f.line?Ft(x.line,A.ch-f.ch+x.ch):Ft(x.line+(A.line-f.line),A.ch)}function tt(A,f,x){for(var b=[],B=Ft(A.first,0),L=B,Y=0;Y<f.length;Y++){var ne=f[Y],le=Dt(ne.from,B,L),me=Dt(Ze(ne),B,L);if(B=ne.to,L=me,x=="around"){var Qe=A.sel.ranges[Y],nt=wn(Qe.head,Qe.anchor)<0;b[Y]=new Oe(nt?me:le,nt?le:me)}else b[Y]=new Oe(le,le)}return new fe(b,A.sel.primIndex)}function bt(A){A.doc.mode=si(A.options,A.doc.modeOption),Pt(A)}function Pt(A){A.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,sc(A,100),A.state.modeGen++,A.curOp&&_a(A)}function Lt(A,f){return f.from.ch==0&&f.to.ch==0&&yn(f.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function Xt(A,f,x,b){function B(bn){return x?x[bn]:null}function L(bn,Fn,sr){ou(bn,Fn,sr,b),To(bn,"change",bn,f)}function Y(bn,Fn){for(var sr=[],Tr=bn;Tr<Fn;++Tr)sr.push(new Ll(me[Tr],B(Tr),b));return sr}var ne=f.from,le=f.to,me=f.text,Qe=Nn(A,ne.line),nt=Nn(A,le.line),Ot=yn(me),Ct=B(me.length-1),Nt=le.line-ne.line;if(f.full)A.insert(0,Y(0,me.length)),A.remove(me.length,A.size-me.length);else if(Lt(A,f)){var cn=Y(0,me.length-1);L(nt,nt.text,Ct),Nt&&A.remove(ne.line,Nt),cn.length&&A.insert(ne.line,cn)}else if(Qe==nt)if(me.length==1)L(Qe,Qe.text.slice(0,ne.ch)+Ot+Qe.text.slice(le.ch),Ct);else{var kn=Y(1,me.length-1);kn.push(new Ll(Ot+Qe.text.slice(le.ch),Ct,b)),L(Qe,Qe.text.slice(0,ne.ch)+me[0],B(0)),A.insert(ne.line+1,kn)}else if(me.length==1)L(Qe,Qe.text.slice(0,ne.ch)+me[0]+nt.text.slice(le.ch),B(0)),A.remove(ne.line+1,Nt);else{L(Qe,Qe.text.slice(0,ne.ch)+me[0],B(0)),L(nt,Ot+nt.text.slice(le.ch),Ct);var Yn=Y(1,me.length-1);Nt>1&&A.remove(ne.line+1,Nt-1),A.insert(ne.line+1,Yn)}To(A,"change",A,f)}function dn(A,f,x){function b(B,L,Y){if(B.linked)for(var ne=0;ne<B.linked.length;++ne){var le=B.linked[ne];if(le.doc!=L){var me=Y&&le.sharedHist;x&&!me||(f(le.doc,me),b(le.doc,B,me))}}}b(A,null,!0)}function un(A,f){if(f.cm)throw new Error("This document is already in use.");A.doc=f,f.cm=A,Hh(A),bt(A),pn(A),A.options.direction=f.direction,A.options.lineWrapping||qa(A),A.options.mode=f.modeOption,_a(A)}function pn(A){(A.doc.direction=="rtl"?ze:Ue)(A.display.lineDiv,"CodeMirror-rtl")}function $n(A){ds(A,function(){pn(A),_a(A)})}function Hr(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function In(A,f){var x={from:ii(f.from),to:Ze(f),text:oo(A,f.from,f.to)};return Zo(A,x,f.from.line,f.to.line+1),dn(A,function(b){return Zo(b,x,f.from.line,f.to.line+1)},!0),x}function Cr(A){for(;A.length;){var f=yn(A);if(f.ranges)A.pop();else break}}function hi(A,f){if(f)return Cr(A.done),yn(A.done);if(A.done.length&&!yn(A.done).ranges)return yn(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),yn(A.done)}function Pi(A,f,x,b){var B=A.history;B.undone.length=0;var L=+new Date,Y,ne;if((B.lastOp==b||B.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&B.lastModTime>L-(A.cm?A.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(Y=hi(B,B.lastOp==b)))ne=yn(Y.changes),wn(f.from,f.to)==0&&wn(f.from,ne.to)==0?ne.to=Ze(f):Y.changes.push(In(A,f));else{var le=yn(B.done);for((!le||!le.ranges)&&Wr(A.sel,B.done),Y={changes:[In(A,f)],generation:B.generation},B.done.push(Y);B.done.length>B.undoDepth;)B.done.shift(),B.done[0].ranges||B.done.shift()}B.done.push(x),B.generation=++B.maxGeneration,B.lastModTime=B.lastSelTime=L,B.lastOp=B.lastSelOp=b,B.lastOrigin=B.lastSelOrigin=f.origin,ne||Pe(A,"historyAdded")}function Vr(A,f,x,b){var B=f.charAt(0);return B=="*"||B=="+"&&x.ranges.length==b.ranges.length&&x.somethingSelected()==b.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function ti(A,f,x,b){var B=A.history,L=b&&b.origin;x==B.lastSelOp||L&&B.lastSelOrigin==L&&(B.lastModTime==B.lastSelTime&&B.lastOrigin==L||Vr(A,L,yn(B.done),f))?B.done[B.done.length-1]=f:Wr(f,B.done),B.lastSelTime=+new Date,B.lastSelOrigin=L,B.lastSelOp=x,b&&b.clearRedo!==!1&&Cr(B.undone)}function Wr(A,f){var x=yn(f);x&&x.ranges&&x.equals(A)||f.push(A)}function Zo(A,f,x,b){var B=f["spans_"+A.id],L=0;A.iter(Math.max(A.first,x),Math.min(A.first+A.size,b),function(Y){Y.markedSpans&&((B||(B=f["spans_"+A.id]={}))[L]=Y.markedSpans),++L})}function Ro(A){if(!A)return null;for(var f,x=0;x<A.length;++x)A[x].marker.explicitlyCleared?f||(f=A.slice(0,x)):f&&f.push(A[x]);return f?f.length?f:null:A}function Ns(A,f){var x=f["spans_"+A.id];if(!x)return null;for(var b=[],B=0;B<f.text.length;++B)b.push(Ro(x[B]));return b}function Ra(A,f){var x=Ns(A,f),b=Aa(A,f);if(!x)return b;if(!b)return x;for(var B=0;B<x.length;++B){var L=x[B],Y=b[B];if(L&&Y)e:for(var ne=0;ne<Y.length;++ne){for(var le=Y[ne],me=0;me<L.length;++me)if(L[me].marker==le.marker)continue e;L.push(le)}else Y&&(x[B]=Y)}return x}function yo(A,f,x){for(var b=[],B=0;B<A.length;++B){var L=A[B];if(L.ranges){b.push(x?fe.prototype.deepCopy.call(L):L);continue}var Y=L.changes,ne=[];b.push({changes:ne});for(var le=0;le<Y.length;++le){var me=Y[le],Qe=void 0;if(ne.push({from:me.from,to:me.to,text:me.text}),f)for(var nt in me)(Qe=nt.match(/^spans_(\d+)$/))&&Re(f,Number(Qe[1]))>-1&&(yn(ne)[nt]=me[nt],delete me[nt])}}return b}function uo(A,f,x,b){if(b){var B=A.anchor;if(x){var L=wn(f,B)<0;L!=wn(x,B)<0?(B=f,f=x):L!=wn(f,x)<0&&(f=x)}return new Oe(B,f)}else return new Oe(x||f,f)}function tl(A,f,x,b,B){B==null&&(B=A.cm&&(A.cm.display.shift||A.extend)),ji(A,new fe([uo(A.sel.primary(),f,x,B)],0),b)}function cu(A,f,x){for(var b=[],B=A.cm&&(A.cm.display.shift||A.extend),L=0;L<A.sel.ranges.length;L++)b[L]=uo(A.sel.ranges[L],f[L],null,B);var Y=qe(A.cm,b,A.sel.primIndex);ji(A,Y,x)}function Os(A,f,x,b){var B=A.sel.ranges.slice(0);B[f]=x,ji(A,qe(A.cm,B,A.sel.primIndex),b)}function sA(A,f,x,b){ji(A,Ye(f,x),b)}function Ql(A,f,x){var b={ranges:f.ranges,update:function(B){this.ranges=[];for(var L=0;L<B.length;L++)this.ranges[L]=new Oe(Dr(A,B[L].anchor),Dr(A,B[L].head))},origin:x&&x.origin};return Pe(A,"beforeSelectionChange",A,b),A.cm&&Pe(A.cm,"beforeSelectionChange",A.cm,b),b.ranges!=f.ranges?qe(A.cm,b.ranges,b.ranges.length-1):f}function Bs(A,f,x){var b=A.history.done,B=yn(b);B&&B.ranges?(b[b.length-1]=f,Bi(A,f,x)):ji(A,f,x)}function ji(A,f,x){Bi(A,f,x),ti(A,A.sel,A.cm?A.cm.curOp.id:NaN,x)}function Bi(A,f,x){(Ie(A,"beforeSelectionChange")||A.cm&&Ie(A.cm,"beforeSelectionChange"))&&(f=Ql(A,f,x));var b=x&&x.bias||(wn(f.primary().head,A.sel.primary().head)<0?-1:1);oa(A,Xo(A,f,b,!0)),!(x&&x.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&lo(A.cm)}function oa(A,f){f.equals(A.sel)||(A.sel=f,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,_e(A.cm)),To(A,"cursorActivity",A))}function Rc(A){oa(A,Xo(A,A.sel,null,!1))}function Xo(A,f,x,b){for(var B,L=0;L<f.ranges.length;L++){var Y=f.ranges[L],ne=f.ranges.length==A.sel.ranges.length&&A.sel.ranges[L],le=Is(A,Y.anchor,ne&&ne.anchor,x,b),me=Y.head==Y.anchor?le:Is(A,Y.head,ne&&ne.head,x,b);(B||le!=Y.anchor||me!=Y.head)&&(B||(B=f.ranges.slice(0,L)),B[L]=new Oe(le,me))}return B?qe(A.cm,B,f.primIndex):f}function xa(A,f,x,b,B){var L=Nn(A,f.line);if(L.markedSpans)for(var Y=0;Y<L.markedSpans.length;++Y){var ne=L.markedSpans[Y],le=ne.marker,me="selectLeft"in le?!le.selectLeft:le.inclusiveLeft,Qe="selectRight"in le?!le.selectRight:le.inclusiveRight;if((ne.from==null||(me?ne.from<=f.ch:ne.from<f.ch))&&(ne.to==null||(Qe?ne.to>=f.ch:ne.to>f.ch))){if(B&&(Pe(le,"beforeCursorEnter"),le.explicitlyCleared))if(L.markedSpans){--Y;continue}else break;if(!le.atomic)continue;if(x){var nt=le.find(b<0?1:-1),Ot=void 0;if((b<0?Qe:me)&&(nt=Di(A,nt,-b,nt&&nt.line==f.line?L:null)),nt&&nt.line==f.line&&(Ot=wn(nt,x))&&(b<0?Ot<0:Ot>0))return xa(A,nt,f,b,B)}var Ct=le.find(b<0?-1:1);return(b<0?me:Qe)&&(Ct=Di(A,Ct,b,Ct.line==f.line?L:null)),Ct?xa(A,Ct,f,b,B):null}}return f}function Is(A,f,x,b,B){var L=b||1,Y=xa(A,f,x,L,B)||!B&&xa(A,f,x,L,!0)||xa(A,f,x,-L,B)||!B&&xa(A,f,x,-L,!0);return Y||(A.cantEdit=!0,Ft(A.first,0))}function Di(A,f,x,b){return x<0&&f.ch==0?f.line>A.first?Dr(A,Ft(f.line-1)):null:x>0&&f.ch==(b||Nn(A,f.line)).text.length?f.line<A.first+A.size-1?Ft(f.line+1,0):null:new Ft(f.line,f.ch+x)}function Ac(A){A.setSelection(Ft(A.firstLine(),0),Ft(A.lastLine()),St)}function ef(A,f,x){var b={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return b.canceled=!0}};return x&&(b.update=function(B,L,Y,ne){B&&(b.from=Dr(A,B)),L&&(b.to=Dr(A,L)),Y&&(b.text=Y),ne!==void 0&&(b.origin=ne)}),Pe(A,"beforeChange",A,b),A.cm&&Pe(A.cm,"beforeChange",A.cm,b),b.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function du(A,f,x){if(A.cm){if(!A.cm.curOp)return Yi(A.cm,du)(A,f,x);if(A.cm.state.suppressEdits)return}if(!((Ie(A,"beforeChange")||A.cm&&Ie(A.cm,"beforeChange"))&&(f=ef(A,f,!0),!f))){var b=Wo&&!x&&wA(A,f.from,f.to);if(b)for(var B=b.length-1;B>=0;--B)cc(A,{from:b[B].from,to:b[B].to,text:B?[""]:f.text,origin:f.origin});else cc(A,f)}}function cc(A,f){if(!(f.text.length==1&&f.text[0]==""&&wn(f.from,f.to)==0)){var x=ht(A,f);Pi(A,f,x,A.cm?A.cm.curOp.id:NaN),Du(A,f,x,Aa(A,f));var b=[];dn(A,function(B,L){!L&&Re(b,B.history)==-1&&(dp(B.history,f),b.push(B.history)),Du(B,f,null,Aa(B,f))})}}function Pu(A,f,x){var b=A.cm&&A.cm.state.suppressEdits;if(!(b&&!x)){for(var B=A.history,L,Y=A.sel,ne=f=="undo"?B.done:B.undone,le=f=="undo"?B.undone:B.done,me=0;me<ne.length&&(L=ne[me],!(x?L.ranges&&!L.equals(A.sel):!L.ranges));me++);if(me!=ne.length){for(B.lastOrigin=B.lastSelOrigin=null;;)if(L=ne.pop(),L.ranges){if(Wr(L,le),x&&!L.equals(A.sel)){ji(A,L,{clearRedo:!1});return}Y=L}else if(b){ne.push(L);return}else break;var Qe=[];Wr(Y,le),le.push({changes:Qe,generation:B.generation}),B.generation=L.generation||++B.maxGeneration;for(var nt=Ie(A,"beforeChange")||A.cm&&Ie(A.cm,"beforeChange"),Ot=function(cn){var kn=L.changes[cn];if(kn.origin=f,nt&&!ef(A,kn,!1))return ne.length=0,{};Qe.push(In(A,kn));var Yn=cn?ht(A,kn):yn(ne);Du(A,kn,Yn,Ra(A,kn)),!cn&&A.cm&&A.cm.scrollIntoView({from:kn.from,to:Ze(kn)});var bn=[];dn(A,function(Fn,sr){!sr&&Re(bn,Fn.history)==-1&&(dp(Fn.history,kn),bn.push(Fn.history)),Du(Fn,kn,null,Ra(Fn,kn))})},Ct=L.changes.length-1;Ct>=0;--Ct){var Nt=Ot(Ct);if(Nt)return Nt.v}}}}function tf(A,f){if(f!=0&&(A.first+=f,A.sel=new fe(er(A.sel.ranges,function(B){return new Oe(Ft(B.anchor.line+f,B.anchor.ch),Ft(B.head.line+f,B.head.ch))}),A.sel.primIndex),A.cm)){_a(A.cm,A.first,A.first-f,f);for(var x=A.cm.display,b=x.viewFrom;b<x.viewTo;b++)hl(A.cm,b,"gutter")}}function Du(A,f,x,b){if(A.cm&&!A.cm.curOp)return Yi(A.cm,Du)(A,f,x,b);if(f.to.line<A.first){tf(A,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>A.lastLine())){if(f.from.line<A.first){var B=f.text.length-1-(A.first-f.from.line);tf(A,B),f={from:Ft(A.first,0),to:Ft(f.to.line+B,f.to.ch),text:[yn(f.text)],origin:f.origin}}var L=A.lastLine();f.to.line>L&&(f={from:f.from,to:Ft(L,Nn(A,L).text.length),text:[f.text[0]],origin:f.origin}),f.removed=oo(A,f.from,f.to),x||(x=ht(A,f)),A.cm?nf(A.cm,f,b):Xt(A,f,b),Bi(A,x,St),A.cantEdit&&Is(A,Ft(A.firstLine(),0))&&(A.cantEdit=!1)}}function nf(A,f,x){var b=A.doc,B=A.display,L=f.from,Y=f.to,ne=!1,le=L.line;A.options.lineWrapping||(le=ve(vr(Nn(b,L.line))),b.iter(le,Y.line+1,function(Ct){if(Ct==B.maxLine)return ne=!0,!0})),b.sel.contains(f.from,f.to)>-1&&_e(A),Xt(b,f,x,qh(A)),A.options.lineWrapping||(b.iter(le,L.line+f.text.length,function(Ct){var Nt=Mo(Ct);Nt>B.maxLineLength&&(B.maxLine=Ct,B.maxLineLength=Nt,B.maxLineChanged=!0,ne=!1)}),ne&&(A.curOp.updateMaxLine=!0)),Yu(b,L.line),sc(A,400);var me=f.text.length-(Y.line-L.line)-1;f.full?_a(A):L.line==Y.line&&f.text.length==1&&!Lt(A.doc,f)?hl(A,L.line,"text"):_a(A,L.line,Y.line+1,me);var Qe=Ie(A,"changes"),nt=Ie(A,"change");if(nt||Qe){var Ot={from:L,to:Y,text:f.text,removed:f.removed,origin:f.origin};nt&&To(A,"change",A,Ot),Qe&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(Ot)}A.display.selForContextMenu=null}function kA(A,f,x,b,B){var L;b||(b=x),wn(b,x)<0&&(L=[b,x],x=L[0],b=L[1]),typeof f=="string"&&(f=A.splitLines(f)),du(A,{from:x,to:b,text:f,origin:B})}function cp(A,f,x,b){x<A.line?A.line+=b:f<A.line&&(A.line=f,A.ch=0)}function bd(A,f,x,b){for(var B=0;B<A.length;++B){var L=A[B],Y=!0;if(L.ranges){L.copied||(L=A[B]=L.deepCopy(),L.copied=!0);for(var ne=0;ne<L.ranges.length;ne++)cp(L.ranges[ne].anchor,f,x,b),cp(L.ranges[ne].head,f,x,b);continue}for(var le=0;le<L.changes.length;++le){var me=L.changes[le];if(x<me.from.line)me.from=Ft(me.from.line+b,me.from.ch),me.to=Ft(me.to.line+b,me.to.ch);else if(f<=me.to.line){Y=!1;break}}Y||(A.splice(0,B+1),B=0)}}function dp(A,f){var x=f.from.line,b=f.to.line,B=f.text.length-(b-x)-1;bd(A.done,x,b,B),bd(A.undone,x,b,B)}function lA(A,f,x,b){var B=f,L=f;return typeof f=="number"?L=Nn(A,Fa(A,f)):B=ve(f),B==null?null:(b(L,B)&&A.cm&&hl(A.cm,B,x),L)}function xd(A){this.lines=A,this.parent=null;for(var f=0,x=0;x<A.length;++x)A[x].parent=this,f+=A[x].height;this.height=f}xd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,f){for(var x=A,b=A+f;x<b;++x){var B=this.lines[x];this.height-=B.height,va(B),To(B,"delete")}this.lines.splice(A,f)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,f,x){this.height+=x,this.lines=this.lines.slice(0,A).concat(f).concat(this.lines.slice(A));for(var b=0;b<f.length;++b)f[b].parent=this},iterN:function(A,f,x){for(var b=A+f;A<b;++A)if(x(this.lines[A]))return!0}};function rf(A){this.children=A;for(var f=0,x=0,b=0;b<A.length;++b){var B=A[b];f+=B.chunkSize(),x+=B.height,B.parent=this}this.size=f,this.height=x,this.parent=null}rf.prototype={chunkSize:function(){return this.size},removeInner:function(A,f){this.size-=f;for(var x=0;x<this.children.length;++x){var b=this.children[x],B=b.chunkSize();if(A<B){var L=Math.min(f,B-A),Y=b.height;if(b.removeInner(A,L),this.height-=Y-b.height,B==L&&(this.children.splice(x--,1),b.parent=null),(f-=L)==0)break;A=0}else A-=B}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof xd))){var ne=[];this.collapse(ne),this.children=[new xd(ne)],this.children[0].parent=this}},collapse:function(A){for(var f=0;f<this.children.length;++f)this.children[f].collapse(A)},insertInner:function(A,f,x){this.size+=f.length,this.height+=x;for(var b=0;b<this.children.length;++b){var B=this.children[b],L=B.chunkSize();if(A<=L){if(B.insertInner(A,f,x),B.lines&&B.lines.length>50){for(var Y=B.lines.length%25+25,ne=Y;ne<B.lines.length;){var le=new xd(B.lines.slice(ne,ne+=25));B.height-=le.height,this.children.splice(++b,0,le),le.parent=this}B.lines=B.lines.slice(0,Y),this.maybeSpill()}break}A-=L}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var f=A.children.splice(A.children.length-5,5),x=new rf(f);if(A.parent){A.size-=x.size,A.height-=x.height;var B=Re(A.parent.children,A);A.parent.children.splice(B+1,0,x)}else{var b=new rf(A.children);b.parent=A,A.children=[b,x],A=b}x.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,f,x){for(var b=0;b<this.children.length;++b){var B=this.children[b],L=B.chunkSize();if(A<L){var Y=Math.min(f,L-A);if(B.iterN(A,Y,x))return!0;if((f-=Y)==0)break;A=0}else A-=L}}};var uA=function(A,f,x){if(x)for(var b in x)x.hasOwnProperty(b)&&(this[b]=x[b]);this.doc=A,this.node=f};uA.prototype.clear=function(){var A=this.doc.cm,f=this.line.widgets,x=this.line,b=ve(x);if(!(b==null||!f)){for(var B=0;B<f.length;++B)f[B]==this&&f.splice(B--,1);f.length||(x.widgets=null);var L=su(this);zi(x,Math.max(0,x.height-L)),A&&(ds(A,function(){E0(A,x,-L),hl(A,b,"widget")}),To(A,"lineWidgetCleared",A,this,b))}},uA.prototype.changed=function(){var A=this,f=this.height,x=this.doc.cm,b=this.line;this.height=null;var B=su(this)-f;B&&(Xr(this.doc,b)||zi(b,b.height+B),x&&ds(x,function(){x.curOp.forceUpdate=!0,E0(x,b,B),To(x,"lineWidgetChanged",x,A,ve(b))}))},je(uA);function E0(A,f,x){ko(f)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&ap(A,x)}function of(A,f,x,b){var B=new uA(A,x,b),L=A.cm;return L&&B.noHScroll&&(L.display.alignWidgets=!0),lA(A,f,"widget",function(Y){var ne=Y.widgets||(Y.widgets=[]);if(B.insertAt==null?ne.push(B):ne.splice(Math.min(ne.length,Math.max(0,B.insertAt)),0,B),B.line=Y,L&&!Xr(A,Y)){var le=ko(Y)<A.scrollTop;zi(Y,Y.height+su(B)),le&&ap(L,B.height),L.curOp.forceUpdate=!0}return!0}),L&&To(L,"lineWidgetAdded",L,B,typeof f=="number"?f:ve(f)),B}var af=0,hu=function(A,f){this.lines=[],this.type=f,this.doc=A,this.id=++af};hu.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,f=A&&!A.curOp;if(f&&aA(A),Ie(this,"clear")){var x=this.find();x&&To(this,"clear",x.from,x.to)}for(var b=null,B=null,L=0;L<this.lines.length;++L){var Y=this.lines[L],ne=Qo(Y.markedSpans,this);A&&!this.collapsed?hl(A,ve(Y),"text"):A&&(ne.to!=null&&(B=ve(Y)),ne.from!=null&&(b=ve(Y))),Y.markedSpans=Bu(Y.markedSpans,ne),ne.from==null&&this.collapsed&&!Xr(this.doc,Y)&&A&&zi(Y,Ha(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var le=0;le<this.lines.length;++le){var me=vr(this.lines[le]),Qe=Mo(me);Qe>A.display.maxLineLength&&(A.display.maxLine=me,A.display.maxLineLength=Qe,A.display.maxLineChanged=!0)}b!=null&&A&&this.collapsed&&_a(A,b,B+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&Rc(A.doc)),A&&To(A,"markerCleared",A,this,b,B),f&&Ol(A),this.parent&&this.parent.clear()}},hu.prototype.find=function(A,f){A==null&&this.type=="bookmark"&&(A=1);for(var x,b,B=0;B<this.lines.length;++B){var L=this.lines[B],Y=Qo(L.markedSpans,this);if(Y.from!=null&&(x=Ft(f?L:ve(L),Y.from),A==-1))return x;if(Y.to!=null&&(b=Ft(f?L:ve(L),Y.to),A==1))return b}return x&&{from:x,to:b}},hu.prototype.changed=function(){var A=this,f=this.find(-1,!0),x=this,b=this.doc.cm;!f||!b||ds(b,function(){var B=f.line,L=ve(f.line),Y=pd(b,L);if(Y&&(eh(Y),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!Xr(x.doc,B)&&x.height!=null){var ne=x.height;x.height=null;var le=su(x)-ne;le&&zi(B,B.height+le)}To(b,"markerChanged",b,A)})},hu.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||Re(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},hu.prototype.detachLine=function(A){if(this.lines.splice(Re(this.lines,A),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},je(hu);function ah(A,f,x,b,B){if(b&&b.shared)return og(A,f,x,b,B);if(A.cm&&!A.cm.curOp)return Yi(A.cm,ah)(A,f,x,b,B);var L=new hu(A,B),Y=wn(f,x);if(b&&ke(b,L,!1),Y>0||Y==0&&L.clearWhenEmpty!==!1)return L;if(L.replacedWith&&(L.collapsed=!0,L.widgetNode=yt("span",[L.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||L.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(L.widgetNode.insertLeft=!0)),L.collapsed){if(Lr(A,f.line,f,x,L)||f.line!=x.line&&Lr(A,x.line,f,x,L))throw new Error("Inserting collapsed marker partially overlapping an existing one");As()}L.addToHistory&&Pi(A,{from:f,to:x,origin:"markText"},A.sel,NaN);var ne=f.line,le=A.cm,me;if(A.iter(ne,x.line+1,function(nt){le&&L.collapsed&&!le.options.lineWrapping&&vr(nt)==le.display.maxLine&&(me=!0),L.collapsed&&ne!=f.line&&zi(nt,0),cl(nt,new Al(L,ne==f.line?f.ch:null,ne==x.line?x.ch:null),A.cm&&A.cm.curOp),++ne}),L.collapsed&&A.iter(f.line,x.line+1,function(nt){Xr(A,nt)&&zi(nt,0)}),L.clearOnEnter&&Kt(L,"beforeCursorEnter",function(){return L.clear()}),L.readOnly&&(ru(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),L.collapsed&&(L.id=++af,L.atomic=!0),le){if(me&&(le.curOp.updateMaxLine=!0),L.collapsed)_a(le,f.line,x.line+1);else if(L.className||L.startStyle||L.endStyle||L.css||L.attributes||L.title)for(var Qe=f.line;Qe<=x.line;Qe++)hl(le,Qe,"text");L.atomic&&Rc(le.doc),To(le,"markerAdded",le,L)}return L}var sh=function(A,f){this.markers=A,this.primary=f;for(var x=0;x<A.length;++x)A[x].parent=this};sh.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();To(this,"clear")}},sh.prototype.find=function(A,f){return this.primary.find(A,f)},je(sh);function og(A,f,x,b,B){b=ke(b),b.shared=!1;var L=[ah(A,f,x,b,B)],Y=L[0],ne=b.widgetNode;return dn(A,function(le){ne&&(b.widgetNode=ne.cloneNode(!0)),L.push(ah(le,Dr(le,f),Dr(le,x),b,B));for(var me=0;me<le.linked.length;++me)if(le.linked[me].isParent)return;Y=yn(L)}),new sh(L,Y)}function pl(A){return A.findMarks(Ft(A.first,0),A.clipPos(Ft(A.lastLine())),function(f){return f.parent})}function lh(A,f){for(var x=0;x<f.length;x++){var b=f[x],B=b.find(),L=A.clipPos(B.from),Y=A.clipPos(B.to);if(wn(L,Y)){var ne=ah(A,L,Y,b.primary,b.primary.type);b.markers.push(ne),ne.parent=b}}}function O0(A){for(var f=function(b){var B=A[b],L=[B.primary.doc];dn(B.primary.doc,function(le){return L.push(le)});for(var Y=0;Y<B.markers.length;Y++){var ne=B.markers[Y];Re(L,ne.doc)==-1&&(ne.parent=null,B.markers.splice(Y--,1))}},x=0;x<A.length;x++)f(x)}var sm=0,ks=function(A,f,x,b,B){if(!(this instanceof ks))return new ks(A,f,x,b,B);x==null&&(x=0),rf.call(this,[new xd([new Ll("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var L=Ft(x,0);this.sel=Ye(L),this.history=new Hr(null),this.id=++sm,this.modeOption=f,this.lineSep=b,this.direction=B=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),Xt(this,{from:L,to:L,text:A}),ji(this,Ye(L),St)};ks.prototype=Gr(rf.prototype,{constructor:ks,iter:function(A,f,x){x?this.iterN(A-this.first,f-A,x):this.iterN(this.first,this.first+this.size,A)},insert:function(A,f){for(var x=0,b=0;b<f.length;++b)x+=f[b].height;this.insertInner(A-this.first,f,x)},remove:function(A,f){this.removeInner(A-this.first,f)},getValue:function(A){var f=bo(this,this.first,this.first+this.size);return A===!1?f:f.join(A||this.lineSeparator())},setValue:ba(function(A){var f=Ft(this.first,0),x=this.first+this.size-1;du(this,{from:f,to:Ft(x,Nn(this,x).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&da(this.cm,0,0),ji(this,Ye(f),St)}),replaceRange:function(A,f,x,b){f=Dr(this,f),x=x?Dr(this,x):f,kA(this,A,f,x,b)},getRange:function(A,f,x){var b=oo(this,Dr(this,A),Dr(this,f));return x===!1?b:x===""?b.join(""):b.join(x||this.lineSeparator())},getLine:function(A){var f=this.getLineHandle(A);return f&&f.text},getLineHandle:function(A){if(Zt(this,A))return Nn(this,A)},getLineNumber:function(A){return ve(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=Nn(this,A)),vr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Dr(this,A)},getCursor:function(A){var f=this.sel.primary(),x;return A==null||A=="head"?x=f.head:A=="anchor"?x=f.anchor:A=="end"||A=="to"||A===!1?x=f.to():x=f.from(),x},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ba(function(A,f,x){sA(this,Dr(this,typeof A=="number"?Ft(A,f||0):A),null,x)}),setSelection:ba(function(A,f,x){sA(this,Dr(this,A),Dr(this,f||A),x)}),extendSelection:ba(function(A,f,x){tl(this,Dr(this,A),f&&Dr(this,f),x)}),extendSelections:ba(function(A,f){cu(this,vi(this,A),f)}),extendSelectionsBy:ba(function(A,f){var x=er(this.sel.ranges,A);cu(this,vi(this,x),f)}),setSelections:ba(function(A,f,x){if(A.length){for(var b=[],B=0;B<A.length;B++)b[B]=new Oe(Dr(this,A[B].anchor),Dr(this,A[B].head||A[B].anchor));f==null&&(f=Math.min(A.length-1,this.sel.primIndex)),ji(this,qe(this.cm,b,f),x)}}),addSelection:ba(function(A,f,x){var b=this.sel.ranges.slice(0);b.push(new Oe(Dr(this,A),Dr(this,f||A))),ji(this,qe(this.cm,b,b.length-1),x)}),getSelection:function(A){for(var f=this.sel.ranges,x,b=0;b<f.length;b++){var B=oo(this,f[b].from(),f[b].to());x=x?x.concat(B):B}return A===!1?x:x.join(A||this.lineSeparator())},getSelections:function(A){for(var f=[],x=this.sel.ranges,b=0;b<x.length;b++){var B=oo(this,x[b].from(),x[b].to());A!==!1&&(B=B.join(A||this.lineSeparator())),f[b]=B}return f},replaceSelection:function(A,f,x){for(var b=[],B=0;B<this.sel.ranges.length;B++)b[B]=A;this.replaceSelections(b,f,x||"+input")},replaceSelections:ba(function(A,f,x){for(var b=[],B=this.sel,L=0;L<B.ranges.length;L++){var Y=B.ranges[L];b[L]={from:Y.from(),to:Y.to(),text:this.splitLines(A[L]),origin:x}}for(var ne=f&&f!="end"&&tt(this,b,f),le=b.length-1;le>=0;le--)du(this,b[le]);ne?Bs(this,ne):this.cm&&lo(this.cm)}),undo:ba(function(){Pu(this,"undo")}),redo:ba(function(){Pu(this,"redo")}),undoSelection:ba(function(){Pu(this,"undo",!0)}),redoSelection:ba(function(){Pu(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,f=0,x=0,b=0;b<A.done.length;b++)A.done[b].ranges||++f;for(var B=0;B<A.undone.length;B++)A.undone[B].ranges||++x;return{undo:f,redo:x}},clearHistory:function(){var A=this;this.history=new Hr(this.history),dn(this,function(f){return f.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:yo(this.history.done),undone:yo(this.history.undone)}},setHistory:function(A){var f=this.history=new Hr(this.history);f.done=yo(A.done.slice(0),null,!0),f.undone=yo(A.undone.slice(0),null,!0)},setGutterMarker:ba(function(A,f,x){return lA(this,A,"gutter",function(b){var B=b.gutterMarkers||(b.gutterMarkers={});return B[f]=x,!x&&J(B)&&(b.gutterMarkers=null),!0})}),clearGutter:ba(function(A){var f=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[A]&&lA(f,x,"gutter",function(){return x.gutterMarkers[A]=null,J(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(A){var f;if(typeof A=="number"){if(!Zt(this,A)||(f=A,A=Nn(this,A),!A))return null}else if(f=ve(A),f==null)return null;return{line:f,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:ba(function(A,f,x){return lA(this,A,f=="gutter"?"gutter":"class",function(b){var B=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!b[B])b[B]=x;else{if(De(x).test(b[B]))return!1;b[B]+=" "+x}return!0})}),removeLineClass:ba(function(A,f,x){return lA(this,A,f=="gutter"?"gutter":"class",function(b){var B=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",L=b[B];if(L)if(x==null)b[B]=null;else{var Y=L.match(De(x));if(!Y)return!1;var ne=Y.index+Y[0].length;b[B]=L.slice(0,Y.index)+(!Y.index||ne==L.length?"":" ")+L.slice(ne)||null}else return!1;return!0})}),addLineWidget:ba(function(A,f,x){return of(this,A,f,x)}),removeLineWidget:function(A){A.clear()},markText:function(A,f,x){return ah(this,Dr(this,A),Dr(this,f),x,x&&x.type||"range")},setBookmark:function(A,f){var x={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return A=Dr(this,A),ah(this,A,A,x,"bookmark")},findMarksAt:function(A){A=Dr(this,A);var f=[],x=Nn(this,A.line).markedSpans;if(x)for(var b=0;b<x.length;++b){var B=x[b];(B.from==null||B.from<=A.ch)&&(B.to==null||B.to>=A.ch)&&f.push(B.marker.parent||B.marker)}return f},findMarks:function(A,f,x){A=Dr(this,A),f=Dr(this,f);var b=[],B=A.line;return this.iter(A.line,f.line+1,function(L){var Y=L.markedSpans;if(Y)for(var ne=0;ne<Y.length;ne++){var le=Y[ne];!(le.to!=null&&B==A.line&&A.ch>=le.to||le.from==null&&B!=A.line||le.from!=null&&B==f.line&&le.from>=f.ch)&&(!x||x(le.marker))&&b.push(le.marker.parent||le.marker)}++B}),b},getAllMarks:function(){var A=[];return this.iter(function(f){var x=f.markedSpans;if(x)for(var b=0;b<x.length;++b)x[b].from!=null&&A.push(x[b].marker)}),A},posFromIndex:function(A){var f,x=this.first,b=this.lineSeparator().length;return this.iter(function(B){var L=B.text.length+b;if(L>A)return f=A,!0;A-=L,++x}),Dr(this,Ft(x,f))},indexFromPos:function(A){A=Dr(this,A);var f=A.ch;if(A.line<this.first||A.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,A.line,function(b){f+=b.text.length+x}),f},copy:function(A){var f=new ks(bo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,A&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(A){A||(A={});var f=this.first,x=this.first+this.size;A.from!=null&&A.from>f&&(f=A.from),A.to!=null&&A.to<x&&(x=A.to);var b=new ks(bo(this,f,x),A.mode||this.modeOption,f,this.lineSep,this.direction);return A.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:A.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],lh(b,pl(this)),b},unlinkDoc:function(A){if(A instanceof xo&&(A=A.doc),this.linked)for(var f=0;f<this.linked.length;++f){var x=this.linked[f];if(x.doc==A){this.linked.splice(f,1),A.unlinkDoc(this),O0(pl(this));break}}if(A.history==this.history){var b=[A.id];dn(A,function(B){return b.push(B.id)},!0),A.history=new Hr(null),A.history.done=yo(this.history.done,b),A.history.undone=yo(this.history.undone,b)}},iterLinkedDocs:function(A){dn(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Er(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ba(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(f){return f.order=null}),this.cm&&$n(this.cm))})}),ks.prototype.eachLine=ks.prototype.iter;var lm=0;function um(A){var f=this;if(I0(f),!(ce(f,A)||Rl(f.display,A))){rt(A),h&&(lm=+new Date);var x=uu(f,A,!0),b=A.dataTransfer.files;if(!(!x||f.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var B=b.length,L=Array(B),Y=0,ne=function(){++Y==B&&Yi(f,function(){x=Dr(f.doc,x);var Ct={from:x,to:x,text:f.doc.splitLines(L.filter(function(Nt){return Nt!=null}).join(f.doc.lineSeparator())),origin:"paste"};du(f.doc,Ct),Bs(f.doc,Ye(Dr(f.doc,x),Dr(f.doc,Ze(Ct))))})()},le=function(Ct,Nt){if(f.options.allowDropFileTypes&&Re(f.options.allowDropFileTypes,Ct.type)==-1){ne();return}var cn=new FileReader;cn.onerror=function(){return ne()},cn.onload=function(){var kn=cn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(kn)){ne();return}L[Nt]=kn,ne()},cn.readAsText(Ct)},me=0;me<b.length;me++)le(b[me],me);else{if(f.state.draggingText&&f.doc.sel.contains(x)>-1){f.state.draggingText(A),setTimeout(function(){return f.display.input.focus()},20);return}try{var Qe=A.dataTransfer.getData("Text");if(Qe){var nt;if(f.state.draggingText&&!f.state.draggingText.copy&&(nt=f.listSelections()),Bi(f.doc,Ye(x,x)),nt)for(var Ot=0;Ot<nt.length;++Ot)kA(f.doc,"",nt[Ot].anchor,nt[Ot].head,"drag");f.replaceSelection(Qe,"around","paste"),f.display.input.focus()}}catch{}}}}function B0(A,f){if(h&&(!A.state.draggingText||+new Date-lm<100)){et(f);return}if(!(ce(A,f)||Rl(A.display,f))&&(f.dataTransfer.setData("Text",A.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!$)){var x=ge("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",D&&(x.width=x.height=1,A.display.wrapper.appendChild(x),x._top=x.offsetTop),f.dataTransfer.setDragImage(x,0,0),D&&x.parentNode.removeChild(x)}}function qi(A,f){var x=uu(A,f);if(x){var b=document.createDocumentFragment();nc(A,x,b),A.display.dragCursor||(A.display.dragCursor=ge("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),$e(A.display.dragCursor,b)}}function I0(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function k0(A){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),x=[],b=0;b<f.length;b++){var B=f[b].CodeMirror;B&&x.push(B)}x.length&&x[0].operation(function(){for(var L=0;L<x.length;L++)A(x[L])})}}var sf=!1;function Am(){sf||(ag(),sf=!0)}function ag(){var A;Kt(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,k0(T0)},100))}),Kt(window,"blur",function(){return k0(Fc)})}function T0(A){var f=A.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,A.setSize()}for(var za={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ml=0;ml<10;ml++)za[ml+48]=za[ml+96]=String(ml);for(var wd=65;wd<=90;wd++)za[wd]=String.fromCharCode(wd);for(var uh=1;uh<=12;uh++)za[uh+111]=za[uh+63235]="F"+uh;var TA={};TA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},TA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},TA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},TA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},TA.default=ye?TA.macDefault:TA.pcDefault;function sg(A){var f=A.split(/-(?!$)/);A=f[f.length-1];for(var x,b,B,L,Y=0;Y<f.length-1;Y++){var ne=f[Y];if(/^(cmd|meta|m)$/i.test(ne))L=!0;else if(/^a(lt)?$/i.test(ne))x=!0;else if(/^(c|ctrl|control)$/i.test(ne))b=!0;else if(/^s(hift)?$/i.test(ne))B=!0;else throw new Error("Unrecognized modifier name: "+ne)}return x&&(A="Alt-"+A),b&&(A="Ctrl-"+A),L&&(A="Cmd-"+A),B&&(A="Shift-"+A),A}function Uu(A){var f={};for(var x in A)if(A.hasOwnProperty(x)){var b=A[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if(b=="..."){delete A[x];continue}for(var B=er(x.split(" "),sg),L=0;L<B.length;L++){var Y=void 0,ne=void 0;L==B.length-1?(ne=B.join(" "),Y=b):(ne=B.slice(0,L+1).join(" "),Y="...");var le=f[ne];if(!le)f[ne]=Y;else if(le!=Y)throw new Error("Inconsistent bindings for "+ne)}delete A[x]}for(var me in f)A[me]=f[me];return A}function Fu(A,f,x,b){f=lf(f);var B=f.call?f.call(A,b):f[A];if(B===!1)return"nothing";if(B==="...")return"multi";if(B!=null&&x(B))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return Fu(A,f.fallthrough,x,b);for(var L=0;L<f.fallthrough.length;L++){var Y=Fu(A,f.fallthrough[L],x,b);if(Y)return Y}}}function cm(A){var f=typeof A=="string"?A:za[A.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function hp(A,f,x){var b=A;return f.altKey&&b!="Alt"&&(A="Alt-"+A),(we?f.metaKey:f.ctrlKey)&&b!="Ctrl"&&(A="Ctrl-"+A),(we?f.ctrlKey:f.metaKey)&&b!="Mod"&&(A="Cmd-"+A),!x&&f.shiftKey&&b!="Shift"&&(A="Shift-"+A),A}function Md(A,f){if(D&&A.keyCode==34&&A.char)return!1;var x=za[A.keyCode];return x==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(x=A.code),hp(x,A,f))}function lf(A){return typeof A=="string"?TA[A]:A}function fu(A,f){for(var x=A.doc.sel.ranges,b=[],B=0;B<x.length;B++){for(var L=f(x[B]);b.length&&wn(L.from,yn(b).to)<=0;){var Y=b.pop();if(wn(Y.from,L.from)<0){L.from=Y.from;break}}b.push(L)}ds(A,function(){for(var ne=b.length-1;ne>=0;ne--)kA(A.doc,"",b[ne].from,b[ne].to,"+delete");lo(A)})}function Sd(A,f,x){var b=At(A.text,f+x,x);return b<0||b>A.text.length?null:b}function fp(A,f,x){var b=Sd(A,f.ch,x);return b==null?null:new Ft(f.line,b,x<0?"after":"before")}function pp(A,f,x,b,B){if(A){f.doc.direction=="rtl"&&(B=-B);var L=On(x,f.doc.direction);if(L){var Y=B<0?yn(L):L[0],ne=B<0==(Y.level==1),le=ne?"after":"before",me;if(Y.level>0||f.doc.direction=="rtl"){var Qe=zl(f,x);me=B<0?x.text.length-1:0;var nt=El(f,Qe,me).top;me=Bt(function(Ot){return El(f,Qe,Ot).top==nt},B<0==(Y.level==1)?Y.from:Y.to-1,me),le=="before"&&(me=Sd(x,me,1))}else me=B<0?Y.to:Y.from;return new Ft(b,me,le)}}return new Ft(b,B<0?x.text.length:0,B<0?"before":"after")}function Ed(A,f,x,b){var B=On(f,A.doc.direction);if(!B)return fp(f,x,b);x.ch>=f.text.length?(x.ch=f.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var L=fn(B,x.ch,x.sticky),Y=B[L];if(A.doc.direction=="ltr"&&Y.level%2==0&&(b>0?Y.to>x.ch:Y.from<x.ch))return fp(f,x,b);var ne=function(Yn,bn){return Sd(f,Yn instanceof Ft?Yn.ch:Yn,bn)},le,me=function(Yn){return A.options.lineWrapping?(le=le||zl(A,f),Po(A,f,le,Yn)):{begin:0,end:f.text.length}},Qe=me(x.sticky=="before"?ne(x,-1):x.ch);if(A.doc.direction=="rtl"||Y.level==1){var nt=Y.level==1==b<0,Ot=ne(x,nt?1:-1);if(Ot!=null&&(nt?Ot<=Y.to&&Ot<=Qe.end:Ot>=Y.from&&Ot>=Qe.begin)){var Ct=nt?"before":"after";return new Ft(x.line,Ot,Ct)}}var Nt=function(Yn,bn,Fn){for(var sr=function(zo,Za){return Za?new Ft(x.line,ne(zo,1),"before"):new Ft(x.line,zo,"after")};Yn>=0&&Yn<B.length;Yn+=bn){var Tr=B[Yn],_r=bn>0==(Tr.level!=1),fi=_r?Fn.begin:ne(Fn.end,-1);if(Tr.from<=fi&&fi<Tr.to||(fi=_r?Tr.from:ne(Tr.to,-1),Fn.begin<=fi&&fi<Fn.end))return sr(fi,_r)}},cn=Nt(L+b,b,Qe);if(cn)return cn;var kn=b>0?Qe.end:ne(Qe.begin,-1);return kn!=null&&!(b>0&&kn==f.text.length)&&(cn=Nt(b>0?0:B.length-1,b,me(kn)),cn)?cn:null}var mp={selectAll:Ac,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),St)},killLine:function(A){return fu(A,function(f){if(f.empty()){var x=Nn(A.doc,f.head.line).text.length;return f.head.ch==x&&f.head.line<A.lastLine()?{from:f.head,to:Ft(f.head.line+1,0)}:{from:f.head,to:Ft(f.head.line,x)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(A){return fu(A,function(f){return{from:Ft(f.from().line,0),to:Dr(A.doc,Ft(f.to().line+1,0))}})},delLineLeft:function(A){return fu(A,function(f){return{from:Ft(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(A){return fu(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return{from:b,to:f.from()}})},delWrappedLineRight:function(A){return fu(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div");return{from:f.from(),to:b}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Ft(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Ft(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(f){return zc(A,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(f){return K0(A,f.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(f){return lg(A,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div")},zt)},goLineLeft:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:0,top:x},"div")},zt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return b.ch<A.getLine(b.line).search(/\S/)?K0(A,f.head):b},zt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var f=[],x=A.listSelections(),b=A.options.tabSize,B=0;B<x.length;B++){var L=x[B].from(),Y=pe(A.getLine(L.line),L.ch,b);f.push(gn(b-Y%b))}A.replaceSelections(f)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return ds(A,function(){for(var f=A.listSelections(),x=[],b=0;b<f.length;b++)if(f[b].empty()){var B=f[b].head,L=Nn(A.doc,B.line).text;if(L){if(B.ch==L.length&&(B=new Ft(B.line,B.ch-1)),B.ch>0)B=new Ft(B.line,B.ch+1),A.replaceRange(L.charAt(B.ch-1)+L.charAt(B.ch-2),Ft(B.line,B.ch-2),B,"+transpose");else if(B.line>A.doc.first){var Y=Nn(A.doc,B.line-1).text;Y&&(B=new Ft(B.line,1),A.replaceRange(L.charAt(0)+A.doc.lineSeparator()+Y.charAt(Y.length-1),Ft(B.line-1,Y.length-1),B,"+transpose"))}}x.push(new Oe(B,B))}A.setSelections(x)})},newlineAndIndent:function(A){return ds(A,function(){for(var f=A.listSelections(),x=f.length-1;x>=0;x--)A.replaceRange(A.doc.lineSeparator(),f[x].anchor,f[x].head,"+input");f=A.listSelections();for(var b=0;b<f.length;b++)A.indentLine(f[b].from().line,null,!0);lo(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function zc(A,f){var x=Nn(A.doc,f),b=vr(x);return b!=x&&(f=ve(b)),pp(!0,A,b,f,1)}function lg(A,f){var x=Nn(A.doc,f),b=kr(x);return b!=x&&(f=ve(b)),pp(!0,A,x,f,-1)}function K0(A,f){var x=zc(A,f.line),b=Nn(A.doc,x.line),B=On(b,A.doc.direction);if(!B||B[0].level==0){var L=Math.max(x.ch,b.text.search(/\S/)),Y=f.line==x.line&&f.ch<=L&&f.ch;return Ft(x.line,Y?0:L,x.sticky)}return x}function Od(A,f,x){if(typeof f=="string"&&(f=mp[f],!f))return!1;A.display.input.ensurePolled();var b=A.display.shift,B=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),x&&(A.display.shift=!1),B=f(A)!=ot}finally{A.display.shift=b,A.state.suppressEdits=!1}return B}function $v(A,f,x){for(var b=0;b<A.state.keyMaps.length;b++){var B=Fu(f,A.state.keyMaps[b],x,A);if(B)return B}return A.options.extraKeys&&Fu(f,A.options.extraKeys,x,A)||Fu(f,A.options.keyMap,x,A)}var uf=new Se;function gp(A,f,x,b){var B=A.state.keySeq;if(B){if(cm(f))return"handled";if(/\'$/.test(f)?A.state.keySeq=null:uf.set(50,function(){A.state.keySeq==B&&(A.state.keySeq=null,A.display.input.reset())}),wa(A,B+" "+f,x,b))return!0}return wa(A,f,x,b)}function wa(A,f,x,b){var B=$v(A,f,b);return B=="multi"&&(A.state.keySeq=f),B=="handled"&&To(A,"keyHandled",A,f,x),(B=="handled"||B=="multi")&&(rt(x),tA(A)),!!B}function Af(A,f){var x=Md(f,!0);return x?f.shiftKey&&!A.state.keySeq?gp(A,"Shift-"+x,f,function(b){return Od(A,b,!0)})||gp(A,x,f,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return Od(A,b)}):gp(A,x,f,function(b){return Od(A,b)}):!1}function ug(A,f,x){return gp(A,"'"+x+"'",f,function(b){return Od(A,b,!0)})}var Ah=null;function cf(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&(f.curOp.focus=mt(Yt(f)),!ce(f,A))){h&&m<11&&A.keyCode==27&&(A.returnValue=!1);var x=A.keyCode;f.display.shift=x==16||A.shiftKey;var b=Af(f,A);D&&(Ah=b?x:null,!b&&x==88&&!Yr&&(ye?A.metaKey:A.ctrlKey)&&f.replaceSelection("",null,"cut")),i&&!ye&&!b&&x==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),x==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&nl(f)}}function nl(A){var f=A.display.lineDiv;ze(f,"CodeMirror-crosshair");function x(b){(b.keyCode==18||!b.altKey)&&(Ue(f,"CodeMirror-crosshair"),nr(document,"keyup",x),nr(document,"mouseover",x))}Kt(document,"keyup",x),Kt(document,"mouseover",x)}function AA(A){A.keyCode==16&&(this.doc.sel.shift=!1),ce(this,A)}function P0(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&!(Rl(f.display,A)||ce(f,A)||A.ctrlKey&&!A.altKey||ye&&A.metaKey)){var x=A.keyCode,b=A.charCode;if(D&&x==Ah){Ah=null,rt(A);return}if(!(D&&(!A.which||A.which<10)&&Af(f,A))){var B=String.fromCharCode(b??x);B!="\b"&&(ug(f,A,B)||f.display.input.onKeyPress(A))}}}var yp=400,Bd=function(A,f,x){this.time=A,this.pos=f,this.button=x};Bd.prototype.compare=function(A,f,x){return this.time+yp>A&&wn(f,this.pos)==0&&x==this.button};var cA,ch;function Ag(A,f){var x=+new Date;return ch&&ch.compare(x,A,f)?(cA=ch=null,"triple"):cA&&cA.compare(x,A,f)?(ch=new Bd(x,A,f),cA=null,"double"):(cA=new Bd(x,A,f),ch=null,"single")}function D0(A){var f=this,x=f.display;if(!(ce(f,A)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=A.shiftKey,Rl(x,A)){C||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100));return}if(!hh(f,A)){var b=uu(f,A),B=tn(A),L=b?Ag(b,B):"single";Qt(f).focus(),B==1&&f.state.selectingText&&f.state.selectingText(A),!(b&&df(f,B,b,L,A))&&(B==1?b?dh(f,b,L,A):Mt(A)==x.scroller&&rt(A):B==2?(b&&tl(f.doc,b),setTimeout(function(){return x.input.focus()},20)):B==3&&(xe?f.display.input.onContextMenu(A):rc(f)))}}}function df(A,f,x,b,B){var L="Click";return b=="double"?L="Double"+L:b=="triple"&&(L="Triple"+L),L=(f==1?"Left":f==2?"Middle":"Right")+L,gp(A,hp(L,B),B,function(Y){if(typeof Y=="string"&&(Y=mp[Y]),!Y)return!1;var ne=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),ne=Y(A,x)!=ot}finally{A.state.suppressEdits=!1}return ne})}function hf(A,f,x){var b=A.getOption("configureMouse"),B=b?b(A,f,x):{};if(B.unit==null){var L=be?x.shiftKey&&x.metaKey:x.altKey;B.unit=L?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(B.extend==null||A.doc.extend)&&(B.extend=A.doc.extend||x.shiftKey),B.addNew==null&&(B.addNew=ye?x.metaKey:x.ctrlKey),B.moveOnDrag==null&&(B.moveOnDrag=!(ye?x.altKey:x.ctrlKey)),B}function dh(A,f,x,b){h?setTimeout($t(nA,A),0):A.curOp.focus=mt(Yt(A));var B=hf(A,x,b),L=A.doc.sel,Y;A.options.dragDrop&&Ht&&!A.isReadOnly()&&x=="single"&&(Y=L.contains(f))>-1&&(wn((Y=L.ranges[Y]).from(),f)<0||f.xRel>0)&&(wn(Y.to(),f)>0||f.xRel<0)?Yv(A,b,f,B):dm(A,b,f,B)}function Yv(A,f,x,b){var B=A.display,L=!1,Y=Yi(A,function(me){C&&(B.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:rc(A)),nr(B.wrapper.ownerDocument,"mouseup",Y),nr(B.wrapper.ownerDocument,"mousemove",ne),nr(B.scroller,"dragstart",le),nr(B.scroller,"drop",Y),L||(rt(me),b.addNew||tl(A.doc,x,null,null,b.extend),C&&!$||h&&m==9?setTimeout(function(){B.wrapper.ownerDocument.body.focus({preventScroll:!0}),B.input.focus()},20):B.input.focus())}),ne=function(me){L=L||Math.abs(f.clientX-me.clientX)+Math.abs(f.clientY-me.clientY)>=10},le=function(){return L=!0};C&&(B.scroller.draggable=!0),A.state.draggingText=Y,Y.copy=!b.moveOnDrag,Kt(B.wrapper.ownerDocument,"mouseup",Y),Kt(B.wrapper.ownerDocument,"mousemove",ne),Kt(B.scroller,"dragstart",le),Kt(B.scroller,"drop",Y),A.state.delayingBlurEvent=!0,setTimeout(function(){return B.input.focus()},20),B.scroller.dragDrop&&B.scroller.dragDrop()}function vp(A,f,x){if(x=="char")return new Oe(f,f);if(x=="word")return A.findWordAt(f);if(x=="line")return new Oe(Ft(f.line,0),Dr(A.doc,Ft(f.line+1,0)));var b=x(A,f);return new Oe(b.from,b.to)}function dm(A,f,x,b){h&&rc(A);var B=A.display,L=A.doc;rt(f);var Y,ne,le=L.sel,me=le.ranges;if(b.addNew&&!b.extend?(ne=L.sel.contains(x),ne>-1?Y=me[ne]:Y=new Oe(x,x)):(Y=L.sel.primary(),ne=L.sel.primIndex),b.unit=="rectangle")b.addNew||(Y=new Oe(x,x)),x=uu(A,f,!0,!0),ne=-1;else{var Qe=vp(A,x,b.unit);b.extend?Y=uo(Y,Qe.anchor,Qe.head,b.extend):Y=Qe}b.addNew?ne==-1?(ne=me.length,ji(L,qe(A,me.concat([Y]),ne),{scroll:!1,origin:"*mouse"})):me.length>1&&me[ne].empty()&&b.unit=="char"&&!b.extend?(ji(L,qe(A,me.slice(0,ne).concat(me.slice(ne+1)),0),{scroll:!1,origin:"*mouse"}),le=L.sel):Os(L,ne,Y,Rt):(ne=0,ji(L,new fe([Y],0),Rt),le=L.sel);var nt=x;function Ot(Fn){if(wn(nt,Fn)!=0)if(nt=Fn,b.unit=="rectangle"){for(var sr=[],Tr=A.options.tabSize,_r=pe(Nn(L,x.line).text,x.ch,Tr),fi=pe(Nn(L,Fn.line).text,Fn.ch,Tr),zo=Math.min(_r,fi),Za=Math.max(_r,fi),Ma=Math.min(x.line,Fn.line),ja=Math.min(A.lastLine(),Math.max(x.line,Fn.line));Ma<=ja;Ma++){var hs=Nn(L,Ma).text,fs=pt(hs,zo,Tr);zo==Za?sr.push(new Oe(Ft(Ma,fs),Ft(Ma,fs))):hs.length>fs&&sr.push(new Oe(Ft(Ma,fs),Ft(Ma,pt(hs,Za,Tr))))}sr.length||sr.push(new Oe(x,x)),ji(L,qe(A,le.ranges.slice(0,ne).concat(sr),ne),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Fn)}else{var Bl=Y,rl=vp(A,Fn,b.unit),Ts=Bl.anchor,ps;wn(rl.anchor,Ts)>0?(ps=rl.head,Ts=ea(Bl.from(),rl.anchor)):(ps=rl.anchor,Ts=li(Bl.to(),rl.head));var fa=le.ranges.slice(0);fa[ne]=ff(A,new Oe(Dr(L,Ts),ps)),ji(L,qe(A,fa,ne),Rt)}}var Ct=B.wrapper.getBoundingClientRect(),Nt=0;function cn(Fn){var sr=++Nt,Tr=uu(A,Fn,!0,b.unit=="rectangle");if(Tr)if(wn(Tr,nt)!=0){A.curOp.focus=mt(Yt(A)),Ot(Tr);var _r=iA(B,L);(Tr.line>=_r.to||Tr.line<_r.from)&&setTimeout(Yi(A,function(){Nt==sr&&cn(Fn)}),150)}else{var fi=Fn.clientY<Ct.top?-20:Fn.clientY>Ct.bottom?20:0;fi&&setTimeout(Yi(A,function(){Nt==sr&&(B.scroller.scrollTop+=fi,cn(Fn))}),50)}}function kn(Fn){A.state.selectingText=!1,Nt=1/0,Fn&&(rt(Fn),B.input.focus()),nr(B.wrapper.ownerDocument,"mousemove",Yn),nr(B.wrapper.ownerDocument,"mouseup",bn),L.history.lastSelOrigin=null}var Yn=Yi(A,function(Fn){Fn.buttons===0||!tn(Fn)?kn(Fn):cn(Fn)}),bn=Yi(A,kn);A.state.selectingText=bn,Kt(B.wrapper.ownerDocument,"mousemove",Yn),Kt(B.wrapper.ownerDocument,"mouseup",bn)}function ff(A,f){var x=f.anchor,b=f.head,B=Nn(A.doc,x.line);if(wn(x,b)==0&&x.sticky==b.sticky)return f;var L=On(B);if(!L)return f;var Y=fn(L,x.ch,x.sticky),ne=L[Y];if(ne.from!=x.ch&&ne.to!=x.ch)return f;var le=Y+(ne.from==x.ch==(ne.level!=1)?0:1);if(le==0||le==L.length)return f;var me;if(b.line!=x.line)me=(b.line-x.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var Qe=fn(L,b.ch,b.sticky),nt=Qe-Y||(b.ch-x.ch)*(ne.level==1?-1:1);Qe==le-1||Qe==le?me=nt<0:me=nt>0}var Ot=L[le+(me?-1:0)],Ct=me==(Ot.level==1),Nt=Ct?Ot.from:Ot.to,cn=Ct?"after":"before";return x.ch==Nt&&x.sticky==cn?f:new Oe(new Ft(x.line,Nt,cn),b)}function hm(A,f,x,b){var B,L;if(f.touches)B=f.touches[0].clientX,L=f.touches[0].clientY;else try{B=f.clientX,L=f.clientY}catch{return!1}if(B>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;b&&rt(f);var Y=A.display,ne=Y.lineDiv.getBoundingClientRect();if(L>ne.bottom||!Ie(A,x))return ft(f);L-=ne.top-Y.viewOffset;for(var le=0;le<A.display.gutterSpecs.length;++le){var me=Y.gutters.childNodes[le];if(me&&me.getBoundingClientRect().right>=B){var Qe=Je(A.doc,L),nt=A.display.gutterSpecs[le];return Pe(A,x,A,Qe,nt.className,f),ft(f)}}}function hh(A,f){return hm(A,f,"gutterClick",!0)}function fm(A,f){Rl(A.display,f)||pm(A,f)||ce(A,f,"contextmenu")||xe||A.display.input.onContextMenu(f)}function pm(A,f){return Ie(A,"gutterContextMenu")?hm(A,f,"gutterContextMenu",!1):!1}function cg(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ku(A)}var fh={toString:function(){return"CodeMirror.Init"}},Cp={},dA={};function U0(A){var f=A.optionHandlers;function x(b,B,L,Y){A.defaults[b]=B,L&&(f[b]=Y?function(ne,le,me){me!=fh&&L(ne,le,me)}:L)}A.defineOption=x,A.Init=fh,x("value","",function(b,B){return b.setValue(B)},!0),x("mode",null,function(b,B){b.doc.modeOption=B,bt(b)},!0),x("indentUnit",2,bt,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(b){Pt(b),Ku(b),_a(b)},!0),x("lineSeparator",null,function(b,B){if(b.doc.lineSep=B,!!B){var L=[],Y=b.doc.first;b.doc.iter(function(le){for(var me=0;;){var Qe=le.text.indexOf(B,me);if(Qe==-1)break;me=Qe+B.length,L.push(Ft(Y,Qe))}Y++});for(var ne=L.length-1;ne>=0;ne--)kA(b.doc,B,L[ne],Ft(L[ne].line,L[ne].ch+B.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,B,L){b.state.specialChars=new RegExp(B.source+(B.test("	")?"":"|	"),"g"),L!=fh&&b.refresh()}),x("specialCharPlaceholder",qu,function(b){return b.refresh()},!0),x("electricChars",!0),x("inputStyle",ue?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(b,B){return b.getInputField().spellcheck=B},!0),x("autocorrect",!1,function(b,B){return b.getInputField().autocorrect=B},!0),x("autocapitalize",!1,function(b,B){return b.getInputField().autocapitalize=B},!0),x("rtlMoveVisually",!X),x("wholeLineUpdateBefore",!0),x("theme","default",function(b){cg(b),w(b)},!0),x("keyMap","default",function(b,B,L){var Y=lf(B),ne=L!=fh&&lf(L);ne&&ne.detach&&ne.detach(b,Y),Y.attach&&Y.attach(b,ne||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,ph,!0),x("gutters",[],function(b,B){b.display.gutterSpecs=p(B,b.options.lineNumbers),w(b)},!0),x("fixedGutter",!0,function(b,B){b.display.gutters.style.left=B?Xi(b.display)+"px":"0",b.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(b){return fl(b)},!0),x("scrollbarStyle","native",function(b){sp(b),fl(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),x("lineNumbers",!1,function(b,B){b.display.gutterSpecs=p(b.options.gutters,B),w(b)},!0),x("firstLineNumber",1,w,!0),x("lineNumberFormatter",function(b){return b},w,!0),x("showCursorWhenSelecting",!1,Ju,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(b,B){B=="nocursor"&&(Fc(b),b.display.input.blur()),b.display.input.readOnlyChanged(B)}),x("screenReaderLabel",null,function(b,B){B=B===""?null:B,b.display.input.screenReaderLabelChanged(B)}),x("disableInput",!1,function(b,B){B||b.display.input.reset()},!0),x("dragDrop",!0,dg),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,Ju,!0),x("singleCursorHeightPerLine",!0,Ju,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,Pt,!0),x("addModeClass",!1,Pt,!0),x("pollInterval",100),x("undoDepth",200,function(b,B){return b.doc.history.undoDepth=B}),x("historyEventDelay",1250),x("viewportMargin",10,function(b){return b.refresh()},!0),x("maxHighlightLength",1e4,Pt,!0),x("moveInputWithCursor",!0,function(b,B){B||b.display.input.resetPosition()}),x("tabindex",null,function(b,B){return b.display.input.getField().tabIndex=B||""}),x("autofocus",null),x("direction","ltr",function(b,B){return b.doc.setDirection(B)},!0),x("phrases",null)}function dg(A,f,x){var b=x&&x!=fh;if(!f!=!b){var B=A.display.dragFunctions,L=f?Kt:nr;L(A.display.scroller,"dragstart",B.start),L(A.display.scroller,"dragenter",B.enter),L(A.display.scroller,"dragover",B.over),L(A.display.scroller,"dragleave",B.leave),L(A.display.scroller,"drop",B.drop)}}function ph(A){A.options.lineWrapping?(ze(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(Ue(A.display.wrapper,"CodeMirror-wrap"),qa(A)),Hh(A),_a(A),Ku(A),setTimeout(function(){return fl(A)},100)}function xo(A,f){var x=this;if(!(this instanceof xo))return new xo(A,f);this.options=f=f?ke(f):{},ke(Cp,f,!1);var b=f.value;typeof b=="string"?b=new ks(b,f.mode,null,f.lineSeparator,f.direction):f.mode&&(b.modeOption=f.mode),this.doc=b;var B=new xo.inputStyles[f.inputStyle](this),L=this.display=new k(A,b,B,f);L.wrapper.CodeMirror=this,cg(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),sp(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Se,keySeq:null,specialChars:null},f.autofocus&&!ue&&L.input.focus(),h&&m<11&&setTimeout(function(){return x.display.input.reset(!0)},20),hg(this),Am(),aA(this),this.curOp.forceUpdate=!0,un(this,b),f.autofocus&&!ue||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&rh(x)},20):Fc(this);for(var Y in dA)dA.hasOwnProperty(Y)&&dA[Y](this,f[Y],fh);u(this),f.finishInit&&f.finishInit(this);for(var ne=0;ne<mm.length;++ne)mm[ne](this);Ol(this),C&&f.lineWrapping&&getComputedStyle(L.lineDiv).textRendering=="optimizelegibility"&&(L.lineDiv.style.textRendering="auto")}xo.defaults=Cp,xo.optionHandlers=dA;function hg(A){var f=A.display;Kt(f.scroller,"mousedown",Yi(A,D0)),h&&m<11?Kt(f.scroller,"dblclick",Yi(A,function(le){if(!ce(A,le)){var me=uu(A,le);if(!(!me||hh(A,le)||Rl(A.display,le))){rt(le);var Qe=A.findWordAt(me);tl(A.doc,Qe.anchor,Qe.head)}}})):Kt(f.scroller,"dblclick",function(le){return ce(A,le)||rt(le)}),Kt(f.scroller,"contextmenu",function(le){return fm(A,le)}),Kt(f.input.getField(),"contextmenu",function(le){f.scroller.contains(le.target)||fm(A,le)});var x,b={end:0};function B(){f.activeTouch&&(x=setTimeout(function(){return f.activeTouch=null},1e3),b=f.activeTouch,b.end=+new Date)}function L(le){if(le.touches.length!=1)return!1;var me=le.touches[0];return me.radiusX<=1&&me.radiusY<=1}function Y(le,me){if(me.left==null)return!0;var Qe=me.left-le.left,nt=me.top-le.top;return Qe*Qe+nt*nt>20*20}Kt(f.scroller,"touchstart",function(le){if(!ce(A,le)&&!L(le)&&!hh(A,le)){f.input.ensurePolled(),clearTimeout(x);var me=+new Date;f.activeTouch={start:me,moved:!1,prev:me-b.end<=300?b:null},le.touches.length==1&&(f.activeTouch.left=le.touches[0].pageX,f.activeTouch.top=le.touches[0].pageY)}}),Kt(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Kt(f.scroller,"touchend",function(le){var me=f.activeTouch;if(me&&!Rl(f,le)&&me.left!=null&&!me.moved&&new Date-me.start<300){var Qe=A.coordsChar(f.activeTouch,"page"),nt;!me.prev||Y(me,me.prev)?nt=new Oe(Qe,Qe):!me.prev.prev||Y(me,me.prev.prev)?nt=A.findWordAt(Qe):nt=new Oe(Ft(Qe.line,0),Dr(A.doc,Ft(Qe.line+1,0))),A.setSelection(nt.anchor,nt.head),A.focus(),rt(le)}B()}),Kt(f.scroller,"touchcancel",B),Kt(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Lc(A,f.scroller.scrollTop),ha(A,f.scroller.scrollLeft,!0),Pe(A,"scroll",A))}),Kt(f.scroller,"mousewheel",function(le){return de(A,le)}),Kt(f.scroller,"DOMMouseScroll",function(le){return de(A,le)}),Kt(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(le){ce(A,le)||et(le)},over:function(le){ce(A,le)||(qi(A,le),et(le))},start:function(le){return B0(A,le)},drop:Yi(A,um),leave:function(le){ce(A,le)||I0(A)}};var ne=f.input.getField();Kt(ne,"keyup",function(le){return AA.call(A,le)}),Kt(ne,"keydown",Yi(A,cf)),Kt(ne,"keypress",Yi(A,P0)),Kt(ne,"focus",function(le){return rh(A,le)}),Kt(ne,"blur",function(le){return Fc(A,le)})}var mm=[];xo.defineInitHook=function(A){return mm.push(A)};function pf(A,f,x,b){var B=A.doc,L;x==null&&(x="add"),x=="smart"&&(B.mode.indent?L=na(A,f).state:x="prev");var Y=A.options.tabSize,ne=Nn(B,f),le=pe(ne.text,null,Y);ne.stateAfter&&(ne.stateAfter=null);var me=ne.text.match(/^\s*/)[0],Qe;if(!b&&!/\S/.test(ne.text))Qe=0,x="not";else if(x=="smart"&&(Qe=B.mode.indent(L,ne.text.slice(me.length),ne.text),Qe==ot||Qe>150)){if(!b)return;x="prev"}x=="prev"?f>B.first?Qe=pe(Nn(B,f-1).text,null,Y):Qe=0:x=="add"?Qe=le+A.options.indentUnit:x=="subtract"?Qe=le-A.options.indentUnit:typeof x=="number"&&(Qe=le+x),Qe=Math.max(0,Qe);var nt="",Ot=0;if(A.options.indentWithTabs)for(var Ct=Math.floor(Qe/Y);Ct;--Ct)Ot+=Y,nt+="	";if(Ot<Qe&&(nt+=gn(Qe-Ot)),nt!=me)return kA(B,nt,Ft(f,0),Ft(f,me.length),"+input"),ne.stateAfter=null,!0;for(var Nt=0;Nt<B.sel.ranges.length;Nt++){var cn=B.sel.ranges[Nt];if(cn.head.line==f&&cn.head.ch<me.length){var kn=Ft(f,me.length);Os(B,Nt,new Oe(kn,kn));break}}}var Lu=null;function gm(A){Lu=A}function F0(A,f,x,b,B){var L=A.doc;A.display.shift=!1,b||(b=L.sel);var Y=+new Date-200,ne=B=="paste"||A.state.pasteIncoming>Y,le=Er(f),me=null;if(ne&&b.ranges.length>1)if(Lu&&Lu.text.join(`
`)==f){if(b.ranges.length%Lu.text.length==0){me=[];for(var Qe=0;Qe<Lu.text.length;Qe++)me.push(L.splitLines(Lu.text[Qe]))}}else le.length==b.ranges.length&&A.options.pasteLinesPerSelection&&(me=er(le,function(Yn){return[Yn]}));for(var nt=A.curOp.updateInput,Ot=b.ranges.length-1;Ot>=0;Ot--){var Ct=b.ranges[Ot],Nt=Ct.from(),cn=Ct.to();Ct.empty()&&(x&&x>0?Nt=Ft(Nt.line,Nt.ch-x):A.state.overwrite&&!ne?cn=Ft(cn.line,Math.min(Nn(L,cn.line).text.length,cn.ch+yn(le).length)):ne&&Lu&&Lu.lineWise&&Lu.text.join(`
`)==le.join(`
`)&&(Nt=cn=Ft(Nt.line,0)));var kn={from:Nt,to:cn,text:me?me[Ot%me.length]:le,origin:B||(ne?"paste":A.state.cutIncoming>Y?"cut":"+input")};du(A.doc,kn),To(A,"inputRead",A,kn)}f&&!ne&&ym(A,f),lo(A),A.curOp.updateInput<2&&(A.curOp.updateInput=nt),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function dc(A,f){var x=A.clipboardData&&A.clipboardData.getData("Text");if(x)return A.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&f.hasFocus()&&ds(f,function(){return F0(f,x,0,null,"paste")}),!0}function ym(A,f){if(!(!A.options.electricChars||!A.options.smartIndent))for(var x=A.doc.sel,b=x.ranges.length-1;b>=0;b--){var B=x.ranges[b];if(!(B.head.ch>100||b&&x.ranges[b-1].head.line==B.head.line)){var L=A.getModeAt(B.head),Y=!1;if(L.electricChars){for(var ne=0;ne<L.electricChars.length;ne++)if(f.indexOf(L.electricChars.charAt(ne))>-1){Y=pf(A,B.head.line,"smart");break}}else L.electricInput&&L.electricInput.test(Nn(A.doc,B.head.line).text.slice(0,B.head.ch))&&(Y=pf(A,B.head.line,"smart"));Y&&To(A,"electricInput",A,B.head.line)}}}function mf(A){for(var f=[],x=[],b=0;b<A.doc.sel.ranges.length;b++){var B=A.doc.sel.ranges[b].head.line,L={anchor:Ft(B,0),head:Ft(B+1,0)};x.push(L),f.push(A.getRange(L.anchor,L.head))}return{text:f,ranges:x}}function jc(A,f,x,b){A.setAttribute("autocorrect",x?"on":"off"),A.setAttribute("autocapitalize",b?"on":"off"),A.setAttribute("spellcheck",!!f)}function mh(){var A=ge("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),f=ge("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return C?A.style.width="1000px":A.setAttribute("wrap","off"),G&&(A.style.border="1px solid black"),f}function gf(A){var f=A.optionHandlers,x=A.helpers={};A.prototype={constructor:A,focus:function(){Qt(this).focus(),this.display.input.focus()},setOption:function(b,B){var L=this.options,Y=L[b];L[b]==B&&b!="mode"||(L[b]=B,f.hasOwnProperty(b)&&Yi(this,f[b])(this,B,Y),Pe(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,B){this.state.keyMaps[B?"push":"unshift"](lf(b))},removeKeyMap:function(b){for(var B=this.state.keyMaps,L=0;L<B.length;++L)if(B[L]==b||B[L].name==b)return B.splice(L,1),!0},addOverlay:qr(function(b,B){var L=b.token?b:A.getMode(this.options,b);if(L.startState)throw new Error("Overlays may not be stateful.");cr(this.state.overlays,{mode:L,modeSpec:b,opaque:B&&B.opaque,priority:B&&B.priority||0},function(Y){return Y.priority}),this.state.modeGen++,_a(this)}),removeOverlay:qr(function(b){for(var B=this.state.overlays,L=0;L<B.length;++L){var Y=B[L].modeSpec;if(Y==b||typeof b=="string"&&Y.name==b){B.splice(L,1),this.state.modeGen++,_a(this);return}}}),indentLine:qr(function(b,B,L){typeof B!="string"&&typeof B!="number"&&(B==null?B=this.options.smartIndent?"smart":"prev":B=B?"add":"subtract"),Zt(this.doc,b)&&pf(this,b,B,L)}),indentSelection:qr(function(b){for(var B=this.doc.sel.ranges,L=-1,Y=0;Y<B.length;Y++){var ne=B[Y];if(ne.empty())ne.head.line>L&&(pf(this,ne.head.line,b,!0),L=ne.head.line,Y==this.doc.sel.primIndex&&lo(this));else{var le=ne.from(),me=ne.to(),Qe=Math.max(L,le.line);L=Math.min(this.lastLine(),me.line-(me.ch?0:1))+1;for(var nt=Qe;nt<L;++nt)pf(this,nt,b);var Ot=this.doc.sel.ranges;le.ch==0&&B.length==Ot.length&&Ot[Y].from().ch>0&&Os(this.doc,Y,new Oe(le,Ot[Y].to()),St)}}}),getTokenAt:function(b,B){return bA(this,b,B)},getLineTokens:function(b,B){return bA(this,Ft(b),B,!0)},getTokenTypeAt:function(b){b=Dr(this.doc,b);var B=us(this,Nn(this.doc,b.line)),L=0,Y=(B.length-1)/2,ne=b.ch,le;if(ne==0)le=B[2];else for(;;){var me=L+Y>>1;if((me?B[me*2-1]:0)>=ne)Y=me;else if(B[me*2+1]<ne)L=me+1;else{le=B[me*2+2];break}}var Qe=le?le.indexOf("overlay "):-1;return Qe<0?le:Qe==0?null:le.slice(0,Qe-1)},getModeAt:function(b){var B=this.doc.mode;return B.innerMode?A.innerMode(B,this.getTokenAt(b).state).mode:B},getHelper:function(b,B){return this.getHelpers(b,B)[0]},getHelpers:function(b,B){var L=[];if(!x.hasOwnProperty(B))return L;var Y=x[B],ne=this.getModeAt(b);if(typeof ne[B]=="string")Y[ne[B]]&&L.push(Y[ne[B]]);else if(ne[B])for(var le=0;le<ne[B].length;le++){var me=Y[ne[B][le]];me&&L.push(me)}else ne.helperType&&Y[ne.helperType]?L.push(Y[ne.helperType]):Y[ne.name]&&L.push(Y[ne.name]);for(var Qe=0;Qe<Y._global.length;Qe++){var nt=Y._global[Qe];nt.pred(ne,this)&&Re(L,nt.val)==-1&&L.push(nt.val)}return L},getStateAfter:function(b,B){var L=this.doc;return b=Fa(L,b??L.first+L.size-1),na(this,b+1,B).state},cursorCoords:function(b,B){var L,Y=this.doc.sel.primary();return b==null?L=Y.head:typeof b=="object"?L=Dr(this.doc,b):L=b?Y.from():Y.to(),jt(this,L,B||"page")},charCoords:function(b,B){return an(this,Dr(this.doc,b),B||"page")},coordsChar:function(b,B){return b=Et(this,b,B||"page"),so(this,b.left,b.top)},lineAtHeight:function(b,B){return b=Et(this,{top:b,left:0},B||"page").top,Je(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,B,L){var Y=!1,ne;if(typeof b=="number"){var le=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>le&&(b=le,Y=!0),ne=Nn(this.doc,b)}else ne=b;return lu(this,ne,{top:0,left:0},B||"page",L||Y).top+(Y?this.doc.height-ko(ne):0)},defaultTextHeight:function(){return Ha(this.display)},defaultCharWidth:function(){return Zu(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,B,L,Y,ne){var le=this.display;b=jt(this,Dr(this.doc,b));var me=b.bottom,Qe=b.left;if(B.style.position="absolute",B.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(B),le.sizer.appendChild(B),Y=="over")me=b.top;else if(Y=="above"||Y=="near"){var nt=Math.max(le.wrapper.clientHeight,this.doc.height),Ot=Math.max(le.sizer.clientWidth,le.lineSpace.clientWidth);(Y=="above"||b.bottom+B.offsetHeight>nt)&&b.top>B.offsetHeight?me=b.top-B.offsetHeight:b.bottom+B.offsetHeight<=nt&&(me=b.bottom),Qe+B.offsetWidth>Ot&&(Qe=Ot-B.offsetWidth)}B.style.top=me+"px",B.style.left=B.style.right="",ne=="right"?(Qe=le.sizer.clientWidth-B.offsetWidth,B.style.right="0px"):(ne=="left"?Qe=0:ne=="middle"&&(Qe=(le.sizer.clientWidth-B.offsetWidth)/2),B.style.left=Qe+"px"),L&&Vh(this,{left:Qe,top:me,right:Qe+B.offsetWidth,bottom:me+B.offsetHeight})},triggerOnKeyDown:qr(cf),triggerOnKeyPress:qr(P0),triggerOnKeyUp:AA,triggerOnMouseDown:qr(D0),execCommand:function(b){if(mp.hasOwnProperty(b))return mp[b].call(null,this)},triggerElectric:qr(function(b){ym(this,b)}),findPosH:function(b,B,L,Y){var ne=1;B<0&&(ne=-1,B=-B);for(var le=Dr(this.doc,b),me=0;me<B&&(le=Jr(this.doc,le,ne,L,Y),!le.hitSide);++me);return le},moveH:qr(function(b,B){var L=this;this.extendSelectionsBy(function(Y){return L.display.shift||L.doc.extend||Y.empty()?Jr(L.doc,Y.head,b,B,L.options.rtlMoveVisually):b<0?Y.from():Y.to()},zt)}),deleteH:qr(function(b,B){var L=this.doc.sel,Y=this.doc;L.somethingSelected()?Y.replaceSelection("",null,"+delete"):fu(this,function(ne){var le=Jr(Y,ne.head,b,B,!1);return b<0?{from:le,to:ne.head}:{from:ne.head,to:le}})}),findPosV:function(b,B,L,Y){var ne=1,le=Y;B<0&&(ne=-1,B=-B);for(var me=Dr(this.doc,b),Qe=0;Qe<B;++Qe){var nt=jt(this,me,"div");if(le==null?le=nt.left:nt.left=le,me=yf(this,nt,ne,L),me.hitSide)break}return me},moveV:qr(function(b,B){var L=this,Y=this.doc,ne=[],le=!this.display.shift&&!Y.extend&&Y.sel.somethingSelected();if(Y.extendSelectionsBy(function(Qe){if(le)return b<0?Qe.from():Qe.to();var nt=jt(L,Qe.head,"div");Qe.goalColumn!=null&&(nt.left=Qe.goalColumn),ne.push(nt.left);var Ot=yf(L,nt,b,B);return B=="page"&&Qe==Y.sel.primary()&&ap(L,an(L,Ot,"div").top-nt.top),Ot},zt),ne.length)for(var me=0;me<Y.sel.ranges.length;me++)Y.sel.ranges[me].goalColumn=ne[me]}),findWordAt:function(b){var B=this.doc,L=Nn(B,b.line).text,Y=b.ch,ne=b.ch;if(L){var le=this.getHelper(b,"wordChars");(b.sticky=="before"||ne==L.length)&&Y?--Y:++ne;for(var me=L.charAt(Y),Qe=Ee(me,le)?function(nt){return Ee(nt,le)}:/\s/.test(me)?function(nt){return/\s/.test(nt)}:function(nt){return!/\s/.test(nt)&&!Ee(nt)};Y>0&&Qe(L.charAt(Y-1));)--Y;for(;ne<L.length&&Qe(L.charAt(ne));)++ne}return new Oe(Ft(b.line,Y),Ft(b.line,ne))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ze(this.display.cursorDiv,"CodeMirror-overwrite"):Ue(this.display.cursorDiv,"CodeMirror-overwrite"),Pe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==mt(Yt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:qr(function(b,B){da(this,b,B)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-ku(this)-this.display.barHeight,width:b.scrollWidth-ku(this)-this.display.barWidth,clientHeight:XA(this),clientWidth:MA(this)}},scrollIntoView:qr(function(b,B){b==null?(b={from:this.doc.sel.primary().head,to:null},B==null&&(B=this.options.cursorScrollMargin)):typeof b=="number"?b={from:Ft(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=B||0,b.from.line!=null?xr(this,b):BA(this,b.from,b.to,b.margin)}),setSize:qr(function(b,B){var L=this,Y=function(le){return typeof le=="number"||/^\d+$/.test(String(le))?le+"px":le};b!=null&&(this.display.wrapper.style.width=Y(b)),B!=null&&(this.display.wrapper.style.height=Y(B)),this.options.lineWrapping&&Dc(this);var ne=this.display.viewFrom;this.doc.iter(ne,this.display.viewTo,function(le){if(le.widgets){for(var me=0;me<le.widgets.length;me++)if(le.widgets[me].noHScroll){hl(L,ne,"widget");break}}++ne}),this.curOp.forceUpdate=!0,Pe(this,"refresh",this)}),operation:function(b){return ds(this,b)},startOperation:function(){return aA(this)},endOperation:function(){return Ol(this)},refresh:qr(function(){var b=this.display.cachedTextHeight;_a(this),this.curOp.forceUpdate=!0,Ku(this),da(this,this.doc.scrollLeft,this.doc.scrollTop),oh(this.display),(b==null||Math.abs(b-Ha(this.display))>.5||this.options.lineWrapping)&&Hh(this),Pe(this,"refresh",this)}),swapDoc:qr(function(b){var B=this.doc;return B.cm=null,this.state.selectingText&&this.state.selectingText(),un(this,b),Ku(this),this.display.input.reset(),da(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,To(this,"swapDoc",this,B),B}),phrase:function(b){var B=this.options.phrases;return B&&Object.prototype.hasOwnProperty.call(B,b)?B[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},je(A),A.registerHelper=function(b,B,L){x.hasOwnProperty(b)||(x[b]=A[b]={_global:[]}),x[b][B]=L},A.registerGlobalHelper=function(b,B,L,Y){A.registerHelper(b,B,Y),x[b]._global.push({pred:L,val:Y})}}function Jr(A,f,x,b,B){var L=f,Y=x,ne=Nn(A,f.line),le=B&&A.direction=="rtl"?-x:x;function me(){var bn=f.line+le;return bn<A.first||bn>=A.first+A.size?!1:(f=new Ft(bn,f.ch,f.sticky),ne=Nn(A,bn))}function Qe(bn){var Fn;if(b=="codepoint"){var sr=ne.text.charCodeAt(f.ch+(x>0?0:-1));if(isNaN(sr))Fn=null;else{var Tr=x>0?sr>=55296&&sr<56320:sr>=56320&&sr<57343;Fn=new Ft(f.line,Math.max(0,Math.min(ne.text.length,f.ch+x*(Tr?2:1))),-x)}}else B?Fn=Ed(A.cm,ne,f,x):Fn=fp(ne,f,x);if(Fn==null)if(!bn&&me())f=pp(B,A.cm,ne,f.line,le);else return!1;else f=Fn;return!0}if(b=="char"||b=="codepoint")Qe();else if(b=="column")Qe(!0);else if(b=="word"||b=="group")for(var nt=null,Ot=b=="group",Ct=A.cm&&A.cm.getHelper(f,"wordChars"),Nt=!0;!(x<0&&!Qe(!Nt));Nt=!1){var cn=ne.text.charAt(f.ch)||`
`,kn=Ee(cn,Ct)?"w":Ot&&cn==`
`?"n":!Ot||/\s/.test(cn)?null:"p";if(Ot&&!Nt&&!kn&&(kn="s"),nt&&nt!=kn){x<0&&(x=1,Qe(),f.sticky="after");break}if(kn&&(nt=kn),x>0&&!Qe(!Nt))break}var Yn=Is(A,f,L,Y,!0);return hr(L,Yn)&&(Yn.hitSide=!0),Yn}function yf(A,f,x,b){var B=A.doc,L=f.left,Y;if(b=="page"){var ne=Math.min(A.display.wrapper.clientHeight,Qt(A).innerHeight||B(A).documentElement.clientHeight),le=Math.max(ne-.5*Ha(A.display),3);Y=(x>0?f.bottom:f.top)+x*le}else b=="line"&&(Y=x>0?f.bottom+3:f.top-3);for(var me;me=so(A,L,Y),!!me.outside;){if(x<0?Y<=0:Y>=B.height){me.hitSide=!0;break}Y+=x*5}return me}var Eo=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Se,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Eo.prototype.init=function(A){var f=this,x=this,b=x.cm,B=x.div=A.lineDiv;B.contentEditable=!0,jc(B,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function L(ne){for(var le=ne.target;le;le=le.parentNode){if(le==B)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(le.className))break}return!1}Kt(B,"paste",function(ne){!L(ne)||ce(b,ne)||dc(ne,b)||m<=11&&setTimeout(Yi(b,function(){return f.updateFromDOM()}),20)}),Kt(B,"compositionstart",function(ne){f.composing={data:ne.data,done:!1}}),Kt(B,"compositionupdate",function(ne){f.composing||(f.composing={data:ne.data,done:!1})}),Kt(B,"compositionend",function(ne){f.composing&&(ne.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Kt(B,"touchstart",function(){return x.forceCompositionEnd()}),Kt(B,"input",function(){f.composing||f.readFromDOMSoon()});function Y(ne){if(!(!L(ne)||ce(b,ne))){if(b.somethingSelected())gm({lineWise:!1,text:b.getSelections()}),ne.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var le=mf(b);gm({lineWise:!0,text:le.text}),ne.type=="cut"&&b.operation(function(){b.setSelections(le.ranges,0,St),b.replaceSelection("",null,"cut")})}else return;if(ne.clipboardData){ne.clipboardData.clearData();var me=Lu.text.join(`
`);if(ne.clipboardData.setData("Text",me),ne.clipboardData.getData("Text")==me){ne.preventDefault();return}}var Qe=mh(),nt=Qe.firstChild;jc(nt),b.display.lineSpace.insertBefore(Qe,b.display.lineSpace.firstChild),nt.value=Lu.text.join(`
`);var Ot=mt(vt(B));Ve(nt),setTimeout(function(){b.display.lineSpace.removeChild(Qe),Ot.focus(),Ot==B&&x.showPrimarySelection()},50)}}Kt(B,"copy",Y),Kt(B,"cut",Y)},Eo.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},Eo.prototype.prepareSelection=function(){var A=Vn(this.cm,!1);return A.focus=mt(vt(this.div))==this.div,A},Eo.prototype.showSelection=function(A,f){!A||!this.cm.display.view.length||((A.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(A))},Eo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Eo.prototype.showPrimarySelection=function(){var A=this.getSelection(),f=this.cm,x=f.doc.sel.primary(),b=x.from(),B=x.to();if(f.display.viewTo==f.display.viewFrom||b.line>=f.display.viewTo||B.line<f.display.viewFrom){A.removeAllRanges();return}var L=Gs(f,A.anchorNode,A.anchorOffset),Y=Gs(f,A.focusNode,A.focusOffset);if(!(L&&!L.bad&&Y&&!Y.bad&&wn(ea(L,Y),b)==0&&wn(li(L,Y),B)==0)){var ne=f.display.view,le=b.line>=f.display.viewFrom&&Id(f,b)||{node:ne[0].measure.map[2],offset:0},me=B.line<f.display.viewTo&&Id(f,B);if(!me){var Qe=ne[ne.length-1].measure,nt=Qe.maps?Qe.maps[Qe.maps.length-1]:Qe.map;me={node:nt[nt.length-1],offset:nt[nt.length-2]-nt[nt.length-3]}}if(!le||!me){A.removeAllRanges();return}var Ot=A.rangeCount&&A.getRangeAt(0),Ct;try{Ct=wt(le.node,le.offset,me.offset,me.node)}catch{}Ct&&(!i&&f.state.focused?(A.collapse(le.node,le.offset),Ct.collapsed||(A.removeAllRanges(),A.addRange(Ct))):(A.removeAllRanges(),A.addRange(Ct)),Ot&&A.anchorNode==null?A.addRange(Ot):i&&this.startGracePeriod()),this.rememberSelection()}},Eo.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},Eo.prototype.showMultipleSelections=function(A){$e(this.cm.display.cursorDiv,A.cursors),$e(this.cm.display.selectionDiv,A.selection)},Eo.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},Eo.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var f=A.getRangeAt(0).commonAncestorContainer;return st(this.div,f)},Eo.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||mt(vt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Eo.prototype.blur=function(){this.div.blur()},Eo.prototype.getField=function(){return this.div},Eo.prototype.supportsTouch=function(){return!0},Eo.prototype.receivedFocus=function(){var A=this,f=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):ds(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function x(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,x))}this.polling.set(this.cm.options.pollInterval,x)},Eo.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},Eo.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),f=this.cm;if(Z&&O&&this.cm.display.gutterSpecs.length&&_p(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var x=Gs(f,A.anchorNode,A.anchorOffset),b=Gs(f,A.focusNode,A.focusOffset);x&&b&&ds(f,function(){ji(f.doc,Ye(x,b),St),(x.bad||b.bad)&&(f.curOp.selectionChanged=!0)})}}},Eo.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,f=A.display,x=A.doc.sel.primary(),b=x.from(),B=x.to();if(b.ch==0&&b.line>A.firstLine()&&(b=Ft(b.line-1,Nn(A.doc,b.line-1).length)),B.ch==Nn(A.doc,B.line).text.length&&B.line<A.lastLine()&&(B=Ft(B.line+1,0)),b.line<f.viewFrom||B.line>f.viewTo-1)return!1;var L,Y,ne;b.line==f.viewFrom||(L=ec(A,b.line))==0?(Y=ve(f.view[0].line),ne=f.view[0].node):(Y=ve(f.view[L].line),ne=f.view[L-1].node.nextSibling);var le=ec(A,B.line),me,Qe;if(le==f.view.length-1?(me=f.viewTo-1,Qe=f.lineDiv.lastChild):(me=ve(f.view[le+1].line)-1,Qe=f.view[le+1].node.previousSibling),!ne)return!1;for(var nt=A.doc.splitLines(fg(A,ne,Qe,Y,me)),Ot=oo(A.doc,Ft(Y,0),Ft(me,Nn(A.doc,me).text.length));nt.length>1&&Ot.length>1;)if(yn(nt)==yn(Ot))nt.pop(),Ot.pop(),me--;else if(nt[0]==Ot[0])nt.shift(),Ot.shift(),Y++;else break;for(var Ct=0,Nt=0,cn=nt[0],kn=Ot[0],Yn=Math.min(cn.length,kn.length);Ct<Yn&&cn.charCodeAt(Ct)==kn.charCodeAt(Ct);)++Ct;for(var bn=yn(nt),Fn=yn(Ot),sr=Math.min(bn.length-(nt.length==1?Ct:0),Fn.length-(Ot.length==1?Ct:0));Nt<sr&&bn.charCodeAt(bn.length-Nt-1)==Fn.charCodeAt(Fn.length-Nt-1);)++Nt;if(nt.length==1&&Ot.length==1&&Y==b.line)for(;Ct&&Ct>b.ch&&bn.charCodeAt(bn.length-Nt-1)==Fn.charCodeAt(Fn.length-Nt-1);)Ct--,Nt++;nt[nt.length-1]=bn.slice(0,bn.length-Nt).replace(/^\u200b+/,""),nt[0]=nt[0].slice(Ct).replace(/\u200b+$/,"");var Tr=Ft(Y,Ct),_r=Ft(me,Ot.length?yn(Ot).length-Nt:0);if(nt.length>1||nt[0]||wn(Tr,_r))return kA(A.doc,nt,Tr,_r,"+input"),!0},Eo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Eo.prototype.reset=function(){this.forceCompositionEnd()},Eo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Eo.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},Eo.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&ds(this.cm,function(){return _a(A.cm)})},Eo.prototype.setUneditable=function(A){A.contentEditable="false"},Eo.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||Yi(this.cm,F0)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},Eo.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},Eo.prototype.onContextMenu=function(){},Eo.prototype.resetPosition=function(){},Eo.prototype.needsContentAttribute=!0;function Id(A,f){var x=pd(A,f.line);if(!x||x.hidden)return null;var b=Nn(A.doc,f.line),B=rp(x,b,f.line),L=On(b,A.doc.direction),Y="left";if(L){var ne=fn(L,f.ch);Y=ne%2?"right":"left"}var le=SA(B.map,f.ch,Y);return le.offset=le.collapse=="right"?le.end:le.start,le}function _p(A){for(var f=A;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function Nc(A,f){return f&&(A.bad=!0),A}function fg(A,f,x,b,B){var L="",Y=!1,ne=A.doc.lineSeparator(),le=!1;function me(Ct){return function(Nt){return Nt.id==Ct}}function Qe(){Y&&(L+=ne,le&&(L+=ne),Y=le=!1)}function nt(Ct){Ct&&(Qe(),L+=Ct)}function Ot(Ct){if(Ct.nodeType==1){var Nt=Ct.getAttribute("cm-text");if(Nt){nt(Nt);return}var cn=Ct.getAttribute("cm-marker"),kn;if(cn){var Yn=A.findMarks(Ft(b,0),Ft(B+1,0),me(+cn));Yn.length&&(kn=Yn[0].find(0))&&nt(oo(A.doc,kn.from,kn.to).join(ne));return}if(Ct.getAttribute("contenteditable")=="false")return;var bn=/^(pre|div|p|li|table|br)$/i.test(Ct.nodeName);if(!/^br$/i.test(Ct.nodeName)&&Ct.textContent.length==0)return;bn&&Qe();for(var Fn=0;Fn<Ct.childNodes.length;Fn++)Ot(Ct.childNodes[Fn]);/^(pre|p)$/i.test(Ct.nodeName)&&(le=!0),bn&&(Y=!0)}else Ct.nodeType==3&&nt(Ct.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ot(f),f!=x;)f=f.nextSibling,le=!1;return L}function Gs(A,f,x){var b;if(f==A.display.lineDiv){if(b=A.display.lineDiv.childNodes[x],!b)return Nc(A.clipPos(Ft(A.display.viewTo-1)),!0);f=null,x=0}else for(b=f;;b=b.parentNode){if(!b||b==A.display.lineDiv)return null;if(b.parentNode&&b.parentNode==A.display.lineDiv)break}for(var B=0;B<A.display.view.length;B++){var L=A.display.view[B];if(L.node==b)return qv(L,f,x)}}function qv(A,f,x){var b=A.text.firstChild,B=!1;if(!f||!st(b,f))return Nc(Ft(ve(A.line),0),!0);if(f==b&&(B=!0,f=b.childNodes[x],x=0,!f)){var L=A.rest?yn(A.rest):A.line;return Nc(Ft(ve(L),L.text.length),B)}var Y=f.nodeType==3?f:null,ne=f;for(!Y&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(Y=f.firstChild,x&&(x=Y.nodeValue.length));ne.parentNode!=b;)ne=ne.parentNode;var le=A.measure,me=le.maps;function Qe(kn,Yn,bn){for(var Fn=-1;Fn<(me?me.length:0);Fn++)for(var sr=Fn<0?le.map:me[Fn],Tr=0;Tr<sr.length;Tr+=3){var _r=sr[Tr+2];if(_r==kn||_r==Yn){var fi=ve(Fn<0?A.line:A.rest[Fn]),zo=sr[Tr]+bn;return(bn<0||_r!=kn)&&(zo=sr[Tr+(bn?1:0)]),Ft(fi,zo)}}}var nt=Qe(Y,ne,x);if(nt)return Nc(nt,B);for(var Ot=ne.nextSibling,Ct=Y?Y.nodeValue.length-x:0;Ot;Ot=Ot.nextSibling){if(nt=Qe(Ot,Ot.firstChild,0),nt)return Nc(Ft(nt.line,nt.ch-Ct),B);Ct+=Ot.textContent.length}for(var Nt=ne.previousSibling,cn=x;Nt;Nt=Nt.previousSibling){if(nt=Qe(Nt,Nt.firstChild,-1),nt)return Nc(Ft(nt.line,nt.ch+cn),B);cn+=Nt.textContent.length}}var Va=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new Se,this.hasSelection=!1,this.composing=null,this.resetting=!1};Va.prototype.init=function(A){var f=this,x=this,b=this.cm;this.createField(A);var B=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),G&&(B.style.width="0px"),Kt(B,"input",function(){h&&m>=9&&f.hasSelection&&(f.hasSelection=null),x.poll()}),Kt(B,"paste",function(Y){ce(b,Y)||dc(Y,b)||(b.state.pasteIncoming=+new Date,x.fastPoll())});function L(Y){if(!ce(b,Y)){if(b.somethingSelected())gm({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var ne=mf(b);gm({lineWise:!0,text:ne.text}),Y.type=="cut"?b.setSelections(ne.ranges,null,St):(x.prevInput="",B.value=ne.text.join(`
`),Ve(B))}else return;Y.type=="cut"&&(b.state.cutIncoming=+new Date)}}Kt(B,"cut",L),Kt(B,"copy",L),Kt(A.scroller,"paste",function(Y){if(!(Rl(A,Y)||ce(b,Y))){if(!B.dispatchEvent){b.state.pasteIncoming=+new Date,x.focus();return}var ne=new Event("paste");ne.clipboardData=Y.clipboardData,B.dispatchEvent(ne)}}),Kt(A.lineSpace,"selectstart",function(Y){Rl(A,Y)||rt(Y)}),Kt(B,"compositionstart",function(){var Y=b.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:Y,range:b.markText(Y,b.getCursor("to"),{className:"CodeMirror-composing"})}}),Kt(B,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},Va.prototype.createField=function(A){this.wrapper=mh(),this.textarea=this.wrapper.firstChild;var f=this.cm.options;jc(this.textarea,f.spellcheck,f.autocorrect,f.autocapitalize)},Va.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},Va.prototype.prepareSelection=function(){var A=this.cm,f=A.display,x=A.doc,b=Vn(A);if(A.options.moveInputWithCursor){var B=jt(A,x.sel.primary().head,"div"),L=f.wrapper.getBoundingClientRect(),Y=f.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,B.top+Y.top-L.top)),b.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,B.left+Y.left-L.left))}return b},Va.prototype.showSelection=function(A){var f=this.cm,x=f.display;$e(x.cursorDiv,A.cursors),$e(x.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},Va.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var f=this.cm;if(this.resetting=!0,f.somethingSelected()){this.prevInput="";var x=f.getSelection();this.textarea.value=x,f.state.focused&&Ve(this.textarea),h&&m>=9&&(this.hasSelection=x)}else A||(this.prevInput=this.textarea.value="",h&&m>=9&&(this.hasSelection=null));this.resetting=!1}},Va.prototype.getField=function(){return this.textarea},Va.prototype.supportsTouch=function(){return!1},Va.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ue||mt(vt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Va.prototype.blur=function(){this.textarea.blur()},Va.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Va.prototype.receivedFocus=function(){this.slowPoll()},Va.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},Va.prototype.fastPoll=function(){var A=!1,f=this;f.pollingFast=!0;function x(){var b=f.poll();!b&&!A?(A=!0,f.polling.set(60,x)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,x)},Va.prototype.poll=function(){var A=this,f=this.cm,x=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!f.state.focused||ur(x)&&!b&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var B=x.value;if(B==b&&!f.somethingSelected())return!1;if(h&&m>=9&&this.hasSelection===B||ye&&/[\uf700-\uf7ff]/.test(B))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var L=B.charCodeAt(0);if(L==8203&&!b&&(b=""),L==8666)return this.reset(),this.cm.execCommand("undo")}for(var Y=0,ne=Math.min(b.length,B.length);Y<ne&&b.charCodeAt(Y)==B.charCodeAt(Y);)++Y;return ds(f,function(){F0(f,B.slice(Y),b.length-Y,null,A.composing?"*compose":null),B.length>1e3||B.indexOf(`
`)>-1?x.value=A.prevInput="":A.prevInput=B,A.composing&&(A.composing.range.clear(),A.composing.range=f.markText(A.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Va.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Va.prototype.onKeyPress=function(){h&&m>=9&&(this.hasSelection=null),this.fastPoll()},Va.prototype.onContextMenu=function(A){var f=this,x=f.cm,b=x.display,B=f.textarea;f.contextMenuPending&&f.contextMenuPending();var L=uu(x,A),Y=b.scroller.scrollTop;if(!L||D)return;var ne=x.options.resetSelectionOnContextMenu;ne&&x.doc.sel.contains(L)==-1&&Yi(x,ji)(x.doc,Ye(L),St);var le=B.style.cssText,me=f.wrapper.style.cssText,Qe=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",B.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-Qe.top-5)+"px; left: "+(A.clientX-Qe.left-5)+`px;
      z-index: 1000; background: `+(h?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var nt;C&&(nt=B.ownerDocument.defaultView.scrollY),b.input.focus(),C&&B.ownerDocument.defaultView.scrollTo(null,nt),b.input.reset(),x.somethingSelected()||(B.value=f.prevInput=" "),f.contextMenuPending=Ct,b.selForContextMenu=x.doc.sel,clearTimeout(b.detectingSelectAll);function Ot(){if(B.selectionStart!=null){var cn=x.somethingSelected(),kn=""+(cn?B.value:"");B.value="",B.value=kn,f.prevInput=cn?"":"",B.selectionStart=1,B.selectionEnd=kn.length,b.selForContextMenu=x.doc.sel}}function Ct(){if(f.contextMenuPending==Ct&&(f.contextMenuPending=!1,f.wrapper.style.cssText=me,B.style.cssText=le,h&&m<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=Y),B.selectionStart!=null)){(!h||h&&m<9)&&Ot();var cn=0,kn=function(){b.selForContextMenu==x.doc.sel&&B.selectionStart==0&&B.selectionEnd>0&&f.prevInput==""?Yi(x,Ac)(x):cn++<10?b.detectingSelectAll=setTimeout(kn,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(kn,200)}}if(h&&m>=9&&Ot(),xe){et(A);var Nt=function(){nr(window,"mouseup",Nt),setTimeout(Ct,20)};Kt(window,"mouseup",Nt)}else setTimeout(Ct,50)},Va.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},Va.prototype.setUneditable=function(){},Va.prototype.needsContentAttribute=!1;function pg(A,f){if(f=f?ke(f):{},f.value=A.value,!f.tabindex&&A.tabIndex&&(f.tabindex=A.tabIndex),!f.placeholder&&A.placeholder&&(f.placeholder=A.placeholder),f.autofocus==null){var x=mt(vt(A));f.autofocus=x==A||A.getAttribute("autofocus")!=null&&x==document.body}function b(){A.value=ne.getValue()}var B;if(A.form&&(Kt(A.form,"submit",b),!f.leaveSubmitMethodAlone)){var L=A.form;B=L.submit;try{var Y=L.submit=function(){b(),L.submit=B,L.submit(),L.submit=Y}}catch{}}f.finishInit=function(le){le.save=b,le.getTextArea=function(){return A},le.toTextArea=function(){le.toTextArea=isNaN,b(),A.parentNode.removeChild(le.getWrapperElement()),A.style.display="",A.form&&(nr(A.form,"submit",b),!f.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=B))}},A.style.display="none";var ne=xo(function(le){return A.parentNode.insertBefore(le,A.nextSibling)},f);return ne}function Hv(A){A.off=nr,A.on=Kt,A.wheelEventPixels=ie,A.Doc=ks,A.splitLines=Er,A.countColumn=pe,A.findColumn=pt,A.isWordChar=_i,A.Pass=ot,A.signal=Pe,A.Line=Ll,A.changeEnd=Ze,A.scrollbarModel=Yo,A.Pos=Ft,A.cmpPos=wn,A.modes=or,A.mimeModes=di,A.resolveMode=po,A.getMode=si,A.modeExtensions=mo,A.extendMode=Qa,A.copyState=Pa,A.startState=ls,A.innerMode=Ei,A.commands=mp,A.keyMap=TA,A.keyName=Md,A.isModifierKey=cm,A.lookupKey=Fu,A.normalizeKeyMap=Uu,A.StringStream=yi,A.SharedTextMarker=sh,A.TextMarker=hu,A.LineWidget=uA,A.e_preventDefault=rt,A.e_stopPropagation=lt,A.e_stop=et,A.addClass=ze,A.contains=st,A.rmClass=Ue,A.keyNames=za}U0(xo),gf(xo);var L0="iter insert remove copy getEditor constructor".split(" ");for(var vf in ks.prototype)ks.prototype.hasOwnProperty(vf)&&Re(L0,vf)<0&&(xo.prototype[vf]=function(A){return function(){return A.apply(this.doc,arguments)}}(ks.prototype[vf]));return je(ks),xo.inputStyles={textarea:Va,contenteditable:Eo},xo.defineMode=function(A){!xo.defaults.mode&&A!="null"&&(xo.defaults.mode=A),Ri.apply(this,arguments)},xo.defineMIME=ro,xo.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),xo.defineMIME("text/plain","null"),xo.defineExtension=function(A,f){xo.prototype[A]=f},xo.defineDocExtension=function(A,f){ks.prototype[A]=f},xo.fromTextArea=pg,Hv(xo),xo.version="5.65.16",xo})}(h6)),h6.exports}var lge=Rw();const Vc=Ka(lge);(function(e,t){(function(n){n(Rw())})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,a=i.statementIndent,s=i.jsonld,h=i.json||s,m=i.trackScope!==!1,C=i.typescript,E=i.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function ve(ii){return{type:ii,style:"keyword"}}var Je=ve("keyword a"),Zt=ve("keyword b"),sn=ve("keyword c"),Ft=ve("keyword d"),wn=ve("operator"),hr={type:"atom",style:"atom"};return{if:ve("if"),while:Je,with:Je,else:Zt,do:Zt,try:Zt,finally:Zt,return:Ft,break:Ft,continue:Ft,new:ve("new"),delete:sn,void:sn,throw:sn,debugger:ve("debugger"),var:ve("var"),const:ve("var"),let:ve("var"),function:ve("function"),catch:ve("catch"),for:ve("for"),switch:ve("switch"),case:ve("case"),default:ve("default"),in:wn,typeof:wn,instanceof:wn,true:hr,false:hr,null:hr,undefined:hr,NaN:hr,Infinity:hr,this:ve("this"),class:ve("class"),super:ve("atom"),yield:sn,export:ve("export"),import:ve("import"),extends:sn,await:sn}}(),P=/[+\-*&%=<>!?|~^@]/,D=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function $(ve){for(var Je=!1,Zt,sn=!1;(Zt=ve.next())!=null;){if(!Je){if(Zt=="/"&&!sn)return;Zt=="["?sn=!0:sn&&Zt=="]"&&(sn=!1)}Je=!Je&&Zt=="\\"}}var ee,H;function G(ve,Je,Zt){return ee=ve,H=Zt,Je}function Z(ve,Je){var Zt=ve.next();if(Zt=='"'||Zt=="'")return Je.tokenize=ue(Zt),Je.tokenize(ve,Je);if(Zt=="."&&ve.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return G("number","number");if(Zt=="."&&ve.match(".."))return G("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Zt))return G(Zt);if(Zt=="="&&ve.eat(">"))return G("=>","operator");if(Zt=="0"&&ve.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return G("number","number");if(/\d/.test(Zt))return ve.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),G("number","number");if(Zt=="/")return ve.eat("*")?(Je.tokenize=ye,ye(ve,Je)):ve.eat("/")?(ve.skipToEnd(),G("comment","comment")):zi(ve,Je,1)?($(ve),ve.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),G("regexp","string-2")):(ve.eat("="),G("operator","operator",ve.current()));if(Zt=="`")return Je.tokenize=be,be(ve,Je);if(Zt=="#"&&ve.peek()=="!")return ve.skipToEnd(),G("meta","meta");if(Zt=="#"&&ve.eatWhile(E))return G("variable","property");if(Zt=="<"&&ve.match("!--")||Zt=="-"&&ve.match("->")&&!/\S/.test(ve.string.slice(0,ve.start)))return ve.skipToEnd(),G("comment","comment");if(P.test(Zt))return(Zt!=">"||!Je.lexical||Je.lexical.type!=">")&&(ve.eat("=")?(Zt=="!"||Zt=="=")&&ve.eat("="):/[<>*+\-|&?]/.test(Zt)&&(ve.eat(Zt),Zt==">"&&ve.eat(Zt))),Zt=="?"&&ve.eat(".")?G("."):G("operator","operator",ve.current());if(E.test(Zt)){ve.eatWhile(E);var sn=ve.current();if(Je.lastType!="."){if(O.propertyIsEnumerable(sn)){var Ft=O[sn];return G(Ft.type,Ft.style,sn)}if(sn=="async"&&ve.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return G("async","keyword",sn)}return G("variable","variable",sn)}}function ue(ve){return function(Je,Zt){var sn=!1,Ft;if(s&&Je.peek()=="@"&&Je.match(D))return Zt.tokenize=Z,G("jsonld-keyword","meta");for(;(Ft=Je.next())!=null&&!(Ft==ve&&!sn);)sn=!sn&&Ft=="\\";return sn||(Zt.tokenize=Z),G("string","string")}}function ye(ve,Je){for(var Zt=!1,sn;sn=ve.next();){if(sn=="/"&&Zt){Je.tokenize=Z;break}Zt=sn=="*"}return G("comment","comment")}function be(ve,Je){for(var Zt=!1,sn;(sn=ve.next())!=null;){if(!Zt&&(sn=="`"||sn=="$"&&ve.eat("{"))){Je.tokenize=Z;break}Zt=!Zt&&sn=="\\"}return G("quasi","string-2",ve.current())}var X="([{}])";function se(ve,Je){Je.fatArrowAt&&(Je.fatArrowAt=null);var Zt=ve.string.indexOf("=>",ve.start);if(!(Zt<0)){if(C){var sn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ve.string.slice(ve.start,Zt));sn&&(Zt=sn.index)}for(var Ft=0,wn=!1,hr=Zt-1;hr>=0;--hr){var ii=ve.string.charAt(hr),li=X.indexOf(ii);if(li>=0&&li<3){if(!Ft){++hr;break}if(--Ft==0){ii=="("&&(wn=!0);break}}else if(li>=3&&li<6)++Ft;else if(E.test(ii))wn=!0;else if(/["'\/`]/.test(ii))for(;;--hr){if(hr==0)return;var ea=ve.string.charAt(hr-1);if(ea==ii&&ve.string.charAt(hr-2)!="\\"){hr--;break}}else if(wn&&!Ft){++hr;break}}wn&&!Ft&&(Je.fatArrowAt=hr)}}var we={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function xe(ve,Je,Zt,sn,Ft,wn){this.indented=ve,this.column=Je,this.type=Zt,this.prev=Ft,this.info=wn,sn!=null&&(this.align=sn)}function De(ve,Je){if(!m)return!1;for(var Zt=ve.localVars;Zt;Zt=Zt.next)if(Zt.name==Je)return!0;for(var sn=ve.context;sn;sn=sn.prev)for(var Zt=sn.vars;Zt;Zt=Zt.next)if(Zt.name==Je)return!0}function Ue(ve,Je,Zt,sn,Ft){var wn=ve.cc;for(he.state=ve,he.stream=Ft,he.marked=null,he.cc=wn,he.style=Je,ve.lexical.hasOwnProperty("align")||(ve.lexical.align=!0);;){var hr=wn.length?wn.pop():h?Re:pe;if(hr(Zt,sn)){for(;wn.length&&wn[wn.length-1].lex;)wn.pop()();return he.marked?he.marked:Zt=="variable"&&De(ve,sn)?"variable-2":Je}}}var he={state:null,column:null,marked:null,cc:null};function $e(){for(var ve=arguments.length-1;ve>=0;ve--)he.cc.push(arguments[ve])}function ge(){return $e.apply(null,arguments),!0}function yt(ve,Je){for(var Zt=Je;Zt;Zt=Zt.next)if(Zt.name==ve)return!0;return!1}function wt(ve){var Je=he.state;if(he.marked="def",!!m){if(Je.context){if(Je.lexical.info=="var"&&Je.context&&Je.context.block){var Zt=st(ve,Je.context);if(Zt!=null){Je.context=Zt;return}}else if(!yt(ve,Je.localVars)){Je.localVars=new He(ve,Je.localVars);return}}i.globalVars&&!yt(ve,Je.globalVars)&&(Je.globalVars=new He(ve,Je.globalVars))}}function st(ve,Je){if(Je)if(Je.block){var Zt=st(ve,Je.prev);return Zt?Zt==Je.prev?Je:new ze(Zt,Je.vars,!0):null}else return yt(ve,Je.vars)?Je:new ze(Je.prev,new He(ve,Je.vars),!1);else return null}function mt(ve){return ve=="public"||ve=="private"||ve=="protected"||ve=="abstract"||ve=="readonly"}function ze(ve,Je,Zt){this.prev=ve,this.vars=Je,this.block=Zt}function He(ve,Je){this.name=ve,this.next=Je}var Ve=new He("this",new He("arguments",null));function Vt(){he.state.context=new ze(he.state.context,he.state.localVars,!1),he.state.localVars=Ve}function Yt(){he.state.context=new ze(he.state.context,he.state.localVars,!0),he.state.localVars=null}Vt.lex=Yt.lex=!0;function vt(){he.state.localVars=he.state.context.vars,he.state.context=he.state.context.prev}vt.lex=!0;function Qt(ve,Je){var Zt=function(){var sn=he.state,Ft=sn.indented;if(sn.lexical.type=="stat")Ft=sn.lexical.indented;else for(var wn=sn.lexical;wn&&wn.type==")"&&wn.align;wn=wn.prev)Ft=wn.indented;sn.lexical=new xe(Ft,he.stream.column(),ve,null,sn.lexical,Je)};return Zt.lex=!0,Zt}function $t(){var ve=he.state;ve.lexical.prev&&(ve.lexical.type==")"&&(ve.indented=ve.lexical.indented),ve.lexical=ve.lexical.prev)}$t.lex=!0;function ke(ve){function Je(Zt){return Zt==ve?ge():ve==";"||Zt=="}"||Zt==")"||Zt=="]"?$e():ge(Je)}return Je}function pe(ve,Je){return ve=="var"?ge(Qt("vardef",Je),lt,ke(";"),$t):ve=="keyword a"?ge(Qt("form"),ot,pe,$t):ve=="keyword b"?ge(Qt("form"),pe,$t):ve=="keyword d"?he.stream.match(/^\s*$/,!1)?ge():ge(Qt("stat"),Rt,ke(";"),$t):ve=="debugger"?ge(ke(";")):ve=="{"?ge(Qt("}"),Yt,Bt,$t,vt):ve==";"?ge():ve=="if"?(he.state.lexical.info=="else"&&he.state.cc[he.state.cc.length-1]==$t&&he.state.cc.pop()(),ge(Qt("form"),ot,pe,$t,en)):ve=="function"?ge(Er):ve=="for"?ge(Qt("form"),Yt,Dn,pe,vt,$t):ve=="class"||C&&Je=="interface"?(he.marked="keyword",ge(Qt("form",ve=="class"?ve:Je),or,$t)):ve=="variable"?C&&Je=="declare"?(he.marked="keyword",ge(pe)):C&&(Je=="module"||Je=="enum"||Je=="type")&&he.stream.match(/^\s*\w/,!1)?(he.marked="keyword",Je=="enum"?ge(Nn):Je=="type"?ge(Yr,ke("operator"),On,ke(";")):ge(Qt("form"),ft,ke("{"),Qt("}"),Bt,$t,$t)):C&&Je=="namespace"?(he.marked="keyword",ge(Qt("form"),Re,pe,$t)):C&&Je=="abstract"?(he.marked="keyword",ge(pe)):ge(Qt("stat"),yr):ve=="switch"?ge(Qt("form"),ot,ke("{"),Qt("}","switch"),Yt,Bt,$t,$t,vt):ve=="case"?ge(Re,ke(":")):ve=="default"?ge(ke(":")):ve=="catch"?ge(Qt("form"),Vt,Se,pe,$t,vt):ve=="export"?ge(Qt("stat"),po,$t):ve=="import"?ge(Qt("stat"),mo,$t):ve=="async"?ge(pe):Je=="@"?ge(Re,pe):$e(Qt("stat"),Re,ke(";"),$t)}function Se(ve){if(ve=="(")return ge(Br,ke(")"))}function Re(ve,Je){return St(ve,Je,!1)}function it(ve,Je){return St(ve,Je,!0)}function ot(ve){return ve!="("?$e():ge(Qt(")"),Rt,ke(")"),$t)}function St(ve,Je,Zt){if(he.state.fatArrowAt==he.stream.start){var sn=Zt?er:yn;if(ve=="(")return ge(Vt,Qt(")"),Te(Br,")"),$t,ke("=>"),sn,vt);if(ve=="variable")return $e(Vt,ft,ke("=>"),sn,vt)}var Ft=Zt?pt:zt;return we.hasOwnProperty(ve)?ge(Ft):ve=="function"?ge(Er,Ft):ve=="class"||C&&Je=="interface"?(he.marked="keyword",ge(Qt("form"),Fr,$t)):ve=="keyword c"||ve=="async"?ge(Zt?it:Re):ve=="("?ge(Qt(")"),Rt,ke(")"),$t,Ft):ve=="operator"||ve=="spread"?ge(Zt?it:Re):ve=="["?ge(Qt("]"),yi,$t,Ft):ve=="{"?At(Ee,"}",null,Ft):ve=="quasi"?$e(ir,Ft):ve=="new"?ge(cr(Zt)):ge()}function Rt(ve){return ve.match(/[;\}\)\],]/)?$e():$e(Re)}function zt(ve,Je){return ve==","?ge(Rt):pt(ve,Je,!1)}function pt(ve,Je,Zt){var sn=Zt==!1?zt:pt,Ft=Zt==!1?Re:it;if(ve=="=>")return ge(Vt,Zt?er:yn,vt);if(ve=="operator")return/\+\+|--/.test(Je)||C&&Je=="!"?ge(sn):C&&Je=="<"&&he.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?ge(Qt(">"),Te(On,">"),$t,sn):Je=="?"?ge(Re,ke(":"),Ft):ge(Ft);if(ve=="quasi")return $e(ir,sn);if(ve!=";"){if(ve=="(")return At(it,")","call",sn);if(ve==".")return ge(_i,sn);if(ve=="[")return ge(Qt("]"),Rt,ke("]"),$t,sn);if(C&&Je=="as")return he.marked="keyword",ge(On,sn);if(ve=="regexp")return he.state.lastType=he.marked="operator",he.stream.backUp(he.stream.pos-he.stream.start-1),ge(Ft)}}function ir(ve,Je){return ve!="quasi"?$e():Je.slice(Je.length-2)!="${"?ge(ir):ge(Rt,gn)}function gn(ve){if(ve=="}")return he.marked="string-2",he.state.tokenize=be,ge(ir)}function yn(ve){return se(he.stream,he.state),$e(ve=="{"?pe:Re)}function er(ve){return se(he.stream,he.state),$e(ve=="{"?pe:it)}function cr(ve){return function(Je){return Je=="."?ge(ve?Gr:Sr):Je=="variable"&&C?ge(Ie,ve?pt:zt):$e(ve?it:Re)}}function Sr(ve,Je){if(Je=="target")return he.marked="keyword",ge(zt)}function Gr(ve,Je){if(Je=="target")return he.marked="keyword",ge(pt)}function yr(ve){return ve==":"?ge($t,pe):$e(zt,ke(";"),$t)}function _i(ve){if(ve=="variable")return he.marked="property",ge()}function Ee(ve,Je){if(ve=="async")return he.marked="property",ge(Ee);if(ve=="variable"||he.style=="keyword"){if(he.marked="property",Je=="get"||Je=="set")return ge(J);var Zt;return C&&he.state.fatArrowAt==he.stream.start&&(Zt=he.stream.match(/^\s*:\s*/,!1))&&(he.state.fatArrowAt=he.stream.pos+Zt[0].length),ge(q)}else{if(ve=="number"||ve=="string")return he.marked=s?"property":he.style+" property",ge(q);if(ve=="jsonld-keyword")return ge(q);if(C&&mt(Je))return he.marked="keyword",ge(Ee);if(ve=="[")return ge(Re,kt,ke("]"),q);if(ve=="spread")return ge(it,q);if(Je=="*")return he.marked="keyword",ge(Ee);if(ve==":")return $e(q)}}function J(ve){return ve!="variable"?$e(q):(he.marked="property",ge(Er))}function q(ve){if(ve==":")return ge(it);if(ve=="(")return $e(Er)}function Te(ve,Je,Zt){function sn(Ft,wn){if(Zt?Zt.indexOf(Ft)>-1:Ft==","){var hr=he.state.lexical;return hr.info=="call"&&(hr.pos=(hr.pos||0)+1),ge(function(ii,li){return ii==Je||li==Je?$e():$e(ve)},sn)}return Ft==Je||wn==Je?ge():Zt&&Zt.indexOf(";")>-1?$e(ve):ge(ke(Je))}return function(Ft,wn){return Ft==Je||wn==Je?ge():$e(ve,sn)}}function At(ve,Je,Zt){for(var sn=3;sn<arguments.length;sn++)he.cc.push(arguments[sn]);return ge(Qt(Je,Zt),Te(ve,Je),$t)}function Bt(ve){return ve=="}"?ge():$e(pe,Bt)}function kt(ve,Je){if(C){if(ve==":")return ge(On);if(Je=="?")return ge(kt)}}function Ut(ve,Je){if(C&&(ve==":"||Je=="in"))return ge(On)}function fn(ve){if(C&&ve==":")return he.stream.match(/^\s*\w+\s+is\b/,!1)?ge(Re,Pn,On):ge(On)}function Pn(ve,Je){if(Je=="is")return he.marked="keyword",ge()}function On(ve,Je){if(Je=="keyof"||Je=="typeof"||Je=="infer"||Je=="readonly")return he.marked="keyword",ge(Je=="typeof"?it:On);if(ve=="variable"||Je=="void")return he.marked="type",ge(_e);if(Je=="|"||Je=="&")return ge(On);if(ve=="string"||ve=="number"||ve=="atom")return ge(_e);if(ve=="[")return ge(Qt("]"),Te(On,"]",","),$t,_e);if(ve=="{")return ge(Qt("}"),Kt,$t,_e);if(ve=="(")return ge(Te(ce,")"),g,_e);if(ve=="<")return ge(Te(On,">"),On);if(ve=="quasi")return $e(nr,_e)}function g(ve){if(ve=="=>")return ge(On)}function Kt(ve){return ve.match(/[\}\)\]]/)?ge():ve==","||ve==";"?ge(Kt):$e(Pr,Kt)}function Pr(ve,Je){if(ve=="variable"||he.style=="keyword")return he.marked="property",ge(Pr);if(Je=="?"||ve=="number"||ve=="string")return ge(Pr);if(ve==":")return ge(On);if(ve=="[")return ge(ke("variable"),Ut,ke("]"),Pr);if(ve=="(")return $e(ur,Pr);if(!ve.match(/[;\}\)\],]/))return ge()}function nr(ve,Je){return ve!="quasi"?$e():Je.slice(Je.length-2)!="${"?ge(nr):ge(On,Pe)}function Pe(ve){if(ve=="}")return he.marked="string-2",he.state.tokenize=be,ge(nr)}function ce(ve,Je){return ve=="variable"&&he.stream.match(/^\s*[?:]/,!1)||Je=="?"?ge(ce):ve==":"?ge(On):ve=="spread"?ge(ce):$e(On)}function _e(ve,Je){if(Je=="<")return ge(Qt(">"),Te(On,">"),$t,_e);if(Je=="|"||ve=="."||Je=="&")return ge(On);if(ve=="[")return ge(On,ke("]"),_e);if(Je=="extends"||Je=="implements")return he.marked="keyword",ge(On);if(Je=="?")return ge(On,ke(":"),On)}function Ie(ve,Je){if(Je=="<")return ge(Qt(">"),Te(On,">"),$t,_e)}function je(){return $e(On,rt)}function rt(ve,Je){if(Je=="=")return ge(On)}function lt(ve,Je){return Je=="enum"?(he.marked="keyword",ge(Nn)):$e(ft,kt,tn,Ht)}function ft(ve,Je){if(C&&mt(Je))return he.marked="keyword",ge(ft);if(ve=="variable")return wt(Je),ge();if(ve=="spread")return ge(ft);if(ve=="[")return At(Mt,"]");if(ve=="{")return At(et,"}")}function et(ve,Je){return ve=="variable"&&!he.stream.match(/^\s*:/,!1)?(wt(Je),ge(tn)):(ve=="variable"&&(he.marked="property"),ve=="spread"?ge(ft):ve=="}"?$e():ve=="["?ge(Re,ke("]"),ke(":"),et):ge(ke(":"),ft,tn))}function Mt(){return $e(ft,tn)}function tn(ve,Je){if(Je=="=")return ge(it)}function Ht(ve){if(ve==",")return ge(lt)}function en(ve,Je){if(ve=="keyword b"&&Je=="else")return ge(Qt("form","else"),pe,$t)}function Dn(ve,Je){if(Je=="await")return ge(Dn);if(ve=="(")return ge(Qt(")"),Bn,$t)}function Bn(ve){return ve=="var"?ge(lt,qn):ve=="variable"?ge(qn):$e(qn)}function qn(ve,Je){return ve==")"?ge():ve==";"?ge(qn):Je=="in"||Je=="of"?(he.marked="keyword",ge(Re,qn)):$e(Re,qn)}function Er(ve,Je){if(Je=="*")return he.marked="keyword",ge(Er);if(ve=="variable")return wt(Je),ge(Er);if(ve=="(")return ge(Vt,Qt(")"),Te(Br,")"),$t,fn,pe,vt);if(C&&Je=="<")return ge(Qt(">"),Te(je,">"),$t,Er)}function ur(ve,Je){if(Je=="*")return he.marked="keyword",ge(ur);if(ve=="variable")return wt(Je),ge(ur);if(ve=="(")return ge(Vt,Qt(")"),Te(Br,")"),$t,fn,vt);if(C&&Je=="<")return ge(Qt(">"),Te(je,">"),$t,ur)}function Yr(ve,Je){if(ve=="keyword"||ve=="variable")return he.marked="type",ge(Yr);if(Je=="<")return ge(Qt(">"),Te(je,">"),$t)}function Br(ve,Je){return Je=="@"&&ge(Re,Br),ve=="spread"?ge(Br):C&&mt(Je)?(he.marked="keyword",ge(Br)):C&&ve=="this"?ge(kt,tn):$e(ft,kt,tn)}function Fr(ve,Je){return ve=="variable"?or(ve,Je):di(ve,Je)}function or(ve,Je){if(ve=="variable")return wt(Je),ge(di)}function di(ve,Je){if(Je=="<")return ge(Qt(">"),Te(je,">"),$t,di);if(Je=="extends"||Je=="implements"||C&&ve==",")return Je=="implements"&&(he.marked="keyword"),ge(C?On:Re,di);if(ve=="{")return ge(Qt("}"),Ri,$t)}function Ri(ve,Je){if(ve=="async"||ve=="variable"&&(Je=="static"||Je=="get"||Je=="set"||C&&mt(Je))&&he.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return he.marked="keyword",ge(Ri);if(ve=="variable"||he.style=="keyword")return he.marked="property",ge(ro,Ri);if(ve=="number"||ve=="string")return ge(ro,Ri);if(ve=="[")return ge(Re,kt,ke("]"),ro,Ri);if(Je=="*")return he.marked="keyword",ge(Ri);if(C&&ve=="(")return $e(ur,Ri);if(ve==";"||ve==",")return ge(Ri);if(ve=="}")return ge();if(Je=="@")return ge(Re,Ri)}function ro(ve,Je){if(Je=="!"||Je=="?")return ge(ro);if(ve==":")return ge(On,tn);if(Je=="=")return ge(it);var Zt=he.state.lexical.prev,sn=Zt&&Zt.info=="interface";return $e(sn?ur:Er)}function po(ve,Je){return Je=="*"?(he.marked="keyword",ge(ls,ke(";"))):Je=="default"?(he.marked="keyword",ge(Re,ke(";"))):ve=="{"?ge(Te(si,"}"),ls,ke(";")):$e(pe)}function si(ve,Je){if(Je=="as")return he.marked="keyword",ge(ke("variable"));if(ve=="variable")return $e(it,si)}function mo(ve){return ve=="string"?ge():ve=="("?$e(Re):ve=="."?$e(zt):$e(Qa,Pa,ls)}function Qa(ve,Je){return ve=="{"?At(Qa,"}"):(ve=="variable"&&wt(Je),Je=="*"&&(he.marked="keyword"),ge(Ei))}function Pa(ve){if(ve==",")return ge(Qa,Pa)}function Ei(ve,Je){if(Je=="as")return he.marked="keyword",ge(Qa)}function ls(ve,Je){if(Je=="from")return he.marked="keyword",ge(Re)}function yi(ve){return ve=="]"?ge():$e(Te(it,"]"))}function Nn(){return $e(Qt("form"),ft,ke("{"),Qt("}"),Te(oo,"}"),$t,$t)}function oo(){return $e(ft,tn)}function bo(ve,Je){return ve.lastType=="operator"||ve.lastType==","||P.test(Je.charAt(0))||/[,.]/.test(Je.charAt(0))}function zi(ve,Je,Zt){return Je.tokenize==Z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Je.lastType)||Je.lastType=="quasi"&&/\{\s*$/.test(ve.string.slice(0,ve.pos-(Zt||0)))}return{startState:function(ve){var Je={tokenize:Z,lastType:"sof",cc:[],lexical:new xe((ve||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new ze(null,null,!1),indented:ve||0};return i.globalVars&&typeof i.globalVars=="object"&&(Je.globalVars=i.globalVars),Je},token:function(ve,Je){if(ve.sol()&&(Je.lexical.hasOwnProperty("align")||(Je.lexical.align=!1),Je.indented=ve.indentation(),se(ve,Je)),Je.tokenize!=ye&&ve.eatSpace())return null;var Zt=Je.tokenize(ve,Je);return ee=="comment"?Zt:(Je.lastType=ee=="operator"&&(H=="++"||H=="--")?"incdec":ee,Ue(Je,Zt,ee,H,ve))},indent:function(ve,Je){if(ve.tokenize==ye||ve.tokenize==be)return n.Pass;if(ve.tokenize!=Z)return 0;var Zt=Je&&Je.charAt(0),sn=ve.lexical,Ft;if(!/^\s*else\b/.test(Je))for(var wn=ve.cc.length-1;wn>=0;--wn){var hr=ve.cc[wn];if(hr==$t)sn=sn.prev;else if(hr!=en&&hr!=vt)break}for(;(sn.type=="stat"||sn.type=="form")&&(Zt=="}"||(Ft=ve.cc[ve.cc.length-1])&&(Ft==zt||Ft==pt)&&!/^[,\.=+\-*:?[\(]/.test(Je));)sn=sn.prev;a&&sn.type==")"&&sn.prev.type=="stat"&&(sn=sn.prev);var ii=sn.type,li=Zt==ii;return ii=="vardef"?sn.indented+(ve.lastType=="operator"||ve.lastType==","?sn.info.length+1:0):ii=="form"&&Zt=="{"?sn.indented:ii=="form"?sn.indented+o:ii=="stat"?sn.indented+(bo(ve,Je)?a||o:0):sn.info=="switch"&&!li&&i.doubleIndentSwitch!=!1?sn.indented+(/^(?:case|default)\b/.test(Je)?o:2*o):sn.align?sn.column+(li?0:1):sn.indented+(li?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:h?null:"/*",blockCommentEnd:h?null:"*/",blockCommentContinue:h?null:" * ",lineComment:h?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:h?"json":"javascript",jsonldMode:s,jsonMode:h,expressionAllowed:zi,skipExpression:function(ve){Ue(ve,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,t){(function(n){n(Rw())})(function(n){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(X,se,we){var xe=document.createElement("div");xe.className="CodeMirror-lint-tooltip cm-s-"+X.options.theme,xe.appendChild(we.cloneNode(!0)),X.state.lint.options.selfContain?X.getWrapperElement().appendChild(xe):document.body.appendChild(xe);function De(Ue){if(!xe.parentNode)return n.off(document,"mousemove",De);var he=Math.max(0,Ue.clientY-xe.offsetHeight-5),$e=Math.max(0,Math.min(Ue.clientX+5,xe.ownerDocument.defaultView.innerWidth-xe.offsetWidth));xe.style.top=he+"px",xe.style.left=$e+"px"}return n.on(document,"mousemove",De),De(se),xe.style.opacity!=null&&(xe.style.opacity=1),xe}function a(X){X.parentNode&&X.parentNode.removeChild(X)}function s(X){X.parentNode&&(X.style.opacity==null&&a(X),X.style.opacity=0,setTimeout(function(){a(X)},600))}function h(X,se,we,xe){var De=o(X,se,we);function Ue(){n.off(xe,"mouseout",Ue),De&&(s(De),De=null)}var he=setInterval(function(){if(De)for(var $e=xe;;$e=$e.parentNode){if($e&&$e.nodeType==11&&($e=$e.host),$e==document.body)return;if(!$e){Ue();break}}if(!De)return clearInterval(he)},400);n.on(xe,"mouseout",Ue)}function m(X,se,we){this.marked=[],se instanceof Function&&(se={getAnnotations:se}),(!se||se===!0)&&(se={}),this.options={},this.linterOptions=se.options||{};for(var xe in C)this.options[xe]=C[xe];for(var xe in se)C.hasOwnProperty(xe)?se[xe]!=null&&(this.options[xe]=se[xe]):se.options||(this.linterOptions[xe]=se[xe]);this.timeout=null,this.hasGutter=we,this.onMouseOver=function(De){be(X,De)},this.waitingFor=0}var C={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function E(X){var se=X.state.lint;se.hasGutter&&X.clearGutter(r),se.options.highlightLines&&O(X);for(var we=0;we<se.marked.length;++we)se.marked[we].clear();se.marked.length=0}function O(X){X.eachLine(function(se){var we=se.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(se.wrapClass);we&&X.removeLineClass(se,"wrap",we[0])})}function P(X,se,we,xe,De){var Ue=document.createElement("div"),he=Ue;return Ue.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+we,xe&&(he=Ue.appendChild(document.createElement("div")),he.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),De!=!1&&n.on(he,"mouseover",function($e){h(X,$e,se,he)}),Ue}function D(X,se){return X=="error"?X:se}function $(X){for(var se=[],we=0;we<X.length;++we){var xe=X[we],De=xe.from.line;(se[De]||(se[De]=[])).push(xe)}return se}function ee(X){var se=X.severity;se||(se="error");var we=document.createElement("div");return we.className="CodeMirror-lint-message CodeMirror-lint-message-"+se,typeof X.messageHTML<"u"?we.innerHTML=X.messageHTML:we.appendChild(document.createTextNode(X.message)),we}function H(X,se){var we=X.state.lint,xe=++we.waitingFor;function De(){xe=-1,X.off("change",De)}X.on("change",De),se(X.getValue(),function(Ue,he){X.off("change",De),we.waitingFor==xe&&(he&&Ue instanceof n&&(Ue=he),X.operation(function(){Z(X,Ue)}))},we.linterOptions,X)}function G(X){var se=X.state.lint;if(se){var we=se.options,xe=we.getAnnotations||X.getHelper(n.Pos(0,0),"lint");if(xe)if(we.async||xe.async)H(X,xe);else{var De=xe(X.getValue(),se.linterOptions,X);if(!De)return;De.then?De.then(function(Ue){X.operation(function(){Z(X,Ue)})}):X.operation(function(){Z(X,De)})}}}function Z(X,se){var we=X.state.lint;if(we){var xe=we.options;E(X);for(var De=$(se),Ue=0;Ue<De.length;++Ue){var he=De[Ue];if(he){for(var $e=null,ge=we.hasGutter&&document.createDocumentFragment(),yt=0;yt<he.length;++yt){var wt=he[yt],st=wt.severity;st||(st="error"),$e=D($e,st),xe.formatAnnotation&&(wt=xe.formatAnnotation(wt)),we.hasGutter&&ge.appendChild(ee(wt)),wt.to&&we.marked.push(X.markText(wt.from,wt.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+st,__annotation:wt}))}we.hasGutter&&X.setGutterMarker(Ue,r,P(X,ge,$e,he.length>1,xe.tooltips)),xe.highlightLines&&X.addLineClass(Ue,"wrap",i+$e)}}xe.onUpdateLinting&&xe.onUpdateLinting(se,De,X)}}function ue(X){var se=X.state.lint;se&&(clearTimeout(se.timeout),se.timeout=setTimeout(function(){G(X)},se.options.delay))}function ye(X,se,we){for(var xe=we.target||we.srcElement,De=document.createDocumentFragment(),Ue=0;Ue<se.length;Ue++){var he=se[Ue];De.appendChild(ee(he))}h(X,we,De,xe)}function be(X,se){var we=se.target||se.srcElement;if(/\bCodeMirror-lint-mark-/.test(we.className)){for(var xe=we.getBoundingClientRect(),De=(xe.left+xe.right)/2,Ue=(xe.top+xe.bottom)/2,he=X.findMarksAt(X.coordsChar({left:De,top:Ue},"client")),$e=[],ge=0;ge<he.length;++ge){var yt=he[ge].__annotation;yt&&$e.push(yt)}$e.length&&ye(X,$e,se)}}n.defineOption("lint",!1,function(X,se,we){if(we&&we!=n.Init&&(E(X),X.state.lint.options.lintOnChange!==!1&&X.off("change",ue),n.off(X.getWrapperElement(),"mouseover",X.state.lint.onMouseOver),clearTimeout(X.state.lint.timeout),delete X.state.lint),se){for(var xe=X.getOption("gutters"),De=!1,Ue=0;Ue<xe.length;++Ue)xe[Ue]==r&&(De=!0);var he=X.state.lint=new m(X,se,De);he.options.lintOnChange&&X.on("change",ue),he.options.tooltips!=!1&&he.options.tooltips!="gutter"&&n.on(X.getWrapperElement(),"mouseover",he.onMouseOver),G(X)}}),n.defineExtension("performLint",function(){G(this)})})})();(function(e,t){(function(n){n(Rw())})(function(n){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=n.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a(O){return O&&O.bracketRegex||/[(){}[\]]/}function s(O,P,D){var $=O.getLineHandle(P.line),ee=P.ch-1,H=D&&D.afterCursor;H==null&&(H=/(^| )cm-fat-cursor($| )/.test(O.getWrapperElement().className));var G=a(D),Z=!H&&ee>=0&&G.test($.text.charAt(ee))&&o[$.text.charAt(ee)]||G.test($.text.charAt(ee+1))&&o[$.text.charAt(++ee)];if(!Z)return null;var ue=Z.charAt(1)==">"?1:-1;if(D&&D.strict&&ue>0!=(ee==P.ch))return null;var ye=O.getTokenTypeAt(i(P.line,ee+1)),be=h(O,i(P.line,ee+(ue>0?1:0)),ue,ye,D);return be==null?null:{from:i(P.line,ee),to:be&&be.pos,match:be&&be.ch==Z.charAt(0),forward:ue>0}}function h(O,P,D,$,ee){for(var H=ee&&ee.maxScanLineLength||1e4,G=ee&&ee.maxScanLines||1e3,Z=[],ue=a(ee),ye=D>0?Math.min(P.line+G,O.lastLine()+1):Math.max(O.firstLine()-1,P.line-G),be=P.line;be!=ye;be+=D){var X=O.getLine(be);if(X){var se=D>0?0:X.length-1,we=D>0?X.length:-1;if(!(X.length>H))for(be==P.line&&(se=P.ch-(D<0?1:0));se!=we;se+=D){var xe=X.charAt(se);if(ue.test(xe)&&($===void 0||(O.getTokenTypeAt(i(be,se+1))||"")==($||""))){var De=o[xe];if(De&&De.charAt(1)==">"==D>0)Z.push(xe);else if(Z.length)Z.pop();else return{pos:i(be,se),ch:xe}}}}}return be-D==(D>0?O.lastLine():O.firstLine())?!1:null}function m(O,P,D){for(var $=O.state.matchBrackets.maxHighlightLineLength||1e3,ee=D&&D.highlightNonMatching,H=[],G=O.listSelections(),Z=0;Z<G.length;Z++){var ue=G[Z].empty()&&s(O,G[Z].head,D);if(ue&&(ue.match||ee!==!1)&&O.getLine(ue.from.line).length<=$){var ye=ue.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";H.push(O.markText(ue.from,i(ue.from.line,ue.from.ch+1),{className:ye})),ue.to&&O.getLine(ue.to.line).length<=$&&H.push(O.markText(ue.to,i(ue.to.line,ue.to.ch+1),{className:ye}))}}if(H.length){r&&O.state.focused&&O.focus();var be=function(){O.operation(function(){for(var X=0;X<H.length;X++)H[X].clear()})};if(P)setTimeout(be,800);else return be}}function C(O){O.operation(function(){O.state.matchBrackets.currentlyHighlighted&&(O.state.matchBrackets.currentlyHighlighted(),O.state.matchBrackets.currentlyHighlighted=null),O.state.matchBrackets.currentlyHighlighted=m(O,!1,O.state.matchBrackets)})}function E(O){O.state.matchBrackets&&O.state.matchBrackets.currentlyHighlighted&&(O.state.matchBrackets.currentlyHighlighted(),O.state.matchBrackets.currentlyHighlighted=null)}n.defineOption("matchBrackets",!1,function(O,P,D){D&&D!=n.Init&&(O.off("cursorActivity",C),O.off("focus",C),O.off("blur",E),E(O)),P&&(O.state.matchBrackets=typeof P=="object"?P:{},O.on("cursorActivity",C),O.on("focus",C),O.on("blur",E))}),n.defineExtension("matchBrackets",function(){m(this,!0)}),n.defineExtension("findMatchingBracket",function(O,P,D){return(D||typeof P=="boolean")&&(D?(D.strict=P,P=D):P=P?{strict:!0}:null),s(this,O,P)}),n.defineExtension("scanForBracket",function(O,P,D,$){return h(this,O,P,D,$)})})})();const uge=/("(?:[^\\"]|\\.)*")|[:,]/g;function PW(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(a,s,h){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const m=JSON.stringify(a,i);if(m===void 0)return m;const C=r-s.length-h;if(m.length<=C){const E=m.replace(uge,(O,P)=>P||`${O} `);if(E.length<=C)return E}if(i!=null&&(a=JSON.parse(m),i=void 0),typeof a=="object"&&a!==null){const E=s+n,O=[];let P=0,D,$;if(Array.isArray(a)){D="[",$="]";const{length:ee}=a;for(;P<ee;P++)O.push(o(a[P],E,P===ee-1?0:1)||"null")}else{D="{",$="}";const ee=Object.keys(a),{length:H}=ee;for(;P<H;P++){const G=ee[P],Z=`${JSON.stringify(G)}: `,ue=o(a[G],E,Z.length+(P===H-1?0:1));ue!==void 0&&O.push(Z+ue)}}if(O.length>0)return[D,n+O.join(`,
${E}`),$].join(`
${s}`)}return m}(e,"",0)}function Age(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var DW={};(function(e){var t=function(){var n={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,a,s,h,m,C,E){var O=C.length-1;switch(m){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=C[O-1];case 13:this.$={};break;case 14:this.$=C[O-1];break;case 15:this.$=[C[O-2],C[O]];break;case 16:this.$={},this.$[C[O][0]]=C[O][1];break;case 17:this.$=C[O-2],C[O-2][C[O][0]]=C[O][1];break;case 18:this.$=[];break;case 19:this.$=C[O-1];break;case 20:this.$=[C[O]];break;case 21:this.$=C[O-2],C[O-2].push(C[O]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,a){throw new Error(o)},parse:function(o){var a=this,s=[0],h=[null],m=[],C=this.table,E="",O=0,P=0,D=0,$=2,ee=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var H=this.lexer.yylloc;m.push(H),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function G(ge){s.length=s.length-2*ge,h.length=h.length-ge,m.length=m.length-ge}function Z(){var ge;return ge=a.lexer.lex()||1,typeof ge!="number"&&(ge=a.symbols_[ge]||ge),ge}for(var ue,ye,be,X,se,we={},xe,De,Ue,he;;){if(be=s[s.length-1],this.defaultActions[be]?X=this.defaultActions[be]:(ue==null&&(ue=Z()),X=C[be]&&C[be][ue]),typeof X>"u"||!X.length||!X[0]){if(!D){he=[];for(xe in C[be])this.terminals_[xe]&&xe>2&&he.push("'"+this.terminals_[xe]+"'");var $e="";this.lexer.showPosition?$e="Parse error on line "+(O+1)+`:
`+this.lexer.showPosition()+`
Expecting `+he.join(", ")+", got '"+this.terminals_[ue]+"'":$e="Parse error on line "+(O+1)+": Unexpected "+(ue==1?"end of input":"'"+(this.terminals_[ue]||ue)+"'"),this.parseError($e,{text:this.lexer.match,token:this.terminals_[ue]||ue,line:this.lexer.yylineno,loc:H,expected:he})}if(D==3){if(ue==ee)throw new Error($e||"Parsing halted.");P=this.lexer.yyleng,E=this.lexer.yytext,O=this.lexer.yylineno,H=this.lexer.yylloc,ue=Z()}for(;!($.toString()in C[be]);){if(be==0)throw new Error($e||"Parsing halted.");G(1),be=s[s.length-1]}ye=ue,ue=$,be=s[s.length-1],X=C[be]&&C[be][$],D=3}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+ue);switch(X[0]){case 1:s.push(ue),h.push(this.lexer.yytext),m.push(this.lexer.yylloc),s.push(X[1]),ue=null,ye?(ue=ye,ye=null):(P=this.lexer.yyleng,E=this.lexer.yytext,O=this.lexer.yylineno,H=this.lexer.yylloc,D>0&&D--);break;case 2:if(De=this.productions_[X[1]][1],we.$=h[h.length-De],we._$={first_line:m[m.length-(De||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(De||1)].first_column,last_column:m[m.length-1].last_column},se=this.performAction.call(we,E,P,O,this.yy,X[1],h,m),typeof se<"u")return se;De&&(s=s.slice(0,-1*De*2),h=h.slice(0,-1*De),m=m.slice(0,-1*De)),s.push(this.productions_[X[1]][0]),h.push(we.$),m.push(we._$),Ue=C[s[s.length-2]][s[s.length-1]],s.push(Ue);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(a,s){if(this.yy.parseError)this.yy.parseError(a,s);else throw new Error(a)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var a=o.match(/\n/);return a&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),a=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+a+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,a,s,h,m;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),E=0;E<C.length&&(s=this._input.match(this.rules[C[E]]),!(s&&(!a||s[0].length>a[0].length)&&(a=s,h=E,!this.options.flex)));E++);if(a)return m=a[0].match(/\n.*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-1:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],o=this.performAction.call(this,this.yy,this,C[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a<"u"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return i.options={},i.performAction=function(a,s,h,m){switch(h){case 0:break;case 1:return 6;case 2:return s.yytext=s.yytext.substr(1,s.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return n.lexer=r,n}();typeof Age<"u"&&(e.parser=t,e.parse=t.parse.bind(t))})(DW);const fB=Ka(DW);var UW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Rh,function(){var n=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(pe,Se){return Se={exports:{}},pe(Se,Se.exports),Se.exports}var i=r(function(pe){function Se(){var Re=0,it=1,ot=2,St=3,Rt=4,zt=5,pt=6,ir=7,gn=8,yn=9,er=10,cr=11,Sr=12,Gr=13,yr=14,_i=15,Ee=16,J=17,q=0,Te=1,At=2,Bt=3,kt=4;function Ut(g,Kt){return 55296<=g.charCodeAt(Kt)&&g.charCodeAt(Kt)<=56319&&56320<=g.charCodeAt(Kt+1)&&g.charCodeAt(Kt+1)<=57343}function fn(g,Kt){Kt===void 0&&(Kt=0);var Pr=g.charCodeAt(Kt);if(55296<=Pr&&Pr<=56319&&Kt<g.length-1){var nr=Pr,Pe=g.charCodeAt(Kt+1);return 56320<=Pe&&Pe<=57343?(nr-55296)*1024+(Pe-56320)+65536:nr}if(56320<=Pr&&Pr<=57343&&Kt>=1){var nr=g.charCodeAt(Kt-1),Pe=Pr;return 55296<=nr&&nr<=56319?(nr-55296)*1024+(Pe-56320)+65536:Pe}return Pr}function Pn(g,Kt,Pr){var nr=[g].concat(Kt).concat([Pr]),Pe=nr[nr.length-2],ce=Pr,_e=nr.lastIndexOf(yr);if(_e>1&&nr.slice(1,_e).every(function(rt){return rt==St})&&[St,Gr,J].indexOf(g)==-1)return At;var Ie=nr.lastIndexOf(Rt);if(Ie>0&&nr.slice(1,Ie).every(function(rt){return rt==Rt})&&[Sr,Rt].indexOf(Pe)==-1)return nr.filter(function(rt){return rt==Rt}).length%2==1?Bt:kt;if(Pe==Re&&ce==it)return q;if(Pe==ot||Pe==Re||Pe==it)return ce==yr&&Kt.every(function(rt){return rt==St})?At:Te;if(ce==ot||ce==Re||ce==it)return Te;if(Pe==pt&&(ce==pt||ce==ir||ce==yn||ce==er))return q;if((Pe==yn||Pe==ir)&&(ce==ir||ce==gn))return q;if((Pe==er||Pe==gn)&&ce==gn)return q;if(ce==St||ce==_i)return q;if(ce==zt)return q;if(Pe==Sr)return q;var je=nr.indexOf(St)!=-1?nr.lastIndexOf(St)-1:nr.length-2;return[Gr,J].indexOf(nr[je])!=-1&&nr.slice(je+1,-1).every(function(rt){return rt==St})&&ce==yr||Pe==_i&&[Ee,J].indexOf(ce)!=-1?q:Kt.indexOf(Rt)!=-1?At:Pe==Rt&&ce==Rt?q:Te}this.nextBreak=function(g,Kt){if(Kt===void 0&&(Kt=0),Kt<0)return 0;if(Kt>=g.length-1)return g.length;for(var Pr=On(fn(g,Kt)),nr=[],Pe=Kt+1;Pe<g.length;Pe++)if(!Ut(g,Pe-1)){var ce=On(fn(g,Pe));if(Pn(Pr,nr,ce))return Pe;nr.push(ce)}return g.length},this.splitGraphemes=function(g){for(var Kt=[],Pr=0,nr;(nr=this.nextBreak(g,Pr))<g.length;)Kt.push(g.slice(Pr,nr)),Pr=nr;return Pr<g.length&&Kt.push(g.slice(Pr)),Kt},this.iterateGraphemes=function(g){var Kt=0,Pr={next:(function(){var nr,Pe;return(Pe=this.nextBreak(g,Kt))<g.length?(nr=g.slice(Kt,Pe),Kt=Pe,{value:nr,done:!1}):Kt<g.length?(nr=g.slice(Kt),Kt=g.length,{value:nr,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(Pr[Symbol.iterator]=function(){return Pr}),Pr},this.countGraphemes=function(g){for(var Kt=0,Pr=0,nr;(nr=this.nextBreak(g,Pr))<g.length;)Pr=nr,Kt++;return Pr<g.length&&Kt++,Kt};function On(g){return 1536<=g&&g<=1541||g==1757||g==1807||g==2274||g==3406||g==69821||70082<=g&&g<=70083||g==72250||72326<=g&&g<=72329||g==73030?Sr:g==13?Re:g==10?it:0<=g&&g<=9||11<=g&&g<=12||14<=g&&g<=31||127<=g&&g<=159||g==173||g==1564||g==6158||g==8203||8206<=g&&g<=8207||g==8232||g==8233||8234<=g&&g<=8238||8288<=g&&g<=8292||g==8293||8294<=g&&g<=8303||55296<=g&&g<=57343||g==65279||65520<=g&&g<=65528||65529<=g&&g<=65531||113824<=g&&g<=113827||119155<=g&&g<=119162||g==917504||g==917505||917506<=g&&g<=917535||917632<=g&&g<=917759||918e3<=g&&g<=921599?ot:768<=g&&g<=879||1155<=g&&g<=1159||1160<=g&&g<=1161||1425<=g&&g<=1469||g==1471||1473<=g&&g<=1474||1476<=g&&g<=1477||g==1479||1552<=g&&g<=1562||1611<=g&&g<=1631||g==1648||1750<=g&&g<=1756||1759<=g&&g<=1764||1767<=g&&g<=1768||1770<=g&&g<=1773||g==1809||1840<=g&&g<=1866||1958<=g&&g<=1968||2027<=g&&g<=2035||2070<=g&&g<=2073||2075<=g&&g<=2083||2085<=g&&g<=2087||2089<=g&&g<=2093||2137<=g&&g<=2139||2260<=g&&g<=2273||2275<=g&&g<=2306||g==2362||g==2364||2369<=g&&g<=2376||g==2381||2385<=g&&g<=2391||2402<=g&&g<=2403||g==2433||g==2492||g==2494||2497<=g&&g<=2500||g==2509||g==2519||2530<=g&&g<=2531||2561<=g&&g<=2562||g==2620||2625<=g&&g<=2626||2631<=g&&g<=2632||2635<=g&&g<=2637||g==2641||2672<=g&&g<=2673||g==2677||2689<=g&&g<=2690||g==2748||2753<=g&&g<=2757||2759<=g&&g<=2760||g==2765||2786<=g&&g<=2787||2810<=g&&g<=2815||g==2817||g==2876||g==2878||g==2879||2881<=g&&g<=2884||g==2893||g==2902||g==2903||2914<=g&&g<=2915||g==2946||g==3006||g==3008||g==3021||g==3031||g==3072||3134<=g&&g<=3136||3142<=g&&g<=3144||3146<=g&&g<=3149||3157<=g&&g<=3158||3170<=g&&g<=3171||g==3201||g==3260||g==3263||g==3266||g==3270||3276<=g&&g<=3277||3285<=g&&g<=3286||3298<=g&&g<=3299||3328<=g&&g<=3329||3387<=g&&g<=3388||g==3390||3393<=g&&g<=3396||g==3405||g==3415||3426<=g&&g<=3427||g==3530||g==3535||3538<=g&&g<=3540||g==3542||g==3551||g==3633||3636<=g&&g<=3642||3655<=g&&g<=3662||g==3761||3764<=g&&g<=3769||3771<=g&&g<=3772||3784<=g&&g<=3789||3864<=g&&g<=3865||g==3893||g==3895||g==3897||3953<=g&&g<=3966||3968<=g&&g<=3972||3974<=g&&g<=3975||3981<=g&&g<=3991||3993<=g&&g<=4028||g==4038||4141<=g&&g<=4144||4146<=g&&g<=4151||4153<=g&&g<=4154||4157<=g&&g<=4158||4184<=g&&g<=4185||4190<=g&&g<=4192||4209<=g&&g<=4212||g==4226||4229<=g&&g<=4230||g==4237||g==4253||4957<=g&&g<=4959||5906<=g&&g<=5908||5938<=g&&g<=5940||5970<=g&&g<=5971||6002<=g&&g<=6003||6068<=g&&g<=6069||6071<=g&&g<=6077||g==6086||6089<=g&&g<=6099||g==6109||6155<=g&&g<=6157||6277<=g&&g<=6278||g==6313||6432<=g&&g<=6434||6439<=g&&g<=6440||g==6450||6457<=g&&g<=6459||6679<=g&&g<=6680||g==6683||g==6742||6744<=g&&g<=6750||g==6752||g==6754||6757<=g&&g<=6764||6771<=g&&g<=6780||g==6783||6832<=g&&g<=6845||g==6846||6912<=g&&g<=6915||g==6964||6966<=g&&g<=6970||g==6972||g==6978||7019<=g&&g<=7027||7040<=g&&g<=7041||7074<=g&&g<=7077||7080<=g&&g<=7081||7083<=g&&g<=7085||g==7142||7144<=g&&g<=7145||g==7149||7151<=g&&g<=7153||7212<=g&&g<=7219||7222<=g&&g<=7223||7376<=g&&g<=7378||7380<=g&&g<=7392||7394<=g&&g<=7400||g==7405||g==7412||7416<=g&&g<=7417||7616<=g&&g<=7673||7675<=g&&g<=7679||g==8204||8400<=g&&g<=8412||8413<=g&&g<=8416||g==8417||8418<=g&&g<=8420||8421<=g&&g<=8432||11503<=g&&g<=11505||g==11647||11744<=g&&g<=11775||12330<=g&&g<=12333||12334<=g&&g<=12335||12441<=g&&g<=12442||g==42607||42608<=g&&g<=42610||42612<=g&&g<=42621||42654<=g&&g<=42655||42736<=g&&g<=42737||g==43010||g==43014||g==43019||43045<=g&&g<=43046||43204<=g&&g<=43205||43232<=g&&g<=43249||43302<=g&&g<=43309||43335<=g&&g<=43345||43392<=g&&g<=43394||g==43443||43446<=g&&g<=43449||g==43452||g==43493||43561<=g&&g<=43566||43569<=g&&g<=43570||43573<=g&&g<=43574||g==43587||g==43596||g==43644||g==43696||43698<=g&&g<=43700||43703<=g&&g<=43704||43710<=g&&g<=43711||g==43713||43756<=g&&g<=43757||g==43766||g==44005||g==44008||g==44013||g==64286||65024<=g&&g<=65039||65056<=g&&g<=65071||65438<=g&&g<=65439||g==66045||g==66272||66422<=g&&g<=66426||68097<=g&&g<=68099||68101<=g&&g<=68102||68108<=g&&g<=68111||68152<=g&&g<=68154||g==68159||68325<=g&&g<=68326||g==69633||69688<=g&&g<=69702||69759<=g&&g<=69761||69811<=g&&g<=69814||69817<=g&&g<=69818||69888<=g&&g<=69890||69927<=g&&g<=69931||69933<=g&&g<=69940||g==70003||70016<=g&&g<=70017||70070<=g&&g<=70078||70090<=g&&g<=70092||70191<=g&&g<=70193||g==70196||70198<=g&&g<=70199||g==70206||g==70367||70371<=g&&g<=70378||70400<=g&&g<=70401||g==70460||g==70462||g==70464||g==70487||70502<=g&&g<=70508||70512<=g&&g<=70516||70712<=g&&g<=70719||70722<=g&&g<=70724||g==70726||g==70832||70835<=g&&g<=70840||g==70842||g==70845||70847<=g&&g<=70848||70850<=g&&g<=70851||g==71087||71090<=g&&g<=71093||71100<=g&&g<=71101||71103<=g&&g<=71104||71132<=g&&g<=71133||71219<=g&&g<=71226||g==71229||71231<=g&&g<=71232||g==71339||g==71341||71344<=g&&g<=71349||g==71351||71453<=g&&g<=71455||71458<=g&&g<=71461||71463<=g&&g<=71467||72193<=g&&g<=72198||72201<=g&&g<=72202||72243<=g&&g<=72248||72251<=g&&g<=72254||g==72263||72273<=g&&g<=72278||72281<=g&&g<=72283||72330<=g&&g<=72342||72344<=g&&g<=72345||72752<=g&&g<=72758||72760<=g&&g<=72765||g==72767||72850<=g&&g<=72871||72874<=g&&g<=72880||72882<=g&&g<=72883||72885<=g&&g<=72886||73009<=g&&g<=73014||g==73018||73020<=g&&g<=73021||73023<=g&&g<=73029||g==73031||92912<=g&&g<=92916||92976<=g&&g<=92982||94095<=g&&g<=94098||113821<=g&&g<=113822||g==119141||119143<=g&&g<=119145||119150<=g&&g<=119154||119163<=g&&g<=119170||119173<=g&&g<=119179||119210<=g&&g<=119213||119362<=g&&g<=119364||121344<=g&&g<=121398||121403<=g&&g<=121452||g==121461||g==121476||121499<=g&&g<=121503||121505<=g&&g<=121519||122880<=g&&g<=122886||122888<=g&&g<=122904||122907<=g&&g<=122913||122915<=g&&g<=122916||122918<=g&&g<=122922||125136<=g&&g<=125142||125252<=g&&g<=125258||917536<=g&&g<=917631||917760<=g&&g<=917999?St:127462<=g&&g<=127487?Rt:g==2307||g==2363||2366<=g&&g<=2368||2377<=g&&g<=2380||2382<=g&&g<=2383||2434<=g&&g<=2435||2495<=g&&g<=2496||2503<=g&&g<=2504||2507<=g&&g<=2508||g==2563||2622<=g&&g<=2624||g==2691||2750<=g&&g<=2752||g==2761||2763<=g&&g<=2764||2818<=g&&g<=2819||g==2880||2887<=g&&g<=2888||2891<=g&&g<=2892||g==3007||3009<=g&&g<=3010||3014<=g&&g<=3016||3018<=g&&g<=3020||3073<=g&&g<=3075||3137<=g&&g<=3140||3202<=g&&g<=3203||g==3262||3264<=g&&g<=3265||3267<=g&&g<=3268||3271<=g&&g<=3272||3274<=g&&g<=3275||3330<=g&&g<=3331||3391<=g&&g<=3392||3398<=g&&g<=3400||3402<=g&&g<=3404||3458<=g&&g<=3459||3536<=g&&g<=3537||3544<=g&&g<=3550||3570<=g&&g<=3571||g==3635||g==3763||3902<=g&&g<=3903||g==3967||g==4145||4155<=g&&g<=4156||4182<=g&&g<=4183||g==4228||g==6070||6078<=g&&g<=6085||6087<=g&&g<=6088||6435<=g&&g<=6438||6441<=g&&g<=6443||6448<=g&&g<=6449||6451<=g&&g<=6456||6681<=g&&g<=6682||g==6741||g==6743||6765<=g&&g<=6770||g==6916||g==6965||g==6971||6973<=g&&g<=6977||6979<=g&&g<=6980||g==7042||g==7073||7078<=g&&g<=7079||g==7082||g==7143||7146<=g&&g<=7148||g==7150||7154<=g&&g<=7155||7204<=g&&g<=7211||7220<=g&&g<=7221||g==7393||7410<=g&&g<=7411||g==7415||43043<=g&&g<=43044||g==43047||43136<=g&&g<=43137||43188<=g&&g<=43203||43346<=g&&g<=43347||g==43395||43444<=g&&g<=43445||43450<=g&&g<=43451||43453<=g&&g<=43456||43567<=g&&g<=43568||43571<=g&&g<=43572||g==43597||g==43755||43758<=g&&g<=43759||g==43765||44003<=g&&g<=44004||44006<=g&&g<=44007||44009<=g&&g<=44010||g==44012||g==69632||g==69634||g==69762||69808<=g&&g<=69810||69815<=g&&g<=69816||g==69932||g==70018||70067<=g&&g<=70069||70079<=g&&g<=70080||70188<=g&&g<=70190||70194<=g&&g<=70195||g==70197||70368<=g&&g<=70370||70402<=g&&g<=70403||g==70463||70465<=g&&g<=70468||70471<=g&&g<=70472||70475<=g&&g<=70477||70498<=g&&g<=70499||70709<=g&&g<=70711||70720<=g&&g<=70721||g==70725||70833<=g&&g<=70834||g==70841||70843<=g&&g<=70844||g==70846||g==70849||71088<=g&&g<=71089||71096<=g&&g<=71099||g==71102||71216<=g&&g<=71218||71227<=g&&g<=71228||g==71230||g==71340||71342<=g&&g<=71343||g==71350||71456<=g&&g<=71457||g==71462||72199<=g&&g<=72200||g==72249||72279<=g&&g<=72280||g==72343||g==72751||g==72766||g==72873||g==72881||g==72884||94033<=g&&g<=94078||g==119142||g==119149?zt:4352<=g&&g<=4447||43360<=g&&g<=43388?pt:4448<=g&&g<=4519||55216<=g&&g<=55238?ir:4520<=g&&g<=4607||55243<=g&&g<=55291?gn:g==44032||g==44060||g==44088||g==44116||g==44144||g==44172||g==44200||g==44228||g==44256||g==44284||g==44312||g==44340||g==44368||g==44396||g==44424||g==44452||g==44480||g==44508||g==44536||g==44564||g==44592||g==44620||g==44648||g==44676||g==44704||g==44732||g==44760||g==44788||g==44816||g==44844||g==44872||g==44900||g==44928||g==44956||g==44984||g==45012||g==45040||g==45068||g==45096||g==45124||g==45152||g==45180||g==45208||g==45236||g==45264||g==45292||g==45320||g==45348||g==45376||g==45404||g==45432||g==45460||g==45488||g==45516||g==45544||g==45572||g==45600||g==45628||g==45656||g==45684||g==45712||g==45740||g==45768||g==45796||g==45824||g==45852||g==45880||g==45908||g==45936||g==45964||g==45992||g==46020||g==46048||g==46076||g==46104||g==46132||g==46160||g==46188||g==46216||g==46244||g==46272||g==46300||g==46328||g==46356||g==46384||g==46412||g==46440||g==46468||g==46496||g==46524||g==46552||g==46580||g==46608||g==46636||g==46664||g==46692||g==46720||g==46748||g==46776||g==46804||g==46832||g==46860||g==46888||g==46916||g==46944||g==46972||g==47e3||g==47028||g==47056||g==47084||g==47112||g==47140||g==47168||g==47196||g==47224||g==47252||g==47280||g==47308||g==47336||g==47364||g==47392||g==47420||g==47448||g==47476||g==47504||g==47532||g==47560||g==47588||g==47616||g==47644||g==47672||g==47700||g==47728||g==47756||g==47784||g==47812||g==47840||g==47868||g==47896||g==47924||g==47952||g==47980||g==48008||g==48036||g==48064||g==48092||g==48120||g==48148||g==48176||g==48204||g==48232||g==48260||g==48288||g==48316||g==48344||g==48372||g==48400||g==48428||g==48456||g==48484||g==48512||g==48540||g==48568||g==48596||g==48624||g==48652||g==48680||g==48708||g==48736||g==48764||g==48792||g==48820||g==48848||g==48876||g==48904||g==48932||g==48960||g==48988||g==49016||g==49044||g==49072||g==49100||g==49128||g==49156||g==49184||g==49212||g==49240||g==49268||g==49296||g==49324||g==49352||g==49380||g==49408||g==49436||g==49464||g==49492||g==49520||g==49548||g==49576||g==49604||g==49632||g==49660||g==49688||g==49716||g==49744||g==49772||g==49800||g==49828||g==49856||g==49884||g==49912||g==49940||g==49968||g==49996||g==50024||g==50052||g==50080||g==50108||g==50136||g==50164||g==50192||g==50220||g==50248||g==50276||g==50304||g==50332||g==50360||g==50388||g==50416||g==50444||g==50472||g==50500||g==50528||g==50556||g==50584||g==50612||g==50640||g==50668||g==50696||g==50724||g==50752||g==50780||g==50808||g==50836||g==50864||g==50892||g==50920||g==50948||g==50976||g==51004||g==51032||g==51060||g==51088||g==51116||g==51144||g==51172||g==51200||g==51228||g==51256||g==51284||g==51312||g==51340||g==51368||g==51396||g==51424||g==51452||g==51480||g==51508||g==51536||g==51564||g==51592||g==51620||g==51648||g==51676||g==51704||g==51732||g==51760||g==51788||g==51816||g==51844||g==51872||g==51900||g==51928||g==51956||g==51984||g==52012||g==52040||g==52068||g==52096||g==52124||g==52152||g==52180||g==52208||g==52236||g==52264||g==52292||g==52320||g==52348||g==52376||g==52404||g==52432||g==52460||g==52488||g==52516||g==52544||g==52572||g==52600||g==52628||g==52656||g==52684||g==52712||g==52740||g==52768||g==52796||g==52824||g==52852||g==52880||g==52908||g==52936||g==52964||g==52992||g==53020||g==53048||g==53076||g==53104||g==53132||g==53160||g==53188||g==53216||g==53244||g==53272||g==53300||g==53328||g==53356||g==53384||g==53412||g==53440||g==53468||g==53496||g==53524||g==53552||g==53580||g==53608||g==53636||g==53664||g==53692||g==53720||g==53748||g==53776||g==53804||g==53832||g==53860||g==53888||g==53916||g==53944||g==53972||g==54e3||g==54028||g==54056||g==54084||g==54112||g==54140||g==54168||g==54196||g==54224||g==54252||g==54280||g==54308||g==54336||g==54364||g==54392||g==54420||g==54448||g==54476||g==54504||g==54532||g==54560||g==54588||g==54616||g==54644||g==54672||g==54700||g==54728||g==54756||g==54784||g==54812||g==54840||g==54868||g==54896||g==54924||g==54952||g==54980||g==55008||g==55036||g==55064||g==55092||g==55120||g==55148||g==55176?yn:44033<=g&&g<=44059||44061<=g&&g<=44087||44089<=g&&g<=44115||44117<=g&&g<=44143||44145<=g&&g<=44171||44173<=g&&g<=44199||44201<=g&&g<=44227||44229<=g&&g<=44255||44257<=g&&g<=44283||44285<=g&&g<=44311||44313<=g&&g<=44339||44341<=g&&g<=44367||44369<=g&&g<=44395||44397<=g&&g<=44423||44425<=g&&g<=44451||44453<=g&&g<=44479||44481<=g&&g<=44507||44509<=g&&g<=44535||44537<=g&&g<=44563||44565<=g&&g<=44591||44593<=g&&g<=44619||44621<=g&&g<=44647||44649<=g&&g<=44675||44677<=g&&g<=44703||44705<=g&&g<=44731||44733<=g&&g<=44759||44761<=g&&g<=44787||44789<=g&&g<=44815||44817<=g&&g<=44843||44845<=g&&g<=44871||44873<=g&&g<=44899||44901<=g&&g<=44927||44929<=g&&g<=44955||44957<=g&&g<=44983||44985<=g&&g<=45011||45013<=g&&g<=45039||45041<=g&&g<=45067||45069<=g&&g<=45095||45097<=g&&g<=45123||45125<=g&&g<=45151||45153<=g&&g<=45179||45181<=g&&g<=45207||45209<=g&&g<=45235||45237<=g&&g<=45263||45265<=g&&g<=45291||45293<=g&&g<=45319||45321<=g&&g<=45347||45349<=g&&g<=45375||45377<=g&&g<=45403||45405<=g&&g<=45431||45433<=g&&g<=45459||45461<=g&&g<=45487||45489<=g&&g<=45515||45517<=g&&g<=45543||45545<=g&&g<=45571||45573<=g&&g<=45599||45601<=g&&g<=45627||45629<=g&&g<=45655||45657<=g&&g<=45683||45685<=g&&g<=45711||45713<=g&&g<=45739||45741<=g&&g<=45767||45769<=g&&g<=45795||45797<=g&&g<=45823||45825<=g&&g<=45851||45853<=g&&g<=45879||45881<=g&&g<=45907||45909<=g&&g<=45935||45937<=g&&g<=45963||45965<=g&&g<=45991||45993<=g&&g<=46019||46021<=g&&g<=46047||46049<=g&&g<=46075||46077<=g&&g<=46103||46105<=g&&g<=46131||46133<=g&&g<=46159||46161<=g&&g<=46187||46189<=g&&g<=46215||46217<=g&&g<=46243||46245<=g&&g<=46271||46273<=g&&g<=46299||46301<=g&&g<=46327||46329<=g&&g<=46355||46357<=g&&g<=46383||46385<=g&&g<=46411||46413<=g&&g<=46439||46441<=g&&g<=46467||46469<=g&&g<=46495||46497<=g&&g<=46523||46525<=g&&g<=46551||46553<=g&&g<=46579||46581<=g&&g<=46607||46609<=g&&g<=46635||46637<=g&&g<=46663||46665<=g&&g<=46691||46693<=g&&g<=46719||46721<=g&&g<=46747||46749<=g&&g<=46775||46777<=g&&g<=46803||46805<=g&&g<=46831||46833<=g&&g<=46859||46861<=g&&g<=46887||46889<=g&&g<=46915||46917<=g&&g<=46943||46945<=g&&g<=46971||46973<=g&&g<=46999||47001<=g&&g<=47027||47029<=g&&g<=47055||47057<=g&&g<=47083||47085<=g&&g<=47111||47113<=g&&g<=47139||47141<=g&&g<=47167||47169<=g&&g<=47195||47197<=g&&g<=47223||47225<=g&&g<=47251||47253<=g&&g<=47279||47281<=g&&g<=47307||47309<=g&&g<=47335||47337<=g&&g<=47363||47365<=g&&g<=47391||47393<=g&&g<=47419||47421<=g&&g<=47447||47449<=g&&g<=47475||47477<=g&&g<=47503||47505<=g&&g<=47531||47533<=g&&g<=47559||47561<=g&&g<=47587||47589<=g&&g<=47615||47617<=g&&g<=47643||47645<=g&&g<=47671||47673<=g&&g<=47699||47701<=g&&g<=47727||47729<=g&&g<=47755||47757<=g&&g<=47783||47785<=g&&g<=47811||47813<=g&&g<=47839||47841<=g&&g<=47867||47869<=g&&g<=47895||47897<=g&&g<=47923||47925<=g&&g<=47951||47953<=g&&g<=47979||47981<=g&&g<=48007||48009<=g&&g<=48035||48037<=g&&g<=48063||48065<=g&&g<=48091||48093<=g&&g<=48119||48121<=g&&g<=48147||48149<=g&&g<=48175||48177<=g&&g<=48203||48205<=g&&g<=48231||48233<=g&&g<=48259||48261<=g&&g<=48287||48289<=g&&g<=48315||48317<=g&&g<=48343||48345<=g&&g<=48371||48373<=g&&g<=48399||48401<=g&&g<=48427||48429<=g&&g<=48455||48457<=g&&g<=48483||48485<=g&&g<=48511||48513<=g&&g<=48539||48541<=g&&g<=48567||48569<=g&&g<=48595||48597<=g&&g<=48623||48625<=g&&g<=48651||48653<=g&&g<=48679||48681<=g&&g<=48707||48709<=g&&g<=48735||48737<=g&&g<=48763||48765<=g&&g<=48791||48793<=g&&g<=48819||48821<=g&&g<=48847||48849<=g&&g<=48875||48877<=g&&g<=48903||48905<=g&&g<=48931||48933<=g&&g<=48959||48961<=g&&g<=48987||48989<=g&&g<=49015||49017<=g&&g<=49043||49045<=g&&g<=49071||49073<=g&&g<=49099||49101<=g&&g<=49127||49129<=g&&g<=49155||49157<=g&&g<=49183||49185<=g&&g<=49211||49213<=g&&g<=49239||49241<=g&&g<=49267||49269<=g&&g<=49295||49297<=g&&g<=49323||49325<=g&&g<=49351||49353<=g&&g<=49379||49381<=g&&g<=49407||49409<=g&&g<=49435||49437<=g&&g<=49463||49465<=g&&g<=49491||49493<=g&&g<=49519||49521<=g&&g<=49547||49549<=g&&g<=49575||49577<=g&&g<=49603||49605<=g&&g<=49631||49633<=g&&g<=49659||49661<=g&&g<=49687||49689<=g&&g<=49715||49717<=g&&g<=49743||49745<=g&&g<=49771||49773<=g&&g<=49799||49801<=g&&g<=49827||49829<=g&&g<=49855||49857<=g&&g<=49883||49885<=g&&g<=49911||49913<=g&&g<=49939||49941<=g&&g<=49967||49969<=g&&g<=49995||49997<=g&&g<=50023||50025<=g&&g<=50051||50053<=g&&g<=50079||50081<=g&&g<=50107||50109<=g&&g<=50135||50137<=g&&g<=50163||50165<=g&&g<=50191||50193<=g&&g<=50219||50221<=g&&g<=50247||50249<=g&&g<=50275||50277<=g&&g<=50303||50305<=g&&g<=50331||50333<=g&&g<=50359||50361<=g&&g<=50387||50389<=g&&g<=50415||50417<=g&&g<=50443||50445<=g&&g<=50471||50473<=g&&g<=50499||50501<=g&&g<=50527||50529<=g&&g<=50555||50557<=g&&g<=50583||50585<=g&&g<=50611||50613<=g&&g<=50639||50641<=g&&g<=50667||50669<=g&&g<=50695||50697<=g&&g<=50723||50725<=g&&g<=50751||50753<=g&&g<=50779||50781<=g&&g<=50807||50809<=g&&g<=50835||50837<=g&&g<=50863||50865<=g&&g<=50891||50893<=g&&g<=50919||50921<=g&&g<=50947||50949<=g&&g<=50975||50977<=g&&g<=51003||51005<=g&&g<=51031||51033<=g&&g<=51059||51061<=g&&g<=51087||51089<=g&&g<=51115||51117<=g&&g<=51143||51145<=g&&g<=51171||51173<=g&&g<=51199||51201<=g&&g<=51227||51229<=g&&g<=51255||51257<=g&&g<=51283||51285<=g&&g<=51311||51313<=g&&g<=51339||51341<=g&&g<=51367||51369<=g&&g<=51395||51397<=g&&g<=51423||51425<=g&&g<=51451||51453<=g&&g<=51479||51481<=g&&g<=51507||51509<=g&&g<=51535||51537<=g&&g<=51563||51565<=g&&g<=51591||51593<=g&&g<=51619||51621<=g&&g<=51647||51649<=g&&g<=51675||51677<=g&&g<=51703||51705<=g&&g<=51731||51733<=g&&g<=51759||51761<=g&&g<=51787||51789<=g&&g<=51815||51817<=g&&g<=51843||51845<=g&&g<=51871||51873<=g&&g<=51899||51901<=g&&g<=51927||51929<=g&&g<=51955||51957<=g&&g<=51983||51985<=g&&g<=52011||52013<=g&&g<=52039||52041<=g&&g<=52067||52069<=g&&g<=52095||52097<=g&&g<=52123||52125<=g&&g<=52151||52153<=g&&g<=52179||52181<=g&&g<=52207||52209<=g&&g<=52235||52237<=g&&g<=52263||52265<=g&&g<=52291||52293<=g&&g<=52319||52321<=g&&g<=52347||52349<=g&&g<=52375||52377<=g&&g<=52403||52405<=g&&g<=52431||52433<=g&&g<=52459||52461<=g&&g<=52487||52489<=g&&g<=52515||52517<=g&&g<=52543||52545<=g&&g<=52571||52573<=g&&g<=52599||52601<=g&&g<=52627||52629<=g&&g<=52655||52657<=g&&g<=52683||52685<=g&&g<=52711||52713<=g&&g<=52739||52741<=g&&g<=52767||52769<=g&&g<=52795||52797<=g&&g<=52823||52825<=g&&g<=52851||52853<=g&&g<=52879||52881<=g&&g<=52907||52909<=g&&g<=52935||52937<=g&&g<=52963||52965<=g&&g<=52991||52993<=g&&g<=53019||53021<=g&&g<=53047||53049<=g&&g<=53075||53077<=g&&g<=53103||53105<=g&&g<=53131||53133<=g&&g<=53159||53161<=g&&g<=53187||53189<=g&&g<=53215||53217<=g&&g<=53243||53245<=g&&g<=53271||53273<=g&&g<=53299||53301<=g&&g<=53327||53329<=g&&g<=53355||53357<=g&&g<=53383||53385<=g&&g<=53411||53413<=g&&g<=53439||53441<=g&&g<=53467||53469<=g&&g<=53495||53497<=g&&g<=53523||53525<=g&&g<=53551||53553<=g&&g<=53579||53581<=g&&g<=53607||53609<=g&&g<=53635||53637<=g&&g<=53663||53665<=g&&g<=53691||53693<=g&&g<=53719||53721<=g&&g<=53747||53749<=g&&g<=53775||53777<=g&&g<=53803||53805<=g&&g<=53831||53833<=g&&g<=53859||53861<=g&&g<=53887||53889<=g&&g<=53915||53917<=g&&g<=53943||53945<=g&&g<=53971||53973<=g&&g<=53999||54001<=g&&g<=54027||54029<=g&&g<=54055||54057<=g&&g<=54083||54085<=g&&g<=54111||54113<=g&&g<=54139||54141<=g&&g<=54167||54169<=g&&g<=54195||54197<=g&&g<=54223||54225<=g&&g<=54251||54253<=g&&g<=54279||54281<=g&&g<=54307||54309<=g&&g<=54335||54337<=g&&g<=54363||54365<=g&&g<=54391||54393<=g&&g<=54419||54421<=g&&g<=54447||54449<=g&&g<=54475||54477<=g&&g<=54503||54505<=g&&g<=54531||54533<=g&&g<=54559||54561<=g&&g<=54587||54589<=g&&g<=54615||54617<=g&&g<=54643||54645<=g&&g<=54671||54673<=g&&g<=54699||54701<=g&&g<=54727||54729<=g&&g<=54755||54757<=g&&g<=54783||54785<=g&&g<=54811||54813<=g&&g<=54839||54841<=g&&g<=54867||54869<=g&&g<=54895||54897<=g&&g<=54923||54925<=g&&g<=54951||54953<=g&&g<=54979||54981<=g&&g<=55007||55009<=g&&g<=55035||55037<=g&&g<=55063||55065<=g&&g<=55091||55093<=g&&g<=55119||55121<=g&&g<=55147||55149<=g&&g<=55175||55177<=g&&g<=55203?er:g==9757||g==9977||9994<=g&&g<=9997||g==127877||127938<=g&&g<=127940||g==127943||127946<=g&&g<=127948||128066<=g&&g<=128067||128070<=g&&g<=128080||g==128110||128112<=g&&g<=128120||g==128124||128129<=g&&g<=128131||128133<=g&&g<=128135||g==128170||128372<=g&&g<=128373||g==128378||g==128400||128405<=g&&g<=128406||128581<=g&&g<=128583||128587<=g&&g<=128591||g==128675||128692<=g&&g<=128694||g==128704||g==128716||129304<=g&&g<=129308||129310<=g&&g<=129311||g==129318||129328<=g&&g<=129337||129341<=g&&g<=129342||129489<=g&&g<=129501?Gr:127995<=g&&g<=127999?yr:g==8205?_i:g==9792||g==9794||9877<=g&&g<=9878||g==9992||g==10084||g==127752||g==127806||g==127859||g==127891||g==127908||g==127912||g==127979||g==127981||g==128139||128187<=g&&g<=128188||g==128295||g==128300||g==128488||g==128640||g==128658?Ee:128102<=g&&g<=128105?J:cr}return this}pe.exports&&(pe.exports=Se)}),o=new i,a=function(Se,Re,it){for(var ot=o.iterateGraphemes(Se.substring(Re)),St="",Rt=0;Rt<it-Re;Rt++){var zt=ot.next();if(St+=zt.value,zt.done)break}return St},s=function(pe,Se,Re,it,ot,St,Rt){return{start:{line:pe,column:Se,offset:Re},end:{line:it,column:ot,offset:St},source:Rt||null}},h=r(function(pe,Se){(function(Re,it){pe.exports=it()})(n,function(){var Re="",it,ot=St;function St(er,cr){if(typeof er!="string")throw new TypeError("expected a string");if(cr===1)return er;if(cr===2)return er+er;var Sr=er.length*cr;if(it!==er||typeof it>"u")it=er,Re="";else if(Re.length>=Sr)return Re.substr(0,Sr);for(;Sr>Re.length&&cr>1;)cr&1&&(Re+=er),cr>>=1,er+=er;return Re+=er,Re=Re.substr(0,Sr),Re}var Rt=function(cr,Sr,Gr){if(cr==null||Sr==null)return cr;var yr=String(cr),_i=typeof Sr=="number"?Sr:parseInt(Sr,10);if(isNaN(_i)||!isFinite(_i))return yr;var Ee=yr.length;if(Ee>=_i)return yr;var J=Gr==null?"":String(Gr);J===""&&(J=" ");for(var q=_i-Ee;J.length<q;)J+=J;var Te=J.length>q?J.substr(0,q):J;return Te+yr},zt=Object.assign||function(er){for(var cr=1;cr<arguments.length;cr++){var Sr=arguments[cr];for(var Gr in Sr)Object.prototype.hasOwnProperty.call(Sr,Gr)&&(er[Gr]=Sr[Gr])}return er};function pt(er,cr,Sr,Gr){var yr=String(cr),_i=Rt(yr,Sr," "),Ee=ot(" ",Gr.tabSize);return _i+" | "+er.replace(/\t/g,Ee)}function ir(er,cr,Sr,Gr,yr){return er.slice(cr,Sr).map(function(_i,Ee){return pt(_i,cr+Ee+1,Gr,yr)}).join(`
`)}var gn={extraLines:2,tabSize:4},yn=function(cr,Sr,Gr,yr){yr=zt({},gn,yr);var _i=cr.split(/\r\n?|\n|\f/),Ee=Math.max(1,Sr-yr.extraLines)-1,J=Math.min(Sr+yr.extraLines,_i.length),q=String(J).length,Te=ir(_i,Ee,Sr,q,yr),At=pt(_i[Sr-1].substring(0,Gr-1),Sr,q,yr),Bt=ot(" ",At.length)+"^",kt=ir(_i,Sr,J,q,yr);return[Te,Bt,kt].filter(Boolean).join(`
`)};return yn})}),m=new Error().stack,C=function(pe){var Se=Object.create(SyntaxError.prototype);return Object.assign(Se,pe,{name:"SyntaxError"}),Object.defineProperty(Se,"stack",{get:function(){return m?m.replace(/^(.+\n){1,3}/,String(Se)+`
`):""}}),Se},E=function(pe,Se,Re,it,ot){throw C({message:it?pe+`
`+h(Se,it,ot):pe,rawMessage:pe,source:Re,line:it,column:ot})},O={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(Se){for(var Re=arguments.length,it=Array(Re>1?Re-1:0),ot=1;ot<Re;ot++)it[ot-1]=arguments[ot];return"Unexpected token <"+Se+"> at "+it.filter(Boolean).join(":")}},P={unexpectedSymbol:function(Se){for(var Re=arguments.length,it=Array(Re>1?Re-1:0),ot=1;ot<Re;ot++)it[ot-1]=arguments[ot];return"Unexpected symbol <"+Se+"> at "+it.filter(Boolean).join(":")}},D={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},$={"{":D.LEFT_BRACE,"}":D.RIGHT_BRACE,"[":D.LEFT_BRACKET,"]":D.RIGHT_BRACKET,":":D.COLON,",":D.COMMA},ee={true:D.TRUE,false:D.FALSE,null:D.NULL},H={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},G={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},Z={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function ue(pe){return pe>="1"&&pe<="9"}function ye(pe){return pe>="0"&&pe<="9"}function be(pe){return ye(pe)||pe>="a"&&pe<="f"||pe>="A"&&pe<="F"}function X(pe){return pe==="e"||pe==="E"}function se(pe,Se,Re,it){var ot=pe.charAt(Se);if(ot==="\r")Se++,Re++,it=1,pe.charAt(Se)===`
`&&Se++;else if(ot===`
`)Se++,Re++,it=1;else if(ot==="	"||ot===" ")Se++,it++;else return null;return{index:Se,line:Re,column:it}}function we(pe,Se,Re,it){var ot=pe.charAt(Se);return ot in $?{type:$[ot],line:Re,column:it+1,index:Se+1,value:null}:null}function xe(pe,Se,Re,it){for(var ot in ee)if(ee.hasOwnProperty(ot)&&pe.substr(Se,ot.length)===ot)return{type:ee[ot],line:Re,column:it+ot.length,index:Se+ot.length,value:ot};return null}function De(pe,Se,Re,it){for(var ot=Se,St=H._START_;Se<pe.length;){var Rt=pe.charAt(Se);switch(St){case H._START_:{if(Rt==='"')Se++,St=H.START_QUOTE_OR_CHAR;else return null;break}case H.START_QUOTE_OR_CHAR:{if(Rt==="\\")Se++,St=H.ESCAPE;else{if(Rt==='"')return Se++,{type:D.STRING,line:Re,column:it+Se-ot,index:Se,value:pe.slice(ot,Se)};Se++}break}case H.ESCAPE:{if(Rt in G){if(Se++,Rt==="u")for(var zt=0;zt<4;zt++){var pt=pe.charAt(Se);if(pt&&be(pt))Se++;else return null}St=H.START_QUOTE_OR_CHAR}else return null;break}}}}function Ue(pe,Se,Re,it){var ot=Se,St=Se,Rt=Z._START_;e:for(;Se<pe.length;){var zt=pe.charAt(Se);switch(Rt){case Z._START_:{if(zt==="-")Rt=Z.MINUS;else if(zt==="0")St=Se+1,Rt=Z.ZERO;else if(ue(zt))St=Se+1,Rt=Z.DIGIT;else return null;break}case Z.MINUS:{if(zt==="0")St=Se+1,Rt=Z.ZERO;else if(ue(zt))St=Se+1,Rt=Z.DIGIT;else return null;break}case Z.ZERO:{if(zt===".")Rt=Z.POINT;else if(X(zt))Rt=Z.EXP;else break e;break}case Z.DIGIT:{if(ye(zt))St=Se+1;else if(zt===".")Rt=Z.POINT;else if(X(zt))Rt=Z.EXP;else break e;break}case Z.POINT:{if(ye(zt))St=Se+1,Rt=Z.DIGIT_FRACTION;else break e;break}case Z.DIGIT_FRACTION:{if(ye(zt))St=Se+1;else if(X(zt))Rt=Z.EXP;else break e;break}case Z.EXP:{if(zt==="+"||zt==="-")Rt=Z.EXP_DIGIT_OR_SIGN;else if(ye(zt))St=Se+1,Rt=Z.EXP_DIGIT_OR_SIGN;else break e;break}case Z.EXP_DIGIT_OR_SIGN:{if(ye(zt))St=Se+1;else break e;break}}Se++}return St>0?{type:D.NUMBER,line:Re,column:it+St-ot,index:St,value:pe.slice(ot,St)}:null}var he=function(Se,Re){for(var it=1,ot=1,St=0,Rt=[];St<Se.length;){var zt=[Se,St,it,ot],pt=se.apply(void 0,zt);if(pt){St=pt.index,it=pt.line,ot=pt.column;continue}var ir=we.apply(void 0,zt)||xe.apply(void 0,zt)||De.apply(void 0,zt)||Ue.apply(void 0,zt);if(ir){var gn={type:ir.type,value:ir.value,loc:s(it,ot,St,ir.line,ir.column,ir.index,Re.source)};Rt.push(gn),St=ir.index,it=ir.line,ot=ir.column}else E(P.unexpectedSymbol(a(Se,St,St+1),Re.source,it,ot),Se,Re.source,it,ot)}return Rt},$e={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},ge={_START_:0,KEY:1,COLON:2},yt={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},wt={loc:!0,source:null};function st(pe,Se,Re){var it=Se.length>0?Se[Se.length-1].loc.end:{line:1,column:1};E(O.unexpectedEnd(),pe,Re.source,it.line,it.column)}function mt(pe){for(var Se=0,Re=0;Re<4;Re++)Se=Se*16+parseInt(pe[Re],16);return String.fromCharCode(Se)}var ze={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},He=['"',"\\","/"];function Ve(pe){for(var Se="",Re=0;Re<pe.length;Re++){var it=pe.charAt(Re);if(it==="\\"){Re++;var ot=pe.charAt(Re);if(ot==="u")Se+=mt(pe.substr(Re+1,4)),Re+=4;else if(He.indexOf(ot)!==-1)Se+=ot;else if(ot in ze)Se+=ze[ot];else break}else Se+=it}return Se}function Vt(pe,Se,Re,it){for(var ot=void 0,St={type:"Object",children:[]},Rt=$e._START_;Re<Se.length;){var zt=Se[Re];switch(Rt){case $e._START_:{if(zt.type===D.LEFT_BRACE)ot=zt,Rt=$e.OPEN_OBJECT,Re++;else return null;break}case $e.OPEN_OBJECT:{if(zt.type===D.RIGHT_BRACE)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};var pt=Yt(pe,Se,Re,it);St.children.push(pt.value),Rt=$e.PROPERTY,Re=pt.index;break}case $e.PROPERTY:{if(zt.type===D.RIGHT_BRACE)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};zt.type===D.COMMA?(Rt=$e.COMMA,Re++):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case $e.COMMA:{var ir=Yt(pe,Se,Re,it);ir?(Re=ir.index,St.children.push(ir.value),Rt=$e.PROPERTY):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}}}st(pe,Se,it)}function Yt(pe,Se,Re,it){for(var ot=void 0,St={type:"Property",key:null,value:null},Rt=ge._START_;Re<Se.length;){var zt=Se[Re];switch(Rt){case ge._START_:{if(zt.type===D.STRING){var pt={type:"Identifier",value:Ve(pe.slice(zt.loc.start.offset+1,zt.loc.end.offset-1)),raw:zt.value};it.loc&&(pt.loc=zt.loc),ot=zt,St.key=pt,Rt=ge.KEY,Re++}else return null;break}case ge.KEY:{zt.type===D.COLON?(Rt=ge.COLON,Re++):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case ge.COLON:{var ir=$t(pe,Se,Re,it);return St.value=ir.value,it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,ir.value.loc.end.line,ir.value.loc.end.column,ir.value.loc.end.offset,it.source)),{value:St,index:ir.index}}}}}function vt(pe,Se,Re,it){for(var ot=void 0,St={type:"Array",children:[]},Rt=yt._START_,zt=void 0;Re<Se.length;)switch(zt=Se[Re],Rt){case yt._START_:{if(zt.type===D.LEFT_BRACKET)ot=zt,Rt=yt.OPEN_ARRAY,Re++;else return null;break}case yt.OPEN_ARRAY:{if(zt.type===D.RIGHT_BRACKET)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};var pt=$t(pe,Se,Re,it);Re=pt.index,St.children.push(pt.value),Rt=yt.VALUE;break}case yt.VALUE:{if(zt.type===D.RIGHT_BRACKET)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};zt.type===D.COMMA?(Rt=yt.COMMA,Re++):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case yt.COMMA:{var ir=$t(pe,Se,Re,it);Re=ir.index,St.children.push(ir.value),Rt=yt.VALUE;break}}st(pe,Se,it)}function Qt(pe,Se,Re,it){var ot=Se[Re],St=null;switch(ot.type){case D.STRING:{St=Ve(pe.slice(ot.loc.start.offset+1,ot.loc.end.offset-1));break}case D.NUMBER:{St=Number(ot.value);break}case D.TRUE:{St=!0;break}case D.FALSE:{St=!1;break}case D.NULL:{St=null;break}default:return null}var Rt={type:"Literal",value:St,raw:ot.value};return it.loc&&(Rt.loc=ot.loc),{value:Rt,index:Re+1}}function $t(pe,Se,Re,it){var ot=Se[Re],St=Qt.apply(void 0,arguments)||Vt.apply(void 0,arguments)||vt.apply(void 0,arguments);if(St)return St;E(O.unexpectedToken(a(pe,ot.loc.start.offset,ot.loc.end.offset),it.source,ot.loc.start.line,ot.loc.start.column),pe,it.source,ot.loc.start.line,ot.loc.start.column)}var ke=function(pe,Se){Se=Object.assign({},wt,Se);var Re=he(pe,Se);Re.length===0&&st(pe,Re,Se);var it=$t(pe,Re,0,Se);if(it.index===Re.length)return it.value;var ot=Re[it.index];E(O.unexpectedToken(a(pe,ot.loc.start.offset,ot.loc.end.offset),Se.source,ot.loc.start.line,ot.loc.start.column),pe,Se.source,ot.loc.start.line,ot.loc.start.column)};return ke})})(UW);var cge=UW.exports;const dge=Ka(cge);function En(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/codemirror-mgl.ts",t="75c67bd52e93ae3552dbbb22dee5016f1fb7d345",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"75c67bd52e93ae3552dbbb22dee5016f1fb7d345"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return En=function(){return a},a}En();En().s[0]++;Vc.defineMode("mgl",(e,t)=>(En().f[0]++,En().s[1]++,Vc.modes.javascript({...e,json:!0},t)));En().s[2]++;Vc.registerHelper("lint","json",e=>{En().f[1]++;const t=(En().s[3]++,[]);En().s[4]++,fB.parser.parseError=(n,r)=>{En().f[2]++;const i=(En().s[5]++,r.loc);En().s[6]++,t.push({from:Vc.Pos(i.first_line-1,i.first_column),to:Vc.Pos(i.last_line-1,i.last_column),message:n})},En().s[7]++;try{En().s[8]++,fB.parse(e)}catch{}return En().s[9]++,t});En().s[10]++;Vc.registerHelper("lint","mgl",(e,t,n)=>{En().f[3]++;const r=(En().s[11]++,[]),{parser:i}=(En().s[12]++,fB),{context:o}=(En().s[13]++,t);En().s[14]++,i.parseError=(C,E)=>{En().f[4]++;const O=(En().s[15]++,E.loc);En().s[16]++,r.push({from:Vc.Pos(O.first_line-1,O.first_column),to:Vc.Pos(O.last_line-1,O.last_column),message:C})},En().s[17]++;try{En().s[18]++,i.parse(e)}catch{}if(En().s[19]++,r.length>0)return En().b[0][0]++,En().s[20]++,r;En().b[0][1]++;const a=(En().s[21]++,dge(e)),s=(En().s[22]++,JSON.parse(e));function h(C,E){if(En().f[5]++,En().s[23]++,C){if(En().b[1][1]++,En().s[25]++,E.length<1)return En().b[2][0]++,En().s[26]++,C;if(En().b[2][1]++,En().s[27]++,C.children){En().b[3][1]++;const O=(En().s[29]++,E[0]);let P;return En().s[30]++,O.match(/^[0-9]+$/)?(En().b[4][0]++,En().s[31]++,P=C.children[E[0]]):(En().b[4][1]++,En().s[32]++,P=C.children.find(D=>(En().f[6]++,En().s[33]++,En().b[5][0]++,D.key&&(En().b[5][1]++,D.key.type==="Identifier")&&(En().b[5][2]++,D.key.value===O))),En().s[34]++,P?(En().b[6][0]++,En().s[35]++,P=P.value):En().b[6][1]++),En().s[36]++,h(P,E.slice(1))}else{En().b[3][0]++,En().s[28]++;return}}else{En().b[1][0]++,En().s[24]++;return}}let m=(En().s[37]++,null);if(En().s[38]++,o==="layer"){En().b[7][0]++;const C=(En().s[39]++,Vd({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[s]}));En().s[40]++,C?(En().b[8][0]++,En().s[41]++,m={result:"error",value:C.filter(E=>(En().f[7]++,En().s[42]++,!E.message.match(/^layers\[0\]: source ".*" not found$/))).map(E=>{En().f[8]++;const O=(En().s[43]++,E.message.replace(/^layers\[0\]./,"").split(":"));return En().s[44]++,{name:"",key:O[0],message:O[1]}})}):En().b[8][1]++}else if(En().b[7][1]++,En().s[45]++,o==="expression")En().b[9][0]++,En().s[46]++,m=ste.createExpression(s,t.spec);else throw En().b[9][1]++,En().s[47]++,new Error(`Invalid context ${o}`);if(En().s[48]++,(m==null?void 0:m.result)==="error"){En().b[10][0]++;const C=(En().s[49]++,m.value);En().s[50]++,C.forEach(E=>{En().f[9]++;const{key:O,message:P}=(En().s[51]++,E);if(En().s[52]++,O)if(En().b[11][1]++,En().s[56]++,O){En().b[12][0]++;const D=(En().s[57]++,O.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),$=(En().s[58]++,h(a,D));if(En().s[59]++,$)En().b[13][1]++;else{En().b[13][0]++,En().s[60]++,console.warn("Something went wrong parsing error:",E),En().s[61]++;return}const{loc:ee}=(En().s[62]++,$),{start:H,end:G}=(En().s[63]++,ee);En().s[64]++,r.push({from:Vc.Pos(H.line-1,H.column),to:Vc.Pos(G.line-1,G.column),message:P})}else En().b[12][1]++;else{En().b[11][0]++;const D=(En().s[53]++,n.getLineHandle(n.lastLine())),$=(En().s[54]++,{from:Vc.Pos(n.firstLine(),0),to:Vc.Pos(n.lastLine(),D.text.length),message:P});En().s[55]++,r.push($)}})}else En().b[10][1]++;return En().s[65]++,r});function Un(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputJson.tsx",t="bb6977082195a2793c36f573871f0361c8533fdf",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:28,column:3}},1:{start:{line:18,column:6},end:{line:18,column:65}},2:{start:{line:31,column:8},end:{line:31,column:12}},3:{start:{line:32,column:22},end:{line:32,column:27}},4:{start:{line:34,column:4},end:{line:34,column:17}},5:{start:{line:35,column:4},end:{line:35,column:32}},6:{start:{line:36,column:4},end:{line:40,column:6}},7:{start:{line:43,column:4},end:{line:59,column:7}},8:{start:{line:60,column:4},end:{line:60,column:42}},9:{start:{line:61,column:4},end:{line:61,column:40}},10:{start:{line:62,column:4},end:{line:62,column:38}},11:{start:{line:64,column:18},end:{line:66,column:3}},12:{start:{line:65,column:4},end:{line:65,column:31}},13:{start:{line:67,column:12},end:{line:74,column:3}},14:{start:{line:68,column:4},end:{line:69,column:27}},15:{start:{line:69,column:6},end:{line:69,column:27}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:83,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:78,column:26}},20:{start:{line:78,column:6},end:{line:78,column:26}},21:{start:{line:79,column:4},end:{line:82,column:7}},22:{start:{line:85,column:4},end:{line:85,column:43}},23:{start:{line:86,column:4},end:{line:86,column:41}},24:{start:{line:87,column:4},end:{line:87,column:39}},25:{start:{line:90,column:4},end:{line:95,column:5}},26:{start:{line:91,column:6},end:{line:91,column:36}},27:{start:{line:92,column:6},end:{line:94,column:8}},28:{start:{line:97,column:13},end:{line:126,column:3}},29:{start:{line:98,column:4},end:{line:104,column:5}},30:{start:{line:99,column:6},end:{line:99,column:37}},31:{start:{line:100,column:6},end:{line:102,column:9}},32:{start:{line:103,column:6},end:{line:103,column:13}},33:{start:{line:105,column:20},end:{line:105,column:40}},34:{start:{line:106,column:4},end:{line:122,column:5}},35:{start:{line:108,column:6},end:{line:113,column:7}},36:{start:{line:109,column:8},end:{line:109,column:42}},37:{start:{line:111,column:8},end:{line:111,column:19}},38:{start:{line:112,column:8},end:{line:112,column:27}},39:{start:{line:114,column:6},end:{line:121,column:7}},40:{start:{line:115,column:8},end:{line:115,column:35}},41:{start:{line:117,column:8},end:{line:118,column:43}},42:{start:{line:118,column:10},end:{line:118,column:43}},43:{start:{line:119,column:8},end:{line:120,column:35}},44:{start:{line:120,column:10},end:{line:120,column:35}},45:{start:{line:123,column:4},end:{line:125,column:7}},46:{start:{line:128,column:28},end:{line:128,column:38}},47:{start:{line:129,column:18},end:{line:129,column:20}},48:{start:{line:130,column:4},end:{line:132,column:5}},49:{start:{line:131,column:6},end:{line:131,column:45}},50:{start:{line:133,column:4},end:{line:147,column:9}},51:{start:{line:143,column:23},end:{line:143,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:24},end:{line:19,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:13},end:{line:20,column:14}},loc:{start:{line:20,column:19},end:{line:21,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:12},end:{line:22,column:13}},loc:{start:{line:22,column:18},end:{line:23,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:26,column:17},end:{line:26,column:18}},loc:{start:{line:26,column:23},end:{line:27,column:5}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:21},end:{line:41,column:3}},line:33},6:{name:"(anonymous_6)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:22},end:{line:63,column:3}},line:42},7:{name:"(anonymous_7)",decl:{start:{line:64,column:18},end:{line:64,column:19}},loc:{start:{line:64,column:24},end:{line:66,column:3}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:67,column:12},end:{line:67,column:13}},loc:{start:{line:67,column:18},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:83,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:25},end:{line:88,column:3}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:32},end:{line:96,column:3}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:97,column:13},end:{line:97,column:14}},loc:{start:{line:97,column:21},end:{line:126,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:127,column:2},end:{line:127,column:3}},loc:{start:{line:127,column:11},end:{line:148,column:3}},line:127},14:{name:"(anonymous_14)",decl:{start:{line:143,column:15},end:{line:143,column:16}},loc:{start:{line:143,column:23},end:{line:143,column:36}},line:143}},branchMap:{0:{loc:{start:{line:45,column:12},end:{line:47,column:7}},type:"binary-expr",locations:[{start:{line:45,column:12},end:{line:45,column:27}},{start:{line:45,column:31},end:{line:47,column:7}}],line:45},1:{loc:{start:{line:53,column:12},end:{line:55,column:7}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:27}},{start:{line:53,column:31},end:{line:55,column:7}}],line:53},2:{loc:{start:{line:68,column:4},end:{line:69,column:27}},type:"if",locations:[{start:{line:68,column:4},end:{line:69,column:27}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},3:{loc:{start:{line:77,column:4},end:{line:78,column:26}},type:"if",locations:[{start:{line:77,column:4},end:{line:78,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:90,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},5:{loc:{start:{line:90,column:8},end:{line:90,column:69}},type:"binary-expr",locations:[{start:{line:90,column:8},end:{line:90,column:29}},{start:{line:90,column:33},end:{line:90,column:69}}],line:90},6:{loc:{start:{line:98,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:104,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98},7:{loc:{start:{line:106,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:122,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:106},8:{loc:{start:{line:114,column:6},end:{line:121,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:121,column:7}},{start:{line:116,column:13},end:{line:121,column:7}}],line:114},9:{loc:{start:{line:114,column:10},end:{line:114,column:41}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:13}},{start:{line:114,column:17},end:{line:114,column:41}}],line:114},10:{loc:{start:{line:117,column:8},end:{line:118,column:43}},type:"if",locations:[{start:{line:117,column:8},end:{line:118,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},11:{loc:{start:{line:119,column:8},end:{line:120,column:35}},type:"if",locations:[{start:{line:119,column:8},end:{line:120,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119},12:{loc:{start:{line:130,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:130,column:4},end:{line:132,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAqKM,SACQ,KADR;AArKN,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AAErC,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA0BP,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM;AAAQ,WAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM;AAAU,eAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM;AAAa,eAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,2BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GAAG;AAAA;AAAA,QACrF,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bb6977082195a2793c36f573871f0361c8533fdf"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Un=function(){return a},a}Un();class FW extends Mn.Component{constructor(n){Un().f[5]++,Un().s[4]++;super(n);on(this,"_keyEvent");on(this,"_doc");on(this,"_el",(Un().s[2]++,null));on(this,"_cancelNextChange",(Un().s[3]++,!1));on(this,"onPointerDown",(Un().s[11]++,()=>{Un().f[7]++,Un().s[12]++,this._keyEvent="pointer"}));on(this,"onFocus",(Un().s[13]++,()=>{Un().f[8]++,Un().s[14]++,this.props.onFocus?(Un().b[2][0]++,Un().s[15]++,this.props.onFocus()):Un().b[2][1]++,Un().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));on(this,"onBlur",(Un().s[17]++,()=>{Un().f[9]++,Un().s[18]++,this._keyEvent="keyboard",Un().s[19]++,this.props.onBlur?(Un().b[3][0]++,Un().s[20]++,this.props.onBlur()):Un().b[3][1]++,Un().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));on(this,"onChange",(Un().s[28]++,n=>{if(Un().f[12]++,Un().s[29]++,this._cancelNextChange){Un().b[6][0]++,Un().s[30]++,this._cancelNextChange=!1,Un().s[31]++,this.setState({prevValue:this._doc.getValue()}),Un().s[32]++;return}else Un().b[6][1]++;const r=(Un().s[33]++,this._doc.getValue());if(Un().s[34]++,this.state.prevValue!==r){Un().b[7][0]++;let i,o;Un().s[35]++;try{Un().s[36]++,i=JSON.parse(r)}catch(a){Un().s[37]++,o=a,Un().s[38]++,console.warn(a)}Un().s[39]++,Un().b[9][0]++,o&&(Un().b[9][1]++,this.props.onJSONInvalid)?(Un().b[8][0]++,Un().s[40]++,this.props.onJSONInvalid()):(Un().b[8][1]++,Un().s[41]++,this.props.onChange?(Un().b[10][0]++,Un().s[42]++,this.props.onChange(i)):Un().b[10][1]++,Un().s[43]++,this.props.onJSONValid?(Un().b[11][0]++,Un().s[44]++,this.props.onJSONValid()):Un().b[11][1]++)}else Un().b[7][1]++;Un().s[45]++,this.setState({prevValue:r})}));Un().s[5]++,this._keyEvent="keyboard",Un().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){Un().f[6]++,Un().s[7]++,this._doc=Vc(this._el,{value:this.props.getValue(this.props.layer),mode:(Un().b[0][0]++,this.props.mode||(Un().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(Un().b[1][0]++,this.props.lint||(Un().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),Un().s[8]++,this._doc.on("change",this.onChange),Un().s[9]++,this._doc.on("focus",this.onFocus),Un().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){Un().f[10]++,Un().s[22]++,this._doc.off("change",this.onChange),Un().s[23]++,this._doc.off("focus",this.onFocus),Un().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(n){Un().f[11]++,Un().s[25]++,Un().b[5][0]++,!this.state.isEditing&&(Un().b[5][1]++,n.layer!==this.props.layer)?(Un().b[4][0]++,Un().s[26]++,this._cancelNextChange=!0,Un().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):Un().b[4][1]++}render(){Un().f[13]++;const{showMessage:n}=(Un().s[46]++,this.state),r=(Un().s[47]++,{});return Un().s[48]++,this.props.maxHeight?(Un().b[12][0]++,Un().s[49]++,r.maxHeight=this.props.maxHeight):Un().b[12][1]++,Un().s[50]++,W.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[W.jsxs("div",{className:Hf("JSONEditor__message",{"JSONEditor__message--on":n}),children:["Press ",W.jsx("kbd",{children:"ESC"})," to lose focus"]}),W.jsx("div",{className:Hf("codemirror-container",this.props.className),ref:i=>(Un().f[14]++,Un().s[51]++,this._el=i),style:r})]})}}on(FW,"defaultProps",(Un().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:n=>(Un().f[0]++,Un().s[1]++,PW(n,{indent:2,maxLength:40})),onFocus:()=>{Un().f[1]++},onBlur:()=>{Un().f[2]++},onJSONInvalid:()=>{Un().f[3]++},onJSONValid:()=>{Un().f[4]++}}));function J4(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldJson.tsx",t="d71689418898a58dabe2f23c8f069b2122c80572",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d71689418898a58dabe2f23c8f069b2122c80572"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return J4=function(){return a},a}J4();class FI extends Mn.Component{render(){return J4().f[0]++,J4().s[0]++,W.jsx(FW,{...this.props})}}var _b="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",hge="M7,10L12,15L17,10H7Z",fge="M7,15L12,10L17,15H7Z",LI="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function B1(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/filterops.ts",t="50c9e1686e60a1b30d286f0d85c8a1640f2c789f",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"50c9e1686e60a1b30d286f0d85c8a1640f2c789f"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return B1=function(){return a},a}B1();const RI=(B1().s[0]++,["all","any","none"]);B1().s[1]++;const pge=(B1().s[2]++,Object.keys(io.filter_operator.values).filter(e=>(B1().f[0]++,B1().s[3]++,RI.indexOf(e)<0)));function Qr(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SingleFilterEditor.tsx",t="e50f0e85811bf9fc5fed9de76fafbddf81cf9547",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:9,column:13}},1:{start:{line:9,column:4},end:{line:9,column:13}},2:{start:{line:10,column:2},end:{line:11,column:13}},3:{start:{line:11,column:4},end:{line:11,column:13}},4:{start:{line:12,column:2},end:{line:12,column:23}},5:{start:{line:15,column:19},end:{line:15,column:40}},6:{start:{line:16,column:2},end:{line:18,column:3}},7:{start:{line:17,column:4},end:{line:17,column:13}},8:{start:{line:19,column:2},end:{line:25,column:3}},9:{start:{line:20,column:4},end:{line:20,column:16}},10:{start:{line:21,column:9},end:{line:25,column:3}},11:{start:{line:22,column:4},end:{line:22,column:17}},12:{start:{line:24,column:4},end:{line:24,column:13}},13:{start:{line:28,column:2},end:{line:28,column:21}},14:{start:{line:29,column:2},end:{line:29,column:22}},15:{start:{line:30,column:2},end:{line:30,column:11}},16:{start:{line:33,column:24},end:{line:35,column:3}},17:{start:{line:37,column:20},end:{line:37,column:76}},18:{start:{line:38,column:4},end:{line:42,column:5}},19:{start:{line:39,column:6},end:{line:39,column:43}},20:{start:{line:40,column:11},end:{line:42,column:5}},21:{start:{line:41,column:6},end:{line:41,column:47}},22:{start:{line:43,column:4},end:{line:43,column:35}},23:{start:{line:46,column:14},end:{line:46,column:31}},24:{start:{line:47,column:21},end:{line:47,column:25}},25:{start:{line:48,column:25},end:{line:48,column:29}},26:{start:{line:49,column:23},end:{line:49,column:33}},27:{start:{line:50,column:4},end:{line:77,column:9}},28:{start:{line:56,column:72},end:{line:56,column:92}},29:{start:{line:57,column:41},end:{line:57,column:104}},30:{start:{line:65,column:37},end:{line:65,column:100}},31:{start:{line:74,column:27},end:{line:74,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:13,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:14,column:9},end:{line:14,column:21}},loc:{start:{line:14,column:25},end:{line:26,column:1}},line:14},2:{name:"parseFilter",decl:{start:{line:27,column:9},end:{line:27,column:20}},loc:{start:{line:27,column:24},end:{line:31,column:1}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:58},end:{line:44,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:78,column:3}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:56,column:58},end:{line:56,column:59}},loc:{start:{line:56,column:72},end:{line:56,column:92}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:57,column:20},end:{line:57,column:21}},loc:{start:{line:57,column:41},end:{line:57,column:104}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:65,column:20},end:{line:65,column:21}},loc:{start:{line:65,column:37},end:{line:65,column:100}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:74,column:20},end:{line:74,column:21}},loc:{start:{line:74,column:27},end:{line:74,column:89}},line:74}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:9,column:13}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:10,column:2},end:{line:11,column:13}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},2:{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},3:{loc:{start:{line:19,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:25,column:3}},{start:{line:21,column:9},end:{line:25,column:3}}],line:19},4:{loc:{start:{line:21,column:9},end:{line:25,column:3}},type:"if",locations:[{start:{line:21,column:9},end:{line:25,column:3}},{start:{line:23,column:9},end:{line:25,column:3}}],line:21},5:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38},6:{loc:{start:{line:38,column:8},end:{line:38,column:49}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:26}},{start:{line:38,column:30},end:{line:38,column:49}}],line:38},7:{loc:{start:{line:40,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:11},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},8:{loc:{start:{line:69,column:6},end:{line:76,column:10}},type:"binary-expr",locations:[{start:{line:69,column:6},end:{line:69,column:27}},{start:{line:69,column:47},end:{line:76,column:10}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM;AAAI,WAAO;AACrB,MAAI,MAAM,CAAW;AAAG,WAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e50f0e85811bf9fc5fed9de76fafbddf81cf9547"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Qr=function(){return a},a}Qr();function mge(e){return Qr().f[0]++,Qr().s[0]++,e===""?(Qr().b[0][0]++,Qr().s[1]++,e):(Qr().b[0][1]++,Qr().s[2]++,isNaN(e)?(Qr().b[1][0]++,Qr().s[3]++,e):(Qr().b[1][1]++,Qr().s[4]++,parseFloat(e)))}function gge(e){Qr().f[1]++;const t=(Qr().s[5]++,typeof e=="string");if(Qr().s[6]++,t)Qr().b[2][1]++;else return Qr().b[2][0]++,Qr().s[7]++,e;return Qr().s[8]++,e.match(/^\s*true\s*$/)?(Qr().b[3][0]++,Qr().s[9]++,!0):(Qr().b[3][1]++,Qr().s[10]++,e.match(/^\s*false\s*$/)?(Qr().b[4][0]++,Qr().s[11]++,!1):(Qr().b[4][1]++,Qr().s[12]++,e))}function yge(e){return Qr().f[2]++,Qr().s[13]++,e=mge(e),Qr().s[14]++,e=gge(e),Qr().s[15]++,e}class LW extends Mn.Component{onFilterPartChanged(t,n,r){Qr().f[3]++;let i=(Qr().s[17]++,[t,n,...r.map(yge)]);Qr().s[18]++,Qr().b[6][0]++,t==="has"||(Qr().b[6][1]++,t==="!has")?(Qr().b[5][0]++,Qr().s[19]++,i=[t,n]):(Qr().b[5][1]++,Qr().s[20]++,r.length===0?(Qr().b[7][0]++,Qr().s[21]++,i=[t,n,""]):Qr().b[7][1]++),Qr().s[22]++,this.props.onChange(i)}render(){Qr().f[4]++;const t=(Qr().s[23]++,this.props.filter),n=(Qr().s[24]++,t[0]),r=(Qr().s[25]++,t[1]),i=(Qr().s[26]++,t.slice(2));return Qr().s[27]++,W.jsxs("div",{className:"maputnik-filter-editor-single",children:[W.jsx("div",{className:"maputnik-filter-editor-property",children:W.jsx(Uv,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(Qr().f[5]++,Qr().s[28]++,[o,o])),onChange:o=>(Qr().f[6]++,Qr().s[29]++,this.onFilterPartChanged(n,o,i))})}),W.jsx("div",{className:"maputnik-filter-editor-operator",children:W.jsx(eg,{"aria-label":"function",value:n,onChange:o=>(Qr().f[7]++,Qr().s[30]++,this.onFilterPartChanged(o,r,i)),options:pge})}),(Qr().b[8][0]++,i.length>0&&(Qr().b[8][1]++,W.jsx("div",{className:"maputnik-filter-editor-args",children:W.jsx(sd,{"aria-label":"value",value:i.join(","),onChange:o=>(Qr().f[8]++,Qr().s[31]++,this.onFilterPartChanged(n,r,o.split(",")))})})))]})}}on(LW,"defaultProps",(Qr().s[16]++,{properties:{}}));function e5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FilterEditorBlock.tsx",t="8fcd5fb77828e0ad540e3f64d5329b434d7619ba",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:18,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:19,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAUW,SAOD,KAPC;AAVX,OAAO,WAAkC;AACzC,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAMvB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fcd5fb77828e0ad540e3f64d5329b434d7619ba"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return e5=function(){return a},a}e5();class vge extends Mn.Component{render(){return e5().f[0]++,e5().s[0]++,W.jsxs("div",{className:"maputnik-filter-editor-block",children:[W.jsx("div",{className:"maputnik-filter-editor-block-action",children:W.jsx(Ta,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:"Delete filter block",children:W.jsx(Iv,{})})}),W.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}var Cge=1/0,_ge="[object Symbol]",zI="\\ud800-\\udfff",RW="\\u0300-\\u036f\\ufe20-\\ufe23",zW="\\u20d0-\\u20f0",jW="\\ufe0e\\ufe0f",bge="["+zI+"]",pB="["+RW+zW+"]",mB="\\ud83c[\\udffb-\\udfff]",xge="(?:"+pB+"|"+mB+")",NW="[^"+zI+"]",GW="(?:\\ud83c[\\udde6-\\uddff]){2}",WW="[\\ud800-\\udbff][\\udc00-\\udfff]",QW="\\u200d",$W=xge+"?",YW="["+jW+"]?",wge="(?:"+QW+"(?:"+[NW,GW,WW].join("|")+")"+YW+$W+")*",Mge=YW+$W+wge,Sge="(?:"+[NW+pB+"?",pB,GW,WW,bge].join("|")+")",Ege=RegExp(mB+"(?="+mB+")|"+Sge+Mge,"g"),Oge=RegExp("["+QW+zI+RW+zW+jW+"]"),Bge=typeof window=="object"&&window&&window.Object===Object&&window,Ige=typeof self=="object"&&self&&self.Object===Object&&self,kge=Bge||Ige||Function("return this")();function Tge(e){return e.split("")}function qW(e){return Oge.test(e)}function Kge(e){return qW(e)?Pge(e):Tge(e)}function Pge(e){return e.match(Ege)||[]}var Dge=Object.prototype,Uge=Dge.toString,kP=kge.Symbol,TP=kP?kP.prototype:void 0,KP=TP?TP.toString:void 0;function Fge(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Lge(e){if(typeof e=="string")return e;if(Nge(e))return KP?KP.call(e):"";var t=e+"";return t=="0"&&1/e==-Cge?"-0":t}function Rge(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Fge(e,t,n)}function zge(e){return function(t){t=HW(t);var n=qW(t)?Kge(t):void 0,r=n?n[0]:t.charAt(0),i=n?Rge(n,1).join(""):t.slice(1);return r[e]()+i}}function jge(e){return!!e&&typeof e=="object"}function Nge(e){return typeof e=="symbol"||jge(e)&&Uge.call(e)==_ge}function HW(e){return e==null?"":Lge(e)}function Gge(e){return Wge(HW(e).toLowerCase())}var Wge=zge("toUpperCase"),Qge=Gge;const jI=Ka(Qge);function Of(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/label-from-field-name.ts",t="59ea37c1c9e6504845fadcf227242951c742af17",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"59ea37c1c9e6504845fadcf227242951c742af17"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Of=function(){return a},a}Of();function zw(e){Of().f[0]++;let t;const n=(Of().s[0]++,e.split("-"));return Of().s[1]++,n.length>1?(Of().b[0][0]++,Of().s[2]++,t=e.split("-").slice(1).join(" ")):(Of().b[0][1]++,Of().s[3]++,t=e),Of().s[4]++,jI(t)}function Qi(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_ExpressionProperty.tsx",t="cd55fed1055c7fad3a4ea9d85b61b5e588250184",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:10,column:24},end:{line:16,column:3}},1:{start:{line:18,column:4},end:{line:18,column:17}},2:{start:{line:19,column:4},end:{line:21,column:6}},3:{start:{line:23,column:18},end:{line:27,column:3}},4:{start:{line:24,column:4},end:{line:26,column:7}},5:{start:{line:28,column:16},end:{line:32,column:3}},6:{start:{line:29,column:4},end:{line:31,column:7}},7:{start:{line:34,column:61},end:{line:34,column:71}},8:{start:{line:35,column:26},end:{line:35,column:36}},9:{start:{line:36,column:25},end:{line:36,column:52}},10:{start:{line:37,column:42},end:{line:59,column:8}},11:{start:{line:60,column:21},end:{line:60,column:83}},12:{start:{line:61,column:23},end:{line:61,column:39}},13:{start:{line:62,column:26},end:{line:62,column:40}},14:{start:{line:63,column:24},end:{line:63,column:26}},15:{start:{line:65,column:6},end:{line:65,column:65}},16:{start:{line:67,column:4},end:{line:78,column:5}},17:{start:{line:68,column:6},end:{line:68,column:52}},18:{start:{line:70,column:6},end:{line:74,column:9}},19:{start:{line:71,column:8},end:{line:71,column:45}},20:{start:{line:73,column:8},end:{line:73,column:39}},21:{start:{line:75,column:6},end:{line:77,column:7}},22:{start:{line:76,column:8},end:{line:76,column:37}},23:{start:{line:79,column:4},end:{line:109,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:18},end:{line:15,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:21},end:{line:22,column:3}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:23,column:18},end:{line:23,column:19}},loc:{start:{line:23,column:28},end:{line:27,column:3}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:28,column:16},end:{line:28,column:17}},loc:{start:{line:28,column:22},end:{line:32,column:3}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:110,column:3}},line:33},6:{name:"getValue",decl:{start:{line:64,column:13},end:{line:64,column:21}},loc:{start:{line:64,column:28},end:{line:66,column:5}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:55},end:{line:72,column:7}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:72,column:17},end:{line:72,column:18}},loc:{start:{line:72,column:36},end:{line:74,column:7}},line:72}},branchMap:{0:{loc:{start:{line:36,column:25},end:{line:36,column:52}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:45}},{start:{line:36,column:48},end:{line:36,column:52}}],line:36},1:{loc:{start:{line:38,column:6},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:38,column:6},end:{line:38,column:23}},{start:{line:38,column:43},end:{line:48,column:7}}],line:38},2:{loc:{start:{line:60,column:21},end:{line:60,column:83}},type:"cond-expr",locations:[{start:{line:60,column:44},end:{line:60,column:53}},{start:{line:60,column:56},end:{line:60,column:83}}],line:60},3:{loc:{start:{line:67,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:78,column:5}},{start:{line:69,column:11},end:{line:78,column:5}}],line:67},4:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA4DM,mBASM,KATN;AA5DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAE5B,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,qBAAqB,2BAA2B,MAAM,UAA4D;AAAA,EAChH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAa,OAA+B;AAC1C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC5D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC9C,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd55fed1055c7fad3a4ea9d85b61b5e588250184"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Qi=function(){return a},a}Qi();class NI extends Mn.Component{constructor(n){Qi().f[2]++,Qi().s[1]++;super(n);on(this,"onJSONInvalid",(Qi().s[3]++,n=>{Qi().f[3]++,Qi().s[4]++,this.setState({jsonError:!0})}));on(this,"onJSONValid",(Qi().s[5]++,()=>{Qi().f[4]++,Qi().s[6]++,this.setState({jsonError:!1})}));Qi().s[2]++,this.state={jsonError:!1}}render(){Qi().f[5]++;const{errors:n,fieldName:r,fieldType:i,value:o,canUndo:a}=(Qi().s[7]++,this.props),{jsonError:s}=(Qi().s[8]++,this.state),h=(Qi().s[9]++,a?(Qi().b[0][0]++,!a()):(Qi().b[0][1]++,!0)),m=(Qi().s[10]++,W.jsxs(W.Fragment,{children:[(Qi().b[1][0]++,this.props.onUndo&&(Qi().b[1][1]++,W.jsx(Ta,{onClick:this.props.onUndo,disabled:h,className:"maputnik-delete-stop",title:"Revert from expression",children:W.jsx(Qte,{})},"undo_action"))),W.jsx(Ta,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:"Delete expression",children:W.jsx(Iv,{})},"delete_action")]})),C=(Qi().s[11]++,i===void 0?(Qi().b[2][0]++,r):(Qi().b[2][1]++,`${i}.${r}`)),E=(Qi().s[12]++,n[C]),O=(Qi().s[13]++,`${C}[`),P=(Qi().s[14]++,[]);function D($){return Qi().f[6]++,Qi().s[15]++,PW($,{indent:2,maxLength:38})}return Qi().s[16]++,s?(Qi().b[3][0]++,Qi().s[17]++,P.push({message:"Invalid JSON"})):(Qi().b[3][1]++,Qi().s[18]++,Object.entries(n).filter(([$,ee])=>(Qi().f[7]++,Qi().s[19]++,$.startsWith(O))).forEach(([$,ee])=>(Qi().f[8]++,Qi().s[20]++,P.push(ee))),Qi().s[21]++,E?(Qi().b[4][0]++,Qi().s[22]++,P.push(E)):Qi().b[4][1]++),Qi().s[23]++,W.jsx(la,{error:P,fieldSpec:this.props.fieldSpec,label:zw(this.props.fieldName),action:m,wideMode:!0,children:W.jsx(FI,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:o,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:D,onChange:this.props.onChange})})}}on(NI,"defaultProps",(Qi().s[0]++,{errors:{},onFocus:()=>{Qi().f[0]++},onBlur:()=>{Qi().f[1]++}}));function hn(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FilterEditor.tsx",t="b92c85c4665a4642c3a8a37cf0eb366a0c43b6d9",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:16,column:17},end:{line:16,column:40}},1:{start:{line:17,column:2},end:{line:19,column:3}},2:{start:{line:18,column:4},end:{line:18,column:18}},3:{start:{line:20,column:20},end:{line:20,column:29}},4:{start:{line:21,column:16},end:{line:21,column:31}},5:{start:{line:22,column:2},end:{line:25,column:3}},6:{start:{line:23,column:4},end:{line:23,column:24}},7:{start:{line:24,column:4},end:{line:24,column:32}},8:{start:{line:26,column:2},end:{line:26,column:35}},9:{start:{line:29,column:2},end:{line:29,column:65}},10:{start:{line:32,column:2},end:{line:53,column:4}},11:{start:{line:55,column:19},end:{line:59,column:1}},12:{start:{line:61,column:2},end:{line:63,column:3}},13:{start:{line:62,column:4},end:{line:62,column:16}},14:{start:{line:64,column:21},end:{line:64,column:42}},15:{start:{line:65,column:2},end:{line:65,column:38}},16:{start:{line:68,column:2},end:{line:68,column:52}},17:{start:{line:71,column:2},end:{line:73,column:3}},18:{start:{line:72,column:4},end:{line:72,column:97}},19:{start:{line:72,column:38},end:{line:72,column:59}},20:{start:{line:72,column:75},end:{line:72,column:84}},21:{start:{line:74,column:2},end:{line:74,column:15}},22:{start:{line:77,column:24},end:{line:79,column:3}},23:{start:{line:81,column:4},end:{line:81,column:17}},24:{start:{line:82,column:4},end:{line:85,column:6}},25:{start:{line:89,column:22},end:{line:89,column:58}},26:{start:{line:90,column:4},end:{line:90,column:35}},27:{start:{line:91,column:4},end:{line:91,column:35}},28:{start:{line:94,column:22},end:{line:94,column:58}},29:{start:{line:95,column:4},end:{line:95,column:39}},30:{start:{line:96,column:4},end:{line:96,column:35}},31:{start:{line:98,column:18},end:{line:102,column:3}},32:{start:{line:99,column:26},end:{line:99,column:62}},33:{start:{line:100,column:4},end:{line:100,column:43}},34:{start:{line:101,column:4},end:{line:101,column:39}},35:{start:{line:103,column:16},end:{line:107,column:3}},36:{start:{line:104,column:4},end:{line:106,column:7}},37:{start:{line:108,column:15},end:{line:112,column:3}},38:{start:{line:109,column:4},end:{line:111,column:7}},39:{start:{line:113,column:19},end:{line:119,column:3}},40:{start:{line:114,column:19},end:{line:114,column:46}},41:{start:{line:115,column:4},end:{line:115,column:47}},42:{start:{line:116,column:4},end:{line:118,column:7}},43:{start:{line:121,column:32},end:{line:121,column:75}},44:{start:{line:122,column:4},end:{line:135,column:5}},45:{start:{line:123,column:6},end:{line:126,column:8}},46:{start:{line:127,column:11},end:{line:135,column:5}},47:{start:{line:128,column:6},end:{line:130,column:8}},48:{start:{line:132,column:6},end:{line:134,column:8}},49:{start:{line:138,column:23},end:{line:138,column:33}},50:{start:{line:139,column:36},end:{line:139,column:46}},51:{start:{line:140,column:22},end:{line:142,column:5}},52:{start:{line:143,column:26},end:{line:143,column:33}},53:{start:{line:144,column:36},end:{line:144,column:112}},54:{start:{line:145,column:4},end:{line:265,column:5}},55:{start:{line:146,column:6},end:{line:159,column:11}},56:{start:{line:160,column:11},end:{line:265,column:5}},57:{start:{line:161,column:21},end:{line:161,column:48}},58:{start:{line:162,column:26},end:{line:162,column:35}},59:{start:{line:163,column:22},end:{line:163,column:37}},60:{start:{line:164,column:38},end:{line:172,column:10}},61:{start:{line:173,column:27},end:{line:186,column:8}},62:{start:{line:174,column:22},end:{line:174,column:50}},63:{start:{line:175,column:8},end:{line:185,column:29}},64:{start:{line:187,column:6},end:{line:234,column:11}},65:{start:{line:198,column:33},end:{line:198,column:63}},66:{start:{line:236,column:25},end:{line:236,column:35}},67:{start:{line:237,column:6},end:{line:264,column:11}},68:{start:{line:242,column:14},end:{line:242,column:59}},69:{start:{line:243,column:14},end:{line:243,column:49}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:15,column:9},end:{line:15,column:24}},loc:{start:{line:15,column:32},end:{line:27,column:1}},line:15},1:{name:"migrateFilter",decl:{start:{line:28,column:9},end:{line:28,column:22}},loc:{start:{line:28,column:31},end:{line:30,column:1}},line:28},2:{name:"createStyleFromFilter",decl:{start:{line:31,column:9},end:{line:31,column:30}},loc:{start:{line:31,column:39},end:{line:54,column:1}},line:31},3:{name:"checkIfSimpleFilter",decl:{start:{line:60,column:9},end:{line:60,column:28}},loc:{start:{line:60,column:37},end:{line:66,column:1}},line:60},4:{name:"hasCombiningFilter",decl:{start:{line:67,column:9},end:{line:67,column:27}},loc:{start:{line:67,column:36},end:{line:69,column:1}},line:67},5:{name:"hasNestedCombiningFilter",decl:{start:{line:70,column:9},end:{line:70,column:33}},loc:{start:{line:70,column:42},end:{line:75,column:1}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:72,column:31},end:{line:72,column:32}},loc:{start:{line:72,column:38},end:{line:72,column:59}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:72,column:68},end:{line:72,column:69}},loc:{start:{line:72,column:75},end:{line:72,column:84}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:80,column:2},end:{line:80,column:3}},loc:{start:{line:80,column:21},end:{line:86,column:3}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:42},end:{line:92,column:3}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:30},end:{line:97,column:3}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:18},end:{line:98,column:19}},loc:{start:{line:98,column:24},end:{line:102,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:103,column:16},end:{line:103,column:17}},loc:{start:{line:103,column:25},end:{line:107,column:3}},line:103},13:{name:"(anonymous_13)",decl:{start:{line:108,column:15},end:{line:108,column:16}},loc:{start:{line:108,column:21},end:{line:112,column:3}},line:108},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:25},end:{line:119,column:3}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:55},end:{line:136,column:3}},line:120},16:{name:"(anonymous_16)",decl:{start:{line:137,column:2},end:{line:137,column:3}},loc:{start:{line:137,column:11},end:{line:266,column:3}},line:137},17:{name:"(anonymous_17)",decl:{start:{line:173,column:39},end:{line:173,column:40}},loc:{start:{line:173,column:51},end:{line:186,column:7}},line:173},18:{name:"(anonymous_18)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:63}},line:198},19:{name:"(anonymous_19)",decl:{start:{line:241,column:22},end:{line:241,column:23}},loc:{start:{line:241,column:28},end:{line:244,column:13}},line:241}},branchMap:{0:{loc:{start:{line:16,column:17},end:{line:16,column:40}},type:"binary-expr",locations:[{start:{line:16,column:17},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:40}}],line:16},1:{loc:{start:{line:17,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:19,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},2:{loc:{start:{line:22,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:25,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},4:{loc:{start:{line:61,column:6},end:{line:61,column:59}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:25}},{start:{line:61,column:29},end:{line:61,column:59}}],line:61},5:{loc:{start:{line:71,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:71,column:2},end:{line:73,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},6:{loc:{start:{line:122,column:4},end:{line:135,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:135,column:5}},{start:{line:127,column:11},end:{line:135,column:5}}],line:122},7:{loc:{start:{line:122,column:8},end:{line:122,column:73}},type:"binary-expr",locations:[{start:{line:122,column:8},end:{line:122,column:28}},{start:{line:122,column:32},end:{line:122,column:73}}],line:122},8:{loc:{start:{line:127,column:11},end:{line:135,column:5}},type:"if",locations:[{start:{line:127,column:11},end:{line:135,column:5}},{start:{line:131,column:11},end:{line:135,column:5}}],line:127},9:{loc:{start:{line:127,column:15},end:{line:127,column:80}},type:"binary-expr",locations:[{start:{line:127,column:15},end:{line:127,column:34}},{start:{line:127,column:38},end:{line:127,column:80}}],line:127},10:{loc:{start:{line:144,column:36},end:{line:144,column:112}},type:"binary-expr",locations:[{start:{line:144,column:36},end:{line:144,column:55}},{start:{line:144,column:59},end:{line:144,column:112}}],line:144},11:{loc:{start:{line:145,column:4},end:{line:265,column:5}},type:"if",locations:[{start:{line:145,column:4},end:{line:265,column:5}},{start:{line:160,column:11},end:{line:265,column:5}}],line:145},12:{loc:{start:{line:160,column:11},end:{line:265,column:5}},type:"if",locations:[{start:{line:160,column:11},end:{line:265,column:5}},{start:{line:235,column:11},end:{line:265,column:5}}],line:160},13:{loc:{start:{line:184,column:10},end:{line:184,column:119}},type:"binary-expr",locations:[{start:{line:184,column:10},end:{line:184,column:15}},{start:{line:184,column:35},end:{line:184,column:119}}],line:184},14:{loc:{start:{line:229,column:30},end:{line:229,column:62}},type:"cond-expr",locations:[{start:{line:229,column:51},end:{line:229,column:53}},{start:{line:229,column:56},end:{line:229,column:62}}],line:229},15:{loc:{start:{line:252,column:8},end:{line:263,column:12}},type:"binary-expr",locations:[{start:{line:252,column:8},end:{line:252,column:38}},{start:{line:252,column:58},end:{line:263,column:12}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AA+LQ,SAsDA,UAtDA,KAGA,YAHA;AA/LR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAG/B,SAAS,gBAAgB,OAA+E;AACtG,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAA0B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA0B,cAAiC;AACzF,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,aAAa,wBAAwB,MAAM;AACrE,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,aAAa,wBAAwB,OAAO;AAC1E,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OAAE,+CAEH;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAM;AAAA,YAEN;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cAAM;AAAA;AAAA;AAAA,QAER;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAM;AAAA,UACN,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO;AAAA,YACP,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS,CAAC,CAAC,OAAO,sBAAsB,GAAG,CAAC,QAAQ,mBAAmB,GAAG,CAAC,OAAO,oBAAoB,CAAC;AAAA;AAAA,YACzG;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA;AAAA;AAAA,YACR;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBAAwB;AAAA;AAAA,UACG;AAAA,UACxC;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cACX;AAAA;AAAA,UAED;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b92c85c4665a4642c3a8a37cf0eb366a0c43b6d9"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return hn=function(){return a},a}hn();function Im(e){hn().f[0]++;const t=(hn().s[0]++,hn().b[0][0]++,e.filter||(hn().b[0][1]++,["all"]));if(hn().s[1]++,Array.isArray(t))hn().b[1][1]++;else return hn().b[1][0]++,hn().s[2]++,t;let n=(hn().s[3]++,t[0]),r=(hn().s[4]++,t.slice(1));return hn().s[5]++,RI.indexOf(n)<0?(hn().b[2][0]++,hn().s[6]++,n="all",hn().s[7]++,r=[t.slice(0)]):hn().b[2][1]++,hn().s[8]++,[n,...r]}function $ge(e){return hn().f[1]++,hn().s[9]++,ate(Yge(e)).layers[0].filter}function Yge(e){return hn().f[2]++,hn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:e}]}}const qge=(hn().s[11]++,["all","any","none"]);function PP(e){if(hn().f[3]++,hn().s[12]++,hn().b[4][0]++,e.length===1&&(hn().b[4][1]++,qge.includes(e[0])))return hn().b[3][0]++,hn().s[13]++,!0;hn().b[3][1]++;const t=(hn().s[14]++,f_(e));return hn().s[15]++,!q5.isEqual(t,e)}function DP(e){return hn().f[4]++,hn().s[16]++,RI.indexOf(e[0])>=0}function Hge(e){return hn().f[5]++,hn().s[17]++,DP(e)?(hn().b[5][0]++,hn().s[18]++,e.slice(1).map(t=>(hn().f[6]++,hn().s[19]++,DP(t))).filter(t=>(hn().f[7]++,hn().s[20]++,t==!0)).length>0):(hn().b[5][1]++,hn().s[21]++,!1)}class VW extends Mn.Component{constructor(n){hn().f[8]++,hn().s[23]++;super(n);on(this,"addFilterItem",(hn().s[31]++,()=>{hn().f[11]++;const n=(hn().s[32]++,Im(this.props).slice(0));hn().s[33]++,n.push(["==","name",""]),hn().s[34]++,this.props.onChange(n)}));on(this,"onToggleDoc",(hn().s[35]++,n=>{hn().f[12]++,hn().s[36]++,this.setState({showDoc:n})}));on(this,"makeFilter",(hn().s[37]++,()=>{hn().f[13]++,hn().s[38]++,this.setState({displaySimpleFilter:!0})}));on(this,"makeExpression",(hn().s[39]++,()=>{hn().f[14]++;const n=(hn().s[40]++,Im(this.props));hn().s[41]++,this.props.onChange($ge(n)),hn().s[42]++,this.setState({displaySimpleFilter:!1})}));hn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:PP(Im(n))}}onFilterPartChanged(n,r){hn().f[9]++;const i=(hn().s[25]++,Im(this.props).slice(0));hn().s[26]++,i[n]=r,hn().s[27]++,this.props.onChange(i)}deleteFilterItem(n){hn().f[10]++;const r=(hn().s[28]++,Im(this.props).slice(0));hn().s[29]++,r.splice(n+1,1),hn().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(n,r){hn().f[15]++;const i=(hn().s[43]++,PP(Im(n)));return hn().s[44]++,hn().b[7][0]++,!i&&(hn().b[7][1]++,r.displaySimpleFilter===!0)?(hn().b[6][0]++,hn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(hn().b[6][1]++,hn().s[46]++,hn().b[9][0]++,i&&(hn().b[9][1]++,r.displaySimpleFilter===!1)?(hn().b[8][0]++,hn().s[47]++,{valueIsSimpleFilter:!0}):(hn().b[8][1]++,hn().s[48]++,{valueIsSimpleFilter:!1}))}render(){hn().f[16]++;const{errors:n}=(hn().s[49]++,this.props),{displaySimpleFilter:r}=(hn().s[50]++,this.state),i=(hn().s[51]++,{doc:Ia.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),o=(hn().s[52]++,["all"]),a=(hn().s[53]++,hn().b[10][0]++,r&&(hn().b[10][1]++,Hge(Im(this.props))));if(hn().s[54]++,a)return hn().b[11][0]++,hn().s[55]++,W.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[W.jsx("p",{children:"Nested filters are not supported."}),W.jsxs(Ta,{onClick:this.makeExpression,title:"Convert to expression",children:[W.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:_b})}),"Upgrade to expression"]})]});if(hn().b[11][1]++,hn().s[56]++,r){hn().b[12][0]++;const s=(hn().s[57]++,Im(this.props)),h=(hn().s[58]++,s[0]),m=(hn().s[59]++,s.slice(1)),C=(hn().s[60]++,W.jsx("div",{children:W.jsx(Ta,{onClick:this.makeExpression,title:"Convert to expression",className:"maputnik-make-zoom-function",children:W.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:_b})})})})),E=(hn().s[61]++,m.map((O,P)=>{hn().f[17]++;const D=(hn().s[62]++,n[`filter[${P+1}]`]);return hn().s[63]++,W.jsxs("div",{children:[W.jsx(vge,{onDelete:this.deleteFilterItem.bind(this,P),children:W.jsx(LW,{properties:this.props.properties,filter:O,onChange:this.onFilterPartChanged.bind(this,P+1)})},P),(hn().b[13][0]++,D&&(hn().b[13][1]++,W.jsx("div",{className:"maputnik-inline-error",children:D.message},"error")))]},`block-${P}`)}));return hn().s[64]++,W.jsxs(W.Fragment,{children:[W.jsx(la,{fieldSpec:i,label:"Filter",action:C,children:W.jsx(eg,{value:h,onChange:O=>(hn().f[18]++,hn().s[65]++,this.onFilterPartChanged(0,O)),options:[["all","every filter matches"],["none","no filter matches"],["any","any filter matches"]]})},"top"),E,W.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:W.jsxs(Ta,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[W.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:LI})})," Add filter"]})},"buttons"),W.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(hn().b[14][0]++,""):(hn().b[14][1]++,"none")},children:W.jsx(SI,{fieldSpec:i})},"doc")]})}else{hn().b[12][1]++;const{filter:s}=(hn().s[66]++,this.props);return hn().s[67]++,W.jsxs(W.Fragment,{children:[W.jsx(NI,{onDelete:()=>{hn().f[19]++,hn().s[68]++,this.setState({displaySimpleFilter:!0}),hn().s[69]++,this.props.onChange(o)},fieldName:"filter",fieldSpec:i,value:s,errors:n,onChange:this.props.onChange}),(hn().b[15][0]++,this.state.valueIsSimpleFilter&&(hn().b[15][1]++,W.jsxs("div",{className:"maputnik-expr-infobox",children:["You've entered a old style filter,"," ",W.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:"switch to filter editor"})]})))]})}}}on(VW,"defaultProps",(hn().s[22]++,{filter:["all"]}));var jw={},Zs={},qb={},Vge=typeof window=="object"&&window&&window.Object===Object&&window,ZW=Vge,Zge=ZW,Xge=typeof self=="object"&&self&&self.Object===Object&&self,Jge=Zge||Xge||Function("return this")(),Nh=Jge,eye=Nh,tye=eye.Symbol,Hb=tye,UP=Hb,XW=Object.prototype,nye=XW.hasOwnProperty,rye=XW.toString,zC=UP?UP.toStringTag:void 0;function iye(e){var t=nye.call(e,zC),n=e[zC];try{e[zC]=void 0;var r=!0}catch{}var i=rye.call(e);return r&&(t?e[zC]=n:delete e[zC]),i}var oye=iye,aye=Object.prototype,sye=aye.toString;function lye(e){return sye.call(e)}var uye=lye,FP=Hb,Aye=oye,cye=uye,dye="[object Null]",hye="[object Undefined]",LP=FP?FP.toStringTag:void 0;function fye(e){return e==null?e===void 0?hye:dye:LP&&LP in Object(e)?Aye(e):cye(e)}var tg=fye,pye=Array.isArray,cd=pye;function mye(e){return e!=null&&typeof e=="object"}var ep=mye,gye=tg,yye=cd,vye=ep,Cye="[object String]";function _ye(e){return typeof e=="string"||!yye(e)&&vye(e)&&gye(e)==Cye}var bye=_ye;function xye(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var h=a[e?s:++i];if(n(o[h],h,o)===!1)break}return t}}var wye=xye,Mye=wye,Sye=Mye(),JW=Sye;function Eye(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Oye=Eye,Bye=tg,Iye=ep,kye="[object Arguments]";function Tye(e){return Iye(e)&&Bye(e)==kye}var Kye=Tye,RP=Kye,Pye=ep,eQ=Object.prototype,Dye=eQ.hasOwnProperty,Uye=eQ.propertyIsEnumerable,Fye=RP(function(){return arguments}())?RP:function(e){return Pye(e)&&Dye.call(e,"callee")&&!Uye.call(e,"callee")},GI=Fye,t5={exports:{}};function Lye(){return!1}var Rye=Lye;t5.exports;(function(e,t){var n=Nh,r=Rye,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,h=s?s.isBuffer:void 0,m=h||r;e.exports=m})(t5,t5.exports);var Nw=t5.exports,zye=9007199254740991,jye=/^(?:0|[1-9]\d*)$/;function Nye(e,t){var n=typeof e;return t=t??zye,!!t&&(n=="number"||n!="symbol"&&jye.test(e))&&e>-1&&e%1==0&&e<t}var WI=Nye,Gye=9007199254740991;function Wye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gye}var QI=Wye,Qye=tg,$ye=QI,Yye=ep,qye="[object Arguments]",Hye="[object Array]",Vye="[object Boolean]",Zye="[object Date]",Xye="[object Error]",Jye="[object Function]",eve="[object Map]",tve="[object Number]",nve="[object Object]",rve="[object RegExp]",ive="[object Set]",ove="[object String]",ave="[object WeakMap]",sve="[object ArrayBuffer]",lve="[object DataView]",uve="[object Float32Array]",Ave="[object Float64Array]",cve="[object Int8Array]",dve="[object Int16Array]",hve="[object Int32Array]",fve="[object Uint8Array]",pve="[object Uint8ClampedArray]",mve="[object Uint16Array]",gve="[object Uint32Array]",_s={};_s[uve]=_s[Ave]=_s[cve]=_s[dve]=_s[hve]=_s[fve]=_s[pve]=_s[mve]=_s[gve]=!0;_s[qye]=_s[Hye]=_s[sve]=_s[Vye]=_s[lve]=_s[Zye]=_s[Xye]=_s[Jye]=_s[eve]=_s[tve]=_s[nve]=_s[rve]=_s[ive]=_s[ove]=_s[ave]=!1;function yve(e){return Yye(e)&&$ye(e.length)&&!!_s[Qye(e)]}var vve=yve;function Cve(e){return function(t){return e(t)}}var $I=Cve,n5={exports:{}};n5.exports;(function(e,t){var n=ZW,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var h=i&&i.require&&i.require("util").types;return h||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(n5,n5.exports);var YI=n5.exports,_ve=vve,bve=$I,zP=YI,jP=zP&&zP.isTypedArray,xve=jP?bve(jP):_ve,qI=xve,wve=Oye,Mve=GI,Sve=cd,Eve=Nw,Ove=WI,Bve=qI,Ive=Object.prototype,kve=Ive.hasOwnProperty;function Tve(e,t){var n=Sve(e),r=!n&&Mve(e),i=!n&&!r&&Eve(e),o=!n&&!r&&!i&&Bve(e),a=n||r||i||o,s=a?wve(e.length,String):[],h=s.length;for(var m in e)(t||kve.call(e,m))&&!(a&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Ove(m,h)))&&s.push(m);return s}var tQ=Tve,Kve=Object.prototype;function Pve(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Kve;return e===n}var HI=Pve;function Dve(e,t){return function(n){return e(t(n))}}var nQ=Dve,Uve=nQ,Fve=Uve(Object.keys,Object),Lve=Fve,Rve=HI,zve=Lve,jve=Object.prototype,Nve=jve.hasOwnProperty;function Gve(e){if(!Rve(e))return zve(e);var t=[];for(var n in Object(e))Nve.call(e,n)&&n!="constructor"&&t.push(n);return t}var Wve=Gve;function Qve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zd=Qve,$ve=tg,Yve=Zd,qve="[object AsyncFunction]",Hve="[object Function]",Vve="[object GeneratorFunction]",Zve="[object Proxy]";function Xve(e){if(!Yve(e))return!1;var t=$ve(e);return t==Hve||t==Vve||t==qve||t==Zve}var VI=Xve,Jve=VI,eCe=QI;function tCe(e){return e!=null&&eCe(e.length)&&!Jve(e)}var Fv=tCe,nCe=tQ,rCe=Wve,iCe=Fv;function oCe(e){return iCe(e)?nCe(e):rCe(e)}var Vb=oCe,aCe=JW,sCe=Vb;function lCe(e,t){return e&&aCe(e,t,sCe)}var rQ=lCe;function uCe(e){return e}var Gw=uCe,ACe=Gw;function cCe(e){return typeof e=="function"?e:ACe}var iQ=cCe,dCe=rQ,hCe=iQ;function fCe(e,t){return e&&dCe(e,hCe(t))}var ZI=fCe,pCe=nQ,mCe=pCe(Object.getPrototypeOf,Object),XI=mCe,gCe=tg,yCe=XI,vCe=ep,CCe="[object Object]",_Ce=Function.prototype,bCe=Object.prototype,oQ=_Ce.toString,xCe=bCe.hasOwnProperty,wCe=oQ.call(Object);function MCe(e){if(!vCe(e)||gCe(e)!=CCe)return!1;var t=yCe(e);if(t===null)return!0;var n=xCe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&oQ.call(n)==wCe}var aQ=MCe;function SCe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var sQ=SCe;function ECe(){this.__data__=[],this.size=0}var OCe=ECe;function BCe(e,t){return e===t||e!==e&&t!==t}var Zb=BCe,ICe=Zb;function kCe(e,t){for(var n=e.length;n--;)if(ICe(e[n][0],t))return n;return-1}var Ww=kCe,TCe=Ww,KCe=Array.prototype,PCe=KCe.splice;function DCe(e){var t=this.__data__,n=TCe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():PCe.call(t,n,1),--this.size,!0}var UCe=DCe,FCe=Ww;function LCe(e){var t=this.__data__,n=FCe(t,e);return n<0?void 0:t[n][1]}var RCe=LCe,zCe=Ww;function jCe(e){return zCe(this.__data__,e)>-1}var NCe=jCe,GCe=Ww;function WCe(e,t){var n=this.__data__,r=GCe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var QCe=WCe,$Ce=OCe,YCe=UCe,qCe=RCe,HCe=NCe,VCe=QCe;function Lv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lv.prototype.clear=$Ce;Lv.prototype.delete=YCe;Lv.prototype.get=qCe;Lv.prototype.has=HCe;Lv.prototype.set=VCe;var Qw=Lv,ZCe=Qw;function XCe(){this.__data__=new ZCe,this.size=0}var JCe=XCe;function e_e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var t_e=e_e;function n_e(e){return this.__data__.get(e)}var r_e=n_e;function i_e(e){return this.__data__.has(e)}var o_e=i_e,a_e=Nh,s_e=a_e["__core-js_shared__"],l_e=s_e,f6=l_e,NP=function(){var e=/[^.]+$/.exec(f6&&f6.keys&&f6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function u_e(e){return!!NP&&NP in e}var A_e=u_e,c_e=Function.prototype,d_e=c_e.toString;function h_e(e){if(e!=null){try{return d_e.call(e)}catch{}try{return e+""}catch{}}return""}var lQ=h_e,f_e=VI,p_e=A_e,m_e=Zd,g_e=lQ,y_e=/[\\^$.*+?()[\]{}|]/g,v_e=/^\[object .+?Constructor\]$/,C_e=Function.prototype,__e=Object.prototype,b_e=C_e.toString,x_e=__e.hasOwnProperty,w_e=RegExp("^"+b_e.call(x_e).replace(y_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M_e(e){if(!m_e(e)||p_e(e))return!1;var t=f_e(e)?w_e:v_e;return t.test(g_e(e))}var S_e=M_e;function E_e(e,t){return e==null?void 0:e[t]}var O_e=E_e,B_e=S_e,I_e=O_e;function k_e(e,t){var n=I_e(e,t);return B_e(n)?n:void 0}var ng=k_e,T_e=ng,K_e=Nh,P_e=T_e(K_e,"Map"),JI=P_e,D_e=ng,U_e=D_e(Object,"create"),$w=U_e,GP=$w;function F_e(){this.__data__=GP?GP(null):{},this.size=0}var L_e=F_e;function R_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var z_e=R_e,j_e=$w,N_e="__lodash_hash_undefined__",G_e=Object.prototype,W_e=G_e.hasOwnProperty;function Q_e(e){var t=this.__data__;if(j_e){var n=t[e];return n===N_e?void 0:n}return W_e.call(t,e)?t[e]:void 0}var $_e=Q_e,Y_e=$w,q_e=Object.prototype,H_e=q_e.hasOwnProperty;function V_e(e){var t=this.__data__;return Y_e?t[e]!==void 0:H_e.call(t,e)}var Z_e=V_e,X_e=$w,J_e="__lodash_hash_undefined__";function ebe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=X_e&&t===void 0?J_e:t,this}var tbe=ebe,nbe=L_e,rbe=z_e,ibe=$_e,obe=Z_e,abe=tbe;function Rv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rv.prototype.clear=nbe;Rv.prototype.delete=rbe;Rv.prototype.get=ibe;Rv.prototype.has=obe;Rv.prototype.set=abe;var sbe=Rv,WP=sbe,lbe=Qw,ube=JI;function Abe(){this.size=0,this.__data__={hash:new WP,map:new(ube||lbe),string:new WP}}var cbe=Abe;function dbe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var hbe=dbe,fbe=hbe;function pbe(e,t){var n=e.__data__;return fbe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Yw=pbe,mbe=Yw;function gbe(e){var t=mbe(this,e).delete(e);return this.size-=t?1:0,t}var ybe=gbe,vbe=Yw;function Cbe(e){return vbe(this,e).get(e)}var _be=Cbe,bbe=Yw;function xbe(e){return bbe(this,e).has(e)}var wbe=xbe,Mbe=Yw;function Sbe(e,t){var n=Mbe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Ebe=Sbe,Obe=cbe,Bbe=ybe,Ibe=_be,kbe=wbe,Tbe=Ebe;function zv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zv.prototype.clear=Obe;zv.prototype.delete=Bbe;zv.prototype.get=Ibe;zv.prototype.has=kbe;zv.prototype.set=Tbe;var e9=zv,Kbe=Qw,Pbe=JI,Dbe=e9,Ube=200;function Fbe(e,t){var n=this.__data__;if(n instanceof Kbe){var r=n.__data__;if(!Pbe||r.length<Ube-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dbe(r)}return n.set(e,t),this.size=n.size,this}var Lbe=Fbe,Rbe=Qw,zbe=JCe,jbe=t_e,Nbe=r_e,Gbe=o_e,Wbe=Lbe;function jv(e){var t=this.__data__=new Rbe(e);this.size=t.size}jv.prototype.clear=zbe;jv.prototype.delete=jbe;jv.prototype.get=Nbe;jv.prototype.has=Gbe;jv.prototype.set=Wbe;var qw=jv,Qbe="__lodash_hash_undefined__";function $be(e){return this.__data__.set(e,Qbe),this}var Ybe=$be;function qbe(e){return this.__data__.has(e)}var Hbe=qbe,Vbe=e9,Zbe=Ybe,Xbe=Hbe;function r5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Vbe;++t<n;)this.add(e[t])}r5.prototype.add=r5.prototype.push=Zbe;r5.prototype.has=Xbe;var Jbe=r5;function e2e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var t2e=e2e;function n2e(e,t){return e.has(t)}var r2e=n2e,i2e=Jbe,o2e=t2e,a2e=r2e,s2e=1,l2e=2;function u2e(e,t,n,r,i,o){var a=n&s2e,s=e.length,h=t.length;if(s!=h&&!(a&&h>s))return!1;var m=o.get(e),C=o.get(t);if(m&&C)return m==t&&C==e;var E=-1,O=!0,P=n&l2e?new i2e:void 0;for(o.set(e,t),o.set(t,e);++E<s;){var D=e[E],$=t[E];if(r)var ee=a?r($,D,E,t,e,o):r(D,$,E,e,t,o);if(ee!==void 0){if(ee)continue;O=!1;break}if(P){if(!o2e(t,function(H,G){if(!a2e(P,G)&&(D===H||i(D,H,n,r,o)))return P.push(G)})){O=!1;break}}else if(!(D===$||i(D,$,n,r,o))){O=!1;break}}return o.delete(e),o.delete(t),O}var uQ=u2e,A2e=Nh,c2e=A2e.Uint8Array,AQ=c2e;function d2e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var h2e=d2e;function f2e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var p2e=f2e,QP=Hb,$P=AQ,m2e=Zb,g2e=uQ,y2e=h2e,v2e=p2e,C2e=1,_2e=2,b2e="[object Boolean]",x2e="[object Date]",w2e="[object Error]",M2e="[object Map]",S2e="[object Number]",E2e="[object RegExp]",O2e="[object Set]",B2e="[object String]",I2e="[object Symbol]",k2e="[object ArrayBuffer]",T2e="[object DataView]",YP=QP?QP.prototype:void 0,p6=YP?YP.valueOf:void 0;function K2e(e,t,n,r,i,o,a){switch(n){case T2e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k2e:return!(e.byteLength!=t.byteLength||!o(new $P(e),new $P(t)));case b2e:case x2e:case S2e:return m2e(+e,+t);case w2e:return e.name==t.name&&e.message==t.message;case E2e:case B2e:return e==t+"";case M2e:var s=y2e;case O2e:var h=r&C2e;if(s||(s=v2e),e.size!=t.size&&!h)return!1;var m=a.get(e);if(m)return m==t;r|=_2e,a.set(e,t);var C=g2e(s(e),s(t),r,i,o,a);return a.delete(e),C;case I2e:if(p6)return p6.call(e)==p6.call(t)}return!1}var P2e=K2e;function D2e(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var cQ=D2e,U2e=cQ,F2e=cd;function L2e(e,t,n){var r=t(e);return F2e(e)?r:U2e(r,n(e))}var dQ=L2e;function R2e(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var z2e=R2e;function j2e(){return[]}var hQ=j2e,N2e=z2e,G2e=hQ,W2e=Object.prototype,Q2e=W2e.propertyIsEnumerable,qP=Object.getOwnPropertySymbols,$2e=qP?function(e){return e==null?[]:(e=Object(e),N2e(qP(e),function(t){return Q2e.call(e,t)}))}:G2e,t9=$2e,Y2e=dQ,q2e=t9,H2e=Vb;function V2e(e){return Y2e(e,H2e,q2e)}var fQ=V2e,HP=fQ,Z2e=1,X2e=Object.prototype,J2e=X2e.hasOwnProperty;function exe(e,t,n,r,i,o){var a=n&Z2e,s=HP(e),h=s.length,m=HP(t),C=m.length;if(h!=C&&!a)return!1;for(var E=h;E--;){var O=s[E];if(!(a?O in t:J2e.call(t,O)))return!1}var P=o.get(e),D=o.get(t);if(P&&D)return P==t&&D==e;var $=!0;o.set(e,t),o.set(t,e);for(var ee=a;++E<h;){O=s[E];var H=e[O],G=t[O];if(r)var Z=a?r(G,H,O,t,e,o):r(H,G,O,e,t,o);if(!(Z===void 0?H===G||i(H,G,n,r,o):Z)){$=!1;break}ee||(ee=O=="constructor")}if($&&!ee){var ue=e.constructor,ye=t.constructor;ue!=ye&&"constructor"in e&&"constructor"in t&&!(typeof ue=="function"&&ue instanceof ue&&typeof ye=="function"&&ye instanceof ye)&&($=!1)}return o.delete(e),o.delete(t),$}var txe=exe,nxe=ng,rxe=Nh,ixe=nxe(rxe,"DataView"),oxe=ixe,axe=ng,sxe=Nh,lxe=axe(sxe,"Promise"),uxe=lxe,Axe=ng,cxe=Nh,dxe=Axe(cxe,"Set"),hxe=dxe,fxe=ng,pxe=Nh,mxe=fxe(pxe,"WeakMap"),gxe=mxe,gB=oxe,yB=JI,vB=uxe,CB=hxe,_B=gxe,pQ=tg,Nv=lQ,VP="[object Map]",yxe="[object Object]",ZP="[object Promise]",XP="[object Set]",JP="[object WeakMap]",eD="[object DataView]",vxe=Nv(gB),Cxe=Nv(yB),_xe=Nv(vB),bxe=Nv(CB),xxe=Nv(_B),a1=pQ;(gB&&a1(new gB(new ArrayBuffer(1)))!=eD||yB&&a1(new yB)!=VP||vB&&a1(vB.resolve())!=ZP||CB&&a1(new CB)!=XP||_B&&a1(new _B)!=JP)&&(a1=function(e){var t=pQ(e),n=t==yxe?e.constructor:void 0,r=n?Nv(n):"";if(r)switch(r){case vxe:return eD;case Cxe:return VP;case _xe:return ZP;case bxe:return XP;case xxe:return JP}return t});var Hw=a1,m6=qw,wxe=uQ,Mxe=P2e,Sxe=txe,tD=Hw,nD=cd,rD=Nw,Exe=qI,Oxe=1,iD="[object Arguments]",oD="[object Array]",Qx="[object Object]",Bxe=Object.prototype,aD=Bxe.hasOwnProperty;function Ixe(e,t,n,r,i,o){var a=nD(e),s=nD(t),h=a?oD:tD(e),m=s?oD:tD(t);h=h==iD?Qx:h,m=m==iD?Qx:m;var C=h==Qx,E=m==Qx,O=h==m;if(O&&rD(e)){if(!rD(t))return!1;a=!0,C=!1}if(O&&!C)return o||(o=new m6),a||Exe(e)?wxe(e,t,n,r,i,o):Mxe(e,t,h,n,r,i,o);if(!(n&Oxe)){var P=C&&aD.call(e,"__wrapped__"),D=E&&aD.call(t,"__wrapped__");if(P||D){var $=P?e.value():e,ee=D?t.value():t;return o||(o=new m6),i($,ee,n,r,o)}}return O?(o||(o=new m6),Sxe(e,t,n,r,i,o)):!1}var kxe=Ixe,Txe=kxe,sD=ep;function mQ(e,t,n,r,i){return e===t?!0:e==null||t==null||!sD(e)&&!sD(t)?e!==e&&t!==t:Txe(e,t,n,r,mQ,i)}var gQ=mQ,Kxe=qw,Pxe=gQ,Dxe=1,Uxe=2;function Fxe(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var h=s[0],m=e[h],C=s[1];if(a&&s[2]){if(m===void 0&&!(h in e))return!1}else{var E=new Kxe;if(r)var O=r(m,C,h,e,t,E);if(!(O===void 0?Pxe(C,m,Dxe|Uxe,r,E):O))return!1}}return!0}var Lxe=Fxe,Rxe=Zd;function zxe(e){return e===e&&!Rxe(e)}var yQ=zxe,jxe=yQ,Nxe=Vb;function Gxe(e){for(var t=Nxe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,jxe(i)]}return t}var Wxe=Gxe;function Qxe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var vQ=Qxe,$xe=Lxe,Yxe=Wxe,qxe=vQ;function Hxe(e){var t=Yxe(e);return t.length==1&&t[0][2]?qxe(t[0][0],t[0][1]):function(n){return n===e||$xe(n,e,t)}}var Vxe=Hxe,Zxe=tg,Xxe=ep,Jxe="[object Symbol]";function e3e(e){return typeof e=="symbol"||Xxe(e)&&Zxe(e)==Jxe}var Vw=e3e,t3e=cd,n3e=Vw,r3e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i3e=/^\w*$/;function o3e(e,t){if(t3e(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||n3e(e)?!0:i3e.test(e)||!r3e.test(e)||t!=null&&e in Object(t)}var n9=o3e,CQ=e9,a3e="Expected a function";function r9(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(a3e);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r9.Cache||CQ),n}r9.Cache=CQ;var s3e=r9,l3e=s3e,u3e=500;function A3e(e){var t=l3e(e,function(r){return n.size===u3e&&n.clear(),r}),n=t.cache;return t}var c3e=A3e,d3e=c3e,h3e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f3e=/\\(\\)?/g,p3e=d3e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(h3e,function(n,r,i,o){t.push(i?o.replace(f3e,"$1"):r||n)}),t}),m3e=p3e,lD=Hb,g3e=sQ,y3e=cd,v3e=Vw,C3e=1/0,uD=lD?lD.prototype:void 0,AD=uD?uD.toString:void 0;function _Q(e){if(typeof e=="string")return e;if(y3e(e))return g3e(e,_Q)+"";if(v3e(e))return AD?AD.call(e):"";var t=e+"";return t=="0"&&1/e==-C3e?"-0":t}var _3e=_Q,b3e=_3e;function x3e(e){return e==null?"":b3e(e)}var w3e=x3e,M3e=cd,S3e=n9,E3e=m3e,O3e=w3e;function B3e(e,t){return M3e(e)?e:S3e(e,t)?[e]:E3e(O3e(e))}var bQ=B3e,I3e=Vw,k3e=1/0;function T3e(e){if(typeof e=="string"||I3e(e))return e;var t=e+"";return t=="0"&&1/e==-k3e?"-0":t}var Zw=T3e,K3e=bQ,P3e=Zw;function D3e(e,t){t=K3e(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[P3e(t[n++])];return n&&n==r?e:void 0}var xQ=D3e,U3e=xQ;function F3e(e,t,n){var r=e==null?void 0:U3e(e,t);return r===void 0?n:r}var L3e=F3e;function R3e(e,t){return e!=null&&t in Object(e)}var z3e=R3e,j3e=bQ,N3e=GI,G3e=cd,W3e=WI,Q3e=QI,$3e=Zw;function Y3e(e,t,n){t=j3e(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=$3e(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Q3e(i)&&W3e(a,i)&&(G3e(e)||N3e(e)))}var q3e=Y3e,H3e=z3e,V3e=q3e;function Z3e(e,t){return e!=null&&V3e(e,t,H3e)}var X3e=Z3e,J3e=gQ,e4e=L3e,t4e=X3e,n4e=n9,r4e=yQ,i4e=vQ,o4e=Zw,a4e=1,s4e=2;function l4e(e,t){return n4e(e)&&r4e(t)?i4e(o4e(e),t):function(n){var r=e4e(n,e);return r===void 0&&r===t?t4e(n,e):J3e(t,r,a4e|s4e)}}var u4e=l4e;function A4e(e){return function(t){return t==null?void 0:t[e]}}var c4e=A4e,d4e=xQ;function h4e(e){return function(t){return d4e(t,e)}}var f4e=h4e,p4e=c4e,m4e=f4e,g4e=n9,y4e=Zw;function v4e(e){return g4e(e)?p4e(y4e(e)):m4e(e)}var C4e=v4e,_4e=Vxe,b4e=u4e,x4e=Gw,w4e=cd,M4e=C4e;function S4e(e){return typeof e=="function"?e:e==null?x4e:typeof e=="object"?w4e(e)?b4e(e[0],e[1]):_4e(e):M4e(e)}var E4e=S4e,O4e=Fv;function B4e(e,t){return function(n,r){if(n==null)return n;if(!O4e(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var I4e=B4e,k4e=rQ,T4e=I4e,K4e=T4e(k4e),wQ=K4e,P4e=wQ,D4e=Fv;function U4e(e,t){var n=-1,r=D4e(e)?Array(e.length):[];return P4e(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var F4e=U4e,L4e=sQ,R4e=E4e,z4e=F4e,j4e=cd;function N4e(e,t){var n=j4e(e)?L4e:z4e;return n(e,R4e(t))}var G4e=N4e;Object.defineProperty(qb,"__esModule",{value:!0});qb.flattenNames=void 0;var W4e=bye,Q4e=Xw(W4e),$4e=ZI,Y4e=Xw($4e),q4e=aQ,H4e=Xw(q4e),V4e=G4e,Z4e=Xw(V4e);function Xw(e){return e&&e.__esModule?e:{default:e}}var X4e=qb.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Z4e.default)(t,function(r){Array.isArray(r)?e(r).map(function(i){return n.push(i)}):(0,H4e.default)(r)?(0,Y4e.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,Q4e.default)(r)&&n.push(r)}),n};qb.default=X4e;var Xb={};function J4e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var MQ=J4e,e5e=ng,t5e=function(){try{var e=e5e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),SQ=t5e,cD=SQ;function n5e(e,t,n){t=="__proto__"&&cD?cD(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i9=n5e,r5e=i9,i5e=Zb,o5e=Object.prototype,a5e=o5e.hasOwnProperty;function s5e(e,t,n){var r=e[t];(!(a5e.call(e,t)&&i5e(r,n))||n===void 0&&!(t in e))&&r5e(e,t,n)}var EQ=s5e,l5e=EQ,u5e=i9;function A5e(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],h=r?r(n[s],e[s],s,n,e):void 0;h===void 0&&(h=e[s]),i?u5e(n,s,h):l5e(n,s,h)}return n}var Jb=A5e,c5e=Jb,d5e=Vb;function h5e(e,t){return e&&c5e(t,d5e(t),e)}var f5e=h5e;function p5e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var m5e=p5e,g5e=Zd,y5e=HI,v5e=m5e,C5e=Object.prototype,_5e=C5e.hasOwnProperty;function b5e(e){if(!g5e(e))return v5e(e);var t=y5e(e),n=[];for(var r in e)r=="constructor"&&(t||!_5e.call(e,r))||n.push(r);return n}var x5e=b5e,w5e=tQ,M5e=x5e,S5e=Fv;function E5e(e){return S5e(e)?w5e(e,!0):M5e(e)}var e2=E5e,O5e=Jb,B5e=e2;function I5e(e,t){return e&&O5e(t,B5e(t),e)}var k5e=I5e,i5={exports:{}};i5.exports;(function(e,t){var n=Nh,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function h(m,C){if(C)return m.slice();var E=m.length,O=s?s(E):new m.constructor(E);return m.copy(O),O}e.exports=h})(i5,i5.exports);var OQ=i5.exports;function T5e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var BQ=T5e,K5e=Jb,P5e=t9;function D5e(e,t){return K5e(e,P5e(e),t)}var U5e=D5e,F5e=cQ,L5e=XI,R5e=t9,z5e=hQ,j5e=Object.getOwnPropertySymbols,N5e=j5e?function(e){for(var t=[];e;)F5e(t,R5e(e)),e=L5e(e);return t}:z5e,IQ=N5e,G5e=Jb,W5e=IQ;function Q5e(e,t){return G5e(e,W5e(e),t)}var $5e=Q5e,Y5e=dQ,q5e=IQ,H5e=e2;function V5e(e){return Y5e(e,H5e,q5e)}var Z5e=V5e,X5e=Object.prototype,J5e=X5e.hasOwnProperty;function ewe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&J5e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var twe=ewe,dD=AQ;function nwe(e){var t=new e.constructor(e.byteLength);return new dD(t).set(new dD(e)),t}var o9=nwe,rwe=o9;function iwe(e,t){var n=t?rwe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var owe=iwe,awe=/\w*$/;function swe(e){var t=new e.constructor(e.source,awe.exec(e));return t.lastIndex=e.lastIndex,t}var lwe=swe,hD=Hb,fD=hD?hD.prototype:void 0,pD=fD?fD.valueOf:void 0;function uwe(e){return pD?Object(pD.call(e)):{}}var Awe=uwe,cwe=o9;function dwe(e,t){var n=t?cwe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var kQ=dwe,hwe=o9,fwe=owe,pwe=lwe,mwe=Awe,gwe=kQ,ywe="[object Boolean]",vwe="[object Date]",Cwe="[object Map]",_we="[object Number]",bwe="[object RegExp]",xwe="[object Set]",wwe="[object String]",Mwe="[object Symbol]",Swe="[object ArrayBuffer]",Ewe="[object DataView]",Owe="[object Float32Array]",Bwe="[object Float64Array]",Iwe="[object Int8Array]",kwe="[object Int16Array]",Twe="[object Int32Array]",Kwe="[object Uint8Array]",Pwe="[object Uint8ClampedArray]",Dwe="[object Uint16Array]",Uwe="[object Uint32Array]";function Fwe(e,t,n){var r=e.constructor;switch(t){case Swe:return hwe(e);case ywe:case vwe:return new r(+e);case Ewe:return fwe(e,n);case Owe:case Bwe:case Iwe:case kwe:case Twe:case Kwe:case Pwe:case Dwe:case Uwe:return gwe(e,n);case Cwe:return new r;case _we:case wwe:return new r(e);case bwe:return pwe(e);case xwe:return new r;case Mwe:return mwe(e)}}var Lwe=Fwe,Rwe=Zd,mD=Object.create,zwe=function(){function e(){}return function(t){if(!Rwe(t))return{};if(mD)return mD(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),jwe=zwe,Nwe=jwe,Gwe=XI,Wwe=HI;function Qwe(e){return typeof e.constructor=="function"&&!Wwe(e)?Nwe(Gwe(e)):{}}var TQ=Qwe,$we=Hw,Ywe=ep,qwe="[object Map]";function Hwe(e){return Ywe(e)&&$we(e)==qwe}var Vwe=Hwe,Zwe=Vwe,Xwe=$I,gD=YI,yD=gD&&gD.isMap,Jwe=yD?Xwe(yD):Zwe,eMe=Jwe,tMe=Hw,nMe=ep,rMe="[object Set]";function iMe(e){return nMe(e)&&tMe(e)==rMe}var oMe=iMe,aMe=oMe,sMe=$I,vD=YI,CD=vD&&vD.isSet,lMe=CD?sMe(CD):aMe,uMe=lMe,AMe=qw,cMe=MQ,dMe=EQ,hMe=f5e,fMe=k5e,pMe=OQ,mMe=BQ,gMe=U5e,yMe=$5e,vMe=fQ,CMe=Z5e,_Me=Hw,bMe=twe,xMe=Lwe,wMe=TQ,MMe=cd,SMe=Nw,EMe=eMe,OMe=Zd,BMe=uMe,IMe=Vb,kMe=e2,TMe=1,KMe=2,PMe=4,KQ="[object Arguments]",DMe="[object Array]",UMe="[object Boolean]",FMe="[object Date]",LMe="[object Error]",PQ="[object Function]",RMe="[object GeneratorFunction]",zMe="[object Map]",jMe="[object Number]",DQ="[object Object]",NMe="[object RegExp]",GMe="[object Set]",WMe="[object String]",QMe="[object Symbol]",$Me="[object WeakMap]",YMe="[object ArrayBuffer]",qMe="[object DataView]",HMe="[object Float32Array]",VMe="[object Float64Array]",ZMe="[object Int8Array]",XMe="[object Int16Array]",JMe="[object Int32Array]",eSe="[object Uint8Array]",tSe="[object Uint8ClampedArray]",nSe="[object Uint16Array]",rSe="[object Uint32Array]",is={};is[KQ]=is[DMe]=is[YMe]=is[qMe]=is[UMe]=is[FMe]=is[HMe]=is[VMe]=is[ZMe]=is[XMe]=is[JMe]=is[zMe]=is[jMe]=is[DQ]=is[NMe]=is[GMe]=is[WMe]=is[QMe]=is[eSe]=is[tSe]=is[nSe]=is[rSe]=!0;is[LMe]=is[PQ]=is[$Me]=!1;function b3(e,t,n,r,i,o){var a,s=t&TMe,h=t&KMe,m=t&PMe;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!OMe(e))return e;var C=MMe(e);if(C){if(a=bMe(e),!s)return mMe(e,a)}else{var E=_Me(e),O=E==PQ||E==RMe;if(SMe(e))return pMe(e,s);if(E==DQ||E==KQ||O&&!i){if(a=h||O?{}:wMe(e),!s)return h?yMe(e,fMe(a,e)):gMe(e,hMe(a,e))}else{if(!is[E])return i?e:{};a=xMe(e,E,s)}}o||(o=new AMe);var P=o.get(e);if(P)return P;o.set(e,a),BMe(e)?e.forEach(function(ee){a.add(b3(ee,t,n,ee,e,o))}):EMe(e)&&e.forEach(function(ee,H){a.set(H,b3(ee,t,n,H,e,o))});var D=m?h?CMe:vMe:h?kMe:IMe,$=C?void 0:D(e);return cMe($||e,function(ee,H){$&&(H=ee,ee=e[H]),dMe(a,H,b3(ee,t,n,H,e,o))}),a}var iSe=b3,oSe=iSe,aSe=1,sSe=4;function lSe(e){return oSe(e,aSe|sSe)}var uSe=lSe;Object.defineProperty(Xb,"__esModule",{value:!0});Xb.mergeClasses=void 0;var ASe=ZI,cSe=UQ(ASe),dSe=uSe,hSe=UQ(dSe),fSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function UQ(e){return e&&e.__esModule?e:{default:e}}var pSe=Xb.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,hSe.default)(t.default)||{};return n.map(function(i){var o=t[i];return o&&(0,cSe.default)(o,function(a,s){r[s]||(r[s]={}),r[s]=fSe({},r[s],o[s])}),i}),r};Xb.default=pSe;var t2={};Object.defineProperty(t2,"__esModule",{value:!0});t2.autoprefix=void 0;var mSe=ZI,_D=ySe(mSe),gSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ySe(e){return e&&e.__esModule?e:{default:e}}var vSe={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},CSe=t2.autoprefix=function(t){var n={};return(0,_D.default)(t,function(r,i){var o={};(0,_D.default)(r,function(a,s){var h=vSe[s];h?o=gSe({},o,h(a)):o[s]=a}),n[i]=o}),n};t2.default=CSe;var n2={};Object.defineProperty(n2,"__esModule",{value:!0});n2.hover=void 0;var _Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bSe=ar,g6=xSe(bSe);function xSe(e){return e&&e.__esModule?e:{default:e}}function wSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var SSe=n2.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){MSe(i,r);function i(){var o,a,s,h;wSe(this,i);for(var m=arguments.length,C=Array(m),E=0;E<m;E++)C[E]=arguments[E];return h=(a=(s=bD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return g6.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},g6.default.createElement(t,_Se({},s.props,s.state)))},a),bD(s,h)}return i}(g6.default.Component)};n2.default=SSe;var r2={};Object.defineProperty(r2,"__esModule",{value:!0});r2.active=void 0;var ESe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OSe=ar,y6=BSe(OSe);function BSe(e){return e&&e.__esModule?e:{default:e}}function ISe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var TSe=r2.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){kSe(i,r);function i(){var o,a,s,h;ISe(this,i);for(var m=arguments.length,C=Array(m),E=0;E<m;E++)C[E]=arguments[E];return h=(a=(s=xD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return y6.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},y6.default.createElement(t,ESe({},s.props,s.state)))},a),xD(s,h)}return i}(y6.default.Component)};r2.default=TSe;var a9={};Object.defineProperty(a9,"__esModule",{value:!0});var KSe=function(t,n){var r={},i=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[a]=s};return t===0&&i("first-child"),t===n-1&&i("last-child"),(t===0||t%2===0)&&i("even"),Math.abs(t%2)===1&&i("odd"),i("nth-child",t),r};a9.default=KSe;Object.defineProperty(Zs,"__esModule",{value:!0});Zs.ReactCSS=Zs.loop=Zs.handleActive=Zs.handleHover=Zs.hover=void 0;var PSe=qb,DSe=Gv(PSe),USe=Xb,FSe=Gv(USe),LSe=t2,RSe=Gv(LSe),zSe=n2,FQ=Gv(zSe),jSe=r2,NSe=Gv(jSe),GSe=a9,WSe=Gv(GSe);function Gv(e){return e&&e.__esModule?e:{default:e}}Zs.hover=FQ.default;Zs.handleHover=FQ.default;Zs.handleActive=NSe.default;Zs.loop=WSe.default;var QSe=Zs.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,DSe.default)(r),a=(0,FSe.default)(t,o);return(0,RSe.default)(a)};Zs.default=QSe;var $Se=i9,YSe=Zb;function qSe(e,t,n){(n!==void 0&&!YSe(e[t],n)||n===void 0&&!(t in e))&&$Se(e,t,n)}var LQ=qSe,HSe=Fv,VSe=ep;function ZSe(e){return VSe(e)&&HSe(e)}var XSe=ZSe;function JSe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var RQ=JSe,e6e=Jb,t6e=e2;function n6e(e){return e6e(e,t6e(e))}var r6e=n6e,wD=LQ,i6e=OQ,o6e=kQ,a6e=BQ,s6e=TQ,MD=GI,SD=cd,l6e=XSe,u6e=Nw,A6e=VI,c6e=Zd,d6e=aQ,h6e=qI,ED=RQ,f6e=r6e;function p6e(e,t,n,r,i,o,a){var s=ED(e,n),h=ED(t,n),m=a.get(h);if(m){wD(e,n,m);return}var C=o?o(s,h,n+"",e,t,a):void 0,E=C===void 0;if(E){var O=SD(h),P=!O&&u6e(h),D=!O&&!P&&h6e(h);C=h,O||P||D?SD(s)?C=s:l6e(s)?C=a6e(s):P?(E=!1,C=i6e(h,!0)):D?(E=!1,C=o6e(h,!0)):C=[]:d6e(h)||MD(h)?(C=s,MD(s)?C=f6e(s):(!c6e(s)||A6e(s))&&(C=s6e(h))):E=!1}E&&(a.set(h,C),i(C,h,r,o,a),a.delete(h)),wD(e,n,C)}var m6e=p6e,g6e=qw,y6e=LQ,v6e=JW,C6e=m6e,_6e=Zd,b6e=e2,x6e=RQ;function zQ(e,t,n,r,i){e!==t&&v6e(t,function(o,a){if(i||(i=new g6e),_6e(o))C6e(e,t,a,n,zQ,r,i);else{var s=r?r(x6e(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),y6e(e,a,s)}},b6e)}var w6e=zQ;function M6e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var S6e=M6e,E6e=S6e,OD=Math.max;function O6e(e,t,n){return t=OD(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=OD(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),E6e(e,this,s)}}var B6e=O6e;function I6e(e){return function(){return e}}var k6e=I6e,T6e=k6e,BD=SQ,K6e=Gw,P6e=BD?function(e,t){return BD(e,"toString",{configurable:!0,enumerable:!1,value:T6e(t),writable:!0})}:K6e,D6e=P6e,U6e=800,F6e=16,L6e=Date.now;function R6e(e){var t=0,n=0;return function(){var r=L6e(),i=F6e-(r-n);if(n=r,i>0){if(++t>=U6e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var z6e=R6e,j6e=D6e,N6e=z6e,G6e=N6e(j6e),W6e=G6e,Q6e=Gw,$6e=B6e,Y6e=W6e;function q6e(e,t){return Y6e($6e(e,t,Q6e),e+"")}var H6e=q6e,V6e=Zb,Z6e=Fv,X6e=WI,J6e=Zd;function eEe(e,t,n){if(!J6e(n))return!1;var r=typeof t;return(r=="number"?Z6e(n)&&X6e(t,n.length):r=="string"&&t in n)?V6e(n[t],e):!1}var tEe=eEe,nEe=H6e,rEe=tEe;function iEe(e){return nEe(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&rEe(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}var oEe=iEe,aEe=w6e,sEe=oEe,lEe=sEe(function(e,t,n){aEe(e,t,n)}),jQ=lEe,s9={},i2={},l9={};Object.defineProperty(l9,"__esModule",{value:!0});l9.calculateChange=function(t,n,r,i,o){var a=o.clientWidth,s=o.clientHeight,h=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,m=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,C=h-(o.getBoundingClientRect().left+window.pageXOffset),E=m-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var O=void 0;if(E<0?O=0:E>s?O=1:O=Math.round(E*100/s)/100,n.a!==O)return{h:n.h,s:n.s,l:n.l,a:O,source:"rgb"}}else{var P=void 0;if(C<0?P=0:C>a?P=1:P=Math.round(C*100/a)/100,i!==P)return{h:n.h,s:n.s,l:n.l,a:P,source:"rgb"}}return null};var rg={},Jw={};Object.defineProperty(Jw,"__esModule",{value:!0});var v6={},uEe=Jw.render=function(t,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var a=o.getContext("2d");return a?(a.fillStyle=t,a.fillRect(0,0,o.width,o.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),o.toDataURL()):null};Jw.get=function(t,n,r,i){var o=t+"-"+n+"-"+r+(i?"-server":"");if(v6[o])return v6[o];var a=uEe(t,n,r,i);return v6[o]=a,a};Object.defineProperty(rg,"__esModule",{value:!0});rg.Checkboard=void 0;var ID=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NQ=ar,kD=GQ(NQ),AEe=Zs,cEe=GQ(AEe),dEe=Jw,hEe=fEe(dEe);function fEe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function GQ(e){return e&&e.__esModule?e:{default:e}}var WQ=rg.Checkboard=function(t){var n=t.white,r=t.grey,i=t.size,o=t.renderers,a=t.borderRadius,s=t.boxShadow,h=t.children,m=(0,cEe.default)({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+hEe.get(n,r,i,o.canvas)+") center left"}}});return(0,NQ.isValidElement)(h)?kD.default.cloneElement(h,ID({},h.props,{style:ID({},h.props.style,m.grid)})):kD.default.createElement("div",{style:m.grid})};WQ.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};rg.default=WQ;Object.defineProperty(i2,"__esModule",{value:!0});i2.Alpha=void 0;var pEe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bB=ar,km=u9(bB),gEe=Zs,yEe=u9(gEe),vEe=l9,CEe=xEe(vEe),_Ee=rg,bEe=u9(_Ee);function xEe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u9(e){return e&&e.__esModule?e:{default:e}}function wEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var SEe=i2.Alpha=function(e){MEe(t,e);function t(){var n,r,i,o;wEe(this,t);for(var a=arguments.length,s=Array(a),h=0;h<a;h++)s[h]=arguments[h];return o=(r=(i=TD(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),i),i.handleChange=function(m){var C=CEe.calculateChange(m,i.props.hsl,i.props.direction,i.props.a,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),TD(i,o)}return mEe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,yEe.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:pEe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return km.default.createElement("div",{style:o.alpha},km.default.createElement("div",{style:o.checkboard},km.default.createElement(bEe.default,{renderers:this.props.renderers})),km.default.createElement("div",{style:o.gradient}),km.default.createElement("div",{style:o.container,ref:function(s){return r.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},km.default.createElement("div",{style:o.pointer},this.props.pointer?km.default.createElement(this.props.pointer,this.props):km.default.createElement("div",{style:o.slider}))))}}]),t}(bB.PureComponent||bB.Component);i2.default=SEe;var o2={};Object.defineProperty(o2,"__esModule",{value:!0});o2.EditableInput=void 0;var EEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xB=ar,C6=QQ(xB),OEe=Zs,BEe=QQ(OEe);function QQ(e){return e&&e.__esModule?e:{default:e}}function IEe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TEe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function KEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PEe=1,$Q=38,DEe=40,UEe=[$Q,DEe],FEe=function(t){return UEe.indexOf(t)>-1},LEe=function(t){return Number(String(t).replace(/%/g,""))},REe=1,zEe=o2.EditableInput=function(e){KEe(t,e);function t(n){kEe(this,t);var r=TEe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=LEe(i.target.value);if(!isNaN(o)&&FEe(i.keyCode)){var a=r.getArrowOffset(),s=i.keyCode===$Q?o+a:o-a;r.setUpdatedValue(s,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+REe++,r}return EEe(t,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return IEe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||PEe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,BEe.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return C6.default.createElement("div",{style:i.wrap},C6.default.createElement("input",{id:this.inputId,style:i.input,ref:function(a){return r.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?C6.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(xB.PureComponent||xB.Component);o2.default=zEe;var a2={},A9={};Object.defineProperty(A9,"__esModule",{value:!0});A9.calculateChange=function(t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,m=s-(i.getBoundingClientRect().left+window.pageXOffset),C=h-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var E=void 0;if(C<0)E=359;else if(C>a)E=0;else{var O=-(C*100/a)+100;E=360*O/100}if(r.h!==E)return{h:E,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var P=void 0;if(m<0)P=0;else if(m>o)P=359;else{var D=m*100/o;P=360*D/100}if(r.h!==P)return{h:P,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(a2,"__esModule",{value:!0});a2.Hue=void 0;var jEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wB=ar,$g=YQ(wB),NEe=Zs,GEe=YQ(NEe),WEe=A9,QEe=$Ee(WEe);function $Ee(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function YQ(e){return e&&e.__esModule?e:{default:e}}function YEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var HEe=a2.Hue=function(e){qEe(t,e);function t(){var n,r,i,o;YEe(this,t);for(var a=arguments.length,s=Array(a),h=0;h<a;h++)s[h]=arguments[h];return o=(r=(i=KD(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),i),i.handleChange=function(m){var C=QEe.calculateChange(m,i.props.direction,i.props.hsl,i.container);C&&typeof i.props.onChange=="function"&&i.props.onChange(C,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),KD(i,o)}return jEe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,a=(0,GEe.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return $g.default.createElement("div",{style:a.hue},$g.default.createElement("div",{className:"hue-"+o,style:a.container,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},$g.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),$g.default.createElement("div",{style:a.pointer},this.props.pointer?$g.default.createElement(this.props.pointer,this.props):$g.default.createElement("div",{style:a.slider}))))}}]),t}(wB.PureComponent||wB.Component);a2.default=HEe;var s2={};Object.defineProperty(s2,"__esModule",{value:!0});s2.Raised=void 0;var VEe=ar,_6=eM(VEe),ZEe=zh,$x=eM(ZEe),XEe=Zs,JEe=eM(XEe),eOe=jQ,tOe=eM(eOe);function eM(e){return e&&e.__esModule?e:{default:e}}var c9=s2.Raised=function(t){var n=t.zDepth,r=t.radius,i=t.background,o=t.children,a=t.styles,s=a===void 0?{}:a,h=(0,JEe.default)((0,tOe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return _6.default.createElement("div",{style:h.wrap},_6.default.createElement("div",{style:h.bg}),_6.default.createElement("div",{style:h.content},o))};c9.propTypes={background:$x.default.string,zDepth:$x.default.oneOf([0,1,2,3,4,5]),radius:$x.default.number,styles:$x.default.object};c9.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};s2.default=c9;var l2={},nOe=Nh,rOe=function(){return nOe.Date.now()},iOe=rOe,oOe=/\s/;function aOe(e){for(var t=e.length;t--&&oOe.test(e.charAt(t)););return t}var sOe=aOe,lOe=sOe,uOe=/^\s+/;function AOe(e){return e&&e.slice(0,lOe(e)+1).replace(uOe,"")}var cOe=AOe,dOe=cOe,PD=Zd,hOe=Vw,DD=NaN,fOe=/^[-+]0x[0-9a-f]+$/i,pOe=/^0b[01]+$/i,mOe=/^0o[0-7]+$/i,gOe=parseInt;function yOe(e){if(typeof e=="number")return e;if(hOe(e))return DD;if(PD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=PD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=dOe(e);var n=pOe.test(e);return n||mOe.test(e)?gOe(e.slice(2),n?2:8):fOe.test(e)?DD:+e}var vOe=yOe,COe=Zd,b6=iOe,UD=vOe,_Oe="Expected a function",bOe=Math.max,xOe=Math.min;function wOe(e,t,n){var r,i,o,a,s,h,m=0,C=!1,E=!1,O=!0;if(typeof e!="function")throw new TypeError(_Oe);t=UD(t)||0,COe(n)&&(C=!!n.leading,E="maxWait"in n,o=E?bOe(UD(n.maxWait)||0,t):o,O="trailing"in n?!!n.trailing:O);function P(be){var X=r,se=i;return r=i=void 0,m=be,a=e.apply(se,X),a}function D(be){return m=be,s=setTimeout(H,t),C?P(be):a}function $(be){var X=be-h,se=be-m,we=t-X;return E?xOe(we,o-se):we}function ee(be){var X=be-h,se=be-m;return h===void 0||X>=t||X<0||E&&se>=o}function H(){var be=b6();if(ee(be))return G(be);s=setTimeout(H,$(be))}function G(be){return s=void 0,O&&r?P(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),m=0,r=h=i=s=void 0}function ue(){return s===void 0?a:G(b6())}function ye(){var be=b6(),X=ee(be);if(r=arguments,i=this,h=be,X){if(s===void 0)return D(h);if(E)return clearTimeout(s),s=setTimeout(H,t),P(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}var qQ=wOe,MOe=qQ,SOe=Zd,EOe="Expected a function";function OOe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(EOe);return SOe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),MOe(e,t,{leading:r,maxWait:t,trailing:i})}var BOe=OOe,d9={};Object.defineProperty(d9,"__esModule",{value:!0});d9.calculateChange=function(t,n,r){var i=r.getBoundingClientRect(),o=i.width,a=i.height,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,m=s-(r.getBoundingClientRect().left+window.pageXOffset),C=h-(r.getBoundingClientRect().top+window.pageYOffset);m<0?m=0:m>o&&(m=o),C<0?C=0:C>a&&(C=a);var E=m/o,O=1-C/a;return{h:n.h,s:E,v:O,a:n.a,source:"hsv"}};Object.defineProperty(l2,"__esModule",{value:!0});l2.Saturation=void 0;var IOe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),MB=ar,J0=h9(MB),kOe=Zs,TOe=h9(kOe),KOe=BOe,POe=h9(KOe),DOe=d9,UOe=FOe(DOe);function FOe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h9(e){return e&&e.__esModule?e:{default:e}}function LOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ROe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jOe=l2.Saturation=function(e){zOe(t,e);function t(n){LOe(this,t);var r=ROe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,UOe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,POe.default)(function(i,o,a){i(o,a)},50),r}return IOe(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,a=i.white,s=i.black,h=i.pointer,m=i.circle,C=(0,TOe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:a,black:s,pointer:h,circle:m}},{custom:!!this.props.style});return J0.default.createElement("div",{style:C.color,ref:function(O){return r.container=O},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},J0.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),J0.default.createElement("div",{style:C.white,className:"saturation-white"},J0.default.createElement("div",{style:C.black,className:"saturation-black"}),J0.default.createElement("div",{style:C.pointer},this.props.pointer?J0.default.createElement(this.props.pointer,this.props):J0.default.createElement("div",{style:C.circle}))))}}]),t}(MB.PureComponent||MB.Component);l2.default=jOe;var u2={},jA={},NOe=MQ,GOe=wQ,WOe=iQ,QOe=cd;function $Oe(e,t){var n=QOe(e)?NOe:GOe;return n(e,WOe(t))}var YOe=$Oe,qOe=YOe,HQ={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Rh,function(){function n(ke){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},n(ke)}var r=/^\s+/,i=/\s+$/;function o(ke,pe){if(ke=ke||"",pe=pe||{},ke instanceof o)return ke;if(!(this instanceof o))return new o(ke,pe);var Se=a(ke);this._originalInput=ke,this._r=Se.r,this._g=Se.g,this._b=Se.b,this._a=Se.a,this._roundA=Math.round(100*this._a)/100,this._format=pe.format||Se.format,this._gradientType=pe.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Se.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var pe=this.toRgb();return(pe.r*299+pe.g*587+pe.b*114)/1e3},getLuminance:function(){var pe=this.toRgb(),Se,Re,it,ot,St,Rt;return Se=pe.r/255,Re=pe.g/255,it=pe.b/255,Se<=.03928?ot=Se/12.92:ot=Math.pow((Se+.055)/1.055,2.4),Re<=.03928?St=Re/12.92:St=Math.pow((Re+.055)/1.055,2.4),it<=.03928?Rt=it/12.92:Rt=Math.pow((it+.055)/1.055,2.4),.2126*ot+.7152*St+.0722*Rt},setAlpha:function(pe){return this._a=$e(pe),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var pe=C(this._r,this._g,this._b);return{h:pe.h*360,s:pe.s,v:pe.v,a:this._a}},toHsvString:function(){var pe=C(this._r,this._g,this._b),Se=Math.round(pe.h*360),Re=Math.round(pe.s*100),it=Math.round(pe.v*100);return this._a==1?"hsv("+Se+", "+Re+"%, "+it+"%)":"hsva("+Se+", "+Re+"%, "+it+"%, "+this._roundA+")"},toHsl:function(){var pe=h(this._r,this._g,this._b);return{h:pe.h*360,s:pe.s,l:pe.l,a:this._a}},toHslString:function(){var pe=h(this._r,this._g,this._b),Se=Math.round(pe.h*360),Re=Math.round(pe.s*100),it=Math.round(pe.l*100);return this._a==1?"hsl("+Se+", "+Re+"%, "+it+"%)":"hsla("+Se+", "+Re+"%, "+it+"%, "+this._roundA+")"},toHex:function(pe){return O(this._r,this._g,this._b,pe)},toHexString:function(pe){return"#"+this.toHex(pe)},toHex8:function(pe){return P(this._r,this._g,this._b,this._a,pe)},toHex8String:function(pe){return"#"+this.toHex8(pe)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ge(this._r,255)*100)+"%",g:Math.round(ge(this._g,255)*100)+"%",b:Math.round(ge(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%)":"rgba("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ue[O(this._r,this._g,this._b,!0)]||!1},toFilter:function(pe){var Se="#"+D(this._r,this._g,this._b,this._a),Re=Se,it=this._gradientType?"GradientType = 1, ":"";if(pe){var ot=o(pe);Re="#"+D(ot._r,ot._g,ot._b,ot._a)}return"progid:DXImageTransform.Microsoft.gradient("+it+"startColorstr="+Se+",endColorstr="+Re+")"},toString:function(pe){var Se=!!pe;pe=pe||this._format;var Re=!1,it=this._a<1&&this._a>=0,ot=!Se&&it&&(pe==="hex"||pe==="hex6"||pe==="hex3"||pe==="hex4"||pe==="hex8"||pe==="name");return ot?pe==="name"&&this._a===0?this.toName():this.toRgbString():(pe==="rgb"&&(Re=this.toRgbString()),pe==="prgb"&&(Re=this.toPercentageRgbString()),(pe==="hex"||pe==="hex6")&&(Re=this.toHexString()),pe==="hex3"&&(Re=this.toHexString(!0)),pe==="hex4"&&(Re=this.toHex8String(!0)),pe==="hex8"&&(Re=this.toHex8String()),pe==="name"&&(Re=this.toName()),pe==="hsl"&&(Re=this.toHslString()),pe==="hsv"&&(Re=this.toHsvString()),Re||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(pe,Se){var Re=pe.apply(null,[this].concat([].slice.call(Se)));return this._r=Re._r,this._g=Re._g,this._b=Re._b,this.setAlpha(Re._a),this},lighten:function(){return this._applyModification(G,arguments)},brighten:function(){return this._applyModification(Z,arguments)},darken:function(){return this._applyModification(ue,arguments)},desaturate:function(){return this._applyModification($,arguments)},saturate:function(){return this._applyModification(ee,arguments)},greyscale:function(){return this._applyModification(H,arguments)},spin:function(){return this._applyModification(ye,arguments)},_applyCombination:function(pe,Se){return pe.apply(null,[this].concat([].slice.call(Se)))},analogous:function(){return this._applyCombination(we,arguments)},complement:function(){return this._applyCombination(be,arguments)},monochromatic:function(){return this._applyCombination(xe,arguments)},splitcomplement:function(){return this._applyCombination(se,arguments)},triad:function(){return this._applyCombination(X,[3])},tetrad:function(){return this._applyCombination(X,[4])}},o.fromRatio=function(ke,pe){if(n(ke)=="object"){var Se={};for(var Re in ke)ke.hasOwnProperty(Re)&&(Re==="a"?Se[Re]=ke[Re]:Se[Re]=He(ke[Re]));ke=Se}return o(ke,pe)};function a(ke){var pe={r:0,g:0,b:0},Se=1,Re=null,it=null,ot=null,St=!1,Rt=!1;return typeof ke=="string"&&(ke=Qt(ke)),n(ke)=="object"&&(vt(ke.r)&&vt(ke.g)&&vt(ke.b)?(pe=s(ke.r,ke.g,ke.b),St=!0,Rt=String(ke.r).substr(-1)==="%"?"prgb":"rgb"):vt(ke.h)&&vt(ke.s)&&vt(ke.v)?(Re=He(ke.s),it=He(ke.v),pe=E(ke.h,Re,it),St=!0,Rt="hsv"):vt(ke.h)&&vt(ke.s)&&vt(ke.l)&&(Re=He(ke.s),ot=He(ke.l),pe=m(ke.h,Re,ot),St=!0,Rt="hsl"),ke.hasOwnProperty("a")&&(Se=ke.a)),Se=$e(Se),{ok:St,format:ke.format||Rt,r:Math.min(255,Math.max(pe.r,0)),g:Math.min(255,Math.max(pe.g,0)),b:Math.min(255,Math.max(pe.b,0)),a:Se}}function s(ke,pe,Se){return{r:ge(ke,255)*255,g:ge(pe,255)*255,b:ge(Se,255)*255}}function h(ke,pe,Se){ke=ge(ke,255),pe=ge(pe,255),Se=ge(Se,255);var Re=Math.max(ke,pe,Se),it=Math.min(ke,pe,Se),ot,St,Rt=(Re+it)/2;if(Re==it)ot=St=0;else{var zt=Re-it;switch(St=Rt>.5?zt/(2-Re-it):zt/(Re+it),Re){case ke:ot=(pe-Se)/zt+(pe<Se?6:0);break;case pe:ot=(Se-ke)/zt+2;break;case Se:ot=(ke-pe)/zt+4;break}ot/=6}return{h:ot,s:St,l:Rt}}function m(ke,pe,Se){var Re,it,ot;ke=ge(ke,360),pe=ge(pe,100),Se=ge(Se,100);function St(pt,ir,gn){return gn<0&&(gn+=1),gn>1&&(gn-=1),gn<1/6?pt+(ir-pt)*6*gn:gn<1/2?ir:gn<2/3?pt+(ir-pt)*(2/3-gn)*6:pt}if(pe===0)Re=it=ot=Se;else{var Rt=Se<.5?Se*(1+pe):Se+pe-Se*pe,zt=2*Se-Rt;Re=St(zt,Rt,ke+1/3),it=St(zt,Rt,ke),ot=St(zt,Rt,ke-1/3)}return{r:Re*255,g:it*255,b:ot*255}}function C(ke,pe,Se){ke=ge(ke,255),pe=ge(pe,255),Se=ge(Se,255);var Re=Math.max(ke,pe,Se),it=Math.min(ke,pe,Se),ot,St,Rt=Re,zt=Re-it;if(St=Re===0?0:zt/Re,Re==it)ot=0;else{switch(Re){case ke:ot=(pe-Se)/zt+(pe<Se?6:0);break;case pe:ot=(Se-ke)/zt+2;break;case Se:ot=(ke-pe)/zt+4;break}ot/=6}return{h:ot,s:St,v:Rt}}function E(ke,pe,Se){ke=ge(ke,360)*6,pe=ge(pe,100),Se=ge(Se,100);var Re=Math.floor(ke),it=ke-Re,ot=Se*(1-pe),St=Se*(1-it*pe),Rt=Se*(1-(1-it)*pe),zt=Re%6,pt=[Se,St,ot,ot,Rt,Se][zt],ir=[Rt,Se,Se,St,ot,ot][zt],gn=[ot,ot,Rt,Se,Se,St][zt];return{r:pt*255,g:ir*255,b:gn*255}}function O(ke,pe,Se,Re){var it=[ze(Math.round(ke).toString(16)),ze(Math.round(pe).toString(16)),ze(Math.round(Se).toString(16))];return Re&&it[0].charAt(0)==it[0].charAt(1)&&it[1].charAt(0)==it[1].charAt(1)&&it[2].charAt(0)==it[2].charAt(1)?it[0].charAt(0)+it[1].charAt(0)+it[2].charAt(0):it.join("")}function P(ke,pe,Se,Re,it){var ot=[ze(Math.round(ke).toString(16)),ze(Math.round(pe).toString(16)),ze(Math.round(Se).toString(16)),ze(Ve(Re))];return it&&ot[0].charAt(0)==ot[0].charAt(1)&&ot[1].charAt(0)==ot[1].charAt(1)&&ot[2].charAt(0)==ot[2].charAt(1)&&ot[3].charAt(0)==ot[3].charAt(1)?ot[0].charAt(0)+ot[1].charAt(0)+ot[2].charAt(0)+ot[3].charAt(0):ot.join("")}function D(ke,pe,Se,Re){var it=[ze(Ve(Re)),ze(Math.round(ke).toString(16)),ze(Math.round(pe).toString(16)),ze(Math.round(Se).toString(16))];return it.join("")}o.equals=function(ke,pe){return!ke||!pe?!1:o(ke).toRgbString()==o(pe).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function $(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.s-=pe/100,Se.s=yt(Se.s),o(Se)}function ee(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.s+=pe/100,Se.s=yt(Se.s),o(Se)}function H(ke){return o(ke).desaturate(100)}function G(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.l+=pe/100,Se.l=yt(Se.l),o(Se)}function Z(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toRgb();return Se.r=Math.max(0,Math.min(255,Se.r-Math.round(255*-(pe/100)))),Se.g=Math.max(0,Math.min(255,Se.g-Math.round(255*-(pe/100)))),Se.b=Math.max(0,Math.min(255,Se.b-Math.round(255*-(pe/100)))),o(Se)}function ue(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.l-=pe/100,Se.l=yt(Se.l),o(Se)}function ye(ke,pe){var Se=o(ke).toHsl(),Re=(Se.h+pe)%360;return Se.h=Re<0?360+Re:Re,o(Se)}function be(ke){var pe=o(ke).toHsl();return pe.h=(pe.h+180)%360,o(pe)}function X(ke,pe){if(isNaN(pe)||pe<=0)throw new Error("Argument to polyad must be a positive number");for(var Se=o(ke).toHsl(),Re=[o(ke)],it=360/pe,ot=1;ot<pe;ot++)Re.push(o({h:(Se.h+ot*it)%360,s:Se.s,l:Se.l}));return Re}function se(ke){var pe=o(ke).toHsl(),Se=pe.h;return[o(ke),o({h:(Se+72)%360,s:pe.s,l:pe.l}),o({h:(Se+216)%360,s:pe.s,l:pe.l})]}function we(ke,pe,Se){pe=pe||6,Se=Se||30;var Re=o(ke).toHsl(),it=360/Se,ot=[o(ke)];for(Re.h=(Re.h-(it*pe>>1)+720)%360;--pe;)Re.h=(Re.h+it)%360,ot.push(o(Re));return ot}function xe(ke,pe){pe=pe||6;for(var Se=o(ke).toHsv(),Re=Se.h,it=Se.s,ot=Se.v,St=[],Rt=1/pe;pe--;)St.push(o({h:Re,s:it,v:ot})),ot=(ot+Rt)%1;return St}o.mix=function(ke,pe,Se){Se=Se===0?0:Se||50;var Re=o(ke).toRgb(),it=o(pe).toRgb(),ot=Se/100,St={r:(it.r-Re.r)*ot+Re.r,g:(it.g-Re.g)*ot+Re.g,b:(it.b-Re.b)*ot+Re.b,a:(it.a-Re.a)*ot+Re.a};return o(St)},o.readability=function(ke,pe){var Se=o(ke),Re=o(pe);return(Math.max(Se.getLuminance(),Re.getLuminance())+.05)/(Math.min(Se.getLuminance(),Re.getLuminance())+.05)},o.isReadable=function(ke,pe,Se){var Re=o.readability(ke,pe),it,ot;switch(ot=!1,it=$t(Se),it.level+it.size){case"AAsmall":case"AAAlarge":ot=Re>=4.5;break;case"AAlarge":ot=Re>=3;break;case"AAAsmall":ot=Re>=7;break}return ot},o.mostReadable=function(ke,pe,Se){var Re=null,it=0,ot,St,Rt,zt;Se=Se||{},St=Se.includeFallbackColors,Rt=Se.level,zt=Se.size;for(var pt=0;pt<pe.length;pt++)ot=o.readability(ke,pe[pt]),ot>it&&(it=ot,Re=o(pe[pt]));return o.isReadable(ke,Re,{level:Rt,size:zt})||!St?Re:(Se.includeFallbackColors=!1,o.mostReadable(ke,["#fff","#000"],Se))};var De=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ue=o.hexNames=he(De);function he(ke){var pe={};for(var Se in ke)ke.hasOwnProperty(Se)&&(pe[ke[Se]]=Se);return pe}function $e(ke){return ke=parseFloat(ke),(isNaN(ke)||ke<0||ke>1)&&(ke=1),ke}function ge(ke,pe){st(ke)&&(ke="100%");var Se=mt(ke);return ke=Math.min(pe,Math.max(0,parseFloat(ke))),Se&&(ke=parseInt(ke*pe,10)/100),Math.abs(ke-pe)<1e-6?1:ke%pe/parseFloat(pe)}function yt(ke){return Math.min(1,Math.max(0,ke))}function wt(ke){return parseInt(ke,16)}function st(ke){return typeof ke=="string"&&ke.indexOf(".")!=-1&&parseFloat(ke)===1}function mt(ke){return typeof ke=="string"&&ke.indexOf("%")!=-1}function ze(ke){return ke.length==1?"0"+ke:""+ke}function He(ke){return ke<=1&&(ke=ke*100+"%"),ke}function Ve(ke){return Math.round(parseFloat(ke)*255).toString(16)}function Vt(ke){return wt(ke)/255}var Yt=function(){var ke="[-\\+]?\\d+%?",pe="[-\\+]?\\d*\\.\\d+%?",Se="(?:"+pe+")|(?:"+ke+")",Re="[\\s|\\(]+("+Se+")[,|\\s]+("+Se+")[,|\\s]+("+Se+")\\s*\\)?",it="[\\s|\\(]+("+Se+")[,|\\s]+("+Se+")[,|\\s]+("+Se+")[,|\\s]+("+Se+")\\s*\\)?";return{CSS_UNIT:new RegExp(Se),rgb:new RegExp("rgb"+Re),rgba:new RegExp("rgba"+it),hsl:new RegExp("hsl"+Re),hsla:new RegExp("hsla"+it),hsv:new RegExp("hsv"+Re),hsva:new RegExp("hsva"+it),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vt(ke){return!!Yt.CSS_UNIT.exec(ke)}function Qt(ke){ke=ke.replace(r,"").replace(i,"").toLowerCase();var pe=!1;if(De[ke])ke=De[ke],pe=!0;else if(ke=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Se;return(Se=Yt.rgb.exec(ke))?{r:Se[1],g:Se[2],b:Se[3]}:(Se=Yt.rgba.exec(ke))?{r:Se[1],g:Se[2],b:Se[3],a:Se[4]}:(Se=Yt.hsl.exec(ke))?{h:Se[1],s:Se[2],l:Se[3]}:(Se=Yt.hsla.exec(ke))?{h:Se[1],s:Se[2],l:Se[3],a:Se[4]}:(Se=Yt.hsv.exec(ke))?{h:Se[1],s:Se[2],v:Se[3]}:(Se=Yt.hsva.exec(ke))?{h:Se[1],s:Se[2],v:Se[3],a:Se[4]}:(Se=Yt.hex8.exec(ke))?{r:wt(Se[1]),g:wt(Se[2]),b:wt(Se[3]),a:Vt(Se[4]),format:pe?"name":"hex8"}:(Se=Yt.hex6.exec(ke))?{r:wt(Se[1]),g:wt(Se[2]),b:wt(Se[3]),format:pe?"name":"hex"}:(Se=Yt.hex4.exec(ke))?{r:wt(Se[1]+""+Se[1]),g:wt(Se[2]+""+Se[2]),b:wt(Se[3]+""+Se[3]),a:Vt(Se[4]+""+Se[4]),format:pe?"name":"hex8"}:(Se=Yt.hex3.exec(ke))?{r:wt(Se[1]+""+Se[1]),g:wt(Se[2]+""+Se[2]),b:wt(Se[3]+""+Se[3]),format:pe?"name":"hex"}:!1}function $t(ke){var pe,Se;return ke=ke||{level:"AA",size:"small"},pe=(ke.level||"AA").toUpperCase(),Se=(ke.size||"small").toLowerCase(),pe!=="AA"&&pe!=="AAA"&&(pe="AA"),Se!=="small"&&Se!=="large"&&(Se="small"),{level:pe,size:Se}}return o})})(HQ);var HOe=HQ.exports;Object.defineProperty(jA,"__esModule",{value:!0});jA.isvalidColorString=jA.red=jA.getContrastingColor=jA.isValidHex=jA.toState=jA.simpleCheckForValidColor=void 0;var VOe=qOe,ZOe=VQ(VOe),XOe=HOe,o5=VQ(XOe);function VQ(e){return e&&e.__esModule?e:{default:e}}jA.simpleCheckForValidColor=function(t){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,ZOe.default)(n,function(o){if(t[o]&&(r+=1,isNaN(t[o])||(i+=1),o==="s"||o==="l")){var a=/^\d+%$/;a.test(t[o])&&(i+=1)}}),r===i?t:!1};var JOe=jA.toState=function(t,n){var r=t.hex?(0,o5.default)(t.hex):(0,o5.default)(t),i=r.toHsl(),o=r.toHsv(),a=r.toRgb(),s=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var h=s==="000000"&&a.a===0;return{hsl:i,hex:h?"transparent":"#"+s,rgb:a,hsv:o,oldHue:t.h||n||i.h,source:t.source}};jA.isValidHex=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&(0,o5.default)(t).isValid()};jA.getContrastingColor=function(t){if(!t)return"#fff";var n=JOe(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};jA.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};jA.isvalidColorString=function(t,n){var r=t.replace("","");return(0,o5.default)(n+" ("+r+")")._ok};Object.defineProperty(u2,"__esModule",{value:!0});u2.ColorWrap=void 0;var jC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eBe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SB=ar,tBe=ZQ(SB),nBe=qQ,rBe=ZQ(nBe),iBe=jA,Yg=oBe(iBe);function oBe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ZQ(e){return e&&e.__esModule?e:{default:e}}function aBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sBe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var uBe=u2.ColorWrap=function(t){var n=function(r){lBe(i,r);function i(o){aBe(this,i);var a=sBe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.handleChange=function(s,h){var m=Yg.simpleCheckForValidColor(s);if(m){var C=Yg.toState(s,s.h||a.state.oldHue);a.setState(C),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,C,h),a.props.onChange&&a.props.onChange(C,h)}},a.handleSwatchHover=function(s,h){var m=Yg.simpleCheckForValidColor(s);if(m){var C=Yg.toState(s,s.h||a.state.oldHue);a.props.onSwatchHover&&a.props.onSwatchHover(C,h)}},a.state=jC({},Yg.toState(o.color,0)),a.debounce=(0,rBe.default)(function(s,h,m){s(h,m)},100),a}return eBe(i,[{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),tBe.default.createElement(t,jC({},this.props,this.state,{onChange:this.handleChange},a))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return jC({},Yg.toState(a.color,s.oldHue))}}]),i}(SB.PureComponent||SB.Component);return n.propTypes=jC({},t.propTypes),n.defaultProps=jC({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};u2.default=uBe;var A2={},tM={};Object.defineProperty(tM,"__esModule",{value:!0});tM.handleFocus=void 0;var ABe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cBe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dBe=ar,x6=hBe(dBe);function hBe(e){return e&&e.__esModule?e:{default:e}}function fBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}tM.handleFocus=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){pBe(i,r);function i(){var o,a,s,h;fBe(this,i);for(var m=arguments.length,C=Array(m),E=0;E<m;E++)C[E]=arguments[E];return h=(a=(s=FD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(C))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},a),FD(s,h)}return cBe(i,[{key:"render",value:function(){return x6.default.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},x6.default.createElement(t,ABe({},this.props,this.state)))}}]),i}(x6.default.Component)};Object.defineProperty(A2,"__esModule",{value:!0});A2.Swatch=void 0;var LD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mBe=ar,RD=f9(mBe),gBe=Zs,yBe=f9(gBe),vBe=tM,CBe=rg,_Be=f9(CBe);function f9(e){return e&&e.__esModule?e:{default:e}}var bBe=13,xBe=A2.Swatch=function(t){var n=t.color,r=t.style,i=t.onClick,o=i===void 0?function(){}:i,a=t.onHover,s=t.title,h=s===void 0?n:s,m=t.children,C=t.focus,E=t.focusStyle,O=E===void 0?{}:E,P=n==="transparent",D=(0,yBe.default)({default:{swatch:LD({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,C?O:{})}}),$=function(ue){return o(n,ue)},ee=function(ue){return ue.keyCode===bBe&&o(n,ue)},H=function(ue){return a(n,ue)},G={};return a&&(G.onMouseOver=H),RD.default.createElement("div",LD({style:D.swatch,onClick:$,title:h,tabIndex:0,onKeyDown:ee},G),m,P&&RD.default.createElement(_Be.default,{borderRadius:D.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};A2.default=(0,vBe.handleFocus)(xBe);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=i2;Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return m(t).default}});var n=rg;Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return m(n).default}});var r=o2;Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return m(r).default}});var i=a2;Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return m(i).default}});var o=s2;Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return m(o).default}});var a=l2;Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return m(a).default}});var s=u2;Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return m(s).default}});var h=A2;Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return m(h).default}});function m(C){return C&&C.__esModule?C:{default:C}}})(s9);var c2={};function wBe(e){return e===void 0}var MBe=wBe,p9={};Object.defineProperty(p9,"__esModule",{value:!0});var zD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SBe=ar,jD=EBe(SBe);function EBe(e){return e&&e.__esModule?e:{default:e}}function OBe(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Yx=24;p9.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,i=r===void 0?Yx:r,o=e.height,a=o===void 0?Yx:o,s=e.style,h=s===void 0?{}:s,m=OBe(e,["fill","width","height","style"]);return jD.default.createElement("svg",zD({viewBox:"0 0 "+Yx+" "+Yx,style:zD({fill:n,width:i,height:a},h)},m),jD.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(c2,"__esModule",{value:!0});c2.ChromeFields=void 0;var BBe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),IBe=ar,ts=nM(IBe),kBe=Zs,TBe=nM(kBe),KBe=jA,PBe=LBe(KBe),DBe=MBe,ND=nM(DBe),Ip=s9,UBe=p9,FBe=nM(UBe);function LBe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function nM(e){return e&&e.__esModule?e:{default:e}}function RBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zBe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var XQ=c2.ChromeFields=function(e){jBe(t,e);function t(n){RBe(this,t);var r=zBe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?PBe.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,ND.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,ND.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return BBe(t,[{key:"render",value:function(){var r=this,i=(0,TBe.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=ts.default.createElement("div",{style:i.fields,className:"flexbox-fix"},ts.default.createElement("div",{style:i.field},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=ts.default.createElement("div",{style:i.fields,className:"flexbox-fix"},ts.default.createElement("div",{style:i.field},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),ts.default.createElement("div",{style:i.field},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),ts.default.createElement("div",{style:i.field},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),ts.default.createElement("div",{style:i.alpha},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=ts.default.createElement("div",{style:i.fields,className:"flexbox-fix"},ts.default.createElement("div",{style:i.field},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),ts.default.createElement("div",{style:i.field},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),ts.default.createElement("div",{style:i.field},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),ts.default.createElement("div",{style:i.alpha},ts.default.createElement(Ip.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),ts.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,ts.default.createElement("div",{style:i.toggle},ts.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return r.icon=s}},ts.default.createElement(FBe.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t}(ts.default.Component);XQ.defaultProps={view:"hex"};c2.default=XQ;var d2={};Object.defineProperty(d2,"__esModule",{value:!0});d2.ChromePointer=void 0;var NBe=ar,GBe=JQ(NBe),WBe=Zs,QBe=JQ(WBe);function JQ(e){return e&&e.__esModule?e:{default:e}}var $Be=d2.ChromePointer=function(){var t=(0,QBe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return GBe.default.createElement("div",{style:t.picker})};d2.default=$Be;var h2={};Object.defineProperty(h2,"__esModule",{value:!0});h2.ChromePointerCircle=void 0;var YBe=ar,qBe=e$(YBe),HBe=Zs,VBe=e$(HBe);function e$(e){return e&&e.__esModule?e:{default:e}}var ZBe=h2.ChromePointerCircle=function(){var t=(0,VBe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return qBe.default.createElement("div",{style:t.picker})};h2.default=ZBe;Object.defineProperty(jw,"__esModule",{value:!0});jw.Chrome=void 0;var XBe=ar,RA=ig(XBe),JBe=zh,qg=ig(JBe),e8e=Zs,t8e=ig(e8e),n8e=jQ,r8e=ig(n8e),r_=s9,i8e=c2,o8e=ig(i8e),a8e=d2,GD=ig(a8e),s8e=h2,l8e=ig(s8e);function ig(e){return e&&e.__esModule?e:{default:e}}var m9=jw.Chrome=function(t){var n=t.width,r=t.onChange,i=t.disableAlpha,o=t.rgb,a=t.hsl,s=t.hsv,h=t.hex,m=t.renderers,C=t.styles,E=C===void 0?{}:C,O=t.className,P=O===void 0?"":O,D=t.defaultView,$=(0,t8e.default)((0,r8e.default)({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},E),{disableAlpha:i});return RA.default.createElement("div",{style:$.picker,className:"chrome-picker "+P},RA.default.createElement("div",{style:$.saturation},RA.default.createElement(r_.Saturation,{style:$.Saturation,hsl:a,hsv:s,pointer:l8e.default,onChange:r})),RA.default.createElement("div",{style:$.body},RA.default.createElement("div",{style:$.controls,className:"flexbox-fix"},RA.default.createElement("div",{style:$.color},RA.default.createElement("div",{style:$.swatch},RA.default.createElement("div",{style:$.active}),RA.default.createElement(r_.Checkboard,{renderers:m}))),RA.default.createElement("div",{style:$.toggles},RA.default.createElement("div",{style:$.hue},RA.default.createElement(r_.Hue,{style:$.Hue,hsl:a,pointer:GD.default,onChange:r})),RA.default.createElement("div",{style:$.alpha},RA.default.createElement(r_.Alpha,{style:$.Alpha,rgb:o,hsl:a,pointer:GD.default,renderers:m,onChange:r})))),RA.default.createElement(o8e.default,{rgb:o,hsl:a,hex:h,view:D,onChange:r,disableAlpha:i})))};m9.propTypes={width:qg.default.oneOfType([qg.default.string,qg.default.number]),disableAlpha:qg.default.bool,styles:qg.default.object,defaultView:qg.default.oneOf(["hex","rgb","hsl"])};m9.defaultProps={width:225,disableAlpha:!1,styles:{}};var u8e=jw.default=(0,r_.ColorWrap)(m9);function Mi(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputColor.tsx",t="f69162f86ed29c2caf640849e5adb89504f7aae3",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f69162f86ed29c2caf640849e5adb89504f7aae3"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Mi=function(){return a},a}Mi();function A8e(e){Mi().f[0]++;const t=(Mi().s[0]++,e.rgb);return Mi().s[1]++,`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}class t$ extends Mn.Component{constructor(n){Mi().f[1]++,Mi().s[4]++;super(n);on(this,"state",(Mi().s[2]++,{pickerOpened:!1}));on(this,"colorInput",(Mi().s[3]++,null));on(this,"calcPickerOffset",(Mi().s[7]++,()=>{Mi().f[3]++;const n=(Mi().s[8]++,this.colorInput);if(Mi().s[9]++,n){Mi().b[0][0]++;const r=(Mi().s[10]++,n.getBoundingClientRect());return Mi().s[11]++,{top:r.top,left:r.left+196}}else return Mi().b[0][1]++,Mi().s[12]++,{top:160,left:555}}));on(this,"togglePicker",(Mi().s[13]++,()=>{Mi().f[4]++,Mi().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));Mi().s[5]++,this.onChangeNoCheck=FE.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(n){Mi().f[2]++,Mi().s[6]++,this.props.onChange(n)}get color(){Mi().f[5]++,Mi().s[15]++;try{return Mi().s[16]++,rO(this.props.value).rgb()}catch(n){return Mi().s[17]++,console.warn("Error parsing color: ",n),Mi().s[18]++,rO("rgb(255,255,255)")}}onChange(n){Mi().f[6]++,Mi().s[19]++,this.props.onChange(n===""?(Mi().b[1][0]++,void 0):(Mi().b[1][1]++,n))}render(){Mi().f[7]++;const n=(Mi().s[20]++,this.calcPickerOffset()),r=(Mi().s[21]++,this.color.object()),i=(Mi().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(Mi().s[23]++,W.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:n.left,top:n.top},children:[W.jsx(u8e,{color:i,onChange:s=>(Mi().f[8]++,Mi().s[24]++,this.onChangeNoCheck(A8e(s)))}),W.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),a=(Mi().s[25]++,{backgroundColor:this.props.value});return Mi().s[26]++,W.jsxs("div",{className:"maputnik-color-wrapper",children:[(Mi().b[2][0]++,this.state.pickerOpened&&(Mi().b[2][1]++,o)),W.jsx("div",{className:"maputnik-color-swatch",style:a}),W.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:s=>(Mi().f[9]++,Mi().s[27]++,this.colorInput=s),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(Mi().b[3][0]++,this.props.value):(Mi().b[3][1]++,""),onChange:s=>(Mi().f[10]++,Mi().s[28]++,this.onChange(s.target.value))})]})}}function Gt(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputNumber.tsx",t="0b7c0fa52bd43b3ca0c314d805ab6ecd803d58a6",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:40,column:5}},10:{start:{line:31,column:6},end:{line:32,column:35}},11:{start:{line:32,column:8},end:{line:32,column:35}},12:{start:{line:33,column:6},end:{line:35,column:9}},13:{start:{line:36,column:11},end:{line:40,column:5}},14:{start:{line:37,column:6},end:{line:39,column:9}},15:{start:{line:41,column:4},end:{line:43,column:7}},16:{start:{line:46,column:4},end:{line:48,column:5}},17:{start:{line:47,column:6},end:{line:47,column:18}},18:{start:{line:49,column:18},end:{line:49,column:20}},19:{start:{line:50,column:4},end:{line:52,column:5}},20:{start:{line:51,column:6},end:{line:51,column:19}},21:{start:{line:53,column:4},end:{line:55,column:5}},22:{start:{line:54,column:6},end:{line:54,column:19}},23:{start:{line:56,column:4},end:{line:58,column:5}},24:{start:{line:57,column:6},end:{line:57,column:19}},25:{start:{line:59,column:4},end:{line:59,column:16}},26:{start:{line:61,column:15},end:{line:75,column:3}},27:{start:{line:62,column:4},end:{line:62,column:38}},28:{start:{line:63,column:4},end:{line:65,column:5}},29:{start:{line:64,column:6},end:{line:64,column:13}},30:{start:{line:66,column:4},end:{line:74,column:5}},31:{start:{line:67,column:6},end:{line:73,column:7}},32:{start:{line:68,column:8},end:{line:68,column:43}},33:{start:{line:69,column:8},end:{line:69,column:56}},34:{start:{line:71,column:8},end:{line:71,column:33}},35:{start:{line:72,column:8},end:{line:72,column:46}},36:{start:{line:76,column:18},end:{line:102,column:3}},37:{start:{line:77,column:16},end:{line:77,column:42}},38:{start:{line:78,column:17},end:{line:78,column:37}},39:{start:{line:79,column:21},end:{line:79,column:26}},40:{start:{line:80,column:4},end:{line:96,column:5}},41:{start:{line:81,column:19},end:{line:81,column:31}},42:{start:{line:82,column:6},end:{line:95,column:7}},43:{start:{line:83,column:8},end:{line:87,column:9}},44:{start:{line:84,column:10},end:{line:84,column:42}},45:{start:{line:86,column:10},end:{line:86,column:42}},46:{start:{line:88,column:8},end:{line:88,column:27}},47:{start:{line:90,column:8},end:{line:94,column:9}},48:{start:{line:91,column:10},end:{line:91,column:31}},49:{start:{line:93,column:10},end:{line:93,column:40}},50:{start:{line:97,column:4},end:{line:97,column:32}},51:{start:{line:98,column:4},end:{line:98,column:70}},52:{start:{line:99,column:4},end:{line:99,column:41}},53:{start:{line:100,column:4},end:{line:101,column:33}},54:{start:{line:101,column:6},end:{line:101,column:33}},55:{start:{line:104,column:4},end:{line:187,column:5}},56:{start:{line:105,column:20},end:{line:105,column:81}},57:{start:{line:106,column:27},end:{line:106,column:82}},58:{start:{line:108,column:6},end:{line:112,column:7}},59:{start:{line:109,column:8},end:{line:109,column:38}},60:{start:{line:111,column:8},end:{line:111,column:27}},61:{start:{line:113,column:6},end:{line:167,column:11}},62:{start:{line:126,column:14},end:{line:126,column:41}},63:{start:{line:129,column:14},end:{line:129,column:67}},64:{start:{line:132,column:14},end:{line:132,column:69}},65:{start:{line:135,column:14},end:{line:139,column:17}},66:{start:{line:154,column:14},end:{line:154,column:47}},67:{start:{line:157,column:14},end:{line:157,column:47}},68:{start:{line:160,column:14},end:{line:160,column:48}},69:{start:{line:161,column:14},end:{line:161,column:32}},70:{start:{line:169,column:20},end:{line:169,column:81}},71:{start:{line:170,column:6},end:{line:186,column:8}},72:{start:{line:178,column:27},end:{line:178,column:59}},73:{start:{line:180,column:12},end:{line:180,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:44,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:13},end:{line:60,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:21},end:{line:75,column:3}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:76,column:18},end:{line:76,column:19}},loc:{start:{line:76,column:25},end:{line:102,column:3}},line:76},6:{name:"(anonymous_6)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:11},end:{line:188,column:3}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:125,column:23},end:{line:125,column:24}},loc:{start:{line:125,column:29},end:{line:127,column:13}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:33},end:{line:130,column:13}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:31},end:{line:133,column:13}},line:131},10:{name:"(anonymous_10)",decl:{start:{line:134,column:20},end:{line:134,column:21}},loc:{start:{line:134,column:26},end:{line:140,column:13}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:153,column:21},end:{line:153,column:22}},loc:{start:{line:153,column:29},end:{line:155,column:13}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:156,column:22},end:{line:156,column:23}},loc:{start:{line:156,column:29},end:{line:158,column:13}},line:156},13:{name:"(anonymous_13)",decl:{start:{line:159,column:20},end:{line:159,column:21}},loc:{start:{line:159,column:28},end:{line:162,column:13}},line:159},14:{name:"(anonymous_14)",decl:{start:{line:178,column:20},end:{line:178,column:21}},loc:{start:{line:178,column:27},end:{line:178,column:59}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:179,column:19},end:{line:179,column:20}},loc:{start:{line:179,column:25},end:{line:181,column:11}},line:179}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:40,column:5}},{start:{line:36,column:11},end:{line:40,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:32,column:35}},type:"if",locations:[{start:{line:31,column:6},end:{line:32,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:36,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},8:{loc:{start:{line:36,column:15},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:15},end:{line:36,column:35}},{start:{line:36,column:39},end:{line:36,column:49}}],line:36},9:{loc:{start:{line:42,column:18},end:{line:42,column:53}},type:"cond-expr",locations:[{start:{line:42,column:36},end:{line:42,column:42}},{start:{line:42,column:45},end:{line:42,column:53}}],line:42},10:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},11:{loc:{start:{line:50,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},12:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},13:{loc:{start:{line:53,column:8},end:{line:53,column:56}},type:"binary-expr",locations:[{start:{line:53,column:8},end:{line:53,column:30}},{start:{line:53,column:34},end:{line:53,column:56}}],line:53},14:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},15:{loc:{start:{line:56,column:8},end:{line:56,column:56}},type:"binary-expr",locations:[{start:{line:56,column:8},end:{line:56,column:30}},{start:{line:56,column:34},end:{line:56,column:56}}],line:56},16:{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},17:{loc:{start:{line:66,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:66,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},18:{loc:{start:{line:67,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:73,column:7}},{start:{line:70,column:13},end:{line:73,column:7}}],line:67},19:{loc:{start:{line:80,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},20:{loc:{start:{line:82,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:95,column:7}},{start:{line:89,column:13},end:{line:95,column:7}}],line:82},21:{loc:{start:{line:83,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:87,column:9}},{start:{line:85,column:15},end:{line:87,column:9}}],line:83},22:{loc:{start:{line:90,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:94,column:9}},{start:{line:92,column:15},end:{line:94,column:9}}],line:90},23:{loc:{start:{line:100,column:4},end:{line:101,column:33}},type:"if",locations:[{start:{line:100,column:4},end:{line:101,column:33}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},24:{loc:{start:{line:104,column:4},end:{line:187,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:187,column:5}},{start:{line:168,column:11},end:{line:187,column:5}}],line:104},25:{loc:{start:{line:104,column:8},end:{line:104,column:205}},type:"binary-expr",locations:[{start:{line:104,column:8},end:{line:104,column:63}},{start:{line:104,column:67},end:{line:104,column:122}},{start:{line:104,column:126},end:{line:104,column:151}},{start:{line:104,column:155},end:{line:104,column:180}},{start:{line:104,column:184},end:{line:104,column:205}}],line:104},26:{loc:{start:{line:105,column:20},end:{line:105,column:81}},type:"cond-expr",locations:[{start:{line:105,column:41},end:{line:105,column:62}},{start:{line:105,column:65},end:{line:105,column:81}}],line:105},27:{loc:{start:{line:106,column:27},end:{line:106,column:82}},type:"cond-expr",locations:[{start:{line:106,column:59},end:{line:106,column:61}},{start:{line:106,column:64},end:{line:106,column:82}}],line:106},28:{loc:{start:{line:108,column:6},end:{line:112,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:112,column:7}},{start:{line:110,column:13},end:{line:112,column:7}}],line:108},29:{loc:{start:{line:123,column:19},end:{line:123,column:58}},type:"cond-expr",locations:[{start:{line:123,column:38},end:{line:123,column:50}},{start:{line:123,column:53},end:{line:123,column:58}}],line:123},30:{loc:{start:{line:152,column:19},end:{line:152,column:58}},type:"cond-expr",locations:[{start:{line:152,column:43},end:{line:152,column:45}},{start:{line:152,column:48},end:{line:152,column:58}}],line:152},31:{loc:{start:{line:169,column:20},end:{line:169,column:81}},type:"cond-expr",locations:[{start:{line:169,column:41},end:{line:169,column:62}},{start:{line:169,column:65},end:{line:169,column:81}}],line:169},32:{loc:{start:{line:177,column:17},end:{line:177,column:46}},type:"cond-expr",locations:[{start:{line:177,column:36},end:{line:177,column:38}},{start:{line:177,column:41},end:{line:177,column:46}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM;AAAU,aAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0b7c0fa52bd43b3ca0c314d805ab6ecd803d58a6"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Gt=function(){return a},a}Gt();class Zf extends Mn.Component{constructor(n){Gt().f[0]++,Gt().s[2]++;super(n);on(this,"_keyboardEvent",(Gt().s[1]++,!1));on(this,"resetValue",(Gt().s[26]++,()=>{if(Gt().f[4]++,Gt().s[27]++,this.setState({editing:!1}),Gt().s[28]++,this.state.value)Gt().b[16][1]++;else{Gt().b[16][0]++,Gt().s[29]++;return}Gt().s[30]++,this.isValid(this.state.value)?Gt().b[17][1]++:(Gt().b[17][0]++,Gt().s[31]++,this.isValid(this.props.value)?(Gt().b[18][0]++,Gt().s[32]++,this.changeValue(this.props.value),Gt().s[33]++,this.setState({dirtyValue:this.props.value})):(Gt().b[18][1]++,Gt().s[34]++,this.changeValue(void 0),Gt().s[35]++,this.setState({dirtyValue:void 0})))}));on(this,"onChangeRange",(Gt().s[36]++,n=>{Gt().f[5]++;let r=(Gt().s[37]++,parseFloat(n.target.value));const i=(Gt().s[38]++,this.props.rangeStep);let o=(Gt().s[39]++,r);if(Gt().s[40]++,i){Gt().b[19][0]++;const a=(Gt().s[41]++,r%i);Gt().s[42]++,this._keyboardEvent?(Gt().b[20][0]++,Gt().s[43]++,r<+this.state.dirtyValue?(Gt().b[21][0]++,Gt().s[44]++,r=this.state.value-i):(Gt().b[21][1]++,Gt().s[45]++,r=this.state.value+i),Gt().s[46]++,o=r):(Gt().b[20][1]++,Gt().s[47]++,a<i/2?(Gt().b[22][0]++,Gt().s[48]++,r=r-a):(Gt().b[22][1]++,Gt().s[49]++,r=r+(i-a)))}else Gt().b[19][1]++;Gt().s[50]++,this._keyboardEvent=!1,Gt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),Gt().s[52]++,this.setState({value:r,dirtyValue:o}),Gt().s[53]++,this.props.onChange?(Gt().b[23][0]++,Gt().s[54]++,this.props.onChange(r)):Gt().b[23][1]++}));Gt().s[3]++,this.state={uuid:+vv(),editing:!1,value:n.value,dirtyValue:n.value}}static getDerivedStateFromProps(n,r){return Gt().f[1]++,Gt().s[4]++,Gt().b[1][0]++,!r.editing&&(Gt().b[1][1]++,n.value!==r.value)?(Gt().b[0][0]++,Gt().s[5]++,{value:n.value,dirtyValue:n.value}):(Gt().b[0][1]++,Gt().s[6]++,null)}changeValue(n){Gt().f[2]++;const r=(Gt().s[7]++,Gt().b[3][0]++,n===""||(Gt().b[3][1]++,n===void 0)?(Gt().b[2][0]++,void 0):(Gt().b[2][1]++,+n)),i=(Gt().s[8]++,this.props.value!==r);Gt().s[9]++,Gt().b[5][0]++,this.isValid(r)&&(Gt().b[5][1]++,i)?(Gt().b[4][0]++,Gt().s[10]++,this.props.onChange?(Gt().b[6][0]++,Gt().s[11]++,this.props.onChange(r)):Gt().b[6][1]++,Gt().s[12]++,this.setState({value:r})):(Gt().b[4][1]++,Gt().s[13]++,Gt().b[8][0]++,!this.isValid(r)&&(Gt().b[8][1]++,i)?(Gt().b[7][0]++,Gt().s[14]++,this.setState({value:void 0})):Gt().b[7][1]++),Gt().s[15]++,this.setState({dirtyValue:n===""?(Gt().b[9][0]++,void 0):(Gt().b[9][1]++,n)})}isValid(n){if(Gt().f[3]++,Gt().s[16]++,n===void 0)return Gt().b[10][0]++,Gt().s[17]++,!0;Gt().b[10][1]++;const r=(Gt().s[18]++,+n);return Gt().s[19]++,isNaN(r)?(Gt().b[11][0]++,Gt().s[20]++,!1):(Gt().b[11][1]++,Gt().s[21]++,Gt().b[13][0]++,!isNaN(this.props.min)&&(Gt().b[13][1]++,r<this.props.min)?(Gt().b[12][0]++,Gt().s[22]++,!1):(Gt().b[12][1]++,Gt().s[23]++,Gt().b[15][0]++,!isNaN(this.props.max)&&(Gt().b[15][1]++,r>this.props.max)?(Gt().b[14][0]++,Gt().s[24]++,!1):(Gt().b[14][1]++,Gt().s[25]++,!0)))}render(){var n,r;if(Gt().f[6]++,Gt().s[55]++,Gt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(Gt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(Gt().b[25][2]++,this.props.min!==void 0)&&(Gt().b[25][3]++,this.props.max!==void 0)&&(Gt().b[25][4]++,this.props.allowRange)){Gt().b[24][0]++;const i=(Gt().s[56]++,this.state.editing?(Gt().b[26][0]++,this.state.dirtyValue):(Gt().b[26][1]++,this.state.value)),o=(Gt().s[57]++,this.props.default===void 0?(Gt().b[27][0]++,""):(Gt().b[27][1]++,this.props.default));let a;return Gt().s[58]++,this.state.editingRange?(Gt().b[28][0]++,Gt().s[59]++,a=this.state.value):(Gt().b[28][1]++,Gt().s[60]++,a=i),Gt().s[61]++,W.jsxs("div",{className:"maputnik-number-container",children:[W.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(Gt().b[29][0]++,o):(Gt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{Gt().f[7]++,Gt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{Gt().f[8]++,Gt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{Gt().f[9]++,Gt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{Gt().f[10]++,Gt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),W.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(n=this.props.default)==null?void 0:n.toString(),value:a===void 0?(Gt().b[30][0]++,""):(Gt().b[30][1]++,a),onFocus:s=>{Gt().f[11]++,Gt().s[66]++,this.setState({editing:!0})},onChange:s=>{Gt().f[12]++,Gt().s[67]++,this.changeValue(s.target.value)},onBlur:s=>{Gt().f[13]++,Gt().s[68]++,this.setState({editing:!1}),Gt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{Gt().b[24][1]++;const i=(Gt().s[70]++,this.state.editing?(Gt().b[31][0]++,this.state.dirtyValue):(Gt().b[31][1]++,this.state.value));return Gt().s[71]++,W.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(Gt().b[32][0]++,""):(Gt().b[32][1]++,i),onChange:o=>(Gt().f[14]++,Gt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{Gt().f[15]++,Gt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}on(Zf,"defaultProps",(Gt().s[0]++,{rangeStep:1}));function Bf(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputCheckbox.tsx",t="2312da8fbd5f575775a38d15c5769b05d1e87e39",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:27,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:28,column:3}},line:10}},branchMap:{0:{loc:{start:{line:25,column:17},end:{line:25,column:53}},type:"cond-expr",locations:[{start:{line:25,column:36},end:{line:25,column:44}},{start:{line:25,column:47},end:{line:25,column:53}}],line:25}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAmBW,SACL,KADK;AAnBX,OAAO,WAAW;AASlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU,KAAK,MAAM;AAAA;AAAA,MACvB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2312da8fbd5f575775a38d15c5769b05d1e87e39"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Bf=function(){return a},a}Bf();class rM extends Mn.Component{constructor(){super(...arguments);on(this,"onChange",(Bf().s[1]++,()=>{Bf().f[0]++,Bf().s[2]++,this.props.onChange(!this.props.value)}))}render(){return Bf().f[1]++,Bf().s[3]++,W.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[W.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value,disabled:this.props.disabled}),W.jsx("div",{className:"maputnik-checkbox-box",children:W.jsx("svg",{style:{display:this.props.value?(Bf().b[0][0]++,"inline"):(Bf().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:W.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}on(rM,"defaultProps",(Bf().s[0]++,{value:!1}));function mr(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputArray.tsx",t="234fbd59c849e81a797801d933a0c9d4d8885055",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAwB,OAAwB;AAC9E,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"234fbd59c849e81a797801d933a0c9d4d8885055"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return mr=function(){return a},a}mr();var j6;let n$=(j6=class extends Mn.Component{constructor(t){mr().f[0]++,mr().s[1]++,super(t),mr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(t,n){mr().f[1]++;const r=(mr().s[3]++,[]),i=(mr().s[4]++,n.initialPropsValue.slice(0));return mr().s[5]++,Array(t.length).fill(null).map((o,a)=>{mr().f[2]++,mr().s[6]++,t.value[a]===n.initialPropsValue[a]?(mr().b[0][0]++,mr().s[7]++,r[a]=n.value[a]):(mr().b[0][1]++,mr().s[8]++,r[a]=n.value[a],mr().s[9]++,i[a]=n.value[a])}),mr().s[10]++,{value:r,initialPropsValue:i}}isComplete(t){return mr().f[3]++,mr().s[11]++,Array(this.props.length).fill(null).every((n,r)=>{mr().f[4]++;const i=(mr().s[12]++,t[r]);return mr().s[13]++,mr().b[1][0]++,!(i===void 0||(mr().b[1][1]++,i===""))})}changeValue(t,n){mr().f[5]++;const r=(mr().s[14]++,this.state.value.slice(0));mr().s[15]++,r[t]=n,mr().s[16]++,this.setState({value:r},()=>{mr().f[6]++,mr().s[17]++,mr().b[3][0]++,this.isComplete(r)&&(mr().b[3][1]++,this.props.onChange)?(mr().b[2][0]++,mr().s[18]++,this.props.onChange(r)):(mr().b[2][1]++,mr().s[19]++,this.props.onChange?(mr().b[4][0]++,mr().s[20]++,this.props.onChange(void 0)):mr().b[4][1]++)})}render(){mr().f[7]++;const{value:t}=(mr().s[21]++,this.state),n=(mr().s[22]++,mr().b[5][0]++,t.length>0&&(mr().b[5][1]++,!t.every(i=>(mr().f[8]++,mr().s[23]++,mr().b[6][0]++,i===""||(mr().b[6][1]++,i===void 0))))),r=(mr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(mr().f[9]++,mr().s[25]++,this.props.type==="number"?(mr().b[7][0]++,mr().s[26]++,W.jsx(Zf,{default:(mr().b[9][0]++,n||(mr().b[9][1]++,!this.props.default)?(mr().b[8][0]++,void 0):(mr().b[8][1]++,this.props.default[o])),value:t[o],required:n?(mr().b[10][0]++,!0):(mr().b[10][1]++,!1),onChange:a=>(mr().f[10]++,mr().s[27]++,this.changeValue(o,a)),"aria-label":(mr().b[11][0]++,this.props["aria-label"]||(mr().b[11][1]++,this.props.label))},o)):(mr().b[7][1]++,mr().s[28]++,W.jsx(sd,{default:(mr().b[13][0]++,n||(mr().b[13][1]++,!this.props.default)?(mr().b[12][0]++,void 0):(mr().b[12][1]++,this.props.default[o])),value:t[o],required:n?(mr().b[14][0]++,!0):(mr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(mr().b[15][0]++,this.props["aria-label"]||(mr().b[15][1]++,this.props.label))},o)))));return mr().s[29]++,W.jsx("div",{className:"maputnik-array",children:r})}},on(j6,"defaultProps",(mr().s[0]++,{value:[],default:[]})),j6);function yl(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputMultiInput.tsx",t="1e0b06f982df8ba646c557084c077fc683a8a9eb",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1e0b06f982df8ba646c557084c077fc683a8a9eb"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return yl=function(){return a},a}yl();class c8e extends Mn.Component{render(){yl().f[0]++;let t=(yl().s[0]++,this.props.options);yl().s[1]++,yl().b[1][0]++,t.length>0&&(yl().b[1][1]++,!Array.isArray(t[0]))?(yl().b[0][0]++,yl().s[2]++,t=t.map(i=>(yl().f[1]++,yl().s[3]++,[i,i]))):yl().b[0][1]++;const n=(yl().s[4]++,yl().b[2][0]++,this.props.value||(yl().b[2][1]++,t[0][0])),r=(yl().s[5]++,t.map(([i,o])=>(yl().f[2]++,yl().s[6]++,W.jsxs("label",{className:Hf("maputnik-radio-as-button",{"maputnik-button-selected":i===n}),children:[W.jsx("input",{type:"radio",name:this.props.name,onChange:a=>(yl().f[3]++,yl().s[7]++,this.props.onChange(i)),value:i,checked:i===n}),o]},i))));return yl().s[8]++,W.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function Cs(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputEnum.tsx",t="d501ac0f68665188b79b08e05cf6098aa4c62909",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d501ac0f68665188b79b08e05cf6098aa4c62909"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Cs=function(){return a},a}Cs();function d8e(e){Cs().f[0]++;let t=(Cs().s[0]++,0);return Cs().s[1]++,e.forEach(([n,r])=>{Cs().f[1]++,Cs().s[2]++,t+=r.length}),Cs().s[3]++,t}class g9 extends Mn.Component{render(){Cs().f[2]++;const{options:t,value:n,onChange:r,name:i,label:o}=(Cs().s[4]++,this.props);return Cs().s[5]++,Cs().b[1][0]++,t.length<=3&&(Cs().b[1][1]++,d8e(t)<=20)?(Cs().b[0][0]++,Cs().s[6]++,W.jsx(c8e,{name:i,options:t,value:(Cs().b[2][0]++,n||(Cs().b[2][1]++,this.props.default)),onChange:r,"aria-label":(Cs().b[3][0]++,this.props["aria-label"]||(Cs().b[3][1]++,o))})):(Cs().b[0][1]++,Cs().s[7]++,W.jsx(eg,{options:t,value:(Cs().b[4][0]++,n||(Cs().b[4][1]++,this.props.default)),onChange:r,"aria-label":(Cs().b[5][0]++,this.props["aria-label"]||(Cs().b[5][1]++,o))}))}}function a5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SmallError.tsx",t="4f544ed94c63373b5a3cc00915dd0d96785804d5",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:9,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:10,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO;AAQP,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAU;AACR,WACE,qBAAC,SAAI,WAAU,cAAa;AAAA;AAAA,MAClB,KAAK,MAAM;AAAA,OACrB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4f544ed94c63373b5a3cc00915dd0d96785804d5"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return a5=function(){return a},a}a5();class WD extends Mn.Component{render(){return a5().f[0]++,a5().s[0]++,W.jsxs("div",{className:"SmallError",children:["Error: ",this.props.children]})}}function Li(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputUrl.tsx",t="5b54ee6ee8e2d0e65eef18505317af1d9042e5f0",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:8,column:3}},1:{start:{line:7,column:4},end:{line:7,column:11}},2:{start:{line:10,column:22},end:{line:17,column:3}},3:{start:{line:11,column:4},end:{line:16,column:5}},4:{start:{line:12,column:21},end:{line:12,column:34}},5:{start:{line:13,column:6},end:{line:13,column:29}},6:{start:{line:15,column:6},end:{line:15,column:20}},7:{start:{line:18,column:19},end:{line:18,column:35}},8:{start:{line:19,column:16},end:{line:19,column:53}},9:{start:{line:20,column:2},end:{line:35,column:3}},10:{start:{line:21,column:4},end:{line:28,column:9}},11:{start:{line:29,column:9},end:{line:35,column:3}},12:{start:{line:30,column:4},end:{line:34,column:9}},13:{start:{line:36,column:2},end:{line:36,column:15}},14:{start:{line:39,column:24},end:{line:42,column:3}},15:{start:{line:44,column:4},end:{line:44,column:17}},16:{start:{line:45,column:4},end:{line:47,column:6}},17:{start:{line:49,column:12},end:{line:55,column:3}},18:{start:{line:50,column:4},end:{line:52,column:7}},19:{start:{line:53,column:4},end:{line:54,column:30}},20:{start:{line:54,column:6},end:{line:54,column:30}},21:{start:{line:56,column:13},end:{line:61,column:3}},22:{start:{line:57,column:4},end:{line:59,column:7}},23:{start:{line:60,column:4},end:{line:60,column:29}},24:{start:{line:63,column:4},end:{line:74,column:9}}},fnMap:{0:{name:"validate",decl:{start:{line:5,column:9},end:{line:5,column:17}},loc:{start:{line:5,column:23},end:{line:37,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:32},end:{line:17,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:19},end:{line:41,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:21},end:{line:48,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:49,column:12},end:{line:49,column:13}},loc:{start:{line:49,column:21},end:{line:55,column:3}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:56,column:13},end:{line:56,column:14}},loc:{start:{line:56,column:22},end:{line:61,column:3}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:11},end:{line:75,column:3}},line:62}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:20,column:2},end:{line:35,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:35,column:3}},{start:{line:29,column:9},end:{line:35,column:3}}],line:20},2:{loc:{start:{line:23,column:6},end:{line:27,column:10}},type:"cond-expr",locations:[{start:{line:23,column:30},end:{line:23,column:67}},{start:{line:23,column:86},end:{line:27,column:10}}],line:23},3:{loc:{start:{line:29,column:9},end:{line:35,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:35,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},4:{loc:{start:{line:29,column:13},end:{line:29,column:86}},type:"binary-expr",locations:[{start:{line:29,column:13},end:{line:29,column:21}},{start:{line:29,column:25},end:{line:29,column:45}},{start:{line:29,column:49},end:{line:29,column:86}}],line:29},5:{loc:{start:{line:53,column:4},end:{line:54,column:30}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4Bc,SACA,UADA,KACA,YADA;AA5Bd,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAGvB,SAAS,SAAS,KAAa;AAC7B,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,YACE,qBAAC,cAAW;AAAA;AAAA,MAER,QACI,oBAAC,UAAK,sBAAQ,IACd,iCAAE;AAAA,4BAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO;AAAA,OAEvD;AAAA,EAEJ,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,qBAAC,cAAW;AAAA;AAAA,MACyE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G;AAAA,EAEJ;AAEA,SAAO;AACT;AAoBA,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,KAAK;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5b54ee6ee8e2d0e65eef18505317af1d9042e5f0"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Li=function(){return a},a}Li();function w6(e){if(Li().f[0]++,Li().s[0]++,e===""){Li().b[0][0]++,Li().s[1]++;return}else Li().b[0][1]++;let t;Li().s[2]++;const n=o=>{Li().f[1]++,Li().s[3]++;try{const a=(Li().s[4]++,new URL(o));return Li().s[5]++,a.protocol}catch{Li().s[6]++;return}},r=(Li().s[7]++,n(e)),i=(Li().s[8]++,window.location.protocol==="https:");return Li().s[9]++,r?(Li().b[1][1]++,Li().s[11]++,Li().b[4][0]++,r&&(Li().b[4][1]++,r==="http:")&&(Li().b[4][2]++,window.location.protocol==="https:")?(Li().b[3][0]++,Li().s[12]++,t=W.jsxs(WD,{children:["CORS policy won't allow fetching resources served over http from https, use a ",W.jsx("code",{children:"https://"})," domain"]})):Li().b[3][1]++):(Li().b[1][0]++,Li().s[10]++,t=W.jsxs(WD,{children:["Must provide protocol ",i?(Li().b[2][0]++,W.jsx("code",{children:"https://"})):(Li().b[2][1]++,W.jsxs(W.Fragment,{children:[W.jsx("code",{children:"http://"})," or ",W.jsx("code",{children:"https://"})]}))]})),Li().s[13]++,t}var N6;let y9=(N6=class extends Mn.Component{constructor(n){Li().f[3]++,Li().s[15]++;super(n);on(this,"onInput",(Li().s[17]++,n=>{Li().f[4]++,Li().s[18]++,this.setState({error:w6(n)}),Li().s[19]++,this.props.onInput?(Li().b[5][0]++,Li().s[20]++,this.props.onInput(n)):Li().b[5][1]++}));on(this,"onChange",(Li().s[21]++,n=>{Li().f[5]++,Li().s[22]++,this.setState({error:w6(n)}),Li().s[23]++,this.props.onChange(n)}));Li().s[16]++,this.state={error:w6(n.value)}}render(){return Li().f[6]++,Li().s[24]++,W.jsxs("div",{children:[W.jsx(sd,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}},on(N6,"defaultProps",(Li().s[14]++,{onInput:()=>{Li().f[2]++}})),N6);function Ar(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputDynamicArray.tsx",t="b0e4b33d915c424aefb17fd89773855f97cf229e",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:13,column:19},end:{line:13,column:39}},1:{start:{line:14,column:4},end:{line:14,column:27}},2:{start:{line:15,column:4},end:{line:16,column:34}},3:{start:{line:16,column:6},end:{line:16,column:34}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:36,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:35,column:34}},17:{start:{line:35,column:6},end:{line:35,column:34}},18:{start:{line:38,column:19},end:{line:38,column:39}},19:{start:{line:39,column:4},end:{line:39,column:31}},20:{start:{line:40,column:4},end:{line:41,column:63}},21:{start:{line:41,column:6},end:{line:41,column:63}},22:{start:{line:44,column:19},end:{line:98,column:6}},23:{start:{line:45,column:45},end:{line:45,column:117}},24:{start:{line:47,column:6},end:{line:85,column:7}},25:{start:{line:48,column:8},end:{line:55,column:10}},26:{start:{line:56,column:13},end:{line:85,column:7}},27:{start:{line:57,column:8},end:{line:64,column:10}},28:{start:{line:65,column:13},end:{line:85,column:7}},29:{start:{line:66,column:24},end:{line:66,column:99}},30:{start:{line:66,column:78},end:{line:66,column:98}},31:{start:{line:67,column:8},end:{line:75,column:10}},32:{start:{line:77,column:8},end:{line:84,column:10}},33:{start:{line:86,column:6},end:{line:97,column:8}},34:{start:{line:99,column:4},end:{line:109,column:9}},35:{start:{line:114,column:4},end:{line:127,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:29},end:{line:17,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:36,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:24},end:{line:42,column:3}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:110,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:98,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:66,column:70},end:{line:66,column:71}},loc:{start:{line:66,column:78},end:{line:66,column:98}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:11},end:{line:128,column:3}},line:113}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:16,column:34}},type:"if",locations:[{start:{line:15,column:4},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:35,column:34}},type:"if",locations:[{start:{line:34,column:4},end:{line:35,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:40,column:4},end:{line:41,column:63}},type:"if",locations:[{start:{line:40,column:4},end:{line:41,column:63}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},7:{loc:{start:{line:41,column:26},end:{line:41,column:61}},type:"cond-expr",locations:[{start:{line:41,column:46},end:{line:41,column:52}},{start:{line:41,column:55},end:{line:41,column:61}}],line:41},8:{loc:{start:{line:47,column:6},end:{line:85,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:85,column:7}},{start:{line:56,column:13},end:{line:85,column:7}}],line:47},9:{loc:{start:{line:53,column:26},end:{line:53,column:70}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:50}},{start:{line:53,column:54},end:{line:53,column:70}}],line:53},10:{loc:{start:{line:56,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:56,column:13},end:{line:85,column:7}},{start:{line:65,column:13},end:{line:85,column:7}}],line:56},11:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},12:{loc:{start:{line:65,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:85,column:7}},{start:{line:76,column:13},end:{line:85,column:7}}],line:65},13:{loc:{start:{line:73,column:26},end:{line:73,column:70}},type:"binary-expr",locations:[{start:{line:73,column:26},end:{line:73,column:50}},{start:{line:73,column:54},end:{line:73,column:70}}],line:73},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAiE4B,cAiCf,YAjCe;AAjE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AAEvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAiBrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB,oBAAC,0BAAuB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC,GAAG;AACvF,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EAEJ;AACF;AAMA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAM;AAAA,QAEN;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b0e4b33d915c424aefb17fd89773855f97cf229e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ar=function(){return a},a}Ar();let r$=class extends Mn.Component{constructor(){super(...arguments);on(this,"addValue",(Ar().s[5]++,()=>{Ar().f[2]++;const n=(Ar().s[6]++,this.values.slice(0));if(Ar().s[7]++,this.props.type==="number")Ar().b[2][0]++,Ar().s[8]++,n.push(0);else if(Ar().b[2][1]++,Ar().s[9]++,this.props.type==="url")Ar().b[3][0]++,Ar().s[10]++,n.push("");else if(Ar().b[3][1]++,Ar().s[11]++,this.props.type==="enum"){Ar().b[4][0]++;const{fieldSpec:r}=(Ar().s[12]++,this.props),i=(Ar().s[13]++,Object.keys(r.values)[0]);Ar().s[14]++,n.push(i)}else Ar().b[4][1]++,Ar().s[15]++,n.push("");Ar().s[16]++,this.props.onChange?(Ar().b[5][0]++,Ar().s[17]++,this.props.onChange(n)):Ar().b[5][1]++}))}changeValue(n,r){Ar().f[0]++;const i=(Ar().s[0]++,this.values.slice(0));Ar().s[1]++,i[n]=r,Ar().s[2]++,this.props.onChange?(Ar().b[0][0]++,Ar().s[3]++,this.props.onChange(i)):Ar().b[0][1]++}get values(){return Ar().f[1]++,Ar().s[4]++,Ar().b[1][0]++,this.props.value||(Ar().b[1][1]++,this.props.default)||(Ar().b[1][2]++,[])}deleteValue(n){Ar().f[3]++;const r=(Ar().s[18]++,this.values.slice(0));Ar().s[19]++,r.splice(n,1),Ar().s[20]++,this.props.onChange?(Ar().b[6][0]++,Ar().s[21]++,this.props.onChange(r.length>0?(Ar().b[7][0]++,r):(Ar().b[7][1]++,void 0))):Ar().b[6][1]++}render(){Ar().f[4]++;const n=(Ar().s[22]++,this.values.map((r,i)=>{var s;Ar().f[5]++;const o=(Ar().s[23]++,W.jsx(h8e,{onClick:this.deleteValue.bind(this,i)}));let a;if(Ar().s[24]++,this.props.type==="url")Ar().b[8][0]++,Ar().s[25]++,a=W.jsx(y9,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(Ar().b[9][0]++,this.props["aria-label"]||(Ar().b[9][1]++,this.props.label))});else if(Ar().b[8][1]++,Ar().s[26]++,this.props.type==="number")Ar().b[10][0]++,Ar().s[27]++,a=W.jsx(Zf,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(Ar().b[11][0]++,this.props["aria-label"]||(Ar().b[11][1]++,this.props.label))});else if(Ar().b[10][1]++,Ar().s[28]++,this.props.type==="enum"){Ar().b[12][0]++;const h=(Ar().s[29]++,Object.keys((s=this.props.fieldSpec)==null?void 0:s.values).map(m=>(Ar().f[6]++,Ar().s[30]++,[m,jI(m)])));Ar().s[31]++,a=W.jsx(g9,{options:h,value:r,onChange:this.changeValue.bind(this,i),"aria-label":(Ar().b[13][0]++,this.props["aria-label"]||(Ar().b[13][1]++,this.props.label))})}else Ar().b[12][1]++,Ar().s[32]++,a=W.jsx(sd,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(Ar().b[14][0]++,this.props["aria-label"]||(Ar().b[14][1]++,this.props.label))});return Ar().s[33]++,W.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[W.jsx("div",{className:"maputnik-array-block-action",children:o}),W.jsx("div",{className:"maputnik-array-block-content",children:a})]},i)}));return Ar().s[34]++,W.jsxs("div",{className:"maputnik-array",children:[n,W.jsx(Ta,{className:"maputnik-array-add-value",onClick:this.addValue,children:"Add value"})]})}};class h8e extends Mn.Component{render(){return Ar().f[7]++,Ar().s[35]++,W.jsx(Ta,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove array item",children:W.jsx(MI,{label:W.jsx(Iv,{})})})}}function aa(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputFont.tsx",t="b305fff65ec303fbcedc6aebe5370d68f0f1f00c",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b305fff65ec303fbcedc6aebe5370d68f0f1f00c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return aa=function(){return a},a}aa();class i$ extends Mn.Component{get values(){aa().f[0]++;const t=(aa().s[1]++,aa().b[0][0]++,this.props.value||(aa().b[0][1]++,this.props.default)||(aa().b[0][2]++,[]));return aa().s[2]++,t[t.length-1]!==""?(aa().b[1][0]++,aa().s[3]++,t.concat("")):(aa().b[1][1]++,aa().s[4]++,t)}changeFont(t,n){aa().f[1]++;const r=(aa().s[5]++,this.values.slice(0));aa().s[6]++,r[t]=n;const i=(aa().s[7]++,r.filter(o=>(aa().f[2]++,aa().s[8]++,o!==void 0)).filter(o=>(aa().f[3]++,aa().s[9]++,o!=="")));aa().s[10]++,this.props.onChange(i)}render(){aa().f[4]++;const t=(aa().s[11]++,this.values.map((n,r)=>{var i;return aa().f[5]++,aa().s[12]++,W.jsx("li",{children:W.jsx(Uv,{"aria-label":(aa().b[2][0]++,this.props["aria-label"]||(aa().b[2][1]++,this.props.name)),value:n,options:(i=this.props.fonts)==null?void 0:i.map(o=>(aa().f[6]++,aa().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return aa().s[14]++,W.jsx("ul",{className:"maputnik-font",children:t})}}on(i$,"defaultProps",(aa().s[0]++,{fonts:[]}));function Ii(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputSpec.tsx",t="4b7fbd442cad13ea51120af01b64fafbc8d54267",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:115,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:114,column:20}},21:{start:{line:118,column:4},end:{line:118,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:116,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:117,column:2},end:{line:117,column:3}},loc:{start:{line:117,column:11},end:{line:119,column:3}},line:117}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:115,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:114,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAyDM;AAzDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4b7fbd442cad13ea51120af01b64fafbc8d54267"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ii=function(){return a},a}Ii();const f8e=(Ii().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let tv=class extends Mn.Component{childNodes(){var n,r;Ii().f[0]++;const t=(Ii().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(n=this.props.fieldSpec)==null?void 0:n.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:i=>(Ii().f[1]++,Ii().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(Ii().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return Ii().b[0][0]++,Ii().s[4]++,W.jsx(Zf,{...t,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":Ii().b[0][1]++;{const i=(Ii().s[5]++,Object.keys((Ii().b[1][0]++,this.props.fieldSpec.values||(Ii().b[1][1]++,[]))).map(o=>(Ii().f[2]++,Ii().s[6]++,[o,jI(o)])));return Ii().s[7]++,W.jsx(g9,{...t,options:i})}case"resolvedImage":Ii().b[0][2]++;case"formatted":Ii().b[0][3]++;case"string":if(Ii().b[0][4]++,Ii().s[8]++,f8e.indexOf(this.props.fieldName)>=0){Ii().b[2][0]++;const i=(Ii().s[9]++,Ii().b[3][0]++,this.props.fieldSpec.values||(Ii().b[3][1]++,[]));return Ii().s[10]++,W.jsx(Uv,{...t,options:i.map(o=>(Ii().f[3]++,Ii().s[11]++,[o,o]))})}else return Ii().b[2][1]++,Ii().s[12]++,W.jsx(sd,{...t});case"color":return Ii().b[0][5]++,Ii().s[13]++,W.jsx(t$,{...t});case"boolean":return Ii().b[0][6]++,Ii().s[14]++,W.jsx(rM,{...t});case"array":return Ii().b[0][7]++,Ii().s[15]++,this.props.fieldName==="text-font"?(Ii().b[4][0]++,Ii().s[16]++,W.jsx(i$,{...t,fonts:this.props.fieldSpec.values})):(Ii().b[4][1]++,Ii().s[17]++,this.props.fieldSpec.length?(Ii().b[5][0]++,Ii().s[18]++,W.jsx(n$,{...t,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(Ii().b[5][1]++,Ii().s[19]++,W.jsx(r$,{...t,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return Ii().b[0][8]++,Ii().s[20]++,null}}render(){return Ii().f[4]++,Ii().s[21]++,W.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function Hl(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Fieldset.tsx",t="47cad177391f00840d3796e11ff590785111f6d2",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAAgD;AACvD,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"47cad177391f00840d3796e11ff590785111f6d2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Hl=function(){return a},a}Hl();class bb extends Mn.Component{constructor(n){Hl().f[0]++,Hl().s[0]++;super(n);on(this,"_labelId");on(this,"onToggleDoc",(Hl().s[3]++,n=>{Hl().f[1]++,Hl().s[4]++,this.setState({showDoc:n})}));Hl().s[1]++,this._labelId=vv("fieldset_label_"),Hl().s[2]++,this.state={showDoc:!1}}render(){return Hl().f[2]++,Hl().s[5]++,W.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(Hl().b[0][0]++,this.props.fieldSpec&&(Hl().b[0][1]++,W.jsx("div",{className:"maputnik-input-block-label",children:W.jsx(MI,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(Hl().b[1][0]++,!this.props.fieldSpec&&(Hl().b[1][1]++,W.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),W.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),W.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(Hl().b[2][0]++,this.props.fieldSpec&&(Hl().b[2][1]++,W.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Hl().b[3][0]++,""):(Hl().b[3][1]++,"none")},children:W.jsx(SI,{fieldSpec:this.props.fieldSpec})})))]})}}function qo(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SpecField.tsx",t="b7e7e8cec1d5c551dc20261d888ba8a91edf2070",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b7e7e8cec1d5c551dc20261d888ba8a91edf2070"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return qo=function(){return a},a}qo();const p8e=(qo().s[0]++,{color:()=>(qo().f[0]++,qo().s[1]++,la),enum:({fieldSpec:e})=>(qo().f[1]++,qo().s[2]++,Object.keys(e.values).length<=3?(qo().b[0][0]++,bb):(qo().b[0][1]++,la)),boolean:()=>(qo().f[2]++,qo().s[3]++,la),array:()=>(qo().f[3]++,qo().s[4]++,bb),resolvedImage:()=>(qo().f[4]++,qo().s[5]++,la),number:()=>(qo().f[5]++,qo().s[6]++,la),string:()=>(qo().f[6]++,qo().s[7]++,la),formatted:()=>(qo().f[7]++,qo().s[8]++,la),padding:()=>(qo().f[8]++,qo().s[9]++,la)});class m8e extends Mn.Component{render(){var i;qo().f[9]++;const t=(qo().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),n=(qo().s[11]++,p8e[t]);let r;return qo().s[12]++,n?(qo().b[1][0]++,qo().s[13]++,r=n(this.props)):(qo().b[1][1]++,qo().s[14]++,console.warn("No such type for '%s'",t),qo().s[15]++,r=la),qo().s[16]++,W.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:W.jsx(tv,{...this.props})})}}function Cc(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_FunctionButtons.tsx",t="2e9523b6461e208d330c1e80a9b1da94893fd61a",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:46,column:5}},1:{start:{line:10,column:6},end:{line:18,column:8}},2:{start:{line:19,column:6},end:{line:27,column:8}},3:{start:{line:28,column:6},end:{line:38,column:7}},4:{start:{line:29,column:8},end:{line:37,column:10}},5:{start:{line:39,column:6},end:{line:43,column:11}},6:{start:{line:45,column:6},end:{line:45,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:47,column:3}},line:7}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:46,column:5}},{start:{line:44,column:11},end:{line:46,column:5}}],line:9},1:{loc:{start:{line:28,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:38,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AAyBY,cAsBC,YAtBD;AAzBZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AASjC,qBAAqB,6BAA6B,MAAM,UAAqC;AAAA,EAC3F,SAAS;AACP,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAM;AAAA,YAEN,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2e9523b6461e208d330c1e80a9b1da94893fd61a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Cc=function(){return a},a}Cc();class g8e extends Mn.Component{render(){Cc().f[0]++;let t,n,r;return Cc().s[0]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(Cc().b[0][0]++,Cc().s[1]++,r=W.jsx(Ta,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:"Convert to expression",children:W.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:_b})})}),Cc().s[2]++,t=W.jsx(Ta,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:"Convert property into a zoom function",children:W.jsx($te,{})}),Cc().s[3]++,this.props.fieldSpec["property-type"]==="data-driven"?(Cc().b[1][0]++,Cc().s[4]++,n=W.jsx(Ta,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:"Convert property to data function",children:W.jsx(Yte,{})})):Cc().b[1][1]++,Cc().s[5]++,W.jsxs("div",{children:[r,n,t]})):(Cc().b[0][1]++,Cc().s[6]++,W.jsx("div",{children:r}))}}function If(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_SpecProperty.tsx",t="29cb6a99332016c8b57ddc76515503c60bbd5f3c",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"29cb6a99332016c8b57ddc76515503c60bbd5f3c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return If=function(){return a},a}If();class o$ extends Mn.Component{render(){If().f[0]++;const{errors:t,fieldName:n,fieldType:r}=(If().s[1]++,this.props),i=(If().s[2]++,W.jsx(g8e,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(If().s[3]++,t[r+"."+n]);return If().s[4]++,W.jsx(m8e,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:zw((If().b[0][0]++,this.props.fieldName||(If().b[0][1]++,""))),action:i})}}on(o$,"defaultProps",(If().s[0]++,{errors:{}}));function _c(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/sort-numerically.ts",t="1e117dca2d4c71938b221aaebb5fc79a1c4b35ba",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1e117dca2d4c71938b221aaebb5fc79a1c4b35ba"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return _c=function(){return a},a}_c();function a$(e,t){_c().f[0]++;const n=(_c().s[0]++,+e),r=(_c().s[1]++,+t);return _c().s[2]++,n<r?(_c().b[0][0]++,_c().s[3]++,-1):(_c().b[0][1]++,_c().s[4]++,n>r?(_c().b[1][0]++,_c().s[5]++,1):(_c().b[1][1]++,_c().s[6]++,0))}function Bh(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/spec-helper.ts",t="6ff608b689a4c1111e01225305bc80157493ca62",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ff608b689a4c1111e01225305bc80157493ca62"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Bh=function(){return a},a}Bh();function Pd(e){if(Bh().f[0]++,Bh().s[0]++,Object.prototype.hasOwnProperty.call(e,"default"))return Bh().b[0][0]++,Bh().s[1]++,e.default;Bh().b[0][1]++;const t=(Bh().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return Bh().s[3]++,Bh().b[1][0]++,t[e.type]||(Bh().b[1][1]++,"")}function s5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_DeleteStopButton.tsx",t="8ef54ed5e443d413b482515084381269cd05ec72",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:15,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:16,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAQvB,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO;AAAA,QAEP,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8ef54ed5e443d413b482515084381269cd05ec72"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return s5=function(){return a},a}s5();class s$ extends Mn.Component{render(){return s5().f[0]++,s5().s[0]++,W.jsx(Ta,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove zoom level from stop",children:W.jsx(Iv,{})})}}function Wt(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_DataProperty.tsx",t="83407ebb6a1598e2e38cd5e3093e614ad62c5e49",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:27,column:3}},1:{start:{line:19,column:4},end:{line:26,column:7}},2:{start:{line:20,column:6},end:{line:25,column:7}},3:{start:{line:21,column:8},end:{line:23,column:9}},4:{start:{line:22,column:10},end:{line:22,column:33}},5:{start:{line:24,column:8},end:{line:24,column:39}},6:{start:{line:28,column:2},end:{line:28,column:17}},7:{start:{line:31,column:10},end:{line:33,column:3}},8:{start:{line:35,column:20},end:{line:35,column:55}},9:{start:{line:36,column:4},end:{line:40,column:5}},10:{start:{line:37,column:6},end:{line:39,column:9}},11:{start:{line:43,column:20},end:{line:43,column:45}},12:{start:{line:44,column:4},end:{line:48,column:5}},13:{start:{line:45,column:6},end:{line:47,column:8}},14:{start:{line:49,column:4},end:{line:49,column:16}},15:{start:{line:52,column:4},end:{line:54,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:4},end:{line:57,column:5}},18:{start:{line:56,column:6},end:{line:56,column:24}},19:{start:{line:58,column:4},end:{line:58,column:25}},20:{start:{line:61,column:4},end:{line:65,column:5}},21:{start:{line:62,column:6},end:{line:62,column:83}},22:{start:{line:64,column:6},end:{line:64,column:53}},23:{start:{line:69,column:26},end:{line:74,column:70}},24:{start:{line:70,column:6},end:{line:73,column:8}},25:{start:{line:74,column:22},end:{line:74,column:69}},26:{start:{line:75,column:20},end:{line:75,column:22}},27:{start:{line:76,column:4},end:{line:78,column:7}},28:{start:{line:77,column:6},end:{line:77,column:30}},29:{start:{line:79,column:4},end:{line:81,column:7}},30:{start:{line:82,column:4},end:{line:82,column:50}},31:{start:{line:82,column:39},end:{line:82,column:48}},32:{start:{line:84,column:13},end:{line:104,column:3}},33:{start:{line:85,column:4},end:{line:102,column:5}},34:{start:{line:86,column:6},end:{line:89,column:8}},35:{start:{line:91,column:24},end:{line:91,column:61}},36:{start:{line:92,column:6},end:{line:101,column:8}},37:{start:{line:103,column:4},end:{line:103,column:42}},38:{start:{line:106,column:18},end:{line:106,column:56}},39:{start:{line:107,column:4},end:{line:113,column:6}},40:{start:{line:114,column:25},end:{line:114,column:53}},41:{start:{line:115,column:25},end:{line:118,column:5}},42:{start:{line:119,column:4},end:{line:119,column:54}},43:{start:{line:122,column:25},end:{line:125,column:5}},44:{start:{line:126,column:4},end:{line:128,column:5}},45:{start:{line:127,column:6},end:{line:127,column:34}},46:{start:{line:129,column:4},end:{line:129,column:60}},47:{start:{line:132,column:4},end:{line:139,column:5}},48:{start:{line:133,column:6},end:{line:133,column:42}},49:{start:{line:135,column:6},end:{line:138,column:9}},50:{start:{line:142,column:4},end:{line:146,column:5}},51:{start:{line:143,column:6},end:{line:143,column:43}},52:{start:{line:145,column:6},end:{line:145,column:40}},53:{start:{line:147,column:4},end:{line:147,column:58}},54:{start:{line:150,column:4},end:{line:152,column:5}},55:{start:{line:151,column:6},end:{line:151,column:78}},56:{start:{line:154,column:4},end:{line:202,column:5}},57:{start:{line:155,column:6},end:{line:201,column:9}},58:{start:{line:156,column:26},end:{line:156,column:77}},59:{start:{line:157,column:20},end:{line:157,column:40}},60:{start:{line:158,column:26},end:{line:158,column:79}},61:{start:{line:159,column:22},end:{line:159,column:29}},62:{start:{line:160,column:46},end:{line:160,column:122}},63:{start:{line:161,column:26},end:{line:166,column:9}},64:{start:{line:165,column:33},end:{line:165,column:97}},65:{start:{line:168,column:8},end:{line:172,column:9}},66:{start:{line:169,column:10},end:{line:169,column:73}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:24},end:{line:173,column:28}},69:{start:{line:174,column:8},end:{line:185,column:9}},70:{start:{line:175,column:10},end:{line:184,column:15}},71:{start:{line:180,column:37},end:{line:180,column:101}},72:{start:{line:186,column:8},end:{line:200,column:18}},73:{start:{line:196,column:41},end:{line:196,column:110}},74:{start:{line:203,column:4},end:{line:303,column:12}},75:{start:{line:214,column:39},end:{line:214,column:67}},76:{start:{line:232,column:43},end:{line:232,column:68}},77:{start:{line:247,column:39},end:{line:247,column:83}},78:{start:{line:263,column:42},end:{line:263,column:85}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:29,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:26,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:22},end:{line:41,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:48},end:{line:50,column:3}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:34},end:{line:59,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:34},end:{line:66,column:3}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:26},end:{line:83,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:69,column:36},end:{line:69,column:37}},loc:{start:{line:69,column:51},end:{line:74,column:5}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:74,column:69}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:26},end:{line:76,column:27}},loc:{start:{line:76,column:41},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:82,column:29},end:{line:82,column:30}},loc:{start:{line:82,column:39},end:{line:82,column:48}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:84,column:13},end:{line:84,column:14}},loc:{start:{line:84,column:35},end:{line:104,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:41},end:{line:120,column:3}},line:105},13:{name:"(anonymous_13)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:23},end:{line:130,column:3}},line:121},14:{name:"(anonymous_14)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:26},end:{line:140,column:3}},line:131},15:{name:"(anonymous_15)",decl:{start:{line:141,column:2},end:{line:141,column:3}},loc:{start:{line:141,column:40},end:{line:148,column:3}},line:141},16:{name:"(anonymous_16)",decl:{start:{line:149,column:2},end:{line:149,column:3}},loc:{start:{line:149,column:11},end:{line:304,column:3}},line:149},17:{name:"(anonymous_17)",decl:{start:{line:155,column:46},end:{line:155,column:47}},loc:{start:{line:155,column:61},end:{line:201,column:7}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:33},end:{line:165,column:97}},line:165},19:{name:"(anonymous_19)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:37},end:{line:180,column:101}},line:180},20:{name:"(anonymous_20)",decl:{start:{line:196,column:24},end:{line:196,column:25}},loc:{start:{line:196,column:41},end:{line:196,column:110}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:214,column:26},end:{line:214,column:27}},loc:{start:{line:214,column:39},end:{line:214,column:67}},line:214},22:{name:"(anonymous_22)",decl:{start:{line:232,column:26},end:{line:232,column:27}},loc:{start:{line:232,column:43},end:{line:232,column:68}},line:232},23:{name:"(anonymous_23)",decl:{start:{line:247,column:26},end:{line:247,column:27}},loc:{start:{line:247,column:39},end:{line:247,column:83}},line:247},24:{name:"(anonymous_24)",decl:{start:{line:263,column:26},end:{line:263,column:27}},loc:{start:{line:263,column:42},end:{line:263,column:85}},line:263}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:25,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},5:{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},6:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},9:{loc:{start:{line:85,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:102,column:5}},{start:{line:90,column:11},end:{line:102,column:5}}],line:85},10:{loc:{start:{line:91,column:24},end:{line:91,column:61}},type:"cond-expr",locations:[{start:{line:91,column:55},end:{line:91,column:57}},{start:{line:91,column:60},end:{line:91,column:61}}],line:91},11:{loc:{start:{line:106,column:18},end:{line:106,column:56}},type:"binary-expr",locations:[{start:{line:106,column:18},end:{line:106,column:50}},{start:{line:106,column:54},end:{line:106,column:56}}],line:106},12:{loc:{start:{line:110,column:14},end:{line:110,column:58}},type:"cond-expr",locations:[{start:{line:110,column:41},end:{line:110,column:42}},{start:{line:110,column:45},end:{line:110,column:58}}],line:110},13:{loc:{start:{line:126,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:128,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:126},14:{loc:{start:{line:132,column:4},end:{line:139,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:139,column:5}},{start:{line:134,column:11},end:{line:139,column:5}}],line:132},15:{loc:{start:{line:132,column:8},end:{line:132,column:70}},type:"binary-expr",locations:[{start:{line:132,column:8},end:{line:132,column:33}},{start:{line:132,column:37},end:{line:132,column:70}}],line:132},16:{loc:{start:{line:142,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:142,column:4},end:{line:146,column:5}},{start:{line:144,column:11},end:{line:146,column:5}}],line:142},17:{loc:{start:{line:150,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:150},18:{loc:{start:{line:154,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:202,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154},19:{loc:{start:{line:156,column:26},end:{line:156,column:77}},type:"cond-expr",locations:[{start:{line:156,column:56},end:{line:156,column:68}},{start:{line:156,column:71},end:{line:156,column:77}}],line:156},20:{loc:{start:{line:158,column:26},end:{line:158,column:79}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:69}},{start:{line:158,column:72},end:{line:158,column:79}}],line:158},21:{loc:{start:{line:168,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:172,column:9}},{start:{line:170,column:15},end:{line:172,column:9}}],line:168},22:{loc:{start:{line:174,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:174,column:8},end:{line:185,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},23:{loc:{start:{line:222,column:8},end:{line:237,column:9}},type:"binary-expr",locations:[{start:{line:222,column:8},end:{line:222,column:45}},{start:{line:222,column:65},end:{line:237,column:9}}],line:222},24:{loc:{start:{line:253,column:8},end:{line:268,column:9}},type:"binary-expr",locations:[{start:{line:253,column:8},end:{line:253,column:18}},{start:{line:253,column:38},end:{line:268,column:9}}],line:253},25:{loc:{start:{line:269,column:8},end:{line:277,column:15}},type:"binary-expr",locations:[{start:{line:269,column:8},end:{line:269,column:18}},{start:{line:269,column:38},end:{line:277,column:15}}],line:269},26:{loc:{start:{line:279,column:10},end:{line:289,column:11}},type:"binary-expr",locations:[{start:{line:279,column:10},end:{line:279,column:20}},{start:{line:279,column:40},end:{line:289,column:11}}],line:279}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAkO8B,cA8Bf,YA9Be;AAlO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAElC,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc;AAAA,UACd,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO;AAAA,gBACP,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,yBAAW;AAAA,YACf,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"83407ebb6a1598e2e38cd5e3093e614ad62c5e49"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Wt=function(){return a},a}Wt();function QD(e,t){Wt().f[0]++;let n;return Wt().s[0]++,Wt().b[1][0]++,e.value&&(Wt().b[1][1]++,e.value.stops)?(Wt().b[0][0]++,Wt().s[1]++,e.value.stops.forEach((r,i)=>{Wt().f[1]++,Wt().s[2]++,Object.prototype.hasOwnProperty.call(t.refs,i)?Wt().b[2][1]++:(Wt().b[2][0]++,Wt().s[3]++,n?Wt().b[3][1]++:(Wt().b[3][0]++,Wt().s[4]++,n={...t}),Wt().s[5]++,n[i]=vv("stop-"))})):Wt().b[0][1]++,Wt().s[6]++,n}class y8e extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Wt().s[7]++,{refs:{}}));on(this,"onChange",(Wt().s[32]++,(n,r)=>{if(Wt().f[11]++,Wt().s[33]++,r.type==="identity")Wt().b[9][0]++,Wt().s[34]++,r={type:r.type,property:r.property};else{Wt().b[9][1]++;const i=(Wt().s[35]++,r.type==="categorical"?(Wt().b[10][0]++,""):(Wt().b[10][1]++,0));Wt().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},Pd(this.props.fieldSpec)],[{zoom:10,value:i},Pd(this.props.fieldSpec)]],...r}}Wt().s[37]++,this.props.onChange(n,r)}))}componentDidMount(){Wt().f[2]++;const n=(Wt().s[8]++,QD(this.props,this.state));Wt().s[9]++,n?(Wt().b[4][0]++,Wt().s[10]++,this.setState({refs:n})):Wt().b[4][1]++}static getDerivedStateFromProps(n,r){Wt().f[3]++;const i=(Wt().s[11]++,QD(n,r));return Wt().s[12]++,i?(Wt().b[5][0]++,Wt().s[13]++,{refs:i}):(Wt().b[5][1]++,Wt().s[14]++,null)}getFieldFunctionType(n){return Wt().f[4]++,Wt().s[15]++,n.expression.interpolated?(Wt().b[6][0]++,Wt().s[16]++,"exponential"):(Wt().b[6][1]++,Wt().s[17]++,n.type==="number"?(Wt().b[7][0]++,Wt().s[18]++,"interval"):(Wt().b[7][1]++,Wt().s[19]++,"categorical"))}getDataFunctionTypes(n){return Wt().f[5]++,Wt().s[20]++,n.expression.interpolated?(Wt().b[8][0]++,Wt().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(Wt().b[8][1]++,Wt().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(n){Wt().f[6]++;const r=(Wt().s[23]++,n.map((o,a)=>(Wt().f[7]++,Wt().s[24]++,{ref:this.state.refs[a],data:o})).sort((o,a)=>(Wt().f[8]++,Wt().s[25]++,a$(o.data[0].zoom,a.data[0].zoom)))),i=(Wt().s[26]++,{});return Wt().s[27]++,r.forEach((o,a)=>{Wt().f[9]++,Wt().s[28]++,i[a]=o.ref}),Wt().s[29]++,this.setState({refs:i}),Wt().s[30]++,r.map(o=>(Wt().f[10]++,Wt().s[31]++,o.data))}changeStop(n,r,i){var h;Wt().f[12]++;const o=(Wt().s[38]++,Wt().b[11][0]++,((h=this.props.value)==null?void 0:h.stops.slice(0))||(Wt().b[11][1]++,[]));Wt().s[39]++,o[n]=[{value:r.value,zoom:r.zoom===void 0?(Wt().b[12][0]++,0):(Wt().b[12][1]++,r.zoom)},i];const a=(Wt().s[40]++,this.orderStopsByZoom(o)),s=(Wt().s[41]++,{...this.props.value,stops:a});Wt().s[42]++,this.onChange(this.props.fieldName,s)}changeBase(n){Wt().f[13]++;const r=(Wt().s[43]++,{...this.props.value,base:n});Wt().s[44]++,r.base===void 0?(Wt().b[13][0]++,Wt().s[45]++,delete r.base):Wt().b[13][1]++,Wt().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(n){Wt().f[14]++,Wt().s[47]++,Wt().b[15][0]++,n==="interpolate"&&(Wt().b[15][1]++,this.props.onChangeToZoomFunction)?(Wt().b[14][0]++,Wt().s[48]++,this.props.onChangeToZoomFunction()):(Wt().b[14][1]++,Wt().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:n}))}changeDataProperty(n,r){Wt().f[15]++,Wt().s[50]++,r?(Wt().b[16][0]++,Wt().s[51]++,this.props.value[n]=r):(Wt().b[16][1]++,Wt().s[52]++,delete this.props.value[n]),Wt().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var r,i,o,a,s,h,m,C;Wt().f[16]++,Wt().s[54]++,typeof((r=this.props.value)==null?void 0:r.type)>"u"?(Wt().b[17][0]++,Wt().s[55]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):Wt().b[17][1]++;let n;return Wt().s[56]++,(i=this.props.value)!=null&&i.stops?(Wt().b[18][0]++,Wt().s[57]++,n=this.props.value.stops.map((E,O)=>{var ye,be;Wt().f[17]++;const P=(Wt().s[58]++,typeof E[0]=="object"?(Wt().b[19][0]++,E[0].zoom):(Wt().b[19][1]++,void 0)),D=(Wt().s[59]++,this.state.refs[O]),$=(Wt().s[60]++,typeof E[0]=="object"?(Wt().b[20][0]++,E[0].value):(Wt().b[20][1]++,E[0])),ee=(Wt().s[61]++,E[1]),H=(Wt().s[62]++,W.jsx(s$,{onClick:(ye=this.props.onDeleteStop)==null?void 0:ye.bind(this,O)})),G=(Wt().s[63]++,{"aria-label":"Input value",label:"Data value",value:$,onChange:X=>(Wt().f[18]++,Wt().s[64]++,this.changeStop(O,{zoom:P,value:X},ee))});let Z;Wt().s[65]++,((be=this.props.value)==null?void 0:be.type)==="categorical"?(Wt().b[21][0]++,Wt().s[66]++,Z=W.jsx(sd,{...G})):(Wt().b[21][1]++,Wt().s[67]++,Z=W.jsx(Zf,{...G}));let ue=(Wt().s[68]++,null);return Wt().s[69]++,P!==void 0?(Wt().b[22][0]++,Wt().s[70]++,ue=W.jsx("div",{children:W.jsx(Zf,{"aria-label":"Zoom",value:P,onChange:X=>(Wt().f[19]++,Wt().s[71]++,this.changeStop(O,{zoom:X,value:$},ee)),min:0,max:22})})):Wt().b[22][1]++,Wt().s[72]++,W.jsxs("tr",{children:[W.jsx("td",{children:ue}),W.jsx("td",{children:Z}),W.jsx("td",{children:W.jsx(tv,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:ee,onChange:(X,se)=>(Wt().f[20]++,Wt().s[73]++,this.changeStop(O,{zoom:P,value:$},se))})}),W.jsx("td",{children:H})]},D)})):Wt().b[18][1]++,Wt().s[74]++,W.jsx("div",{className:"maputnik-data-spec-block",children:W.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[W.jsx("legend",{children:zw(this.props.fieldName)}),W.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[W.jsx(la,{label:"Function",children:W.jsx("div",{className:"maputnik-data-spec-property-input",children:W.jsx(eg,{value:this.props.value.type,onChange:E=>(Wt().f[21]++,Wt().s[75]++,this.changeDataType(E)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(Wt().b[23][0]++,((o=this.props.value)==null?void 0:o.type)!=="identity"&&(Wt().b[23][1]++,W.jsx(la,{label:"Base",children:W.jsx("div",{className:"maputnik-data-spec-property-input",children:W.jsx(tv,{fieldName:"base",fieldSpec:io.function.base,value:(a=this.props.value)==null?void 0:a.base,onChange:(E,O)=>(Wt().f[22]++,Wt().s[76]++,this.changeBase(O))})})},"base"))),W.jsx(la,{label:"Property",children:W.jsx("div",{className:"maputnik-data-spec-property-input",children:W.jsx(sd,{value:(s=this.props.value)==null?void 0:s.property,title:"Input a data property to base styles off of.",onChange:E=>(Wt().f[23]++,Wt().s[77]++,this.changeDataProperty("property",E))})})},"property"),(Wt().b[24][0]++,n&&(Wt().b[24][1]++,W.jsx(la,{label:"Default",children:W.jsx(tv,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(h=this.props.value)==null?void 0:h.default,onChange:(E,O)=>(Wt().f[24]++,Wt().s[78]++,this.changeDataProperty("default",O))})},"default"))),(Wt().b[25][0]++,n&&(Wt().b[25][1]++,W.jsx("div",{className:"maputnik-function-stop",children:W.jsxs("table",{className:"maputnik-function-stop-table",children:[W.jsx("caption",{children:"Stops"}),W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Zoom"}),W.jsx("th",{children:"Input value"}),W.jsx("th",{rowSpan:2,children:"Output value"})]})}),W.jsx("tbody",{children:n})]})}))),W.jsxs("div",{className:"maputnik-toolbox",children:[(Wt().b[26][0]++,n&&(Wt().b[26][1]++,W.jsxs(Ta,{className:"maputnik-add-stop",onClick:(m=this.props.onAddStop)==null?void 0:m.bind(this),children:[W.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:LI})})," Add stop"]}))),W.jsxs(Ta,{className:"maputnik-add-stop",onClick:(C=this.props.onExpressionClick)==null?void 0:C.bind(this),children:[W.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:_b})})," Convert to expression"]})]})]})]})})}}function zn(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_ZoomProperty.tsx",t="a6499a0eb950797e17ec03b838fc5d2b31cd20aa",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:15,column:16},end:{line:15,column:18}},1:{start:{line:16,column:2},end:{line:27,column:3}},2:{start:{line:17,column:4},end:{line:26,column:7}},3:{start:{line:18,column:6},end:{line:25,column:7}},4:{start:{line:19,column:8},end:{line:21,column:9}},5:{start:{line:20,column:10},end:{line:20,column:33}},6:{start:{line:22,column:8},end:{line:22,column:39}},7:{start:{line:24,column:8},end:{line:24,column:39}},8:{start:{line:28,column:2},end:{line:28,column:17}},9:{start:{line:31,column:24},end:{line:33,column:3}},10:{start:{line:34,column:10},end:{line:36,column:3}},11:{start:{line:38,column:20},end:{line:38,column:55}},12:{start:{line:39,column:4},end:{line:43,column:5}},13:{start:{line:40,column:6},end:{line:42,column:9}},14:{start:{line:46,column:20},end:{line:46,column:45}},15:{start:{line:47,column:4},end:{line:51,column:5}},16:{start:{line:48,column:6},end:{line:50,column:8}},17:{start:{line:52,column:4},end:{line:52,column:16}},18:{start:{line:56,column:26},end:{line:61,column:60}},19:{start:{line:57,column:6},end:{line:60,column:8}},20:{start:{line:61,column:22},end:{line:61,column:59}},21:{start:{line:62,column:20},end:{line:62,column:22}},22:{start:{line:63,column:4},end:{line:65,column:7}},23:{start:{line:64,column:6},end:{line:64,column:30}},24:{start:{line:66,column:4},end:{line:68,column:7}},25:{start:{line:69,column:4},end:{line:69,column:50}},26:{start:{line:69,column:39},end:{line:69,column:48}},27:{start:{line:72,column:18},end:{line:72,column:49}},28:{start:{line:73,column:4},end:{line:73,column:41}},29:{start:{line:74,column:25},end:{line:74,column:53}},30:{start:{line:75,column:25},end:{line:78,column:5}},31:{start:{line:79,column:4},end:{line:79,column:60}},32:{start:{line:82,column:25},end:{line:85,column:5}},33:{start:{line:86,column:4},end:{line:88,column:5}},34:{start:{line:87,column:6},end:{line:87,column:34}},35:{start:{line:89,column:4},end:{line:89,column:60}},36:{start:{line:91,column:19},end:{line:95,column:3}},37:{start:{line:92,column:4},end:{line:94,column:5}},38:{start:{line:93,column:6},end:{line:93,column:46}},39:{start:{line:97,column:23},end:{line:131,column:6}},40:{start:{line:98,column:24},end:{line:98,column:31}},41:{start:{line:99,column:18},end:{line:99,column:38}},42:{start:{line:100,column:20},end:{line:100,column:27}},43:{start:{line:101,column:44},end:{line:101,column:120}},44:{start:{line:102,column:6},end:{line:130,column:8}},45:{start:{line:111,column:43},end:{line:111,column:87}},46:{start:{line:123,column:43},end:{line:123,column:88}},47:{start:{line:132,column:4},end:{line:198,column:12}},48:{start:{line:143,column:39},end:{line:143,column:67}},49:{start:{line:160,column:43},end:{line:160,column:68}},50:{start:{line:201,column:4},end:{line:205,column:5}},51:{start:{line:202,column:6},end:{line:202,column:83}},52:{start:{line:204,column:6},end:{line:204,column:29}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:14,column:9},end:{line:14,column:20}},loc:{start:{line:14,column:35},end:{line:29,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:17,column:30},end:{line:17,column:31}},loc:{start:{line:17,column:45},end:{line:26,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:22},end:{line:44,column:3}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:48},end:{line:53,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:26},end:{line:70,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:36},end:{line:56,column:37}},loc:{start:{line:56,column:51},end:{line:61,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:61,column:12},end:{line:61,column:13}},loc:{start:{line:61,column:22},end:{line:61,column:59}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:41},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:69,column:29},end:{line:69,column:30}},loc:{start:{line:69,column:39},end:{line:69,column:48}},line:69},9:{name:"(anonymous_9)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:45},end:{line:80,column:3}},line:71},10:{name:"(anonymous_10)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:23},end:{line:90,column:3}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:91,column:19},end:{line:91,column:20}},loc:{start:{line:91,column:29},end:{line:95,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:11},end:{line:199,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:97,column:51},end:{line:97,column:52}},loc:{start:{line:97,column:66},end:{line:131,column:5}},line:97},14:{name:"(anonymous_14)",decl:{start:{line:111,column:26},end:{line:111,column:27}},loc:{start:{line:111,column:43},end:{line:111,column:87}},line:111},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:43},end:{line:123,column:88}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:143,column:26},end:{line:143,column:27}},loc:{start:{line:143,column:39},end:{line:143,column:67}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:160,column:26},end:{line:160,column:27}},loc:{start:{line:160,column:43},end:{line:160,column:68}},line:160},18:{name:"(anonymous_18)",decl:{start:{line:200,column:2},end:{line:200,column:3}},loc:{start:{line:200,column:34},end:{line:206,column:3}},line:200}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:16,column:6},end:{line:16,column:38}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:17}},{start:{line:16,column:21},end:{line:16,column:38}}],line:16},2:{loc:{start:{line:18,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:25,column:7}},{start:{line:23,column:13},end:{line:25,column:7}}],line:18},3:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},4:{loc:{start:{line:39,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:43,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},5:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},7:{loc:{start:{line:92,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},8:{loc:{start:{line:92,column:8},end:{line:92,column:67}},type:"binary-expr",locations:[{start:{line:92,column:8},end:{line:92,column:30}},{start:{line:92,column:34},end:{line:92,column:67}}],line:92},9:{loc:{start:{line:201,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:201,column:4},end:{line:205,column:5}},{start:{line:203,column:11},end:{line:205,column:5}}],line:201}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA8J2B,cACd,YADc;AA9J3B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAe,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC1F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK;AAAA,MAuBP;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a6499a0eb950797e17ec03b838fc5d2b31cd20aa"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zn=function(){return a},a}zn();function $D(e,t){zn().f[0]++;let n=(zn().s[0]++,{});return zn().s[1]++,zn().b[1][0]++,e.value&&(zn().b[1][1]++,e.value.stops)?(zn().b[0][0]++,zn().s[2]++,e.value.stops.forEach((r,i)=>{zn().f[1]++,zn().s[3]++,Object.prototype.hasOwnProperty.call(!t.refs,i)?(zn().b[2][0]++,zn().s[4]++,n?zn().b[3][1]++:(zn().b[3][0]++,zn().s[5]++,n={...t}),zn().s[6]++,n[i]=vv("stop-")):(zn().b[2][1]++,zn().s[7]++,n[i]=t.refs[i])})):zn().b[0][1]++,zn().s[8]++,n}class l$ extends Mn.Component{constructor(){super(...arguments);on(this,"state",(zn().s[10]++,{refs:{}}));on(this,"changeDataType",(zn().s[36]++,n=>{zn().f[11]++,zn().s[37]++,zn().b[8][0]++,n!=="interpolate"&&(zn().b[8][1]++,this.props.onChangeToDataFunction)?(zn().b[7][0]++,zn().s[38]++,this.props.onChangeToDataFunction(n)):zn().b[7][1]++}))}componentDidMount(){zn().f[2]++;const n=(zn().s[11]++,$D(this.props,this.state));zn().s[12]++,n?(zn().b[4][0]++,zn().s[13]++,this.setState({refs:n})):zn().b[4][1]++}static getDerivedStateFromProps(n,r){zn().f[3]++;const i=(zn().s[14]++,$D(n,r));return zn().s[15]++,i?(zn().b[5][0]++,zn().s[16]++,{refs:i}):(zn().b[5][1]++,zn().s[17]++,null)}orderStopsByZoom(n){zn().f[4]++;const r=(zn().s[18]++,n.map((o,a)=>(zn().f[5]++,zn().s[19]++,{ref:this.state.refs[a],data:o})).sort((o,a)=>(zn().f[6]++,zn().s[20]++,a$(o.data[0],a.data[0])))),i=(zn().s[21]++,{});return zn().s[22]++,r.forEach((o,a)=>{zn().f[7]++,zn().s[23]++,i[a]=o.ref}),zn().s[24]++,this.setState({refs:i}),zn().s[25]++,r.map(o=>(zn().f[8]++,zn().s[26]++,o.data))}changeZoomStop(n,r,i){zn().f[9]++;const o=(zn().s[27]++,this.props.value.stops.slice(0));zn().s[28]++,o[n]=[r,i];const a=(zn().s[29]++,this.orderStopsByZoom(o)),s=(zn().s[30]++,{...this.props.value,stops:a});zn().s[31]++,this.props.onChange(this.props.fieldName,s)}changeBase(n){zn().f[10]++;const r=(zn().s[32]++,{...this.props.value,base:n});zn().s[33]++,r.base===void 0?(zn().b[6][0]++,zn().s[34]++,delete r.base):zn().b[6][1]++,zn().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var r,i,o,a;zn().f[12]++;const n=(zn().s[39]++,(r=this.props.value)==null?void 0:r.stops.map((s,h)=>{var P;zn().f[13]++;const m=(zn().s[40]++,s[0]),C=(zn().s[41]++,this.state.refs[h]),E=(zn().s[42]++,s[1]),O=(zn().s[43]++,W.jsx(s$,{onClick:(P=this.props.onDeleteStop)==null?void 0:P.bind(this,h)}));return zn().s[44]++,W.jsxs("tr",{children:[W.jsx("td",{children:W.jsx(Zf,{"aria-label":"Zoom",value:m,onChange:D=>(zn().f[14]++,zn().s[45]++,this.changeZoomStop(h,D,E)),min:0,max:22})}),W.jsx("td",{children:W.jsx(tv,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:E,onChange:(D,$)=>(zn().f[15]++,zn().s[46]++,this.changeZoomStop(h,m,$))})}),W.jsx("td",{children:O})]},C)}));return zn().s[47]++,W.jsx("div",{className:"maputnik-data-spec-block",children:W.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[W.jsx("legend",{children:zw(this.props.fieldName)}),W.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[W.jsx(la,{label:"Function",children:W.jsx("div",{className:"maputnik-data-spec-property-input",children:W.jsx(eg,{value:"interpolate",onChange:s=>(zn().f[16]++,zn().s[48]++,this.changeDataType(s)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),W.jsx(la,{label:"Base",children:W.jsx("div",{className:"maputnik-data-spec-property-input",children:W.jsx(tv,{fieldName:"base",fieldSpec:io.function.base,value:(i=this.props.value)==null?void 0:i.base,onChange:(s,h)=>(zn().f[17]++,zn().s[49]++,this.changeBase(h))})})}),W.jsx("div",{className:"maputnik-function-stop",children:W.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[W.jsx("caption",{children:"Stops"}),W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{children:"Zoom"}),W.jsx("th",{rowSpan:2,children:"Output value"})]})}),W.jsx("tbody",{children:n})]})}),W.jsxs("div",{className:"maputnik-toolbox",children:[W.jsxs(Ta,{className:"maputnik-add-stop",onClick:(o=this.props.onAddStop)==null?void 0:o.bind(this),children:[W.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:LI})})," Add stop"]}),W.jsxs(Ta,{className:"maputnik-add-stop",onClick:(a=this.props.onExpressionClick)==null?void 0:a.bind(this),children:[W.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:W.jsx("path",{fill:"currentColor",d:_b})})," Convert to expression"]})]})]})]})})}getDataFunctionTypes(n){return zn().f[18]++,zn().s[50]++,n["property-type"]==="data-driven"?(zn().b[9][0]++,zn().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(zn().b[9][1]++,zn().s[52]++,["interpolate"])}}on(l$,"defaultProps",(zn().s[9]++,{errors:{}}));function dt(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldFunction.tsx",t="1f54753857db41caf6cb1c27af626ace333d4e36",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA2B,OAA2B;AAEpF,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1f54753857db41caf6cb1c27af626ace333d4e36"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return dt=function(){return a},a}dt();function YD(e){return dt().f[0]++,dt().s[0]++,dt().b[0][0]++,Array.isArray(e)&&(dt().b[0][1]++,e.length===2)&&(dt().b[0][2]++,e[0]==="literal")}function qD(e){return dt().f[1]++,dt().s[1]++,dt().b[1][0]++,Array.isArray(e)&&(dt().b[1][1]++,e.length===2)&&(dt().b[1][2]++,e[0]==="get")}function v8e(e){return dt().f[2]++,dt().s[2]++,dt().b[2][0]++,typeof e=="object"&&(dt().b[2][1]++,e.stops)&&(dt().b[2][2]++,typeof e.property>"u")&&(dt().b[2][3]++,Array.isArray(e.stops))&&(dt().b[2][4]++,e.stops.length>1)&&(dt().b[2][5]++,e.stops.every(t=>(dt().f[3]++,dt().s[3]++,dt().b[3][0]++,Array.isArray(t)&&(dt().b[3][1]++,t.length===2))))}function u$(e){return dt().f[4]++,dt().s[4]++,dt().b[4][0]++,typeof e=="object"&&(dt().b[4][1]++,e.type==="identity")&&(dt().b[4][2]++,Object.prototype.hasOwnProperty.call(e,"property"))}function C8e(e){return dt().f[5]++,dt().s[5]++,dt().b[5][0]++,typeof e=="object"&&(dt().b[5][1]++,e.stops)&&(dt().b[5][2]++,typeof e.property<"u")&&(dt().b[5][3]++,e.stops.length>1)&&(dt().b[5][4]++,Array.isArray(e.stops))&&(dt().b[5][5]++,e.stops.every(t=>(dt().f[6]++,dt().s[6]++,dt().b[6][0]++,Array.isArray(t)&&(dt().b[6][1]++,t.length===2)&&(dt().b[6][2]++,typeof t[0]=="object"))))}function _8e(e){return dt().f[7]++,dt().s[7]++,dt().b[7][0]++,u$(e)||(dt().b[7][1]++,C8e(e))}function v9(e){dt().f[8]++;const t=(dt().s[8]++,["string","boolean","number"]);return dt().s[9]++,t.includes(typeof e)}function b8e(e){return dt().f[9]++,dt().s[10]++,Array.isArray(e)?(dt().b[8][0]++,dt().s[11]++,e.every(v9)):(dt().b[8][1]++,dt().s[12]++,!1)}function HD(e,t=(dt().b[9][0]++,{})){return dt().f[10]++,dt().s[13]++,e===void 0?(dt().b[10][0]++,dt().s[14]++,"value"):(dt().b[10][1]++,dt().s[15]++,v9(e)?(dt().b[11][0]++,dt().s[16]++,"value"):(dt().b[11][1]++,dt().s[17]++,dt().b[13][0]++,t.type==="array"&&(dt().b[13][1]++,b8e(e))?(dt().b[12][0]++,dt().s[18]++,"value"):(dt().b[12][1]++,dt().s[19]++,v8e(e)?(dt().b[14][0]++,dt().s[20]++,"zoom_function"):(dt().b[14][1]++,dt().s[21]++,_8e(e)?(dt().b[15][0]++,dt().s[22]++,"data_function"):(dt().b[15][1]++,dt().s[23]++,"expression")))))}class x8e extends Mn.Component{constructor(n){dt().f[11]++,dt().s[24]++;super(n);on(this,"addStop",(dt().s[34]++,()=>{dt().f[14]++;const n=(dt().s[35]++,this.props.value.stops.slice(0)),r=(dt().s[36]++,n[n.length-1]);dt().s[37]++,typeof r[0]=="object"?(dt().b[19][0]++,dt().s[38]++,n.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(dt().b[19][1]++,dt().s[39]++,n.push([r[0]+1,r[1]]));const i=(dt().s[40]++,{...this.props.value,stops:n});dt().s[41]++,this.props.onChange(this.props.fieldName,i)}));on(this,"deleteExpression",(dt().s[42]++,()=>{dt().f[15]++;const{fieldSpec:n,fieldName:r}=(dt().s[43]++,this.props);dt().s[44]++,this.props.onChange(r,n.default),dt().s[45]++,this.setState({dataType:"value"})}));on(this,"deleteStop",(dt().s[46]++,n=>{dt().f[16]++;const r=(dt().s[47]++,this.props.value.stops.slice(0));dt().s[48]++,r.splice(n,1);let i=(dt().s[49]++,{...this.props.value,stops:r});dt().s[50]++,r.length===1?(dt().b[20][0]++,dt().s[51]++,i=r[0][1]):dt().b[20][1]++,dt().s[52]++,this.props.onChange(this.props.fieldName,i)}));on(this,"makeZoomFunction",(dt().s[53]++,()=>{dt().f[17]++;const{value:n}=(dt().s[54]++,this.props);let r;dt().s[55]++,typeof n=="object"?(dt().b[21][0]++,dt().s[56]++,n.stops?(dt().b[22][0]++,dt().s[57]++,r={base:n.base,stops:n.stops.map(i=>(dt().f[18]++,dt().s[58]++,[i[0].zoom,(dt().b[23][0]++,i[1]||(dt().b[23][1]++,Pd(this.props.fieldSpec)))]))}):(dt().b[22][1]++,dt().s[59]++,r={base:n.base,stops:[[6,Pd(this.props.fieldSpec)],[10,Pd(this.props.fieldSpec)]]})):(dt().b[21][1]++,dt().s[60]++,r={stops:[[6,(dt().b[24][0]++,n||(dt().b[24][1]++,Pd(this.props.fieldSpec)))],[10,(dt().b[25][0]++,n||(dt().b[25][1]++,Pd(this.props.fieldSpec)))]]}),dt().s[61]++,this.props.onChange(this.props.fieldName,r)}));on(this,"undoExpression",(dt().s[62]++,()=>{dt().f[19]++;const{value:n,fieldName:r}=(dt().s[63]++,this.props);dt().s[64]++,qD(n)?(dt().b[26][0]++,dt().s[65]++,this.props.onChange(r,{type:"identity",property:n[1]}),dt().s[66]++,this.setState({dataType:"value"})):(dt().b[26][1]++,dt().s[67]++,YD(n)?(dt().b[27][0]++,dt().s[68]++,this.props.onChange(r,n[1]),dt().s[69]++,this.setState({dataType:"value"})):dt().b[27][1]++)}));on(this,"canUndo",(dt().s[70]++,()=>{dt().f[20]++;const{value:n,fieldSpec:r}=(dt().s[71]++,this.props);return dt().s[72]++,dt().b[28][0]++,qD(n)||(dt().b[28][1]++,YD(n))||(dt().b[28][2]++,v9(n))||(dt().b[28][3]++,Array.isArray(n)&&(dt().b[28][4]++,r.type==="array"))}));on(this,"makeExpression",(dt().s[73]++,()=>{dt().f[21]++;const{value:n,fieldSpec:r}=(dt().s[74]++,this.props);let i;dt().s[75]++,dt().b[30][0]++,typeof n=="object"&&(dt().b[30][1]++,"stops"in n)?(dt().b[29][0]++,dt().s[76]++,i=lte.convertFunction(n,r)):(dt().b[29][1]++,dt().s[77]++,u$(n)?(dt().b[31][0]++,dt().s[78]++,i=["get",n.property]):(dt().b[31][1]++,dt().s[79]++,i=["literal",(dt().b[32][0]++,n||(dt().b[32][1]++,this.props.fieldSpec.default))])),dt().s[80]++,this.props.onChange(this.props.fieldName,i)}));on(this,"makeDataFunction",(dt().s[81]++,()=>{dt().f[22]++;const n=(dt().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(dt().s[83]++,n==="categorical"?(dt().b[33][0]++,""):(dt().b[33][1]++,0)),{value:i}=(dt().s[84]++,this.props);let o;dt().s[85]++,typeof i=="object"?(dt().b[34][0]++,dt().s[86]++,i.stops?(dt().b[35][0]++,dt().s[87]++,o={property:"",type:n,base:i.base,stops:i.stops.map(a=>(dt().f[23]++,dt().s[88]++,[{zoom:a[0],value:r},(dt().b[36][0]++,a[1]||(dt().b[36][1]++,Pd(this.props.fieldSpec)))]))}):(dt().b[35][1]++,dt().s[89]++,o={property:"",type:n,base:i.base,stops:[[{zoom:6,value:r},Pd(this.props.fieldSpec)],[{zoom:10,value:r},Pd(this.props.fieldSpec)]]})):(dt().b[34][1]++,dt().s[90]++,o={property:"",type:n,base:i.base,stops:[[{zoom:6,value:r},(dt().b[37][0]++,this.props.value||(dt().b[37][1]++,Pd(this.props.fieldSpec)))],[{zoom:10,value:r},(dt().b[38][0]++,this.props.value||(dt().b[38][1]++,Pd(this.props.fieldSpec)))]]}),dt().s[91]++,this.props.onChange(this.props.fieldName,o)}));on(this,"onMarkEditing",(dt().s[92]++,()=>{dt().f[24]++,dt().s[93]++,this.setState({isEditing:!0})}));on(this,"onUnmarkEditing",(dt().s[94]++,()=>{dt().f[25]++,dt().s[95]++,this.setState({isEditing:!1})}));dt().s[25]++,this.state={dataType:HD(n.value,n.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(n,r){return dt().f[12]++,dt().s[26]++,r.isEditing?(dt().b[16][0]++,dt().s[27]++,{}):(dt().b[16][1]++,dt().s[28]++,{isEditing:!1,dataType:HD(n.value,n.fieldSpec)})}getFieldFunctionType(n){return dt().f[13]++,dt().s[29]++,n.expression.interpolated?(dt().b[17][0]++,dt().s[30]++,"exponential"):(dt().b[17][1]++,dt().s[31]++,n.type==="number"?(dt().b[18][0]++,dt().s[32]++,"interval"):(dt().b[18][1]++,dt().s[33]++,"categorical"))}render(){dt().f[26]++;const{dataType:n}=(dt().s[96]++,this.state),r=(dt().s[97]++,this.props.fieldSpec.default===this.props.value?(dt().b[39][0]++,"maputnik-default-property"):(dt().b[39][1]++,"maputnik-modified-property"));let i;return dt().s[98]++,n==="expression"?(dt().b[40][0]++,dt().s[99]++,i=W.jsx(NI,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(dt().b[40][1]++,dt().s[100]++,n==="zoom_function"?(dt().b[41][0]++,dt().s[101]++,i=W.jsx(l$,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(dt().b[41][1]++,dt().s[102]++,n==="data_function"?(dt().b[42][0]++,dt().s[103]++,i=W.jsx(y8e,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(dt().b[42][1]++,dt().s[104]++,i=W.jsx(o$,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),dt().s[105]++,W.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function ki(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/PropertyGroup.tsx",t="36b2ee338fafceba695995474f71973a816b836e",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"36b2ee338fafceba695995474f71973a816b836e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ki=function(){return a},a}ki();const w8e=(ki().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function M8e(e,t,n){ki().f[0]++;const r=(ki().s[1]++,A$(e,t,n)),i=(ki().s[2]++,e[r+"_"+t]),o=(ki().s[3]++,i[n]);return ki().s[4]++,w8e.indexOf(n)>=0?(ki().b[0][0]++,ki().s[5]++,{...o,values:e.$root.sprite.values}):(ki().b[0][1]++,ki().s[6]++,n==="text-font"?(ki().b[1][0]++,ki().s[7]++,{...o,values:e.$root.glyphs.values}):(ki().b[1][1]++,ki().s[8]++,o))}function A$(e,t,n){ki().f[1]++;const r=(ki().s[9]++,ki().b[2][0]++,e["paint_"+t]||(ki().b[2][1]++,{}));return ki().s[10]++,n in r?(ki().b[3][0]++,ki().s[11]++,"paint"):(ki().b[3][1]++,ki().s[12]++,"layout")}class S8e extends Mn.Component{constructor(){super(...arguments);on(this,"onPropertyChange",(ki().s[13]++,(n,r)=>{ki().f[2]++;const i=(ki().s[14]++,A$(this.props.spec,this.props.layer.type,n));ki().s[15]++,this.props.onChange(i,n,r)}))}render(){ki().f[3]++;const{errors:n}=(ki().s[16]++,this.props),r=(ki().s[17]++,this.props.groupFields.map(i=>{ki().f[4]++;const o=(ki().s[18]++,M8e(this.props.spec,this.props.layer.type,i)),a=(ki().s[19]++,ki().b[4][0]++,this.props.layer.paint||(ki().b[4][1]++,{})),s=(ki().s[20]++,ki().b[5][0]++,this.props.layer.layout||(ki().b[5][1]++,{})),h=(ki().s[21]++,i in a?(ki().b[6][0]++,a[i]):(ki().b[6][1]++,s[i])),m=(ki().s[22]++,i in a?(ki().b[7][0]++,"paint"):(ki().b[7][1]++,"layout"));return ki().s[23]++,W.jsx(x8e,{errors:n,onChange:this.onPropertyChange,fieldName:i,value:h,fieldType:m,fieldSpec:o},i)}));return ki().s[24]++,W.jsx("div",{className:"maputnik-property-group",children:r})}}var E8e=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var a in r)n.d(o,a,(function(s){return r[s]}).bind(null,a));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=2)}([function(e,t){e.exports=zh},function(e,t){e.exports=ar},function(e,t,n){n.r(t);var r=n(1),i=n(0),o=function(){return(o=Object.assign||function(D){for(var $,ee=1,H=arguments.length;ee<H;ee++)for(var G in $=arguments[ee])Object.prototype.hasOwnProperty.call($,G)&&(D[G]=$[G]);return D}).apply(this,arguments)},a=function(D,$){var ee={};for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&$.indexOf(H)<0&&(ee[H]=D[H]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function"){var G=0;for(H=Object.getOwnPropertySymbols(D);G<H.length;G++)$.indexOf(H[G])<0&&Object.prototype.propertyIsEnumerable.call(D,H[G])&&(ee[H[G]]=D[H[G]])}return ee},s=0,h=r.forwardRef(function(D,$){var ee=D.title,H=ee===void 0?null:ee,G=D.description,Z=G===void 0?null:G,ue=D.size,ye=ue===void 0?null:ue,be=D.color,X=be===void 0?"currentColor":be,se=D.horizontal,we=se===void 0?null:se,xe=D.vertical,De=xe===void 0?null:xe,Ue=D.rotate,he=Ue===void 0?null:Ue,$e=D.spin,ge=$e===void 0?null:$e,yt=D.style,wt=yt===void 0?{}:yt,st=D.children,mt=a(D,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);s++;var ze,He=ge!==null&&ge,Ve=r.Children.map(st,function(Qt){var $t=Qt;He!==!0&&(He=(ge===null?$t.props.spin:ge)===!0);var ke=$t.props.size;typeof ye=="number"&&typeof $t.props.size=="number"&&(ke=$t.props.size/ye);var pe={size:ke,color:X===null?$t.props.color:X,horizontal:we===null?$t.props.horizontal:we,vertical:De===null?$t.props.vertical:De,rotate:he===null?$t.props.rotate:he,spin:ge===null?$t.props.spin:ge,inStack:!0};return r.cloneElement($t,pe)});ye!==null&&(wt.width=typeof ye=="string"?ye:1.5*ye+"rem");var Vt,Yt="stack_labelledby_"+s,vt="stack_describedby_"+s;if(H)ze=Z?Yt+" "+vt:Yt;else if(Vt="presentation",Z)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:$,viewBox:"0 0 24 24",style:wt,role:Vt,"aria-labelledby":ze},mt),H&&r.createElement("title",{id:Yt},H),Z&&r.createElement("desc",{id:vt},Z),He&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),Ve)});h.displayName="Stack",h.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},h.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var m=h;n.d(t,"Icon",function(){return P}),n.d(t,"Stack",function(){return m});var C=function(){return(C=Object.assign||function(D){for(var $,ee=1,H=arguments.length;ee<H;ee++)for(var G in $=arguments[ee])Object.prototype.hasOwnProperty.call($,G)&&(D[G]=$[G]);return D}).apply(this,arguments)},E=function(D,$){var ee={};for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&$.indexOf(H)<0&&(ee[H]=D[H]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function"){var G=0;for(H=Object.getOwnPropertySymbols(D);G<H.length;G++)$.indexOf(H[G])<0&&Object.prototype.propertyIsEnumerable.call(D,H[G])&&(ee[H[G]]=D[H[G]])}return ee},O=0,P=r.forwardRef(function(D,$){var ee=D.path,H=D.id,G=H===void 0?++O:H,Z=D.title,ue=Z===void 0?null:Z,ye=D.description,be=ye===void 0?null:ye,X=D.size,se=X===void 0?null:X,we=D.color,xe=we===void 0?"currentColor":we,De=D.horizontal,Ue=De!==void 0&&De,he=D.vertical,$e=he!==void 0&&he,ge=D.rotate,yt=ge===void 0?0:ge,wt=D.spin,st=wt!==void 0&&wt,mt=D.style,ze=mt===void 0?{}:mt,He=D.inStack,Ve=He!==void 0&&He,Vt=E(D,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),Yt={},vt=[];se!==null&&(Ve?vt.push("scale("+se+")"):(ze.width=typeof se=="string"?se:1.5*se+"rem",ze.height=ze.width)),Ue&&vt.push("scaleX(-1)"),$e&&vt.push("scaleY(-1)"),yt!==0&&vt.push("rotate("+yt+"deg)"),xe!==null&&(Yt.fill=xe);var Qt=r.createElement("path",C({d:ee,style:Yt},Ve?Vt:{})),$t=Qt;vt.length>0&&(ze.transform=vt.join(" "),ze.transformOrigin="center",Ve&&($t=r.createElement("g",{style:ze},Qt,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var ke,pe=$t,Se=st===!0||typeof st!="number"?2:st,Re=!Ve&&(Ue||$e);if(Se<0&&(Re=!Re),st&&(pe=r.createElement("g",{style:{animation:"spin"+(Re?"-inverse":"")+" linear "+Math.abs(Se)+"s infinite",transformOrigin:"center"}},$t,!(Ue||$e||yt!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),Ve)return pe;var it,ot="icon_labelledby_"+G,St="icon_describedby_"+G;if(ue)ke=be?ot+" "+St:ot;else if(it="presentation",be)throw new Error("title attribute required when description is set");return r.createElement("svg",C({ref:$,viewBox:"0 0 24 24",style:ze,role:it,"aria-labelledby":ke},Vt),ue&&r.createElement("title",{id:ot},ue),be&&r.createElement("desc",{id:St},be),!Ve&&st&&(Re?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),pe)});P.displayName="Icon",P.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},P.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=P}]);const VD=Ka(E8e);function Iy(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerEditorGroup.tsx",t="55de60d3b6ce0cc03e68fd5d0041b077bcd71e69",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"55de60d3b6ce0cc03e68fd5d0041b077bcd71e69"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Iy=function(){return a},a}Iy();class O8e extends Mn.Component{render(){return Iy().f[0]++,Iy().s[0]++,W.jsxs(IW,{uuid:this.props.id,children:[W.jsx(KW,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:t=>(Iy().f[1]++,Iy().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:W.jsxs(rge,{className:"maputnik-layer-editor-group__button",children:[W.jsx("span",{style:{flexGrow:1},children:this.props.title}),W.jsx(VD,{path:fge,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),W.jsx(VD,{path:hge,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),W.jsx(sge,{children:this.props.children})]})}}function l5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldMinZoom.tsx",t="340a8cfc11dc3f95f6849c1210a96bf9b3ea9524",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"340a8cfc11dc3f95f6849c1210a96bf9b3ea9524"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return l5=function(){return a},a}l5();class B8e extends Mn.Component{render(){return l5().f[0]++,l5().s[0]++,W.jsx(la,{label:"Min Zoom",fieldSpec:io.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:W.jsx(Zf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:io.layer.minzoom.minimum,max:io.layer.minzoom.maximum,default:io.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}function u5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldMaxZoom.tsx",t="058d78e6ea43f0870bc126506b95c66a8815a642",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"058d78e6ea43f0870bc126506b95c66a8815a642"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return u5=function(){return a},a}u5();class I8e extends Mn.Component{render(){return u5().f[0]++,u5().s[0]++,W.jsx(la,{label:"Max Zoom",fieldSpec:io.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:W.jsx(Zf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:io.layer.maxzoom.minimum,max:io.layer.maxzoom.maximum,default:io.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}function O_(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldComment.tsx",t="042233fb5e5f2bca12c653b4c6f5778ab22d8d17",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:7,column:22},end:{line:9,column:5}},1:{start:{line:10,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:29,column:3}},line:6}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAuBM;AAvBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,KAAK;AAAA,IACP;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAQ;AAAA,YACR,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"042233fb5e5f2bca12c653b4c6f5778ab22d8d17"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return O_=function(){return a},a}O_();class k8e extends Mn.Component{render(){O_().f[0]++;const t=(O_().s[0]++,{doc:"Comments for the current layer. This is non-standard and not in the spec."});return O_().s[1]++,W.jsx(la,{label:"Comments",fieldSpec:t,"data-wd-key":"layer-comment",error:this.props.error,children:W.jsx(sd,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:"Comment...","data-wd-key":"layer-comment.input"})})}}const T8e={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},K8e={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},P8e={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},D8e={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},U8e={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},F8e={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},L8e={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},R8e={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},z8e={groups:[]},M6={line:T8e,background:K8e,fill:P8e,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:D8e,symbol:U8e,raster:F8e,hillshade:L8e,heatmap:R8e,invalid:z8e};function ky(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/format.ts",t="8571970ea63a4d22a635f4e466a89cab1f7fba89",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8571970ea63a4d22a635f4e466a89cab1f7fba89"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ky=function(){return a},a}ky();function c$(e){return ky().f[0]++,ky().s[0]++,e===""?(ky().b[0][0]++,"[empty_string]"):(ky().b[0][1]++,`'${e}'`)}function ln(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerEditor.tsx",t="ff2c7fa3b8a41983bb38c8c5541fc252a1bfcc3a",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:54}},1:{start:{line:25,column:21},end:{line:28,column:3}},2:{start:{line:29,column:22},end:{line:32,column:3}},3:{start:{line:33,column:22},end:{line:36,column:3}},4:{start:{line:37,column:2},end:{line:37,column:100}},5:{start:{line:40,column:24},end:{line:47,column:3}},6:{start:{line:48,column:29},end:{line:50,column:3}},7:{start:{line:52,column:4},end:{line:52,column:17}},8:{start:{line:53,column:25},end:{line:53,column:27}},9:{start:{line:54,column:4},end:{line:56,column:7}},10:{start:{line:55,column:6},end:{line:55,column:39}},11:{start:{line:57,column:4},end:{line:57,column:34}},12:{start:{line:60,column:29},end:{line:60,column:54}},13:{start:{line:61,column:4},end:{line:65,column:7}},14:{start:{line:62,column:6},end:{line:64,column:7}},15:{start:{line:63,column:8},end:{line:63,column:45}},16:{start:{line:66,column:4},end:{line:68,column:6}},17:{start:{line:71,column:4},end:{line:76,column:6}},18:{start:{line:79,column:4},end:{line:82,column:6}},19:{start:{line:85,column:32},end:{line:88,column:5}},20:{start:{line:89,column:4},end:{line:91,column:7}},21:{start:{line:94,column:18},end:{line:94,column:20}},22:{start:{line:95,column:4},end:{line:97,column:5}},23:{start:{line:96,column:6},end:{line:96,column:62}},24:{start:{line:98,column:35},end:{line:98,column:45}},25:{start:{line:99,column:22},end:{line:99,column:24}},26:{start:{line:100,column:4},end:{line:106,column:7}},27:{start:{line:101,column:6},end:{line:105,column:7}},28:{start:{line:102,column:8},end:{line:104,column:10}},29:{start:{line:108,column:18},end:{line:108,column:34}},30:{start:{line:109,column:4},end:{line:111,column:5}},31:{start:{line:110,column:6},end:{line:110,column:63}},32:{start:{line:112,column:4},end:{line:215,column:5}},33:{start:{line:114,column:8},end:{line:178,column:13}},34:{start:{line:121,column:35},end:{line:121,column:112}},35:{start:{line:130,column:37},end:{line:133,column:15}},36:{start:{line:142,column:31},end:{line:142,column:69}},37:{start:{line:151,column:31},end:{line:151,column:75}},38:{start:{line:159,column:31},end:{line:159,column:70}},39:{start:{line:167,column:31},end:{line:167,column:70}},40:{start:{line:175,column:31},end:{line:175,column:104}},41:{start:{line:180,column:8},end:{line:188,column:16}},42:{start:{line:186,column:29},end:{line:186,column:67}},43:{start:{line:190,column:8},end:{line:199,column:10}},44:{start:{line:201,column:8},end:{line:212,column:10}},45:{start:{line:206,column:14},end:{line:209,column:16}},46:{start:{line:214,column:8},end:{line:214,column:49}},47:{start:{line:218,column:4},end:{line:221,column:7}},48:{start:{line:224,column:21},end:{line:224,column:23}},49:{start:{line:225,column:22},end:{line:225,column:43}},50:{start:{line:226,column:19},end:{line:243,column:6}},51:{start:{line:227,column:6},end:{line:227,column:70}},52:{start:{line:229,column:22},end:{line:229,column:52}},53:{start:{line:230,column:6},end:{line:230,column:29}},54:{start:{line:231,column:6},end:{line:242,column:8}},55:{start:{line:244,column:20},end:{line:244,column:49}},56:{start:{line:245,column:18},end:{line:270,column:5}},57:{start:{line:248,column:23},end:{line:248,column:71}},58:{start:{line:252,column:23},end:{line:252,column:68}},59:{start:{line:256,column:23},end:{line:256,column:80}},60:{start:{line:262,column:23},end:{line:262,column:41}},61:{start:{line:268,column:23},end:{line:268,column:40}},62:{start:{line:272,column:6},end:{line:272,column:30}},63:{start:{line:273,column:6},end:{line:273,column:26}},64:{start:{line:275,column:4},end:{line:314,column:6}},65:{start:{line:296,column:33},end:{line:296,column:42}},66:{start:{line:297,column:20},end:{line:297,column:174}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:21,column:9},end:{line:21,column:25}},loc:{start:{line:21,column:32},end:{line:23,column:1}},line:21},1:{name:"layoutGroups",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:33},end:{line:38,column:1}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:41,column:20},end:{line:41,column:21}},loc:{start:{line:41,column:26},end:{line:42,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:43,column:21},end:{line:43,column:22}},loc:{start:{line:43,column:27},end:{line:44,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:45,column:22},end:{line:45,column:23}},loc:{start:{line:45,column:28},end:{line:46,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:21},end:{line:58,column:3}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:54,column:48},end:{line:54,column:49}},loc:{start:{line:54,column:59},end:{line:56,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:48},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:61,column:54},end:{line:61,column:55}},loc:{start:{line:61,column:65},end:{line:65,column:5}},line:61},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:77,column:3}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:44},end:{line:83,column:3}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:36},end:{line:92,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:32},end:{line:216,column:3}},line:93},13:{name:"(anonymous_13)",decl:{start:{line:100,column:19},end:{line:100,column:20}},loc:{start:{line:100,column:30},end:{line:106,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:121,column:24},end:{line:121,column:25}},loc:{start:{line:121,column:35},end:{line:121,column:112}},line:121},15:{name:"(anonymous_15)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:37},end:{line:133,column:15}},line:130},16:{name:"(anonymous_16)",decl:{start:{line:142,column:24},end:{line:142,column:25}},loc:{start:{line:142,column:31},end:{line:142,column:69}},line:142},17:{name:"(anonymous_17)",decl:{start:{line:151,column:24},end:{line:151,column:25}},loc:{start:{line:151,column:31},end:{line:151,column:75}},line:151},18:{name:"(anonymous_18)",decl:{start:{line:159,column:24},end:{line:159,column:25}},loc:{start:{line:159,column:31},end:{line:159,column:70}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:167,column:24},end:{line:167,column:25}},loc:{start:{line:167,column:31},end:{line:167,column:70}},line:167},20:{name:"(anonymous_20)",decl:{start:{line:175,column:24},end:{line:175,column:25}},loc:{start:{line:175,column:31},end:{line:175,column:104}},line:175},21:{name:"(anonymous_21)",decl:{start:{line:186,column:22},end:{line:186,column:23}},loc:{start:{line:186,column:29},end:{line:186,column:67}},line:186},22:{name:"(anonymous_22)",decl:{start:{line:205,column:22},end:{line:205,column:23}},loc:{start:{line:205,column:34},end:{line:210,column:13}},line:205},23:{name:"(anonymous_23)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:20},end:{line:222,column:3}},line:217},24:{name:"(anonymous_24)",decl:{start:{line:223,column:2},end:{line:223,column:3}},loc:{start:{line:223,column:11},end:{line:315,column:3}},line:223},25:{name:"(anonymous_25)",decl:{start:{line:226,column:50},end:{line:226,column:51}},loc:{start:{line:226,column:61},end:{line:228,column:5}},line:226},26:{name:"(anonymous_26)",decl:{start:{line:228,column:11},end:{line:228,column:12}},loc:{start:{line:228,column:22},end:{line:243,column:5}},line:228},27:{name:"(anonymous_27)",decl:{start:{line:248,column:17},end:{line:248,column:18}},loc:{start:{line:248,column:23},end:{line:248,column:71}},line:248},28:{name:"(anonymous_28)",decl:{start:{line:252,column:17},end:{line:252,column:18}},loc:{start:{line:252,column:23},end:{line:252,column:68}},line:252},29:{name:"(anonymous_29)",decl:{start:{line:256,column:17},end:{line:256,column:18}},loc:{start:{line:256,column:23},end:{line:256,column:80}},line:256},30:{name:"(anonymous_30)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:41}},line:262},31:{name:"(anonymous_31)",decl:{start:{line:268,column:17},end:{line:268,column:18}},loc:{start:{line:268,column:23},end:{line:268,column:40}},line:268},32:{name:"handleSelection",decl:{start:{line:271,column:13},end:{line:271,column:28}},loc:{start:{line:271,column:40},end:{line:274,column:5}},line:271},33:{name:"(anonymous_33)",decl:{start:{line:295,column:147},end:{line:295,column:148}},loc:{start:{line:295,column:155},end:{line:298,column:19}},line:295}},branchMap:{0:{loc:{start:{line:22,column:9},end:{line:22,column:53}},type:"cond-expr",locations:[{start:{line:22,column:24},end:{line:22,column:36}},{start:{line:22,column:39},end:{line:22,column:53}}],line:22},1:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},2:{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},3:{loc:{start:{line:101,column:6},end:{line:105,column:7}},type:"if",locations:[{start:{line:101,column:6},end:{line:105,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:101},4:{loc:{start:{line:101,column:10},end:{line:101,column:96}},type:"binary-expr",locations:[{start:{line:101,column:10},end:{line:101,column:22}},{start:{line:101,column:26},end:{line:101,column:55}},{start:{line:101,column:59},end:{line:101,column:96}}],line:101},5:{loc:{start:{line:109,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:109,column:4},end:{line:111,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:109},6:{loc:{start:{line:112,column:4},end:{line:215,column:5}},type:"switch",locations:[{start:{line:113,column:6},end:{line:178,column:13}},{start:{line:179,column:6},end:{line:188,column:16}},{start:{line:189,column:6},end:{line:199,column:10}},{start:{line:200,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:214,column:49}}],line:112},7:{loc:{start:{line:136,column:10},end:{line:144,column:11}},type:"binary-expr",locations:[{start:{line:136,column:10},end:{line:136,column:48}},{start:{line:136,column:68},end:{line:144,column:11}}],line:136},8:{loc:{start:{line:145,column:10},end:{line:153,column:11}},type:"binary-expr",locations:[{start:{line:145,column:10},end:{line:145,column:93}},{start:{line:145,column:113},end:{line:153,column:11}}],line:145},9:{loc:{start:{line:175,column:83},end:{line:175,column:103}},type:"cond-expr",locations:[{start:{line:175,column:93},end:{line:175,column:99}},{start:{line:175,column:102},end:{line:175,column:103}}],line:175},10:{loc:{start:{line:227,column:15},end:{line:227,column:68}},type:"binary-expr",locations:[{start:{line:227,column:15},end:{line:227,column:41}},{start:{line:227,column:45},end:{line:227,column:68}}],line:227},11:{loc:{start:{line:244,column:20},end:{line:244,column:49}},type:"binary-expr",locations:[{start:{line:244,column:20},end:{line:244,column:43}},{start:{line:244,column:47},end:{line:244,column:49}}],line:244},12:{loc:{start:{line:255,column:14},end:{line:255,column:61}},type:"cond-expr",locations:[{start:{line:255,column:46},end:{line:255,column:52}},{start:{line:255,column:55},end:{line:255,column:61}}],line:255}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA6JyB,SA2EL,UA1Ed,KADmB;AA7JzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAG5B,SAAS,iBAAiB,MAAkC;AAC1D,SAAO,OAAO,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO;AAC9C;AAEA,SAAS,aAAa,WAA2F;AAC/G,QAAM,aAAa;AAAA,IACjB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,SAAS,EAAE,MAAM,EACzC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,IAAI,EAAE,QAAQ,WAAS;AACnD,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,IAAI,EAAE,OAAO,QAAQ,WAAS;AACzD,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,SAAS,EAAE,OAAO,WAAS;AACrD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM,MAAM,QAAQ,MAAM,GAAG;AAC7C,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC,MAAM;AAAA,MAMb;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,SAAS;AAAA,QAChD,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAW;AAAA,QAEX;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,iCAAC,QAAG,WAAU,uBAAsB;AAAA;AAAA,cAC1B,cAAc,KAAK,MAAM,MAAM,EAAE;AAAA,eAC3C;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA,sCAAC,UAAO,IAAG,4BAA2B,eAAY,4BAA2B,WAAU,qBAAoB,OAAM,iBAC/G,8BAAC,cAAW,WAAU,0BAAyB,GACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ff2c7fa3b8a41983bb38c8c5541fc252a1bfcc3a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ln=function(){return a},a}ln();function d$(e){return ln().f[0]++,ln().s[0]++,M6[e]?(ln().b[0][0]++,M6[e]):(ln().b[0][1]++,M6.invalid)}function ZD(e){ln().f[1]++;const t=(ln().s[1]++,{title:"Layer",type:"layer"}),n=(ln().s[2]++,{title:"Filter",type:"filter"}),r=(ln().s[3]++,{title:"JSON Editor",type:"jsoneditor"});return ln().s[4]++,[t,n].concat(d$(e).groups).concat([r])}class EB extends Mn.Component{constructor(t){ln().f[5]++,ln().s[7]++,super(t);const n=(ln().s[8]++,{});ln().s[9]++,ZD(this.props.layer.type).forEach(r=>{ln().f[6]++,ln().s[10]++,n[r.title]=!0}),ln().s[11]++,this.state={editorGroups:n}}static getDerivedStateFromProps(t,n){ln().f[7]++;const r=(ln().s[12]++,{...n.editorGroups});return ln().s[13]++,d$(t.layer.type).groups.forEach(i=>{ln().f[8]++,ln().s[14]++,i.title in r?ln().b[1][1]++:(ln().b[1][0]++,ln().s[15]++,r[i.title]=!0)}),ln().s[16]++,{editorGroups:r}}getChildContext(){return ln().f[9]++,ln().s[17]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(t,n,r){ln().f[10]++,ln().s[18]++,this.props.onLayerChanged(this.props.layerIndex,U0e(this.props.layer,t,n,r))}onGroupToggle(t,n){ln().f[11]++;const r=(ln().s[19]++,{...this.state.editorGroups,[t]:n});ln().s[20]++,this.setState({editorGroups:r})}renderGroupType(t,n){ln().f[12]++;let r=(ln().s[21]++,"");ln().s[22]++,this.props.layer.metadata?(ln().b[2][0]++,ln().s[23]++,r=this.props.layer.metadata["maputnik:comment"]):ln().b[2][1]++;const{errors:i,layerIndex:o}=(ln().s[24]++,this.props),a=(ln().s[25]++,{});ln().s[26]++,i.forEach(m=>{ln().f[13]++,ln().s[27]++,ln().b[4][0]++,m.parsed&&(ln().b[4][1]++,m.parsed.type==="layer")&&(ln().b[4][2]++,m.parsed.data.index==o)?(ln().b[3][0]++,ln().s[28]++,a[m.parsed.data.key]={message:m.parsed.data.message}):ln().b[3][1]++});let s;const h=(ln().s[29]++,this.props.layer);switch(ln().s[30]++,Object.prototype.hasOwnProperty.call(this.props.sources,h.source)?(ln().b[5][0]++,ln().s[31]++,s=this.props.sources[h.source].layers):ln().b[5][1]++,ln().s[32]++,t){case"layer":return ln().b[6][0]++,ln().s[33]++,W.jsxs("div",{children:[W.jsx(dW,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:a.id,onChange:m=>(ln().f[14]++,ln().s[34]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,m))}),W.jsx(EI,{disabled:!0,error:a.type,value:this.props.layer.type,onChange:m=>(ln().f[15]++,ln().s[35]++,this.props.onLayerChanged(this.props.layerIndex,D0e(this.props.layer,m)))}),(ln().b[7][0]++,this.props.layer.type!=="background"&&(ln().b[7][1]++,W.jsx(BI,{error:a.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:m=>(ln().f[16]++,ln().s[36]++,this.changeProperty(null,"source",m))}))),(ln().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(ln().b[8][1]++,W.jsx(II,{error:a["source-layer"],sourceLayerIds:s,value:this.props.layer["source-layer"],onChange:m=>(ln().f[17]++,ln().s[37]++,this.changeProperty(null,"source-layer",m))}))),W.jsx(B8e,{error:a.minzoom,value:this.props.layer.minzoom,onChange:m=>(ln().f[18]++,ln().s[38]++,this.changeProperty(null,"minzoom",m))}),W.jsx(I8e,{error:a.maxzoom,value:this.props.layer.maxzoom,onChange:m=>(ln().f[19]++,ln().s[39]++,this.changeProperty(null,"maxzoom",m))}),W.jsx(k8e,{error:a.comment,value:r,onChange:m=>(ln().f[20]++,ln().s[40]++,this.changeProperty("metadata","maputnik:comment",m==""?(ln().b[9][0]++,void 0):(ln().b[9][1]++,m)))})]});case"filter":return ln().b[6][1]++,ln().s[41]++,W.jsx("div",{children:W.jsx("div",{className:"maputnik-filter-editor-wrapper",children:W.jsx(VW,{errors:a,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:m=>(ln().f[21]++,ln().s[42]++,this.changeProperty(null,"filter",m))})})});case"properties":return ln().b[6][2]++,ln().s[43]++,W.jsx(S8e,{errors:a,layer:this.props.layer,groupFields:n,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return ln().b[6][3]++,ln().s[44]++,W.jsx(FI,{layer:this.props.layer,onChange:m=>{ln().f[22]++,ln().s[45]++,this.props.onLayerChanged(this.props.layerIndex,m)}});default:return ln().b[6][4]++,ln().s[46]++,W.jsx(W.Fragment,{})}}moveLayer(t){ln().f[23]++,ln().s[47]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+t})}render(){ln().f[24]++;const t=(ln().s[48]++,[]),n=(ln().s[49]++,this.props.layer.type),r=(ln().s[50]++,ZD(n).filter(s=>(ln().f[25]++,ln().s[51]++,ln().b[10][0]++,!(n==="background"&&(ln().b[10][1]++,s.type==="source")))).map(s=>{ln().f[26]++;const h=(ln().s[52]++,s.title.replace(/ /g,"_"));return ln().s[53]++,t.push(h),ln().s[54]++,W.jsx(O8e,{"data-wd-key":s.title,id:h,title:s.title,isActive:this.state.editorGroups[s.title],onActiveToggle:this.onGroupToggle.bind(this,s.title),children:this.renderGroupType(s.type,s.fields)},s.title)})),i=(ln().s[55]++,ln().b[11][0]++,this.props.layer.layout||(ln().b[11][1]++,{})),o=(ln().s[56]++,{delete:{text:"Delete",handler:()=>(ln().f[27]++,ln().s[57]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:"Duplicate",handler:()=>(ln().f[28]++,ln().s[58]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:i.visibility==="none"?(ln().b[12][0]++,"Show"):(ln().b[12][1]++,"Hide"),handler:()=>(ln().f[29]++,ln().s[59]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:"Move layer up",disabled:this.props.isFirstLayer,handler:()=>(ln().f[30]++,ln().s[60]++,this.moveLayer(-1))},moveLayerDown:{text:"Move layer down",disabled:this.props.isLastLayer,handler:()=>(ln().f[31]++,ln().s[61]++,this.moveLayer(1))}});function a(s,h){ln().f[32]++,ln().s[62]++,h.stopPropagation(),ln().s[63]++,o[s].handler()}return ln().s[64]++,W.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":"Layer editor",children:[W.jsx("header",{children:W.jsxs("div",{className:"layer-header",children:[W.jsxs("h2",{className:"layer-header__title",children:["Layer: ",c$(this.props.layer.id)]}),W.jsx("div",{className:"layer-header__info",children:W.jsxs(Wx.Wrapper,{className:"more-menu",onSelection:a,closeOnSelection:!1,children:[W.jsx(Wx.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:W.jsx(Xte,{className:"more-menu__button__svg"})}),W.jsx(Wx.Menu,{children:W.jsx("ul",{className:"more-menu__menu",children:Object.keys(o).map(s=>{ln().f[33]++;const h=(ln().s[65]++,o[s]);return ln().s[66]++,W.jsx("li",{children:W.jsx(Wx.MenuItem,{value:s,className:"more-menu__menu__item",children:h.text})},s)})})})]})})]})}),W.jsx(W1e,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t,children:r})]})}}on(EB,"defaultProps",(ln().s[5]++,{onLayerChanged:()=>{ln().f[2]++},onLayerIdChange:()=>{ln().f[3]++},onLayerDestroyed:()=>{ln().f[4]++}})),on(EB,"childContextTypes",(ln().s[6]++,{reactIconBase:Rr.object}));var XD=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},j8e=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),N8e=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),G8e=function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e}(),W8e=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),Q8e=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),$8e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Y8e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,JD=3,q8e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",$8e]],eU=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function H8e(e){return e?tU(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Q8e:typeof navigator<"u"?tU(navigator.userAgent):X8e()}function V8e(e){return e!==""&&q8e.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1)}function tU(e){var t=V8e(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new W8e;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<JD&&(i=XD(XD([],i,!0),J8e(JD-i.length),!0)):i=[];var o=i.join("."),a=Z8e(e),s=Y8e.exec(e);return s&&s[1]?new G8e(n,o,a,s[1]):new j8e(n,o,a)}function Z8e(e){for(var t=0,n=eU.length;t<n;t++){var r=eU[t],i=r[0],o=r[1],a=o.exec(e);if(a)return i}return null}function X8e(){var e=typeof process<"u"&&process.version;return e?new N8e(process.version.slice(1)):null}function J8e(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}const e7e="maputnik",t7e="2.0.0",n7e="A MapLibre GL visual style editor",r7e="module",i7e="''",o7e={start:"vite",build:"tsc && vite build --base=/maputnik/","build-django":"tsc && vite build --base=/maputnik/ --outDir=../django_project/cloud_native_gis/templates/cloud_native_gis --assetsDir=static/cloud_native_gis",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"'},a7e={type:"git",url:"https://github.com/maplibre/maputnik"},s7e="Lukas Martinelli",l7e="MIT",u7e="https://github.com/maplibre/maputnik#readme",A7e={"@mapbox/mapbox-gl-rtl-text":"^0.2.3","@maplibre/maplibre-gl-geocoder":"^1.5.0","@maplibre/maplibre-gl-inspect":"^1.6.3","@maplibre/maplibre-gl-style-spec":"^20.1.1","@mdi/js":"^7.4.47","@mdi/react":"^1.6.1","@typescript-eslint/eslint-plugin":"^7.3.1","@typescript-eslint/parser":"^7.3.1","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.5.1",codemirror:"^5.65.2",color:"^4.2.3","cypress-plugin-tab":"^1.0.5","detect-browser":"^5.3.0",events:"^3.3.0","file-saver":"^2.0.5","json-stringify-pretty-compact":"^4.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","maplibre-gl":"^4.1.2","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1",pmtiles:"^3.2.0","prop-types":"^15.8.1",react:"^18.2.0","react-accessible-accordion":"^5.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^5.0.2","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^18.2.0","react-file-reader-input":"^2.0.0","react-icon-base":"^2.1.2","react-icons":"^5.0.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.72.0",slugify:"^1.6.6","string-hash":"^1.1.3",url:"^0.11.3"},c7e={esversion:6},d7e={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},h7e={"@cypress/code-coverage":"^3.12.30","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.1.9","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.14","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/mocha":"^10.0.6","@types/randomcolor":"^0.5.9","@types/react":"^18.2.67","@types/react-aria-menubutton":"^6.2.14","@types/react-aria-modal":"^4.0.10","@types/react-autocomplete":"^1.8.10","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.12","@types/react-dom":"^18.2.22","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@vitejs/plugin-react":"^4.2.1",cors:"^2.8.5",cypress:"^13.10.0",eslint:"^8.57.0","eslint-plugin-react":"^7.34.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.2",mocha:"^10.3.0",postcss:"^8.4.38","react-hot-loader":"^4.13.1",stylelint:"^16.2.1","stylelint-config-recommended-scss":"^14.0.0","stylelint-scss":"^6.2.1",typescript:"^5.4.3",uuid:"^9.0.1",vite:"^5.2.6","vite-plugin-istanbul":"^6.0.0"},nU={name:e7e,version:t7e,description:n7e,type:r7e,main:i7e,scripts:o7e,repository:a7e,author:s7e,license:l7e,homepage:u7e,dependencies:A7e,jshintConfig:c7e,stylelint:d7e,devDependencies:h7e},f7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function jr(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Save.tsx",t="d2d5335245cbe53cf8614f47a1b3680c2cdc5eac",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Save.tsx",statementMap:{0:{start:{line:10,column:20},end:{line:10,column:37}},1:{start:{line:11,column:30},end:{line:11,column:45}},2:{start:{line:12,column:28},end:{line:12,column:38}},3:{start:{line:13,column:30},end:{line:13,column:45}},4:{start:{line:14,column:26},end:{line:14,column:38}},5:{start:{line:15,column:36},end:{line:15,column:51}},6:{start:{line:16,column:2},end:{line:20,column:20}},7:{start:{line:17,column:4},end:{line:19,column:5}},8:{start:{line:18,column:6},end:{line:18,column:32}},9:{start:{line:21,column:21},end:{line:23,column:3}},10:{start:{line:22,column:4},end:{line:22,column:19}},11:{start:{line:24,column:23},end:{line:27,column:3}},12:{start:{line:25,column:4},end:{line:25,column:17}},13:{start:{line:26,column:4},end:{line:26,column:23}},14:{start:{line:28,column:17},end:{line:61,column:3}},15:{start:{line:29,column:4},end:{line:32,column:5}},16:{start:{line:30,column:6},end:{line:30,column:29}},17:{start:{line:31,column:6},end:{line:31,column:13}},18:{start:{line:33,column:19},end:{line:33,column:83}},19:{start:{line:34,column:17},end:{line:39,column:5}},20:{start:{line:40,column:4},end:{line:40,column:20}},21:{start:{line:41,column:4},end:{line:59,column:7}},22:{start:{line:52,column:6},end:{line:52,column:29}},23:{start:{line:54,column:6},end:{line:54,column:31}},24:{start:{line:56,column:6},end:{line:56,column:25}},25:{start:{line:58,column:6},end:{line:58,column:23}},26:{start:{line:60,column:4},end:{line:60,column:27}},27:{start:{line:63,column:2},end:{line:76,column:3}},28:{start:{line:64,column:4},end:{line:75,column:9}},29:{start:{line:70,column:25},end:{line:70,column:37}},30:{start:{line:77,column:2},end:{line:144,column:7}},31:{start:{line:87,column:28},end:{line:87,column:42}},32:{start:{line:97,column:36},end:{line:97,column:50}},33:{start:{line:108,column:35},end:{line:108,column:54}}},fnMap:{0:{name:"CloudNativeGISSave",decl:{start:{line:9,column:24},end:{line:9,column:42}},loc:{start:{line:9,column:50},end:{line:145,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:16,column:12},end:{line:16,column:13}},loc:{start:{line:16,column:18},end:{line:20,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:21,column:21},end:{line:21,column:22}},loc:{start:{line:21,column:27},end:{line:23,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:24,column:23},end:{line:24,column:24}},loc:{start:{line:24,column:29},end:{line:27,column:3}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:28,column:17},end:{line:28,column:18}},loc:{start:{line:28,column:28},end:{line:61,column:3}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:51,column:12},end:{line:51,column:13}},loc:{start:{line:51,column:31},end:{line:53,column:5}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:53,column:12},end:{line:53,column:13}},loc:{start:{line:53,column:23},end:{line:55,column:5}},line:53},7:{name:"(anonymous_7)",decl:{start:{line:55,column:13},end:{line:55,column:14}},loc:{start:{line:55,column:22},end:{line:57,column:5}},line:55},8:{name:"(anonymous_8)",decl:{start:{line:57,column:15},end:{line:57,column:16}},loc:{start:{line:57,column:21},end:{line:59,column:5}},line:57},9:{name:"(anonymous_9)",decl:{start:{line:70,column:19},end:{line:70,column:20}},loc:{start:{line:70,column:25},end:{line:70,column:37}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:87,column:22},end:{line:87,column:23}},loc:{start:{line:87,column:28},end:{line:87,column:42}},line:87},11:{name:"(anonymous_11)",decl:{start:{line:97,column:25},end:{line:97,column:26}},loc:{start:{line:97,column:36},end:{line:97,column:50}},line:97},12:{name:"(anonymous_12)",decl:{start:{line:108,column:26},end:{line:108,column:27}},loc:{start:{line:108,column:35},end:{line:108,column:54}},line:108}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:29,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:29,column:4},end:{line:32,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},2:{loc:{start:{line:63,column:2},end:{line:76,column:3}},type:"if",locations:[{start:{line:63,column:2},end:{line:76,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},3:{loc:{start:{line:96,column:23},end:{line:96,column:39}},type:"cond-expr",locations:[{start:{line:96,column:30},end:{line:96,column:34}},{start:{line:96,column:37},end:{line:96,column:39}}],line:96},4:{loc:{start:{line:120,column:28},end:{line:120,column:53}},type:"binary-expr",locations:[{start:{line:120,column:28},end:{line:120,column:43}},{start:{line:120,column:47},end:{line:120,column:53}}],line:120},5:{loc:{start:{line:131,column:28},end:{line:131,column:53}},type:"binary-expr",locations:[{start:{line:131,column:28},end:{line:131,column:43}},{start:{line:131,column:47},end:{line:131,column:53}}],line:131},6:{loc:{start:{line:136,column:12},end:{line:139,column:23}},type:"cond-expr",locations:[{start:{line:136,column:37},end:{line:139,column:16}},{start:{line:139,column:19},end:{line:139,column:23}}],line:136}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Save.tsx"],names:[],mappings:"AAmFM,SA6DiB,UA3Df,KAFF;AAnFN,SAAgB,WAAW,gBAAgB;AAC3C,SAAS,qBAAqB;AAC9B,OAAO,WAAW;AAClB,SAAS,qBAAqB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAa1B,wBAAwB,mBAAmB,OAAuB;AAChE,QAAM,YAAY,MAAM,OAAO;AAC/B,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAkB,KAAK;AACnD,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAwB;AAClD,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAkB,KAAK;AAEnD,QAAM,CAAC,MAAM,OAAO,IAAI,SAA6B,EAAE;AACvD,QAAM,CAAC,WAAW,YAAY,IAAI,SAAkB,KAAK;AAGzD,YAAU,MAAM;AACd,QAAI,MAAM,OAAO;AACf,cAAQ,MAAM,MAAM,IAAI;AAAA,IAC1B;AAAA,EACF,GAAG,CAAC,MAAM,KAAK,CAAC;AAEhB,QAAM,aAAa,MAAM;AACvB,aAAS,IAAI;AAAA,EACf;AAEA,QAAM,eAAe,MAAM;AACzB,eAAW;AACX,cAAU,CAAC,MAAM;AAAA,EACnB;AAEA,QAAM,SAAS,CAAC,UAA2B;AACzC,QAAI,CAAC,MAAM,OAAO,WAAW;AAC3B,YAAM,eAAe;AACrB;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,YAAY,UAAU,UAAU,SAAS,gBAAgB;AAC9E,UAAM,OAAO;AAAA,MACX;AAAA,MACA;AAAA,MACA,OAAO,MAAM;AAAA,MACb;AAAA,IACF;AACA,cAAU,IAAI;AACd,UAAM,MAAM,MAAM,WAAW;AAAA,MAC3B,MAAM;AAAA,MACN,aAAa;AAAA,MACb,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,UAAU;AAAA,QACV,gBAAgB;AAAA,QAChB,eAAe,OAAO;AAAA,MACxB;AAAA,MACA,MAAM,KAAK,UAAU,IAAI;AAAA,IAC3B,CAAC,EAAE,KAAK,SAAU,UAAU;AAC1B,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EAAE,KAAK,WAAY;AAClB,aAAO,SAAS,OAAO;AAAA,IACzB,CAAC,EAAE,MAAM,CAAC,QAAQ;AAChB,eAAS,GAAG,GAAG,EAAE;AAAA,IACnB,CAAC,EAAE,QAAQ,MAAM;AACf,gBAAU,KAAK;AAAA,IACjB,CAAC;AACD,UAAM,eAAe;AAAA,EACvB;AAEA,MAAI;AACJ,MAAI,OAAO;AACT,mBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,MAAK;AAAA,UAAI,SAAS,MAAM,WAAW;AAAA,UACnC,WAAU;AAAA,UAA6B;AAAA;AAAA,MAAC;AAAA,OAC5C;AAAA,EAEJ;AACA,SACE,iCACE;AAAA,yBAAC,iBAAc,SAAS,cACtB;AAAA,0BAAC,iBAAa;AAAA,MACd,oBAAC,UAAK,WAAU,sBAAqB,kBAAI;AAAA,OAC3C;AAAA,IACA;AAAA,MAAC;AAAA;AAAA,QACC,eAAY;AAAA,QACZ;AAAA,QACA,cAAc,MAAM,aAAa;AAAA,QACjC,OAAO,kBAAkB;AAAA,QAExB;AAAA;AAAA,UAED,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,QACd;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,OAAO,OAAO;AAAA,gBACrB,SAAS,WAAS,QAAQ,KAAK;AAAA,gBAC/B,UAAU;AAAA;AAAA,YACZ;AAAA,YACA,oBAAC,OAAE,gCAAkB;AAAA,YACrB,oBAAC,QAAE;AAAA,YACH,oBAAC,QAAG,wBAAU;AAAA,YACd;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,SAAO,aAAa,CAAC,CAAC,GAAG;AAAA,gBACnC,UAAU;AAAA;AAAA,YACZ;AAAA,YACA,oBAAC,QAAE;AAAA,YACH,qBAAC,SACC;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,CAAC,MAAM,YAAY;AAAA,kBAC9B;AAAA;AAAA,cAED;AAAA,cAEA,oBAAC,UAAK,OAAO,EAAE,QAAQ,QAAQ,GAAE;AAAA,cAEjC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,CAAC,MAAM,YAAY;AAAA,kBAC9B;AAAA;AAAA,cAED;AAAA,eACF;AAAA,YAEE,SAAS,iCACP;AAAA,kCAAC,QAAE;AAAA,cACH,oBAAC,UAAK,uBAAS;AAAA,eACjB,IAAM;AAAA,aAEV,GACF;AAAA;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d2d5335245cbe53cf8614f47a1b3680c2cdc5eac"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return jr=function(){return a},a}jr();function p7e(e){var ee;jr().f[0]++;const t=(jr().s[0]++,(ee=e.style)==null?void 0:ee.name),[n,r]=(jr().s[1]++,ar.useState(!1)),[i,o]=(jr().s[2]++,ar.useState()),[a,s]=(jr().s[3]++,ar.useState(!1)),[h,m]=(jr().s[4]++,ar.useState("")),[C,E]=(jr().s[5]++,ar.useState(!1));jr().s[6]++,ar.useEffect(()=>{jr().f[1]++,jr().s[7]++,e.style?(jr().b[0][0]++,jr().s[8]++,m(e.style.name)):jr().b[0][1]++},[e.style]),jr().s[9]++;const O=()=>{jr().f[2]++,jr().s[10]++,o(null)};jr().s[11]++;const P=()=>{jr().f[3]++,jr().s[12]++,O(),jr().s[13]++,r(!n)};jr().s[14]++;const D=H=>{var ue;if(jr().f[4]++,jr().s[15]++,(ue=e.style)!=null&&ue.style_url)jr().b[1][1]++;else{jr().b[1][0]++,jr().s[16]++,H.preventDefault(),jr().s[17]++;return}const G=(jr().s[18]++,H.nativeEvent.submitter.className.includes("save-as-button")),Z=(jr().s[19]++,{name:h,isDefault:C,style:e.mapStyle,saveAs:G});jr().s[20]++,s(!0),jr().s[21]++,fetch(e.style.style_url,{mode:"cors",credentials:"same-origin",method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":window.csrfmiddlewaretoken},body:JSON.stringify(Z)}).then(function(ye){return jr().f[5]++,jr().s[22]++,ye.json()}).then(function(){jr().f[6]++,jr().s[23]++,window.location.reload()}).catch(ye=>{jr().f[7]++,jr().s[24]++,o(`${ye}`)}).finally(()=>{jr().f[8]++,jr().s[25]++,s(!1)}),jr().s[26]++,H.preventDefault()};let $;return jr().s[27]++,i?(jr().b[2][0]++,jr().s[28]++,$=W.jsxs("div",{className:"maputnik-modal-error",children:[i,W.jsx("a",{href:"#",onClick:()=>(jr().f[9]++,jr().s[29]++,O()),className:"maputnik-modal-error-close",children:""})]})):jr().b[2][1]++,jr().s[30]++,W.jsxs(W.Fragment,{children:[W.jsxs(OB,{onClick:P,children:[W.jsx(ene,{}),W.jsx("span",{className:"maputnik-icon-text",children:"Save"})]}),W.jsxs(Ad,{"data-wd-key":"modal:open",isOpen:n,onOpenToggle:()=>(jr().f[10]++,jr().s[31]++,P()),title:"Save style - "+t,children:[$,W.jsx("section",{className:"maputnik-modal-section",children:W.jsxs("form",{onSubmit:D,children:[W.jsx("h1",{children:"Name"}),W.jsx(sd,{value:h?(jr().b[3][0]++,h):(jr().b[3][1]++,""),onInput:H=>(jr().f[11]++,jr().s[32]++,m(H)),disabled:a}),W.jsx("p",{children:"Change to override"}),W.jsx("br",{}),W.jsx("h1",{children:"Is default"}),W.jsx(rM,{value:C,onChange:H=>(jr().f[12]++,jr().s[33]++,E(!!H)),disabled:a}),W.jsx("br",{}),W.jsxs("div",{children:[W.jsx(Ta,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button save-button",disabled:(jr().b[4][0]++,!e.mapStyle||(jr().b[4][1]++,a)),children:"Save"}),W.jsx("span",{style:{margin:"0 2px"}}),W.jsx(Ta,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button save-as-button",disabled:(jr().b[5][0]++,!e.mapStyle||(jr().b[5][1]++,a)),children:"Save as"})]}),a?(jr().b[6][0]++,W.jsxs(W.Fragment,{children:[W.jsx("br",{}),W.jsx("span",{children:"Saving..."})]})):(jr().b[6][1]++,null)]})})]})]})}const m7e="get_your_own_OpIi9ZULNHzrESv6T2vL",g7e="b71f7f0ba4064f5eb9e903859a9cf5c6",h$={openmaptiles:m7e,thunderforest:g7e};function jn(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/style.ts",t="c333d35858c13a2668414d3cfee70eacbb280229",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:2},end:{line:49,column:3}},19:{start:{line:48,column:4},end:{line:48,column:33}},20:{start:{line:50,column:19},end:{line:50,column:42}},21:{start:{line:51,column:20},end:{line:51,column:67}},22:{start:{line:52,column:2},end:{line:54,column:3}},23:{start:{line:53,column:4},end:{line:53,column:37}},24:{start:{line:55,column:2},end:{line:55,column:21}},25:{start:{line:58,column:17},end:{line:58,column:45}},26:{start:{line:59,column:2},end:{line:60,column:20}},27:{start:{line:60,column:4},end:{line:60,column:20}},28:{start:{line:61,column:2},end:{line:62,column:20}},29:{start:{line:62,column:4},end:{line:62,column:20}},30:{start:{line:63,column:22},end:{line:63,column:64}},31:{start:{line:64,column:2},end:{line:66,column:3}},32:{start:{line:65,column:4},end:{line:65,column:20}},33:{start:{line:67,column:25},end:{line:73,column:3}},34:{start:{line:74,column:23},end:{line:77,column:3}},35:{start:{line:78,column:2},end:{line:78,column:22}},36:{start:{line:81,column:21},end:{line:81,column:29}},37:{start:{line:82,column:2},end:{line:84,column:5}},38:{start:{line:83,column:4},end:{line:83,column:76}},39:{start:{line:85,column:2},end:{line:93,column:3}},40:{start:{line:86,column:27},end:{line:86,column:73}},41:{start:{line:87,column:4},end:{line:92,column:5}},42:{start:{line:88,column:6},end:{line:91,column:8}},43:{start:{line:94,column:2},end:{line:94,column:22}},44:{start:{line:97,column:26},end:{line:99,column:3}},45:{start:{line:100,column:2},end:{line:100,column:63}},46:{start:{line:101,column:2},end:{line:104,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:56,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:57,column:9},end:{line:57,column:33}},loc:{start:{line:57,column:67},end:{line:79,column:1}},line:57},9:{name:"replaceAccessTokens",decl:{start:{line:80,column:9},end:{line:80,column:28}},loc:{start:{line:80,column:50},end:{line:95,column:1}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:82,column:40},end:{line:82,column:41}},loc:{start:{line:82,column:56},end:{line:84,column:3}},line:82},11:{name:"stripAccessTokens",decl:{start:{line:96,column:9},end:{line:96,column:26}},loc:{start:{line:96,column:37},end:{line:105,column:1}},line:96}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:47,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:47,column:6},end:{line:47,column:89}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:46}},{start:{line:47,column:50},end:{line:47,column:89}}],line:47},5:{loc:{start:{line:50,column:19},end:{line:50,column:42}},type:"binary-expr",locations:[{start:{line:50,column:19},end:{line:50,column:36}},{start:{line:50,column:40},end:{line:50,column:42}}],line:50},6:{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:52,column:6},end:{line:52,column:40}},type:"binary-expr",locations:[{start:{line:52,column:6},end:{line:52,column:24}},{start:{line:52,column:28},end:{line:52,column:40}}],line:52},8:{loc:{start:{line:57,column:56},end:{line:57,column:65}},type:"default-arg",locations:[{start:{line:57,column:63},end:{line:57,column:65}}],line:57},9:{loc:{start:{line:59,column:2},end:{line:60,column:20}},type:"if",locations:[{start:{line:59,column:2},end:{line:60,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:61,column:2},end:{line:62,column:20}},type:"if",locations:[{start:{line:61,column:2},end:{line:62,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},11:{loc:{start:{line:61,column:6},end:{line:61,column:39}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:24}},{start:{line:61,column:28},end:{line:61,column:39}}],line:61},12:{loc:{start:{line:64,column:2},end:{line:66,column:3}},type:"if",locations:[{start:{line:64,column:2},end:{line:66,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},13:{loc:{start:{line:80,column:39},end:{line:80,column:48}},type:"default-arg",locations:[{start:{line:80,column:46},end:{line:80,column:48}}],line:80},14:{loc:{start:{line:85,column:2},end:{line:93,column:3}},type:"if",locations:[{start:{line:85,column:2},end:{line:93,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},15:{loc:{start:{line:85,column:6},end:{line:85,column:114}},type:"binary-expr",locations:[{start:{line:85,column:6},end:{line:85,column:21}},{start:{line:85,column:26},end:{line:85,column:69}},{start:{line:85,column:73},end:{line:85,column:113}}],line:85},16:{loc:{start:{line:87,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:92,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0,0],16:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,iBAAa;AAAA,EACf;AAEA,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC;AAAQ,WAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO;AAAK,WAAO;AAE7C,QAAM,cAAc,eAAe,YAAY,UAAU,IAAI;AAE7D,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IAC9C;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c333d35858c13a2668414d3cfee70eacbb280229"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return jn=function(){return a},a}jn();const y7e=(jn().s[0]++,p$({version:8,sources:{},layers:[]}));function f$(){return jn().f[0]++,jn().s[1]++,Math.random().toString(36).substring(2,9)}function v7e(e){return jn().f[1]++,jn().s[2]++,jn().b[1][0]++,!("id"in e)||(jn().b[1][1]++,!e.id)?(jn().b[0][0]++,jn().s[3]++,e.id=f$(),jn().s[4]++,e):(jn().b[0][1]++,jn().s[5]++,e)}function C7e(e){jn().f[2]++;const t=(jn().s[6]++,e.layers.map(n=>{jn().f[3]++;const r=(jn().s[7]++,{...n});return jn().s[8]++,delete r.interactive,jn().s[9]++,r}));return jn().s[10]++,{...e,layers:t}}function _7e(e){return jn().f[4]++,jn().s[11]++,{...e,layers:fJ(e.layers)}}function p$(e){return jn().f[5]++,jn().s[12]++,C7e(_7e(v7e(e)))}function b7e(e,t){jn().f[6]++,jn().s[13]++;for(let n=(jn().s[14]++,0);n<e.length;n++){if(jn().s[15]++,e[n].id===t)return jn().b[2][0]++,jn().s[16]++,n;jn().b[2][1]++}return jn().s[17]++,null}function C9(e,t,n){jn().f[7]++,jn().s[18]++,jn().b[4][0]++,e==="thunderforest_transport"||(jn().b[4][1]++,e==="thunderforest_outdoors")?(jn().b[3][0]++,jn().s[19]++,e="thunderforest"):jn().b[3][1]++;const r=(jn().s[20]++,jn().b[5][0]++,t.metadata||(jn().b[5][1]++,{}));let i=(jn().s[21]++,r[`maputnik:${e}_access_token`]);return jn().s[22]++,jn().b[7][0]++,n.allowFallback&&(jn().b[7][1]++,!i)?(jn().b[6][0]++,jn().s[23]++,i=h$[e]):jn().b[6][1]++,jn().s[24]++,i}function x7e(e,t,n=(jn().b[8][0]++,{})){jn().f[8]++;const r=(jn().s[25]++,e.sources[t]);if(jn().s[26]++,r)jn().b[9][1]++;else return jn().b[9][0]++,jn().s[27]++,e;if(jn().s[28]++,jn().b[11][0]++,!("url"in r)||(jn().b[11][1]++,!r.url))return jn().b[10][0]++,jn().s[29]++,e;jn().b[10][1]++;const i=(jn().s[30]++,C9(t,e,n));if(jn().s[31]++,i)jn().b[12][1]++;else return jn().b[12][0]++,jn().s[32]++,e;const o=(jn().s[33]++,{...e.sources,[t]:{...r,url:r.url.replace("{key}",i)}}),a=(jn().s[34]++,{...e,sources:o});return jn().s[35]++,a}function w7e(e,t=(jn().b[13][0]++,{})){jn().f[9]++;let n=(jn().s[36]++,e);if(jn().s[37]++,Object.keys(e.sources).forEach(r=>{jn().f[10]++,jn().s[38]++,n=x7e(n,r,t)}),jn().s[39]++,jn().b[15][0]++,e.glyphs&&(jn().b[15][1]++,e.glyphs.match(/\.tilehosting\.com/)||(jn().b[15][2]++,e.glyphs.match(/\.maptiler\.com/)))){jn().b[14][0]++;const r=(jn().s[40]++,C9("openmaptiles",e,t));jn().s[41]++,r?(jn().b[16][0]++,jn().s[42]++,n={...n,glyphs:e.glyphs.replace("{key}",r)}):jn().b[16][1]++}else jn().b[14][1]++;return jn().s[43]++,n}function M7e(e){jn().f[11]++;const t=(jn().s[44]++,{...e.metadata});return jn().s[45]++,delete t["maputnik:openmaptiles_access_token"],jn().s[46]++,{...e,metadata:t}}const wu={ensureStyleValidity:p$,emptyStyle:y7e,indexOfLayer:b7e,generateId:f$,getAccessToken:C9,replaceAccessTokens:w7e,stripAccessTokens:M7e};function wi(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Style.tsx",t="024da554cc2a34fe4d079d93ed0a1a4fd3ec4691",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Style.tsx",statementMap:{0:{start:{line:8,column:30},end:{line:8,column:45}},1:{start:{line:9,column:28},end:{line:9,column:38}},2:{start:{line:10,column:28},end:{line:10,column:65}},3:{start:{line:11,column:16},end:{line:11,column:71}},4:{start:{line:11,column:51},end:{line:11,column:70}},5:{start:{line:12,column:2},end:{line:47,column:14}},6:{start:{line:13,column:4},end:{line:13,column:20}},7:{start:{line:14,column:4},end:{line:16,column:5}},8:{start:{line:15,column:6},end:{line:15,column:13}},9:{start:{line:17,column:21},end:{line:17,column:36}},10:{start:{line:18,column:4},end:{line:46,column:7}},11:{start:{line:22,column:6},end:{line:22,column:29}},12:{start:{line:24,column:6},end:{line:26,column:7}},13:{start:{line:25,column:8},end:{line:25,column:26}},14:{start:{line:27,column:6},end:{line:30,column:8}},15:{start:{line:31,column:6},end:{line:38,column:8}},16:{start:{line:39,column:23},end:{line:39,column:62}},17:{start:{line:40,column:6},end:{line:40,column:34}},18:{start:{line:41,column:6},end:{line:41,column:23}},19:{start:{line:43,column:6},end:{line:43,column:20}},20:{start:{line:44,column:6},end:{line:44,column:25}},21:{start:{line:45,column:6},end:{line:45,column:61}},22:{start:{line:49,column:2},end:{line:62,column:3}},23:{start:{line:50,column:4},end:{line:61,column:9}},24:{start:{line:56,column:25},end:{line:56,column:39}},25:{start:{line:63,column:2},end:{line:117,column:7}},26:{start:{line:79,column:27},end:{line:79,column:61}},27:{start:{line:82,column:12},end:{line:90,column:14}}},fnMap:{0:{name:"CloudNativeGISStyle",decl:{start:{line:7,column:24},end:{line:7,column:43}},loc:{start:{line:7,column:51},end:{line:118,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:39},end:{line:11,column:40}},loc:{start:{line:11,column:51},end:{line:11,column:70}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:12,column:12},end:{line:12,column:13}},loc:{start:{line:12,column:18},end:{line:47,column:3}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:31},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:42,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:42,column:13},end:{line:42,column:14}},loc:{start:{line:42,column:22},end:{line:46,column:5}},line:42},6:{name:"(anonymous_6)",decl:{start:{line:56,column:19},end:{line:56,column:20}},loc:{start:{line:56,column:25},end:{line:56,column:39}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:79,column:20},end:{line:79,column:21}},loc:{start:{line:79,column:27},end:{line:79,column:61}},line:79},8:{name:"(anonymous_8)",decl:{start:{line:81,column:42},end:{line:81,column:43}},loc:{start:{line:81,column:54},end:{line:91,column:11}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:108,column:22},end:{line:108,column:23}},loc:{start:{line:108,column:29},end:{line:109,column:9}},line:108}},branchMap:{0:{loc:{start:{line:14,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:16,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:14},1:{loc:{start:{line:24,column:6},end:{line:26,column:7}},type:"if",locations:[{start:{line:24,column:6},end:{line:26,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:24},2:{loc:{start:{line:49,column:2},end:{line:62,column:3}},type:"if",locations:[{start:{line:49,column:2},end:{line:62,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},3:{loc:{start:{line:110,column:15},end:{line:110,column:72}},type:"cond-expr",locations:[{start:{line:110,column:30},end:{line:110,column:54}},{start:{line:110,column:57},end:{line:110,column:72}}],line:110},4:{loc:{start:{line:113,column:10},end:{line:113,column:172}},type:"cond-expr",locations:[{start:{line:113,column:42},end:{line:113,column:165}},{start:{line:113,column:168},end:{line:113,column:172}}],line:113}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Style.tsx"],names:["style"],mappings:"AAoEM,SAUF,UARI,KAFF;AApEN,SAAS,WAAW,gBAAgB;AACpC,SAAS,qBAAqB;AAE9B,OAAO,wBAAwB;AAC/B,OAAO,WAAW;AAClB,OAAO,mBAAmB;AAQ1B,wBAAwB,oBAAoB,OAAuB;AACjE,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAkB,KAAK;AACnD,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAwB;AAClD,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAiB,MAAM,KAAK,cAAc,EAAE;AAEtE,QAAM,QAAQ,MAAM,KAAK,OAAO,KAAK,CAAAA,WAASA,OAAM,OAAO,KAAK;AAGhE,YAAU,MAAM;AACd,cAAU,IAAI;AACd,QAAI,CAAC,OAAO;AACV;AAAA,IACF;AACA,UAAM,WAAW,MAAM;AACvB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAU,UAAU;AACxB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AAGd,UAAI,CAAC,KAAK,SAAS;AACjB,aAAK,UAAU,CAAC;AAAA,MAClB;AACA,WAAK,QAAQ,gBAAgB;AAAA,QAC3B,OAAO,CAAC,gDAAgD;AAAA,QACxD,MAAM;AAAA,MACR;AACA,WAAK,SAAS;AAAA,QACZ;AAAA,UACE,MAAM;AAAA,UACN,QAAQ;AAAA,UACR,UAAU;AAAA,QACZ;AAAA,QAAG,GAAG,KAAK;AAAA,MACb;AAGA,YAAM,WAAW,cAAc,oBAAoB,IAAI;AACvD,YAAM,YAAY,QAAQ;AAC1B,gBAAU,KAAK;AAAA,IACjB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,eAAS,GAAG;AACZ,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAAA,EACL,GAAG,CAAC,KAAK,CAAC;AAGV,MAAI;AACJ,MAAI,OAAO;AACT,mBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,MAAK;AAAA,UAAI,SAAS,MAAM,SAAS,IAAI;AAAA,UACrC,WAAU;AAAA,UAA6B;AAAA;AAAA,MAAC;AAAA,OAC5C;AAAA,EAEJ;AAEA,SACE,iCACE;AAAA,yBAAC,SAAI,OAAO;AAAA,MACV,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,YAAY;AAAA,IACd,GACE;AAAA,2BAAC,SACC;AAAA,4BAAC,SAAI,OAAO,EAAE,UAAU,UAAU,SAAS,IAAI,GAAG,mBAAK;AAAA,QACvD,oBAAC,SAAI,OAAO,EAAE,UAAU,SAAS,GAAI,gBAAM,KAAK,MAAK;AAAA,SACvD;AAAA,MACA,oBAAC,SACC,8BAAC,iBAAc,OAAM,eACnB,8BAAC,WACC;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,eAAY;AAAA,UACZ,UAAU,CAAC,MAAM,SAAS,SAAS,EAAE,OAAO,KAAK,CAAC;AAAA,UAClD;AAAA,UAEC,gBAAM,KAAK,OAAO,IAAI,CAACA,WAAU;AAChC,mBACE;AAAA,cAAC;AAAA;AAAA,gBACgB,OAAOA,OAAM;AAAA,gBAC5B,eAAaA,OAAM;AAAA,gBAClB,UAAAA,OAAM;AAAA;AAAA,cAFFA,OAAM;AAAA,YAGb;AAAA,UAEJ,CAAC;AAAA;AAAA,MACH,GACF,GACF,GACF;AAAA,OACF;AAAA,IACA;AAAA,MAAC;AAAA;AAAA,QACC,UAAU,MAAM;AAAA,QAChB;AAAA;AAAA,IACF;AAAA,IAGA;AAAA,MAAC;AAAA;AAAA,QACC,eAAY;AAAA,QACZ,WAAU;AAAA,QACV;AAAA,QACA,cAAc,OAAK;AAAA,QACnB;AAAA,QACA,OAAO,eAAe,2BAA2B;AAAA,QAEhD;AAAA;AAAA,UAEC,CAAC,eACC,oBAAC,aAAQ,WAAU,0BACjB,8BAAC,QAAG,2BAAa,GACnB,IAAa;AAAA;AAAA;AAAA,IAEnB;AAAA,KACF;AAEJ;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"024da554cc2a34fe4d079d93ed0a1a4fd3ec4691"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wi=function(){return a},a}wi();function S7e(e){wi().f[0]++;const[t,n]=(wi().s[0]++,ar.useState(!1)),[r,i]=(wi().s[1]++,ar.useState()),[o,a]=(wi().s[2]++,ar.useState(e.data.default_style.id)),s=(wi().s[3]++,e.data.styles.find(m=>(wi().f[1]++,wi().s[4]++,m.id===o)));wi().s[5]++,ar.useEffect(()=>{if(wi().f[2]++,wi().s[6]++,n(!0),wi().s[7]++,s)wi().b[0][1]++;else{wi().b[0][0]++,wi().s[8]++;return}const m=(wi().s[9]++,s.style_url);wi().s[10]++,fetch(m,{mode:"cors",credentials:"same-origin"}).then(function(C){return wi().f[3]++,wi().s[11]++,C.json()}).then(C=>{wi().f[4]++,wi().s[12]++,C.sources?wi().b[1][1]++:(wi().b[1][0]++,wi().s[13]++,C.sources={}),wi().s[14]++,C.sources.openstreetmap={tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],type:"raster"},wi().s[15]++,C.layers=[{id:"openstreetmap",type:"raster",source:"openstreetmap"},...C.layers];const E=(wi().s[16]++,wu.ensureStyleValidity(C));wi().s[17]++,e.onStyleOpen(E),wi().s[18]++,n(!1)}).catch(C=>{wi().f[5]++,wi().s[19]++,i(C),wi().s[20]++,console.error(C),wi().s[21]++,console.warn("Could not open the style URL",m)})},[s]);let h;return wi().s[22]++,r?(wi().b[2][0]++,wi().s[23]++,h=W.jsxs("div",{className:"maputnik-modal-error",children:[r,W.jsx("a",{href:"#",onClick:()=>(wi().f[6]++,wi().s[24]++,i(null)),className:"maputnik-modal-error-close",children:""})]})):wi().b[2][1]++,wi().s[25]++,W.jsxs(W.Fragment,{children:[W.jsxs("div",{style:{display:"flex",height:"100%",flexGrow:1,alignItems:"center"},children:[W.jsxs("div",{children:[W.jsx("div",{style:{fontSize:"0.5rem",opacity:.7},children:"Layer"}),W.jsx("div",{style:{fontSize:"0.8rem"},children:e.data.name})]}),W.jsx("div",{children:W.jsx(m$,{wdKey:"nav:inspect",children:W.jsx("label",{children:W.jsx("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:m=>(wi().f[7]++,wi().s[26]++,a(parseInt(m.target.value))),value:o,children:e.data.styles.map(m=>(wi().f[8]++,wi().s[27]++,W.jsx("option",{value:m.id,"data-wd-key":m.id,children:m.name},m.id)))})})})})]}),W.jsx(p7e,{mapStyle:e.mapStyle,style:s}),W.jsxs(Ad,{"data-wd-key":"modal:open",className:"style-loading",isOpen:t,onOpenToggle:m=>{wi().f[9]++},title:h?(wi().b[3][0]++,"Error on Loading Style"):(wi().b[3][1]++,"Loading Style"),children:[h,h?(wi().b[4][1]++,null):(wi().b[4][0]++,W.jsx("section",{className:"maputnik-modal-section",children:W.jsx("h1",{children:"Loading Style"})}))]})]})}function ga(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Main.tsx",t="c250c90cc87a1bb863da8a99c8585d1fecf0f39b",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Main.tsx",statementMap:{0:{start:{line:6,column:28},end:{line:6,column:42}},1:{start:{line:7,column:26},end:{line:7,column:42}},2:{start:{line:8,column:2},end:{line:23,column:9}},3:{start:{line:9,column:16},end:{line:9,column:37}},4:{start:{line:10,column:16},end:{line:10,column:52}},5:{start:{line:11,column:4},end:{line:22,column:7}},6:{start:{line:15,column:6},end:{line:15,column:29}},7:{start:{line:17,column:6},end:{line:17,column:21}},8:{start:{line:19,column:6},end:{line:19,column:43}},9:{start:{line:20,column:6},end:{line:20,column:25}},10:{start:{line:21,column:6},end:{line:21,column:56}},11:{start:{line:25,column:2},end:{line:27,column:3}},12:{start:{line:26,column:4},end:{line:26,column:102}},13:{start:{line:28,column:2},end:{line:49,column:7}}},fnMap:{0:{name:"CloudNativeGIS",decl:{start:{line:5,column:24},end:{line:5,column:38}},loc:{start:{line:5,column:46},end:{line:50,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:12},end:{line:8,column:13}},loc:{start:{line:8,column:18},end:{line:23,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:31},end:{line:16,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:16,column:12},end:{line:16,column:13}},loc:{start:{line:16,column:23},end:{line:18,column:5}},line:16},4:{name:"(anonymous_4)",decl:{start:{line:18,column:13},end:{line:18,column:14}},loc:{start:{line:18,column:22},end:{line:22,column:5}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:41,column:20},end:{line:41,column:21}},loc:{start:{line:41,column:27},end:{line:42,column:7}},line:41}},branchMap:{0:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},1:{loc:{start:{line:28,column:51},end:{line:49,column:3}},type:"cond-expr",locations:[{start:{line:28,column:74},end:{line:35,column:6}},{start:{line:35,column:25},end:{line:49,column:3}}],line:28},2:{loc:{start:{line:43,column:13},end:{line:43,column:68}},type:"cond-expr",locations:[{start:{line:43,column:28},end:{line:43,column:51}},{start:{line:43,column:54},end:{line:43,column:68}}],line:43},3:{loc:{start:{line:46,column:8},end:{line:46,column:170}},type:"cond-expr",locations:[{start:{line:46,column:40},end:{line:46,column:163}},{start:{line:46,column:166},end:{line:46,column:170}}],line:46}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/CloudNativeGIS/Main.tsx"],names:["data"],mappings:"AAkDM,SASS,UATT,KAeQ,YAfR;AAlDN,SAAS,WAAW,gBAAgB;AACpC,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAmBhC,wBAAwB,eAAe,OAAuB;AAC5D,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAwB,IAAI;AACtD,QAAM,CAAC,MAAM,OAAO,IAAI,SAAgC,MAAS;AAGjE,YAAU,MAAM;AACd,UAAM,MAAM,IAAI,IAAI,SAAS,GAAG;AAChC,UAAM,MAAM,KAAK,IAAI,aAAa,IAAI,SAAS;AAE/C,UAAM,KAAK;AAAA,MACT,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAU,UAAU;AACxB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAACA,UAAS;AACd,cAAQA,KAAI;AAAA,IACd,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,eAAS,oBAAoB,GAAG,GAAG;AACnC,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,GAAG;AAAA,IAClD,CAAC;AAAA,EACL,GAAG,CAAC,CAAC;AAEL,MAAI;AACJ,MAAI,OAAO;AACT,mBACE,oBAAC,SAAI,WAAU,wBACZ,iBACH;AAAA,EAEJ;AAEA,SACE,gCAEI,iBAAO,gCACL;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA,UAAU,MAAM;AAAA,MAChB,aAAa,MAAM;AAAA;AAAA,EACrB,GACF,IAAM;AAAA,IAAC;AAAA;AAAA,MACL,eAAY;AAAA,MACZ,WAAU;AAAA,MACV,QAAQ;AAAA,MACR,cAAc,OAAK;AAAA,MACnB;AAAA,MACA,OAAO,eAAe,0BAA0B;AAAA,MAE/C;AAAA;AAAA,QAEC,CAAC,eACC,oBAAC,aAAQ,WAAU,0BACjB,8BAAC,QAAG,2BAAa,GACnB,IAAa;AAAA;AAAA;AAAA,EAEnB,GAEJ;AAEJ;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c250c90cc87a1bb863da8a99c8585d1fecf0f39b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ga=function(){return a},a}ga();function E7e(e){ga().f[0]++;const[t,n]=(ga().s[0]++,ar.useState(null)),[r,i]=(ga().s[1]++,ar.useState(void 0));ga().s[2]++,ar.useEffect(()=>{ga().f[1]++;const a=(ga().s[3]++,new URL(document.URL)),s=(ga().s[4]++,""+a.searchParams.get("api-url"));ga().s[5]++,fetch(s,{mode:"cors",credentials:"same-origin"}).then(function(h){return ga().f[2]++,ga().s[6]++,h.json()}).then(h=>{ga().f[3]++,ga().s[7]++,i(h)}).catch(h=>{ga().f[4]++,ga().s[8]++,n(`Failed to load: '${s}'`),ga().s[9]++,console.error(h),ga().s[10]++,console.warn("Could not open the style URL",s)})},[]);let o;return ga().s[11]++,t?(ga().b[0][0]++,ga().s[12]++,o=W.jsx("div",{className:"maputnik-modal-error",children:t})):ga().b[0][1]++,ga().s[13]++,W.jsx(W.Fragment,{children:r?(ga().b[1][0]++,W.jsx(W.Fragment,{children:W.jsx(S7e,{data:r,mapStyle:e.mapStyle,onStyleOpen:e.onStyleOpen})})):(ga().b[1][1]++,W.jsxs(Ad,{"data-wd-key":"modal:open",className:"style-loading",isOpen:!0,onOpenToggle:a=>{ga().f[5]++},title:o?(ga().b[2][0]++,"Error on Loading Data"):(ga().b[2][1]++,"Loading Data"),children:[o,o?(ga().b[3][1]++,null):(ga().b[3][0]++,W.jsx("section",{className:"maputnik-modal-section",children:W.jsx("h1",{children:"Loading Style"})}))]}))})}function $i(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppToolbar.tsx",t="38486eeb38591db30aab0f3e9424a679bd31c2dc",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:9,column:16},end:{line:9,column:24}},1:{start:{line:10,column:41},end:{line:10,column:89}},2:{start:{line:13,column:4},end:{line:13,column:107}},3:{start:{line:18,column:4},end:{line:28,column:6}},4:{start:{line:33,column:4},end:{line:40,column:6}},5:{start:{line:45,column:4},end:{line:53,column:6}},6:{start:{line:57,column:10},end:{line:65,column:3}},7:{start:{line:67,column:4},end:{line:67,column:34}},8:{start:{line:69,column:11},end:{line:76,column:3}},9:{start:{line:70,column:4},end:{line:75,column:5}},10:{start:{line:71,column:6},end:{line:71,column:59}},11:{start:{line:73,column:17},end:{line:73,column:65}},12:{start:{line:74,column:6},end:{line:74,column:17}},13:{start:{line:78,column:18},end:{line:114,column:5}},14:{start:{line:115,column:24},end:{line:117,column:6}},15:{start:{line:116,column:6},end:{line:116,column:45}},16:{start:{line:118,column:4},end:{line:214,column:12}},17:{start:{line:129,column:33},end:{line:129,column:58}},18:{start:{line:138,column:33},end:{line:138,column:60}},19:{start:{line:147,column:33},end:{line:147,column:51}},20:{start:{line:195,column:33},end:{line:195,column:69}},21:{start:{line:198,column:38},end:{line:198,column:59}},22:{start:{line:199,column:20},end:{line:199,column:157}},23:{start:{line:201,column:112},end:{line:201,column:145}},24:{start:{line:202,column:20},end:{line:202,column:133}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:14,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:11},end:{line:29,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:11},end:{line:41,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:11},end:{line:54,column:3}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:66,column:2},end:{line:66,column:3}},loc:{start:{line:66,column:23},end:{line:68,column:3}},line:66},5:{name:"(anonymous_5)",decl:{start:{line:69,column:11},end:{line:69,column:12}},loc:{start:{line:69,column:23},end:{line:76,column:3}},line:69},6:{name:"(anonymous_6)",decl:{start:{line:77,column:2},end:{line:77,column:3}},loc:{start:{line:77,column:11},end:{line:215,column:3}},line:77},7:{name:"(anonymous_7)",decl:{start:{line:115,column:35},end:{line:115,column:36}},loc:{start:{line:115,column:45},end:{line:117,column:5}},line:115},8:{name:"(anonymous_8)",decl:{start:{line:129,column:25},end:{line:129,column:26}},loc:{start:{line:129,column:33},end:{line:129,column:58}},line:129},9:{name:"(anonymous_9)",decl:{start:{line:138,column:25},end:{line:138,column:26}},loc:{start:{line:138,column:33},end:{line:138,column:60}},line:138},10:{name:"(anonymous_10)",decl:{start:{line:147,column:25},end:{line:147,column:26}},loc:{start:{line:147,column:33},end:{line:147,column:51}},line:147},11:{name:"(anonymous_11)",decl:{start:{line:195,column:26},end:{line:195,column:27}},loc:{start:{line:195,column:33},end:{line:195,column:69}},line:195},12:{name:"(anonymous_12)",decl:{start:{line:198,column:31},end:{line:198,column:32}},loc:{start:{line:198,column:38},end:{line:198,column:59}},line:198},13:{name:"(anonymous_13)",decl:{start:{line:198,column:65},end:{line:198,column:66}},loc:{start:{line:198,column:75},end:{line:200,column:19}},line:198},14:{name:"(anonymous_14)",decl:{start:{line:201,column:105},end:{line:201,column:106}},loc:{start:{line:201,column:112},end:{line:201,column:145}},line:201},15:{name:"(anonymous_15)",decl:{start:{line:201,column:151},end:{line:201,column:152}},loc:{start:{line:201,column:161},end:{line:203,column:19}},line:201}},branchMap:{0:{loc:{start:{line:70,column:4},end:{line:75,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:75,column:5}},{start:{line:72,column:11},end:{line:75,column:5}}],line:70}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAsBW,cAqLG,YArLH;AAtBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB,SAAS,eAAe,cAAc,kBAAkB;AACxD,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AACzB,OAAO,oBAAoB;AAG3B,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAOO,aAAM,sBAAsB,MAAM,UAA8B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQO,aAAM,sBAAsB,MAAM,UAA8B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBACxC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAC1C;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBACjC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAK,cAAc,KAAI,sBAAqB;AAAA,kBACjD,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WAqBtE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,aAAa,KAAK,MAAM;AAAA,YACxB,UAAU,KAAK,MAAM;AAAA,YACrB;AAAA;AAAA,QACF;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAS,4BAAc;AAAA,WAC1B;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,WAAM;AAAA;AAAA,YACL;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAM,uBACb,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,6CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"38486eeb38591db30aab0f3e9424a679bd31c2dc"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return $i=function(){return a},a}$i();const O7e=($i().s[0]++,H8e()),qx=($i().s[1]++,["chrome","firefox"].indexOf(O7e.name)>-1);class rU extends Mn.Component{render(){return $i().f[0]++,$i().s[2]++,W.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class B7e extends Mn.Component{render(){return $i().f[1]++,$i().s[3]++,W.jsx("a",{className:Hf("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class m$ extends Mn.Component{render(){return $i().f[2]++,$i().s[4]++,W.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class OB extends Mn.Component{render(){return $i().f[3]++,$i().s[5]++,W.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class I7e extends Mn.Component{constructor(){super(...arguments);on(this,"state",($i().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));on(this,"onSkip",($i().s[8]++,n=>{if($i().f[5]++,$i().s[9]++,n==="map")$i().b[0][0]++,$i().s[10]++,document.querySelector(".maplibregl-canvas").focus();else{$i().b[0][1]++;const r=($i().s[11]++,document.querySelector("#skip-target-"+n));$i().s[12]++,r.focus()}}))}handleSelection(n){$i().f[4]++,$i().s[7]++,this.props.onSetMapState(n)}render(){$i().f[6]++;const n=($i().s[13]++,[{id:"map",group:"general",title:"Map"},{id:"inspect",group:"general",title:"Inspect",disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:"Deuteranopia filter",disabled:!qx},{id:"filter-protanopia",group:"color-accessibility",title:"Protanopia filter",disabled:!qx},{id:"filter-tritanopia",group:"color-accessibility",title:"Tritanopia filter",disabled:!qx},{id:"filter-achromatopsia",group:"color-accessibility",title:"Achromatopsia filter",disabled:!qx}]),r=($i().s[14]++,n.find(i=>($i().f[7]++,$i().s[15]++,i.id===this.props.mapState)));return $i().s[16]++,W.jsx("nav",{className:"maputnik-toolbar",children:W.jsxs("div",{className:"maputnik-toolbar__inner",children:[W.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[W.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:i=>($i().f[8]++,$i().s[17]++,this.onSkip("layer-list")),children:"Layers list"}),W.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:i=>($i().f[9]++,$i().s[18]++,this.onSkip("layer-editor")),children:"Layer editor"}),W.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:i=>($i().f[10]++,$i().s[19]++,this.onSkip("map")),children:"Map view"}),W.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[W.jsx("img",{src:f7e,alt:"Maputnik on GitHub"}),W.jsxs("h1",{children:[W.jsx("span",{className:"maputnik-toolbar-name",children:nU.name}),W.jsxs("span",{className:"maputnik-toolbar-version",children:["v",nU.version]})]})]})]}),W.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[W.jsx(E7e,{onStyleOpen:this.props.onStyleOpen,mapStyle:this.props.mapStyle,ToolbarAction:OB}),W.jsxs(OB,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[W.jsx(jte,{}),W.jsx(rU,{children:"Style Settings"})]}),W.jsxs(m$,{wdKey:"nav:inspect",children:[W.jsx(Fte,{}),W.jsxs("label",{children:["View",W.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:i=>($i().f[11]++,$i().s[20]++,this.handleSelection(i.target.value)),value:r==null?void 0:r.id,children:[n.filter(i=>($i().f[12]++,$i().s[21]++,i.group==="general")).map(i=>($i().f[13]++,$i().s[22]++,W.jsx("option",{value:i.id,disabled:i.disabled,"data-wd-key":i.id,children:i.title},i.id))),W.jsx("optgroup",{label:"Color accessibility",children:n.filter(i=>($i().f[14]++,$i().s[23]++,i.group==="color-accessibility")).map(i=>($i().f[15]++,$i().s[24]++,W.jsx("option",{value:i.id,disabled:i.disabled,children:i.title},i.id)))})]})]})]}),W.jsxs(B7e,{href:"https://github.com/maplibre/maputnik/wiki",children:[W.jsx(Lte,{}),W.jsx(rU,{children:"Help"})]})]})]})})}}function A5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ScrollContainer.tsx",t="a87a5e15e79c9d27983e4cbfe4540b7cb803bdea",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a87a5e15e79c9d27983e4cbfe4540b7cb803bdea"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return A5=function(){return a},a}A5();class k7e extends Mn.Component{render(){return A5().f[0]++,A5().s[0]++,W.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function Up(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppLayout.tsx",t="b88c0c28148aa8c2846217e57ae10b34fe7fb8ff",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:8,column:3}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:22,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:13,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:23,column:3}},line:14}},branchMap:{0:{loc:{start:{line:20,column:6},end:{line:20,column:123}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:23}},{start:{line:20,column:43},end:{line:20,column:123}}],line:20}},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAyBW,SAEL,KAFK;AAzBX,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAW5B,MAAM,kBAAkB,MAAM,UAA0B;AAAA,EACtD,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,oBAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,MACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,MACC,KAAK,MAAM;AAAA,MACX,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b88c0c28148aa8c2846217e57ae10b34fe7fb8ff"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Up=function(){return a},a}Up();class g$ extends Mn.Component{getChildContext(){return Up().f[0]++,Up().s[1]++,{reactIconBase:{size:14}}}render(){return Up().f[1]++,Up().s[2]++,W.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,W.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),W.jsx("div",{className:"maputnik-layout-drawer",children:W.jsx(k7e,{children:this.props.layerEditor})}),this.props.map,(Up().b[0][0]++,this.props.bottom&&(Up().b[0][1]++,W.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}on(g$,"childContextTypes",(Up().s[0]++,{reactIconBase:Rr.object}));function ns(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppMessagePanel.tsx",t="a14986ac23d401d1e132fb4965006c2845cd7065",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:8,column:3}},1:{start:{line:10,column:35},end:{line:10,column:45}},2:{start:{line:11,column:19},end:{line:37,column:6}},3:{start:{line:13,column:6},end:{line:35,column:7}},4:{start:{line:14,column:27},end:{line:14,column:32}},5:{start:{line:15,column:24},end:{line:15,column:73}},6:{start:{line:16,column:8},end:{line:32,column:13}},7:{start:{line:27,column:31},end:{line:27,column:74}},8:{start:{line:34,column:8},end:{line:34,column:32}},9:{start:{line:36,column:6},end:{line:36,column:120}},10:{start:{line:38,column:18},end:{line:40,column:6}},11:{start:{line:39,column:6},end:{line:39,column:68}},12:{start:{line:41,column:4},end:{line:44,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:19},end:{line:6,column:20}},loc:{start:{line:6,column:25},end:{line:7,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:45,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:58},end:{line:37,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:31},end:{line:27,column:74}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:38,column:40},end:{line:38,column:41}},loc:{start:{line:38,column:50},end:{line:40,column:5}},line:38}},branchMap:{0:{loc:{start:{line:13,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:13,column:6},end:{line:35,column:7}},{start:{line:33,column:13},end:{line:35,column:7}}],line:13},1:{loc:{start:{line:13,column:10},end:{line:13,column:55}},type:"binary-expr",locations:[{start:{line:13,column:10},end:{line:13,column:22}},{start:{line:13,column:26},end:{line:13,column:55}}],line:13},2:{loc:{start:{line:21,column:10},end:{line:31,column:14}},type:"binary-expr",locations:[{start:{line:21,column:10},end:{line:21,column:50}},{start:{line:21,column:70},end:{line:31,column:14}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA2BkB,SAEJ,UAFI,KAEJ,YAFI;AA3BlB,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAY5B,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCAAE;AAAA;AAAA,UACM,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,UAAO;AAAA,UAAG,OAAO,KAAK;AAAA,UACzD,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAC3D;AAAA;AAAA,YAED;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a14986ac23d401d1e132fb4965006c2845cd7065"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ns=function(){return a},a}ns();class y$ extends Mn.Component{render(){var i,o;ns().f[1]++;const{selectedLayerIndex:t}=(ns().s[1]++,this.props),n=(ns().s[2]++,(i=this.props.errors)==null?void 0:i.map((a,s)=>{var m;ns().f[2]++;let h;if(ns().s[3]++,ns().b[1][0]++,a.parsed&&(ns().b[1][1]++,a.parsed.type==="layer")){ns().b[0][0]++;const{parsed:C}=(ns().s[4]++,a),E=(ns().s[5]++,(m=this.props.mapStyle)==null?void 0:m.layers[C.data.index].id);ns().s[6]++,h=W.jsxs(W.Fragment,{children:["Layer ",W.jsx("span",{children:c$(E)}),": ",C.data.message,(ns().b[2][0]++,t!==C.data.index&&(ns().b[2][1]++,W.jsxs(W.Fragment,{children:["",W.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(ns().f[3]++,ns().s[7]++,this.props.onLayerSelect(C.data.index)),children:"switch to layer"})]})))]})}else ns().b[0][1]++,ns().s[8]++,h=a.message;return ns().s[9]++,W.jsx("p",{className:"maputnik-message-panel-error",children:h},"error-"+s)})),r=(ns().s[10]++,(o=this.props.infos)==null?void 0:o.map((a,s)=>(ns().f[4]++,ns().s[11]++,W.jsx("p",{children:a},"info-"+s))));return ns().s[12]++,W.jsxs("div",{className:"maputnik-message-panel",children:[n,r]})}}on(y$,"defaultProps",(ns().s[0]++,{onLayerSelect:()=>{ns().f[0]++}}));function c5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldArray.tsx",t="0cee7bb01cdaf2a48872f76c79baab2ce6ce7243",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0cee7bb01cdaf2a48872f76c79baab2ce6ce7243"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return c5=function(){return a},a}c5();class d5 extends Mn.Component{render(){return c5().f[0]++,c5().s[0]++,W.jsx(bb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:W.jsx(n$,{...this.props})})}}function h5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldNumber.tsx",t="d6f63ce4050724f2c9287813fcbdaa55ef67c721",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d6f63ce4050724f2c9287813fcbdaa55ef67c721"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return h5=function(){return a},a}h5();class Fp extends Mn.Component{render(){return h5().f[0]++,h5().s[0]++,W.jsx(la,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:W.jsx(Zf,{...this.props})})}}function f5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldString.tsx",t="779a36d6a78e1fc6000334dd7da17499aba08237",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"779a36d6a78e1fc6000334dd7da17499aba08237"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return f5=function(){return a},a}f5();class Qm extends Mn.Component{render(){return f5().f[0]++,f5().s[0]++,W.jsx(la,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:W.jsx(sd,{...this.props})})}}function p5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldUrl.tsx",t="53d3eca900fb0fc2b1b07869af9c2250675bdf41",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"53d3eca900fb0fc2b1b07869af9c2250675bdf41"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return p5=function(){return a},a}p5();class xb extends Mn.Component{render(){return p5().f[0]++,p5().s[0]++,W.jsx(la,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:W.jsx(y9,{...this.props})})}}function m5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSelect.tsx",t="6aa7e5e847883e2a9a1a380a5d0b8140a7ec3979",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6aa7e5e847883e2a9a1a380a5d0b8140a7ec3979"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return m5=function(){return a},a}m5();class _9 extends Mn.Component{render(){return m5().f[0]++,m5().s[0]++,W.jsx(la,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:W.jsx(eg,{...this.props})})}}function g5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldEnum.tsx",t="eb4069c14e763f2ee2630c3101fb259afddbe7aa",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eb4069c14e763f2ee2630c3101fb259afddbe7aa"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return g5=function(){return a},a}g5();class T7e extends Mn.Component{render(){return g5().f[0]++,g5().s[0]++,W.jsx(bb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:W.jsx(g9,{...this.props})})}}function y5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldColor.tsx",t="c26d8e70622bbc374f7af32d76cc9b283ba4eb0a",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c26d8e70622bbc374f7af32d76cc9b283ba4eb0a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return y5=function(){return a},a}y5();class K7e extends Mn.Component{render(){return y5().f[0]++,y5().s[0]++,W.jsx(la,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:W.jsx(t$,{...this.props})})}}function b9(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/field-spec-additional.ts",t="113d0e66f67b684bd83ddb34f5ed5fac8efa42b4",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:16,column:1}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAAA,MAAM,OAAO;AAAA,EACX,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"113d0e66f67b684bd83ddb34f5ed5fac8efa42b4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return b9=function(){return a},a}b9();const Kf=(b9().s[0]++,{maputnik:{maptiler_access_token:{label:"MapTiler Access Token",doc:"Public access token for MapTiler Cloud."},thunderforest_access_token:{label:"Thunderforest Access Token",doc:"Public access token for Thunderforest services."},style_renderer:{label:"Style Renderer",doc:"Choose the default Maputnik renderer for this style."}}});function Ai(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSettings.tsx",t="d79f0a2f29a06211e5cc55ff6041ea98e473be73",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:15,column:23},end:{line:17,column:5}},1:{start:{line:18,column:4},end:{line:22,column:5}},2:{start:{line:19,column:6},end:{line:19,column:34}},3:{start:{line:21,column:6},end:{line:21,column:35}},4:{start:{line:23,column:4},end:{line:26,column:7}},5:{start:{line:29,column:18},end:{line:31,column:5}},6:{start:{line:32,column:4},end:{line:36,column:5}},7:{start:{line:33,column:6},end:{line:33,column:29}},8:{start:{line:35,column:6},end:{line:35,column:30}},9:{start:{line:37,column:4},end:{line:40,column:7}},10:{start:{line:43,column:20},end:{line:45,column:5}},11:{start:{line:46,column:4},end:{line:50,column:5}},12:{start:{line:47,column:6},end:{line:47,column:31}},13:{start:{line:49,column:6},end:{line:49,column:32}},14:{start:{line:51,column:4},end:{line:54,column:7}},15:{start:{line:57,column:25},end:{line:59,column:5}},16:{start:{line:60,column:4},end:{line:64,column:5}},17:{start:{line:61,column:6},end:{line:61,column:36}},18:{start:{line:63,column:6},end:{line:63,column:37}},19:{start:{line:65,column:4},end:{line:65,column:44}},20:{start:{line:68,column:21},end:{line:68,column:55}},21:{start:{line:69,column:51},end:{line:69,column:61}},22:{start:{line:70,column:18},end:{line:70,column:49}},23:{start:{line:71,column:23},end:{line:71,column:59}},24:{start:{line:72,column:20},end:{line:72,column:53}},25:{start:{line:73,column:4},end:{line:283,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:44},end:{line:27,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:39},end:{line:41,column:3}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:41},end:{line:55,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:39},end:{line:66,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:284,column:3}},line:67}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:20,column:11},end:{line:22,column:5}}],line:18},1:{loc:{start:{line:32,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},2:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:48,column:11},end:{line:50,column:5}}],line:46},3:{loc:{start:{line:60,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:64,column:5}},{start:{line:62,column:11},end:{line:64,column:5}}],line:60},4:{loc:{start:{line:68,column:21},end:{line:68,column:55}},type:"binary-expr",locations:[{start:{line:68,column:21},end:{line:68,column:49}},{start:{line:68,column:53},end:{line:68,column:55}}],line:68},5:{loc:{start:{line:70,column:18},end:{line:70,column:49}},type:"binary-expr",locations:[{start:{line:70,column:18},end:{line:70,column:43}},{start:{line:70,column:47},end:{line:70,column:49}}],line:70},6:{loc:{start:{line:71,column:23},end:{line:71,column:59}},type:"binary-expr",locations:[{start:{line:71,column:23},end:{line:71,column:53}},{start:{line:71,column:57},end:{line:71,column:59}}],line:71},7:{loc:{start:{line:72,column:20},end:{line:72,column:53}},type:"binary-expr",locations:[{start:{line:72,column:20},end:{line:72,column:47}},{start:{line:72,column:51},end:{line:72,column:53}}],line:72},8:{loc:{start:{line:148,column:21},end:{line:148,column:42}},type:"binary-expr",locations:[{start:{line:148,column:21},end:{line:148,column:36}},{start:{line:148,column:40},end:{line:148,column:42}}],line:148},9:{loc:{start:{line:277,column:21},end:{line:277,column:62}},type:"binary-expr",locations:[{start:{line:277,column:21},end:{line:277,column:50}},{start:{line:277,column:54},end:{line:277,column:62}}],line:277}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AA6GM,SACE,KADF;AA7GN,OAAO,WAAW;AAClB,OAAO,YAAY;AAGnB,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,0BAA0B,SAAQ,IAAI,KAAK;AAElD,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAEhD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,EAAC,KAAK,8DAA6D;AAAA,cAC9E,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAM;AAAA,cACN,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,cAC1D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,cAC/D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,eAAe;AAAA,cACnD,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,4BAA4B;AAAA,cACrC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d79f0a2f29a06211e5cc55ff6041ea98e473be73"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ai=function(){return a},a}Ai();class P7e extends Mn.Component{changeTransitionProperty(t,n){Ai().f[0]++;const r=(Ai().s[0]++,{...this.props.mapStyle.transition});Ai().s[1]++,n===void 0?(Ai().b[0][0]++,Ai().s[2]++,delete r[t]):(Ai().b[0][1]++,Ai().s[3]++,r[t]=n),Ai().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(t,n){Ai().f[1]++;const r=(Ai().s[5]++,{...this.props.mapStyle.light});Ai().s[6]++,n===void 0?(Ai().b[1][0]++,Ai().s[7]++,delete r[t]):(Ai().b[1][1]++,Ai().s[8]++,r[t]=n),Ai().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeTerrainProperty(t,n){Ai().f[2]++;const r=(Ai().s[10]++,{...this.props.mapStyle.terrain});Ai().s[11]++,n===void 0?(Ai().b[2][0]++,Ai().s[12]++,delete r[t]):(Ai().b[2][1]++,Ai().s[13]++,r[t]=n),Ai().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:r})}changeStyleProperty(t,n){Ai().f[3]++;const r=(Ai().s[15]++,{...this.props.mapStyle});Ai().s[16]++,n===void 0?(Ai().b[3][0]++,Ai().s[17]++,delete r[t]):(Ai().b[3][1]++,Ai().s[18]++,r[t]=n),Ai().s[19]++,this.props.onStyleChanged(r)}render(){Ai().f[4]++;const t=(Ai().s[20]++,Ai().b[4][0]++,this.props.mapStyle.metadata||(Ai().b[4][1]++,{})),{onChangeMetadataProperty:n,mapStyle:r}=(Ai().s[21]++,this.props),i=(Ai().s[22]++,Ai().b[5][0]++,this.props.mapStyle.light||(Ai().b[5][1]++,{})),o=(Ai().s[23]++,Ai().b[6][0]++,this.props.mapStyle.transition||(Ai().b[6][1]++,{})),a=(Ai().s[24]++,Ai().b[7][0]++,this.props.mapStyle.terrain||(Ai().b[7][1]++,{}));return Ai().s[25]++,W.jsx(Ad,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Style Settings",children:W.jsxs("div",{className:"modal:settings",children:[W.jsx(Qm,{label:"Name",fieldSpec:io.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),W.jsx(Qm,{label:"Owner",fieldSpec:{doc:"Owner ID of the style. Used by Mapbox or future style APIs."},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),W.jsx(xb,{fieldSpec:io.$root.sprite,label:"Sprite URL","data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),W.jsx(xb,{label:"Glyphs URL",fieldSpec:io.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),W.jsx(Qm,{label:Kf.maputnik.maptiler_access_token.label,fieldSpec:Kf.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:t["maputnik:openmaptiles_access_token"],onChange:n.bind(this,"maputnik:openmaptiles_access_token")}),W.jsx(Qm,{label:Kf.maputnik.thunderforest_access_token.label,fieldSpec:Kf.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:t["maputnik:thunderforest_access_token"],onChange:n.bind(this,"maputnik:thunderforest_access_token")}),W.jsx(d5,{label:"Center",fieldSpec:io.$root.center,length:2,type:"number",value:(Ai().b[8][0]++,r.center||(Ai().b[8][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),W.jsx(Fp,{label:"Zoom",fieldSpec:io.$root.zoom,value:r.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),W.jsx(Fp,{label:"Bearing",fieldSpec:io.$root.bearing,value:r.bearing,default:io.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),W.jsx(Fp,{label:"Pitch",fieldSpec:io.$root.pitch,value:r.pitch,default:io.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),W.jsx(T7e,{label:"Light anchor",fieldSpec:io.light.anchor,name:"light-anchor",value:i.anchor,options:Object.keys(io.light.anchor.values),default:io.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),W.jsx(K7e,{label:"Light color",fieldSpec:io.light.color,value:i.color,default:io.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),W.jsx(Fp,{label:"Light intensity",fieldSpec:io.light.intensity,value:i.intensity,default:io.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),W.jsx(d5,{label:"Light position",fieldSpec:io.light.position,type:"number",length:io.light.position.length,value:i.position,default:io.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),W.jsx(Qm,{label:"Terrain source",fieldSpec:io.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:a.source,onChange:this.changeTerrainProperty.bind(this,"source")}),W.jsx(Fp,{label:"Terrain exaggeration",fieldSpec:io.terrain.exaggeration,value:a.exaggeration,default:io.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),W.jsx(Fp,{label:"Transition delay",fieldSpec:io.transition.delay,value:o.delay,default:io.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),W.jsx(Fp,{label:"Transition duration",fieldSpec:io.transition.duration,value:o.duration,default:io.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),W.jsx(_9,{label:Kf.maputnik.style_renderer.label,fieldSpec:Kf.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol","Open Layers (experimental)"]],value:(Ai().b[9][0]++,t["maputnik:renderer"]||(Ai().b[9][1]++,"mlgljs")),onChange:n.bind(this,"maputnik:renderer")})]})})}}var v$={exports:{}};(function(e,t){(function(n,r,i){e.exports=i(),e.exports.default=i()})("slugify",Rh,function(){var n=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),r=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function i(o,a){if(typeof o!="string")throw new Error("slugify: string argument expected");a=typeof a=="string"?{replacement:a}:a||{};var s=r[a.locale]||{},h=a.replacement===void 0?"-":a.replacement,m=a.trim===void 0?!0:a.trim,C=o.normalize().split("").reduce(function(E,O){var P=s[O];return P===void 0&&(P=n[O]),P===void 0&&(P=O),P===h&&(P=" "),E+P.replace(a.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return a.strict&&(C=C.replace(/[^A-Za-z0-9\s]/g,"")),m&&(C=C.trim()),C=C.replace(/\s+/g,h),a.lower&&(C=C.toLowerCase()),C}return i.extend=function(o){Object.assign(n,o)},i})})(v$);var D7e=v$.exports;const U7e=Ka(D7e);var C$={exports:{}};(function(e,t){(function(n,r){r()})(Rh,function(){function n(m,C){return typeof C>"u"?C={autoBom:!1}:typeof C!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),C={autoBom:!C}),C.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function r(m,C,E){var O=new XMLHttpRequest;O.open("GET",m),O.responseType="blob",O.onload=function(){h(O.response,C,E)},O.onerror=function(){console.error("could not download file")},O.send()}function i(m){var C=new XMLHttpRequest;C.open("HEAD",m,!1);try{C.send()}catch{}return 200<=C.status&&299>=C.status}function o(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(C)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(m,C,E){var O=a.URL||a.webkitURL,P=document.createElement("a");C=C||m.name||"download",P.download=C,P.rel="noopener",typeof m=="string"?(P.href=m,P.origin===location.origin?o(P):i(P.href)?r(m,C,E):o(P,P.target="_blank")):(P.href=O.createObjectURL(m),setTimeout(function(){O.revokeObjectURL(P.href)},4e4),setTimeout(function(){o(P)},0))}:"msSaveOrOpenBlob"in navigator?function(m,C,E){if(C=C||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,E),C);else if(i(m))r(m,C,E);else{var O=document.createElement("a");O.href=m,O.target="_blank",setTimeout(function(){o(O)})}}:function(m,C,E,O){if(O=O||open("","_blank"),O&&(O.document.title=O.document.body.innerText="downloading..."),typeof m=="string")return r(m,C,E);var P=m.type==="application/octet-stream",D=/constructor/i.test(a.HTMLElement)||a.safari,$=/CriOS\/[\d]+/.test(navigator.userAgent);if(($||P&&D||s)&&typeof FileReader<"u"){var ee=new FileReader;ee.onloadend=function(){var Z=ee.result;Z=$?Z:Z.replace(/^data:[^;]*;/,"data:attachment/file;"),O?O.location.href=Z:location=Z,O=null},ee.readAsDataURL(m)}else{var H=a.URL||a.webkitURL,G=H.createObjectURL(m);O?O.location=G:location.href=G,O=null,setTimeout(function(){H.revokeObjectURL(G)},4e4)}});a.saveAs=h.saveAs=h,e.exports=h})})(C$);var iU=C$.exports;const F7e="4.1.2";function jo(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalExport.tsx",t="e6bdd425f6cf7238d43475bad154f1395b1ec5b5",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:13,column:28},end:{line:13,column:35}},1:{start:{line:16,column:4},end:{line:20,column:6}},2:{start:{line:23,column:4},end:{line:31,column:5}},3:{start:{line:24,column:6},end:{line:28,column:9}},4:{start:{line:30,column:6},end:{line:30,column:36}},5:{start:{line:34,column:23},end:{line:34,column:44}},6:{start:{line:35,column:22},end:{line:35,column:55}},7:{start:{line:36,column:17},end:{line:60,column:1}},8:{start:{line:61,column:17},end:{line:61,column:70}},9:{start:{line:62,column:23},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:39}},11:{start:{line:66,column:23},end:{line:66,column:44}},12:{start:{line:67,column:17},end:{line:67,column:83}},13:{start:{line:68,column:23},end:{line:68,column:40}},14:{start:{line:69,column:4},end:{line:69,column:39}},15:{start:{line:72,column:25},end:{line:78,column:5}},16:{start:{line:79,column:4},end:{line:79,column:44}},17:{start:{line:82,column:4},end:{line:137,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:19},end:{line:21,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:15},end:{line:32,column:3}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:17},end:{line:64,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:18},end:{line:70,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:42},end:{line:80,column:3}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:11},end:{line:138,column:3}},line:81}},branchMap:{0:{loc:{start:{line:23,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:31,column:5}},{start:{line:29,column:11},end:{line:31,column:5}}],line:23},1:{loc:{start:{line:35,column:22},end:{line:35,column:55}},type:"binary-expr",locations:[{start:{line:35,column:22},end:{line:35,column:46}},{start:{line:35,column:50},end:{line:35,column:55}}],line:35},2:{loc:{start:{line:99,column:24},end:{line:99,column:58}},type:"binary-expr",locations:[{start:{line:99,column:24},end:{line:99,column:52}},{start:{line:99,column:56},end:{line:99,column:58}}],line:99},3:{loc:{start:{line:108,column:24},end:{line:108,column:58}},type:"binary-expr",locations:[{start:{line:108,column:24},end:{line:108,column:52}},{start:{line:108,column:56},end:{line:108,column:58}}],line:108}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AA+GQ,cAKA,YALA;AA/GR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,sBAAqB;AAE7B,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAGhC,MAAM,sBAAsB;AAW5B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EAEzE,iBAAkB;AAChB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAc;AACZ,QAAG,KAAK,MAAM,SAAS,MAAM;AAC3B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,eAAe;AACb,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ;AAC9C,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,gBAAgB;AACd,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAG,4BAAc;AAAA,UAClB,oBAAC,OAAE,qDAEH;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,gBAC1D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,gBAC/D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,cAAc,KAAK,IAAI;AAAA,gBAErC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,aAAa,KAAK,IAAI;AAAA,gBAEpC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e6bdd425f6cf7238d43475bad154f1395b1ec5b5"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return jo=function(){return a},a}jo();const oU=(jo().s[0]++,F7e);class L7e extends Mn.Component{tokenizedStyle(){return jo().f[0]++,jo().s[1]++,bz(wu.stripAccessTokens(wu.replaceAccessTokens(this.props.mapStyle)))}exportName(){return jo().f[1]++,jo().s[2]++,this.props.mapStyle.name?(jo().b[0][0]++,jo().s[3]++,U7e(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(jo().b[0][1]++,jo().s[4]++,this.props.mapStyle.id)}downloadHtml(){jo().f[2]++;const t=(jo().s[5]++,this.tokenizedStyle()),n=(jo().s[6]++,jo().b[1][0]++,this.props.mapStyle.name||(jo().b[1][1]++,"Map")),r=(jo().s[7]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${n}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${oU}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${oU}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${t},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(jo().s[8]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(jo().s[9]++,this.exportName());jo().s[10]++,iU.saveAs(i,o+".html")}downloadStyle(){jo().f[3]++;const t=(jo().s[11]++,this.tokenizedStyle()),n=(jo().s[12]++,new Blob([t],{type:"application/json;charset=utf-8"})),r=(jo().s[13]++,this.exportName());jo().s[14]++,iU.saveAs(n,r+".json")}changeMetadataProperty(t,n){jo().f[4]++;const r=(jo().s[15]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[t]:n}});jo().s[16]++,this.props.onStyleChanged(r)}render(){return jo().f[5]++,jo().s[17]++,W.jsx(Ad,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Export Style",className:"maputnik-export-modal",children:W.jsxs("section",{className:"maputnik-modal-section",children:[W.jsx("h1",{children:"Download Style"}),W.jsx("p",{children:"Download a JSON style to your computer."}),W.jsxs("div",{children:[W.jsx(Qm,{label:Kf.maputnik.maptiler_access_token.label,fieldSpec:Kf.maputnik.maptiler_access_token,value:(jo().b[2][0]++,this.props.mapStyle.metadata||(jo().b[2][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),W.jsx(Qm,{label:Kf.maputnik.thunderforest_access_token.label,fieldSpec:Kf.maputnik.thunderforest_access_token,value:(jo().b[3][0]++,this.props.mapStyle.metadata||(jo().b[3][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")})]}),W.jsxs("div",{className:"maputnik-modal-export-buttons",children:[W.jsxs(Ta,{onClick:this.downloadStyle.bind(this),children:[W.jsx(ET,{}),"Download Style"]}),W.jsxs(Ta,{onClick:this.downloadHtml.bind(this),children:[W.jsx(ET,{}),"Download HTML"]})]})]})})}}function v5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldDynamicArray.tsx",t="e7dc84ce654359db02386df9182b9d48ddb0f11c",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e7dc84ce654359db02386df9182b9d48ddb0f11c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return v5=function(){return a},a}v5();class _$ extends Mn.Component{render(){return v5().f[0]++,v5().s[0]++,W.jsx(bb,{label:this.props.label,children:W.jsx(r$,{...this.props})})}}function C5(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldCheckbox.tsx",t="a083de7c85a34d452e92873ecb623bb0191bcf60",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a083de7c85a34d452e92873ecb623bb0191bcf60"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return C5=function(){return a},a}C5();class R7e extends Mn.Component{render(){return C5().f[0]++,C5().s[0]++,W.jsx(la,{label:this.props.label,children:W.jsx(rM,{...this.props})})}}function Xn(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSourcesTypeEditor.tsx",t="fcf61585fc47ba006cd72dbfe0b73454f83e5e0e",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:28,column:9}},1:{start:{line:21,column:29},end:{line:24,column:12}},2:{start:{line:33,column:4},end:{line:36,column:7}},3:{start:{line:39,column:18},end:{line:39,column:47}},4:{start:{line:40,column:4},end:{line:49,column:6}},5:{start:{line:52,column:4},end:{line:79,column:9}},6:{start:{line:60,column:33},end:{line:63,column:12}},7:{start:{line:72,column:33},end:{line:75,column:12}},8:{start:{line:84,column:24},end:{line:91,column:5}},9:{start:{line:85,column:26},end:{line:85,column:64}},10:{start:{line:86,column:6},end:{line:86,column:29}},11:{start:{line:87,column:6},end:{line:90,column:9}},12:{start:{line:92,column:4},end:{line:119,column:9}},13:{start:{line:99,column:29},end:{line:102,column:12}},14:{start:{line:106,column:8},end:{line:117,column:10}},15:{start:{line:114,column:31},end:{line:114,column:52}},16:{start:{line:124,column:24},end:{line:131,column:5}},17:{start:{line:125,column:26},end:{line:125,column:64}},18:{start:{line:126,column:6},end:{line:126,column:29}},19:{start:{line:127,column:6},end:{line:130,column:9}},20:{start:{line:132,column:23},end:{line:137,column:5}},21:{start:{line:133,column:6},end:{line:136,column:9}},22:{start:{line:138,column:4},end:{line:164,column:9}},23:{start:{line:151,column:8},end:{line:162,column:10}},24:{start:{line:159,column:31},end:{line:159,column:52}},25:{start:{line:169,column:4},end:{line:180,column:6}},26:{start:{line:175,column:28},end:{line:178,column:10}},27:{start:{line:185,column:4},end:{line:217,column:9}},28:{start:{line:197,column:12},end:{line:200,column:15}},29:{start:{line:210,column:12},end:{line:213,column:15}},30:{start:{line:222,column:24},end:{line:225,column:5}},31:{start:{line:226,column:4},end:{line:261,column:5}},32:{start:{line:228,column:8},end:{line:228,column:79}},33:{start:{line:230,column:8},end:{line:230,column:85}},34:{start:{line:232,column:8},end:{line:232,column:77}},35:{start:{line:234,column:8},end:{line:234,column:76}},36:{start:{line:236,column:8},end:{line:236,column:77}},37:{start:{line:238,column:8},end:{line:238,column:76}},38:{start:{line:240,column:8},end:{line:240,column:77}},39:{start:{line:242,column:8},end:{line:254,column:13}},40:{start:{line:248,column:36},end:{line:251,column:14}},41:{start:{line:256,column:8},end:{line:256,column:74}},42:{start:{line:258,column:8},end:{line:258,column:74}},43:{start:{line:260,column:8},end:{line:260,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:29,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:29},end:{line:24,column:12}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:24},end:{line:37,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:19},end:{line:50,column:3}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:11},end:{line:80,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:20},end:{line:60,column:21}},loc:{start:{line:60,column:33},end:{line:63,column:12}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:33},end:{line:75,column:12}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:11},end:{line:120,column:3}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:84,column:24},end:{line:84,column:25}},loc:{start:{line:84,column:38},end:{line:91,column:5}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:99,column:20},end:{line:99,column:21}},loc:{start:{line:99,column:29},end:{line:102,column:12}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:105,column:67},end:{line:105,column:68}},loc:{start:{line:105,column:83},end:{line:118,column:7}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:114,column:22},end:{line:114,column:23}},loc:{start:{line:114,column:31},end:{line:114,column:52}},line:114},12:{name:"(anonymous_12)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:11},end:{line:165,column:3}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:124,column:24},end:{line:124,column:25}},loc:{start:{line:124,column:38},end:{line:131,column:5}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:132,column:23},end:{line:132,column:24}},loc:{start:{line:132,column:33},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:150,column:67},end:{line:150,column:68}},loc:{start:{line:150,column:83},end:{line:163,column:7}},line:150},16:{name:"(anonymous_16)",decl:{start:{line:159,column:22},end:{line:159,column:23}},loc:{start:{line:159,column:31},end:{line:159,column:52}},line:159},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:181,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:175,column:18},end:{line:175,column:19}},loc:{start:{line:175,column:28},end:{line:178,column:10}},line:175},19:{name:"(anonymous_19)",decl:{start:{line:184,column:2},end:{line:184,column:3}},loc:{start:{line:184,column:11},end:{line:218,column:3}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:196,column:20},end:{line:196,column:21}},loc:{start:{line:196,column:30},end:{line:201,column:11}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:209,column:20},end:{line:209,column:21}},loc:{start:{line:209,column:33},end:{line:214,column:11}},line:209},22:{name:"(anonymous_22)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:11},end:{line:262,column:3}},line:221},23:{name:"(anonymous_23)",decl:{start:{line:248,column:22},end:{line:248,column:23}},loc:{start:{line:248,column:36},end:{line:251,column:14}},line:248}},branchMap:{0:{loc:{start:{line:39,column:18},end:{line:39,column:47}},type:"binary-expr",locations:[{start:{line:39,column:18},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:39,column:47}}],line:39},1:{loc:{start:{line:59,column:17},end:{line:59,column:47}},type:"binary-expr",locations:[{start:{line:59,column:17},end:{line:59,column:42}},{start:{line:59,column:46},end:{line:59,column:47}}],line:59},2:{loc:{start:{line:71,column:17},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:17},end:{line:71,column:42}},{start:{line:71,column:46},end:{line:71,column:48}}],line:71},3:{loc:{start:{line:226,column:4},end:{line:261,column:5}},type:"switch",locations:[{start:{line:227,column:6},end:{line:228,column:79}},{start:{line:229,column:6},end:{line:230,column:85}},{start:{line:231,column:6},end:{line:232,column:77}},{start:{line:233,column:6},end:{line:234,column:76}},{start:{line:235,column:6},end:{line:236,column:77}},{start:{line:237,column:6},end:{line:238,column:76}},{start:{line:239,column:6},end:{line:240,column:77}},{start:{line:241,column:6},end:{line:254,column:13}},{start:{line:255,column:6},end:{line:256,column:74}},{start:{line:257,column:6},end:{line:258,column:74}},{start:{line:259,column:6},end:{line:260,column:20}}],line:226},4:{loc:{start:{line:252,column:19},end:{line:252,column:90}},type:"binary-expr",locations:[{start:{line:252,column:19},end:{line:252,column:45}},{start:{line:252,column:49},end:{line:252,column:90}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AAwBW,SACL,KADK;AAxBX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAa1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAYA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,WAAW,WAAW,OAAO,eAAe,MACxD;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,qBAAqB,+BAA+B,MAAM,UAAuC;AAAA,EAC/F,SAAS;AACP,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,IACvB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,oBAAC,uBAAqB,GAAG,aACzD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,WAAW,OAAO,kBAAkB;AAAA,YACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,YAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,QACzE,GACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fcf61585fc47ba006cd72dbfe0b73454f83e5e0e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Xn=function(){return a},a}Xn();class S6 extends Mn.Component{render(){return Xn().f[0]++,Xn().s[0]++,W.jsxs("div",{children:[W.jsx(xb,{label:"TileJSON URL",fieldSpec:Ia.source_vector.url,value:this.props.source.url,onChange:t=>(Xn().f[1]++,Xn().s[1]++,this.props.onChange({...this.props.source,url:t}))}),this.props.children]})}}class E6 extends Mn.Component{changeTileUrls(t){Xn().f[2]++,Xn().s[2]++,this.props.onChange({...this.props.source,tiles:t})}renderTileUrls(){Xn().f[3]++;const t=(Xn().s[3]++,Xn().b[0][0]++,this.props.source.tiles||(Xn().b[0][1]++,[]));return Xn().s[4]++,W.jsx(_$,{label:"Tile URL",fieldSpec:Ia.source_vector.tiles,type:"url",value:t,onChange:this.changeTileUrls.bind(this)})}render(){return Xn().f[4]++,Xn().s[5]++,W.jsxs("div",{children:[this.renderTileUrls(),W.jsx(Fp,{label:"Min Zoom",fieldSpec:Ia.source_vector.minzoom,value:(Xn().b[1][0]++,this.props.source.minzoom||(Xn().b[1][1]++,0)),onChange:t=>(Xn().f[5]++,Xn().s[6]++,this.props.onChange({...this.props.source,minzoom:t}))}),W.jsx(Fp,{label:"Max Zoom",fieldSpec:Ia.source_vector.maxzoom,value:(Xn().b[2][0]++,this.props.source.maxzoom||(Xn().b[2][1]++,22)),onChange:t=>(Xn().f[6]++,Xn().s[7]++,this.props.onChange({...this.props.source,maxzoom:t}))}),this.props.children]})}}class z7e extends Mn.Component{render(){Xn().f[7]++,Xn().s[8]++;const t=(n,r)=>{Xn().f[8]++;const i=(Xn().s[9]++,this.props.source.coordinates.slice(0));Xn().s[10]++,i[n]=r,Xn().s[11]++,this.props.onChange({...this.props.source,coordinates:i})};return Xn().s[12]++,W.jsxs("div",{children:[W.jsx(xb,{label:"Image URL",fieldSpec:Ia.source_image.url,value:this.props.source.url,onChange:n=>(Xn().f[9]++,Xn().s[13]++,this.props.onChange({...this.props.source,url:n}))}),["top left","top right","bottom right","bottom left"].map((n,r)=>(Xn().f[10]++,Xn().s[14]++,W.jsx(d5,{label:`Coord ${n}`,length:2,type:"number",value:this.props.source.coordinates[r],default:[0,0],onChange:i=>(Xn().f[11]++,Xn().s[15]++,t(r,i))},n)))]})}}class j7e extends Mn.Component{render(){Xn().f[12]++,Xn().s[16]++;const t=(r,i)=>{Xn().f[13]++;const o=(Xn().s[17]++,this.props.source.coordinates.slice(0));Xn().s[18]++,o[r]=i,Xn().s[19]++,this.props.onChange({...this.props.source,coordinates:o})};Xn().s[20]++;const n=r=>{Xn().f[14]++,Xn().s[21]++,this.props.onChange({...this.props.source,urls:r})};return Xn().s[22]++,W.jsxs("div",{children:[W.jsx(_$,{label:"Video URL",fieldSpec:Ia.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:n}),["top left","top right","bottom right","bottom left"].map((r,i)=>(Xn().f[15]++,Xn().s[23]++,W.jsx(d5,{label:`Coord ${r}`,length:2,type:"number",value:this.props.source.coordinates[i],default:[0,0],onChange:o=>(Xn().f[16]++,Xn().s[24]++,t(i,o))},r)))]})}}class N7e extends Mn.Component{render(){return Xn().f[17]++,Xn().s[25]++,W.jsx(xb,{label:"GeoJSON URL",fieldSpec:Ia.source_geojson.data,value:this.props.source.data,onChange:t=>(Xn().f[18]++,Xn().s[26]++,this.props.onChange({...this.props.source,data:t}))})}}class G7e extends Mn.Component{render(){return Xn().f[19]++,Xn().s[27]++,W.jsxs("div",{children:[W.jsx(la,{label:"GeoJSON",fieldSpec:Ia.source_geojson.data,children:W.jsx(FI,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:t=>{Xn().f[20]++,Xn().s[28]++,this.props.onChange({...this.props.source,data:t})}})}),W.jsx(R7e,{label:"Cluster",value:this.props.source.cluster,onChange:t=>{Xn().f[21]++,Xn().s[29]++,this.props.onChange({...this.props.source,cluster:t})}})]})}}class b$ extends Mn.Component{render(){Xn().f[22]++;const t=(Xn().s[30]++,{source:this.props.source,onChange:this.props.onChange});switch(Xn().s[31]++,this.props.mode){case"geojson_url":return Xn().b[3][0]++,Xn().s[32]++,W.jsx(N7e,{...t});case"geojson_json":return Xn().b[3][1]++,Xn().s[33]++,W.jsx(G7e,{...t});case"tilejson_vector":return Xn().b[3][2]++,Xn().s[34]++,W.jsx(S6,{...t});case"tilexyz_vector":return Xn().b[3][3]++,Xn().s[35]++,W.jsx(E6,{...t});case"tilejson_raster":return Xn().b[3][4]++,Xn().s[36]++,W.jsx(S6,{...t});case"tilexyz_raster":return Xn().b[3][5]++,Xn().s[37]++,W.jsx(E6,{...t});case"tilejson_raster-dem":return Xn().b[3][6]++,Xn().s[38]++,W.jsx(S6,{...t});case"tilexyz_raster-dem":return Xn().b[3][7]++,Xn().s[39]++,W.jsx(E6,{...t,children:W.jsx(_9,{label:"Encoding",fieldSpec:Ia.source_raster_dem.encoding,options:Object.keys(Ia.source_raster_dem.encoding.values),onChange:n=>(Xn().f[23]++,Xn().s[40]++,this.props.onChange({...this.props.source,encoding:n})),value:(Xn().b[4][0]++,this.props.source.encoding||(Xn().b[4][1]++,Ia.source_raster_dem.encoding.default))})});case"image":return Xn().b[3][8]++,Xn().s[41]++,W.jsx(z7e,{...t});case"video":return Xn().b[3][9]++,Xn().s[42]++,W.jsx(j7e,{...t});default:return Xn().b[3][10]++,Xn().s[43]++,null}}}function Ph(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/source.ts",t="d60949a7a2908f3e0262aaf889abef5c5688b194",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d60949a7a2908f3e0262aaf889abef5c5688b194"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ph=function(){return a},a}Ph();function W7e(e,t){Ph().f[0]++;const n=(Ph().s[0]++,{...e.sources});return Ph().s[1]++,delete n[t],Ph().s[2]++,{...e,sources:n}}function aU(e,t,n){return Ph().f[1]++,Ph().s[3]++,x$(e,t,n)}function x$(e,t,n){Ph().f[2]++;const r=(Ph().s[4]++,{...e.sources,[t]:n});return Ph().s[5]++,{...e,sources:r}}const Q7e={type:"vector",url:"https://api.maptiler.com/tiles/v3-openmaptiles/tiles.json?key={key}",title:"OpenMapTiles v3"},$7e={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},Y7e={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},q7e={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},sU={openmaptiles:Q7e,thunderforest_transport:$7e,thunderforest_outdoors:Y7e,open_zoomstack:q7e};function Jt(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSources.tsx",t="5d2c81d64fdb5dcd037e052771b60886bac6bef4",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:32,column:9}},1:{start:{line:19,column:23},end:{line:19,column:57}},2:{start:{line:36,column:2},end:{line:40,column:3}},3:{start:{line:37,column:4},end:{line:38,column:30}},4:{start:{line:38,column:6},end:{line:38,column:30}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:45,column:3}},7:{start:{line:42,column:4},end:{line:43,column:34}},8:{start:{line:43,column:6},end:{line:43,column:34}},9:{start:{line:44,column:4},end:{line:44,column:33}},10:{start:{line:46,column:2},end:{line:50,column:3}},11:{start:{line:47,column:4},end:{line:48,column:30}},12:{start:{line:48,column:6},end:{line:48,column:30}},13:{start:{line:49,column:4},end:{line:49,column:29}},14:{start:{line:51,column:2},end:{line:57,column:3}},15:{start:{line:52,column:4},end:{line:56,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:6},end:{line:55,column:28}},18:{start:{line:58,column:2},end:{line:60,column:3}},19:{start:{line:59,column:4},end:{line:59,column:19}},20:{start:{line:61,column:2},end:{line:63,column:3}},21:{start:{line:62,column:4},end:{line:62,column:19}},22:{start:{line:64,column:2},end:{line:64,column:14}},23:{start:{line:68,column:4},end:{line:94,column:9}},24:{start:{line:80,column:27},end:{line:80,column:67}},25:{start:{line:99,column:4},end:{line:99,column:17}},26:{start:{line:100,column:4},end:{line:104,column:6}},27:{start:{line:107,column:19},end:{line:107,column:50}},28:{start:{line:108,column:25},end:{line:108,column:40}},29:{start:{line:109,column:4},end:{line:183,column:5}},30:{start:{line:111,column:8},end:{line:114,column:10}},31:{start:{line:116,column:8},end:{line:120,column:10}},32:{start:{line:122,column:8},end:{line:125,column:10}},33:{start:{line:127,column:8},end:{line:132,column:10}},34:{start:{line:134,column:8},end:{line:137,column:10}},35:{start:{line:139,column:8},end:{line:144,column:10}},36:{start:{line:146,column:8},end:{line:149,column:10}},37:{start:{line:151,column:8},end:{line:156,column:10}},38:{start:{line:158,column:8},end:{line:167,column:10}},39:{start:{line:169,column:8},end:{line:180,column:10}},40:{start:{line:182,column:8},end:{line:182,column:18}},41:{start:{line:185,column:10},end:{line:188,column:3}},42:{start:{line:186,column:33},end:{line:186,column:43}},43:{start:{line:187,column:4},end:{line:187,column:39}},44:{start:{line:189,column:19},end:{line:191,column:3}},45:{start:{line:190,column:4},end:{line:190,column:30}},46:{start:{line:193,column:32},end:{line:195,column:5}},47:{start:{line:196,column:4},end:{line:243,column:9}},48:{start:{line:203,column:27},end:{line:203,column:57}},49:{start:{line:223,column:30},end:{line:223,column:87}},50:{start:{line:248,column:27},end:{line:248,column:40}},51:{start:{line:249,column:4},end:{line:249,column:35}},52:{start:{line:250,column:4},end:{line:250,column:26}},53:{start:{line:253,column:21},end:{line:253,column:40}},54:{start:{line:254,column:26},end:{line:266,column:6}},55:{start:{line:255,column:21},end:{line:255,column:47}},56:{start:{line:256,column:6},end:{line:265,column:8}},57:{start:{line:261,column:29},end:{line:261,column:93}},58:{start:{line:262,column:26},end:{line:262,column:85}},59:{start:{line:267,column:27},end:{line:279,column:6}},60:{start:{line:267,column:75},end:{line:267,column:106}},61:{start:{line:268,column:21},end:{line:268,column:44}},62:{start:{line:269,column:6},end:{line:278,column:8}},63:{start:{line:275,column:26},end:{line:275,column:107}},64:{start:{line:280,column:4},end:{line:309,column:6}},65:{start:{line:303,column:45},end:{line:303,column:109}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:33,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:57}},line:19},2:{name:"editorMode",decl:{start:{line:35,column:9},end:{line:35,column:19}},loc:{start:{line:35,column:28},end:{line:65,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:95,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:184,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:185,column:10},end:{line:185,column:11}},loc:{start:{line:185,column:16},end:{line:188,column:3}},line:185},8:{name:"(anonymous_8)",decl:{start:{line:189,column:19},end:{line:189,column:20}},loc:{start:{line:189,column:31},end:{line:191,column:3}},line:189},9:{name:"(anonymous_9)",decl:{start:{line:192,column:2},end:{line:192,column:3}},loc:{start:{line:192,column:11},end:{line:244,column:3}},line:192},10:{name:"(anonymous_10)",decl:{start:{line:203,column:20},end:{line:203,column:21}},loc:{start:{line:203,column:27},end:{line:203,column:57}},line:203},11:{name:"(anonymous_11)",decl:{start:{line:223,column:20},end:{line:223,column:21}},loc:{start:{line:223,column:30},end:{line:223,column:87}},line:223},12:{name:"(anonymous_12)",decl:{start:{line:247,column:2},end:{line:247,column:3}},loc:{start:{line:247,column:21},end:{line:251,column:3}},line:247},13:{name:"(anonymous_13)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:11},end:{line:310,column:3}},line:252},14:{name:"(anonymous_14)",decl:{start:{line:254,column:60},end:{line:254,column:61}},loc:{start:{line:254,column:74},end:{line:266,column:5}},line:254},15:{name:"(anonymous_15)",decl:{start:{line:261,column:20},end:{line:261,column:21}},loc:{start:{line:261,column:29},end:{line:261,column:93}},line:261},16:{name:"(anonymous_16)",decl:{start:{line:262,column:20},end:{line:262,column:21}},loc:{start:{line:262,column:26},end:{line:262,column:85}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:267,column:61},end:{line:267,column:62}},loc:{start:{line:267,column:75},end:{line:267,column:106}},line:267},18:{name:"(anonymous_18)",decl:{start:{line:267,column:112},end:{line:267,column:113}},loc:{start:{line:267,column:126},end:{line:279,column:5}},line:267},19:{name:"(anonymous_19)",decl:{start:{line:275,column:20},end:{line:275,column:21}},loc:{start:{line:275,column:26},end:{line:275,column:107}},line:275},20:{name:"(anonymous_20)",decl:{start:{line:303,column:23},end:{line:303,column:24}},loc:{start:{line:303,column:45},end:{line:303,column:109}},line:303}},branchMap:{0:{loc:{start:{line:36,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},1:{loc:{start:{line:37,column:4},end:{line:38,column:30}},type:"if",locations:[{start:{line:37,column:4},end:{line:38,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:41,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:43,column:34}},type:"if",locations:[{start:{line:42,column:4},end:{line:43,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:46,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:46,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},5:{loc:{start:{line:47,column:4},end:{line:48,column:30}},type:"if",locations:[{start:{line:47,column:4},end:{line:48,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:51,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:57,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},7:{loc:{start:{line:52,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:56,column:5}},{start:{line:54,column:11},end:{line:56,column:5}}],line:52},8:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},9:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},10:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},11:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},12:{loc:{start:{line:109,column:4},end:{line:183,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:120,column:10}},{start:{line:121,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:144,column:10}},{start:{line:145,column:6},end:{line:149,column:10}},{start:{line:150,column:6},end:{line:156,column:10}},{start:{line:157,column:6},end:{line:167,column:10}},{start:{line:168,column:6},end:{line:180,column:10}},{start:{line:181,column:6},end:{line:182,column:18}}],line:109},13:{loc:{start:{line:118,column:19},end:{line:118,column:42}},type:"binary-expr",locations:[{start:{line:118,column:19},end:{line:118,column:33}},{start:{line:118,column:37},end:{line:118,column:42}}],line:118},14:{loc:{start:{line:124,column:15},end:{line:124,column:72}},type:"binary-expr",locations:[{start:{line:124,column:15},end:{line:124,column:25}},{start:{line:124,column:29},end:{line:124,column:72}}],line:124},15:{loc:{start:{line:129,column:17},end:{line:129,column:80}},type:"binary-expr",locations:[{start:{line:129,column:17},end:{line:129,column:29}},{start:{line:129,column:33},end:{line:129,column:80}}],line:129},16:{loc:{start:{line:130,column:19},end:{line:130,column:38}},type:"binary-expr",locations:[{start:{line:130,column:19},end:{line:130,column:33}},{start:{line:130,column:37},end:{line:130,column:38}}],line:130},17:{loc:{start:{line:131,column:19},end:{line:131,column:39}},type:"binary-expr",locations:[{start:{line:131,column:19},end:{line:131,column:33}},{start:{line:131,column:37},end:{line:131,column:39}}],line:131},18:{loc:{start:{line:136,column:15},end:{line:136,column:72}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:25}},{start:{line:136,column:29},end:{line:136,column:72}}],line:136},19:{loc:{start:{line:141,column:17},end:{line:141,column:80}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:29}},{start:{line:141,column:33},end:{line:141,column:80}}],line:141},20:{loc:{start:{line:142,column:19},end:{line:142,column:38}},type:"binary-expr",locations:[{start:{line:142,column:19},end:{line:142,column:33}},{start:{line:142,column:37},end:{line:142,column:38}}],line:142},21:{loc:{start:{line:143,column:19},end:{line:143,column:39}},type:"binary-expr",locations:[{start:{line:143,column:19},end:{line:143,column:33}},{start:{line:143,column:37},end:{line:143,column:39}}],line:143},22:{loc:{start:{line:148,column:15},end:{line:148,column:72}},type:"binary-expr",locations:[{start:{line:148,column:15},end:{line:148,column:25}},{start:{line:148,column:29},end:{line:148,column:72}}],line:148},23:{loc:{start:{line:153,column:17},end:{line:153,column:80}},type:"binary-expr",locations:[{start:{line:153,column:17},end:{line:153,column:29}},{start:{line:153,column:33},end:{line:153,column:80}}],line:153},24:{loc:{start:{line:154,column:19},end:{line:154,column:38}},type:"binary-expr",locations:[{start:{line:154,column:19},end:{line:154,column:33}},{start:{line:154,column:37},end:{line:154,column:38}}],line:154},25:{loc:{start:{line:155,column:19},end:{line:155,column:39}},type:"binary-expr",locations:[{start:{line:155,column:19},end:{line:155,column:33}},{start:{line:155,column:37},end:{line:155,column:39}}],line:155}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AA+BU,cACA,YADA;AA/BV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAGnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,WAAW,KAAK,MAAM,QAAQ;AAAA,YAC1C,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,QAC/D;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AAQP,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,EAAC,KAAK,yFAAwF;AAAA,UACzG,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,gBAAgB;AAAA,YACjC,CAAC,eAAe,eAAe;AAAA,YAC/B,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,mBAAmB;AAAA,YACtC,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,kBAAkB;AAAA,YACrC,CAAC,uBAAuB,2BAA2B;AAAA,YACnD,CAAC,sBAAsB,uBAAuB;AAAA,YAC9C,CAAC,SAAS,OAAO;AAAA,YACjB,CAAC,SAAS,OAAO;AAAA,UACnB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA;AAAA,MACpB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EACF;AACF;AASA,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM;AAC5B,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA;AAAA,QAJrE;AAAA,MAKP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YACjB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,kCAAoB;AAAA,YACxB,oBAAC,OAAE,sEAEH;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YAClB,oBAAC,OAAE,0GAA4F;AAAA,YAC/F;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA;AAAA,YAC3H;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d2c81d64fdb5dcd037e052771b60886bac6bef4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Jt=function(){return a},a}Jt();class H7e extends Mn.Component{render(){return Jt().f[0]++,Jt().s[0]++,W.jsx("div",{className:"maputnik-public-source",children:W.jsxs(Ta,{className:"maputnik-public-source-select",onClick:()=>(Jt().f[1]++,Jt().s[1]++,this.props.onSelect(this.props.id)),children:[W.jsxs("div",{className:"maputnik-public-source-info",children:[W.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),W.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),W.jsx("span",{className:"maputnik-space"}),W.jsx(Iz,{})]})})}}function V7e(e){return Jt().f[2]++,Jt().s[2]++,e.type==="raster"?(Jt().b[0][0]++,Jt().s[3]++,e.tiles?(Jt().b[1][0]++,Jt().s[4]++,"tilexyz_raster"):(Jt().b[1][1]++,Jt().s[5]++,"tilejson_raster")):(Jt().b[0][1]++,Jt().s[6]++,e.type==="raster-dem"?(Jt().b[2][0]++,Jt().s[7]++,e.tiles?(Jt().b[3][0]++,Jt().s[8]++,"tilexyz_raster-dem"):(Jt().b[3][1]++,Jt().s[9]++,"tilejson_raster-dem")):(Jt().b[2][1]++,Jt().s[10]++,e.type==="vector"?(Jt().b[4][0]++,Jt().s[11]++,e.tiles?(Jt().b[5][0]++,Jt().s[12]++,"tilexyz_vector"):(Jt().b[5][1]++,Jt().s[13]++,"tilejson_vector")):(Jt().b[4][1]++,Jt().s[14]++,e.type==="geojson"?(Jt().b[6][0]++,Jt().s[15]++,typeof e.data=="string"?(Jt().b[7][0]++,Jt().s[16]++,"geojson_url"):(Jt().b[7][1]++,Jt().s[17]++,"geojson_json")):(Jt().b[6][1]++,Jt().s[18]++,e.type==="image"?(Jt().b[8][0]++,Jt().s[19]++,"image"):(Jt().b[8][1]++,Jt().s[20]++,e.type==="video"?(Jt().b[9][0]++,Jt().s[21]++,"video"):(Jt().b[9][1]++,Jt().s[22]++,null))))))}class Z7e extends Mn.Component{render(){return Jt().f[3]++,Jt().s[23]++,W.jsxs("div",{className:"maputnik-active-source-type-editor",children:[W.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[W.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),W.jsx("span",{className:"maputnik-space"}),W.jsx(Ta,{"aria-label":`Remove '${this.props.sourceId}' source`,className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(Jt().f[4]++,Jt().s[24]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:W.jsx(Iv,{})})]}),W.jsx("div",{className:"maputnik-active-source-type-editor-content",children:W.jsx(b$,{onChange:this.props.onChange,mode:V7e(this.props.source),source:this.props.source})})]})}}class X7e extends Mn.Component{constructor(n){Jt().f[5]++,Jt().s[25]++;super(n);on(this,"onAdd",(Jt().s[41]++,()=>{Jt().f[7]++;const{source:n,sourceId:r}=(Jt().s[42]++,this.state);Jt().s[43]++,this.props.onAdd(r,n)}));on(this,"onChangeSource",(Jt().s[44]++,n=>{Jt().f[8]++,Jt().s[45]++,this.setState({source:n})}));Jt().s[26]++,this.state={mode:"tilejson_vector",sourceId:wu.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(n){Jt().f[6]++;const r=(Jt().s[27]++,Jt().b[10][0]++,(Jt().b[11][0]++,this.state||(Jt().b[11][1]++,{})).source||(Jt().b[10][1]++,{})),{protocol:i}=(Jt().s[28]++,window.location);switch(Jt().s[29]++,n){case"geojson_url":return Jt().b[12][0]++,Jt().s[30]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return Jt().b[12][1]++,Jt().s[31]++,{type:"geojson",cluster:(Jt().b[13][0]++,r.cluster||(Jt().b[13][1]++,!1)),data:""};case"tilejson_vector":return Jt().b[12][2]++,Jt().s[32]++,{type:"vector",url:(Jt().b[14][0]++,r.url||(Jt().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_vector":return Jt().b[12][3]++,Jt().s[33]++,{type:"vector",tiles:(Jt().b[15][0]++,r.tiles||(Jt().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Jt().b[16][0]++,r.minzoom||(Jt().b[16][1]++,0)),maxzoom:(Jt().b[17][0]++,r.maxzoom||(Jt().b[17][1]++,14))};case"tilejson_raster":return Jt().b[12][4]++,Jt().s[34]++,{type:"raster",url:(Jt().b[18][0]++,r.url||(Jt().b[18][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster":return Jt().b[12][5]++,Jt().s[35]++,{type:"raster",tiles:(Jt().b[19][0]++,r.tiles||(Jt().b[19][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Jt().b[20][0]++,r.minzoom||(Jt().b[20][1]++,0)),maxzoom:(Jt().b[21][0]++,r.maxzoom||(Jt().b[21][1]++,14))};case"tilejson_raster-dem":return Jt().b[12][6]++,Jt().s[36]++,{type:"raster-dem",url:(Jt().b[22][0]++,r.url||(Jt().b[22][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return Jt().b[12][7]++,Jt().s[37]++,{type:"raster-dem",tiles:(Jt().b[23][0]++,r.tiles||(Jt().b[23][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Jt().b[24][0]++,r.minzoom||(Jt().b[24][1]++,0)),maxzoom:(Jt().b[25][0]++,r.maxzoom||(Jt().b[25][1]++,14))};case"image":return Jt().b[12][8]++,Jt().s[38]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return Jt().b[12][9]++,Jt().s[39]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return Jt().b[12][10]++,Jt().s[40]++,{}}}render(){Jt().f[9]++;const n=(Jt().s[46]++,{doc:io.source_vector.type.doc});return Jt().s[47]++,W.jsxs("div",{className:"maputnik-add-source",children:[W.jsx(Qm,{label:"Source ID",fieldSpec:{doc:"Unique ID that identifies the source and is used in the layer to reference the source."},value:this.state.sourceId,onChange:r=>(Jt().f[10]++,Jt().s[48]++,this.setState({sourceId:r}))}),W.jsx(_9,{label:"Source Type",fieldSpec:n,options:[["geojson_json","GeoJSON (JSON)"],["geojson_url","GeoJSON (URL)"],["tilejson_vector","Vector (TileJSON URL)"],["tilexyz_vector","Vector (XYZ URLs)"],["tilejson_raster","Raster (TileJSON URL)"],["tilexyz_raster","Raster (XYZ URL)"],["tilejson_raster-dem","Raster DEM (TileJSON URL)"],["tilexyz_raster-dem","Raster DEM (XYZ URLs)"],["image","Image"],["video","Video"]],onChange:r=>(Jt().f[11]++,Jt().s[49]++,this.setState({mode:r,source:this.defaultSource(r)})),value:this.state.mode}),W.jsx(b$,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),W.jsx(Ta,{className:"maputnik-add-source-button",onClick:this.onAdd,children:"Add Source"})]})}}class J7e extends Mn.Component{stripTitle(t){Jt().f[12]++;const n=(Jt().s[50]++,{...t});return Jt().s[51]++,delete n.title,Jt().s[52]++,n}render(){Jt().f[13]++;const t=(Jt().s[53]++,this.props.mapStyle),n=(Jt().s[54]++,Object.keys(t.sources).map(i=>{Jt().f[14]++;const o=(Jt().s[55]++,t.sources[i]);return Jt().s[56]++,W.jsx(Z7e,{sourceId:i,source:o,onChange:a=>(Jt().f[15]++,Jt().s[57]++,this.props.onStyleChanged(x$(t,i,a))),onDelete:()=>(Jt().f[16]++,Jt().s[58]++,this.props.onStyleChanged(W7e(t,i)))},i)})),r=(Jt().s[59]++,Object.keys(sU).filter(i=>(Jt().f[17]++,Jt().s[60]++,!(i in t.sources))).map(i=>{Jt().f[18]++;const o=(Jt().s[61]++,sU[i]);return Jt().s[62]++,W.jsx(H7e,{id:i,type:o.type,title:o.title,onSelect:()=>(Jt().f[19]++,Jt().s[63]++,this.props.onStyleChanged(aU(t,i,this.stripTitle(o))))},i)}));return Jt().s[64]++,W.jsxs(Ad,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Sources",children:[W.jsxs("section",{className:"maputnik-modal-section",children:[W.jsx("h1",{children:"Active Sources"}),n]}),W.jsxs("section",{className:"maputnik-modal-section",children:[W.jsx("h1",{children:"Choose Public Source"}),W.jsx("p",{children:"Add one of the publicly available sources to your style."}),W.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:r})]}),W.jsxs("section",{className:"maputnik-modal-section",children:[W.jsx("h1",{children:"Add New Source"}),W.jsx("p",{children:"Add a new source to your style. You can only choose the source type and id at creation time!"}),W.jsx(X7e,{onAdd:(i,o)=>(Jt().f[20]++,Jt().s[65]++,this.props.onStyleChanged(aU(t,i,o)))})]})]})}}var w$={};Object.defineProperty(w$,"__esModule",{value:!0});var eIe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tIe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nIe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rIe=ar,O6=sIe(rIe),iIe=b0,oIe=aIe(iIe);function aIe(e){return e&&e.__esModule?e:{default:e}}function sIe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function lIe(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function uIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AIe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dIe=function(e){cIe(t,e);function t(n){uIe(this,t);var r=AIe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));r.handleChange=function(o){var a=Array.prototype.slice.call(o.target.files),s=(r.props.as||"url").toLowerCase();Promise.all(a.map(function(h){return new Promise(function(m,C){var E=new FileReader;switch(E.onload=function(O){m([O,h])},s){case"binary":{E.readAsBinaryString(h);break}case"buffer":{E.readAsArrayBuffer(h);break}case"text":{E.readAsText(h);break}case"url":{E.readAsDataURL(h);break}}})})).then(function(h){r.props.onChange(o,h)})},r.triggerInput=function(){var o=oIe.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":tIe(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return nIe(t,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,a=i.style,s=lIe(i,["as","children","style"]),h=o?{position:"absolute",top:"-9999px"}:{};return O6.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:a},O6.createElement("input",eIe({},s,{type:"file",ref:function(C){r._reactFileReaderInput=C},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:h})),o)}}]),t}(O6.Component),hIe=w$.default=dIe;function Dd(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalLoading.tsx",t="f4055dfd44ea0ea6070dd587b6726995c206fd8d",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:27,column:6}},2:{start:{line:18,column:26},end:{line:18,column:42}},3:{start:{line:21,column:28},end:{line:21,column:49}},4:{start:{line:24,column:137},end:{line:24,column:159}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:21},end:{line:8,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:28,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:26},end:{line:18,column:42}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:22},end:{line:21,column:23}},loc:{start:{line:21,column:28},end:{line:21,column:49}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:24,column:130},end:{line:24,column:131}},loc:{start:{line:24,column:137},end:{line:24,column:159}},line:24}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAqBW,SAWL,KAXK;AArBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAAG,oBAErD,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f4055dfd44ea0ea6070dd587b6726995c206fd8d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Dd=function(){return a},a}Dd();class fIe extends Mn.Component{underlayOnClick(t){Dd().f[0]++,Dd().s[0]++,t.stopPropagation()}render(){return Dd().f[1]++,Dd().s[1]++,W.jsxs(Ad,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:t=>(Dd().f[2]++,Dd().s[2]++,underlayProps(t))},title:this.props.title,onOpenToggle:()=>(Dd().f[3]++,Dd().s[3]++,this.props.onCancel()),children:[W.jsx("p",{children:this.props.message}),W.jsx("p",{className:"maputnik-dialog__buttons",children:W.jsx(Ta,{onClick:t=>(Dd().f[4]++,Dd().s[4]++,this.props.onCancel(t)),children:"Cancel"})})]})}}const M$=[{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"maptiler-basic-gl-style",title:"Maptiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.10/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.11/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@v1.0/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"os-zoomstack-outdoor",title:"Zoomstack Outdoor",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{id:"os-zoomstack-road",title:"Zoomstack Road",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{id:"os-zoomstack-light",title:"Zoomstack Light",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{id:"os-zoomstack-night",title:"Zoomstack Night",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="}];function Zn(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalOpen.tsx",t="caf1fbefacd1dee66d274fbdb57ab3f9a8bccb1e",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:37,column:9}},1:{start:{line:19,column:23},end:{line:19,column:58}},2:{start:{line:42,column:4},end:{line:42,column:17}},3:{start:{line:43,column:4},end:{line:45,column:6}},4:{start:{line:48,column:4},end:{line:50,column:7}},5:{start:{line:53,column:4},end:{line:54,column:26}},6:{start:{line:54,column:6},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:13},end:{line:125,column:3}},31:{start:{line:106,column:21},end:{line:106,column:29}},32:{start:{line:107,column:19},end:{line:107,column:35}},33:{start:{line:108,column:4},end:{line:108,column:22}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:110,column:4},end:{line:123,column:6}},36:{start:{line:112,column:6},end:{line:119,column:7}},37:{start:{line:113,column:8},end:{line:113,column:48}},38:{start:{line:115,column:8},end:{line:117,column:11}},39:{start:{line:118,column:8},end:{line:118,column:15}},40:{start:{line:120,column:6},end:{line:120,column:53}},41:{start:{line:121,column:6},end:{line:121,column:39}},42:{start:{line:122,column:6},end:{line:122,column:26}},43:{start:{line:124,column:4},end:{line:124,column:50}},44:{start:{line:124,column:28},end:{line:124,column:49}},45:{start:{line:127,column:4},end:{line:129,column:7}},46:{start:{line:130,column:4},end:{line:130,column:22}},47:{start:{line:131,column:4},end:{line:131,column:30}},48:{start:{line:133,column:16},end:{line:137,column:3}},49:{start:{line:134,column:4},end:{line:136,column:7}},50:{start:{line:139,column:25},end:{line:150,column:6}},51:{start:{line:140,column:6},end:{line:149,column:8}},52:{start:{line:152,column:4},end:{line:157,column:5}},53:{start:{line:153,column:6},end:{line:156,column:11}},54:{start:{line:155,column:61},end:{line:155,column:78}},55:{start:{line:158,column:4},end:{line:224,column:9}},56:{start:{line:164,column:30},end:{line:164,column:49}},57:{start:{line:220,column:27},end:{line:220,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:38,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:58}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:21},end:{line:46,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:15},end:{line:51,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:27},end:{line:62,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:13},end:{line:105,column:14}},loc:{start:{line:105,column:27},end:{line:125,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:110,column:20},end:{line:110,column:21}},loc:{start:{line:110,column:27},end:{line:123,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:124,column:21},end:{line:124,column:22}},loc:{start:{line:124,column:28},end:{line:124,column:49}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:17},end:{line:132,column:3}},line:126},15:{name:"(anonymous_15)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:25},end:{line:137,column:3}},line:133},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:225,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:139,column:42},end:{line:139,column:43}},loc:{start:{line:139,column:54},end:{line:150,column:5}},line:139},18:{name:"(anonymous_18)",decl:{start:{line:155,column:55},end:{line:155,column:56}},loc:{start:{line:155,column:61},end:{line:155,column:78}},line:155},19:{name:"(anonymous_19)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:30},end:{line:164,column:49}},line:164},20:{name:"(anonymous_20)",decl:{start:{line:220,column:20},end:{line:220,column:21}},loc:{start:{line:220,column:27},end:{line:220,column:56}},line:220}},branchMap:{0:{loc:{start:{line:53,column:4},end:{line:54,column:26}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:152,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:157,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA4BQ,SACE,KADF;AA5BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AAExC,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAeA,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG;AAAG,QAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,WAAW,CAAC,GAAQ,UAAoB;AACtC,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAE9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO;AAAA,UAEN;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAG,0BAAY;AAAA,cAChB,oBAAC,OAAE,qDAAuC;AAAA,cAC1C,oBAAC,mBAAgB,UAAU,KAAK,UAAU,UAAU,IAAI,cAAW,cACjE,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,iBAAO,GACzE;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAG,2BAAa;AAAA,cACjB,qBAAC,OAAE;AAAA;AAAA,gBAC4C,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAW;AAAA,kBACX,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAQ;AAAA,kBACR,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAG,4BAAc;AAAA,cAClB,oBAAC,OAAE,sEAEH;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,cAAY,KAAK,MAAM;AAAA;AAAA,MAClC;AAAA,OACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"caf1fbefacd1dee66d274fbdb57ab3f9a8bccb1e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Zn=function(){return a},a}Zn();class pIe extends Mn.Component{render(){return Zn().f[0]++,Zn().s[0]++,W.jsx("div",{className:"maputnik-public-style",children:W.jsxs(Ta,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(Zn().f[1]++,Zn().s[1]++,this.props.onSelect(this.props.url)),children:[W.jsxs("div",{className:"maputnik-public-style-header",children:[W.jsx("div",{children:this.props.title}),W.jsx("span",{className:"maputnik-space"}),W.jsx(Iz,{})]}),W.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class mIe extends Mn.Component{constructor(n){Zn().f[2]++,Zn().s[2]++;super(n);on(this,"onStyleSelect",(Zn().s[10]++,n=>{Zn().f[5]++,Zn().s[11]++,this.clearError();let r=(Zn().s[12]++,!1);Zn().s[13]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(function(i){return Zn().f[6]++,Zn().s[14]++,i.json()}).then(i=>{if(Zn().f[7]++,Zn().s[15]++,r){Zn().b[2][0]++,Zn().s[16]++;return}else Zn().b[2][1]++;Zn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(Zn().s[18]++,wu.ensureStyleValidity(i));Zn().s[19]++,console.log("Loaded style ",o.id),Zn().s[20]++,this.props.onStyleOpen(o),Zn().s[21]++,this.onOpenToggle()}).catch(i=>{Zn().f[8]++,Zn().s[22]++,this.setState({error:`Failed to load: '${n}'`,activeRequest:null,activeRequestUrl:null}),Zn().s[23]++,console.error(i),Zn().s[24]++,console.warn("Could not open the style URL",n)}),Zn().s[25]++,this.setState({activeRequest:{abort:function(){Zn().f[9]++,Zn().s[26]++,r=!0}},activeRequestUrl:n})}));on(this,"onSubmitUrl",(Zn().s[27]++,n=>{Zn().f[10]++,Zn().s[28]++,n.preventDefault(),Zn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));on(this,"onUpload",(Zn().s[30]++,(n,r)=>{Zn().f[11]++;const[,i]=(Zn().s[31]++,r[0]),o=(Zn().s[32]++,new FileReader);Zn().s[33]++,this.clearError(),Zn().s[34]++,o.readAsText(i,"UTF-8"),Zn().s[35]++,o.onload=a=>{var h;Zn().f[12]++;let s;Zn().s[36]++;try{Zn().s[37]++,s=JSON.parse((h=a.target)==null?void 0:h.result)}catch(m){Zn().s[38]++,this.setState({error:m.toString()}),Zn().s[39]++;return}Zn().s[40]++,s=wu.ensureStyleValidity(s),Zn().s[41]++,this.props.onStyleOpen(s),Zn().s[42]++,this.onOpenToggle()},Zn().s[43]++,o.onerror=a=>(Zn().f[13]++,Zn().s[44]++,console.log(a.target))}));on(this,"onChangeUrl",(Zn().s[48]++,n=>{Zn().f[15]++,Zn().s[49]++,this.setState({styleUrl:n})}));Zn().s[3]++,this.state={styleUrl:""}}clearError(){Zn().f[3]++,Zn().s[4]++,this.setState({error:null})}onCancelActiveRequest(n){Zn().f[4]++,Zn().s[5]++,n?(Zn().b[0][0]++,Zn().s[6]++,n.stopPropagation()):Zn().b[0][1]++,Zn().s[7]++,this.state.activeRequest?(Zn().b[1][0]++,Zn().s[8]++,this.state.activeRequest.abort(),Zn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):Zn().b[1][1]++}onOpenToggle(){Zn().f[14]++,Zn().s[45]++,this.setState({styleUrl:""}),Zn().s[46]++,this.clearError(),Zn().s[47]++,this.props.onOpenToggle()}render(){Zn().f[16]++;const n=(Zn().s[50]++,M$.map(i=>(Zn().f[17]++,Zn().s[51]++,W.jsx(pIe,{url:i.url,title:i.title,thumbnailUrl:i.thumbnail,onSelect:this.onStyleSelect},i.id))));let r;return Zn().s[52]++,this.state.error?(Zn().b[3][0]++,Zn().s[53]++,r=W.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,W.jsx("a",{href:"#",onClick:()=>(Zn().f[18]++,Zn().s[54]++,this.clearError()),className:"maputnik-modal-error-close",children:""})]})):Zn().b[3][1]++,Zn().s[55]++,W.jsxs("div",{children:[W.jsxs(Ad,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(Zn().f[19]++,Zn().s[56]++,this.onOpenToggle()),title:"Open Style",children:[r,W.jsxs("section",{className:"maputnik-modal-section",children:[W.jsx("h1",{children:"Upload Style"}),W.jsx("p",{children:"Upload a JSON style from your computer."}),W.jsx(hIe,{onChange:this.onUpload,tabIndex:-1,"aria-label":"Style file",children:W.jsxs(Ta,{className:"maputnik-upload-button",children:[W.jsx(qte,{})," Upload"]})})]}),W.jsx("section",{className:"maputnik-modal-section",children:W.jsxs("form",{onSubmit:this.onSubmitUrl,children:[W.jsx("h1",{children:"Load from URL"}),W.jsxs("p",{children:["Load from a URL. Note that the URL must have ",W.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]}),W.jsx(y9,{"aria-label":"Style URL","data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:"Enter URL...",value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),W.jsx("div",{children:W.jsx(Ta,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),W.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[W.jsx("h1",{children:"Gallery Styles"}),W.jsx("p",{children:"Open one of the publicly available styles to start from."}),W.jsx("div",{className:"maputnik-style-gallery-container",children:n})]})]}),W.jsx(fIe,{isOpen:!!this.state.activeRequest,title:"Loading style",onCancel:i=>(Zn().f[20]++,Zn().s[57]++,this.onCancelActiveRequest(i)),message:"Loading: "+this.state.activeRequestUrl})]})}}function kf(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalShortcuts.tsx",t="b0bfc36615e0203d6d6ffbc1442ce511ac083109",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:39,column:5}},1:{start:{line:40,column:25},end:{line:113,column:5}},2:{start:{line:114,column:4},end:{line:143,column:6}},3:{start:{line:128,column:12},end:{line:131,column:22}},4:{start:{line:135,column:12},end:{line:139,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:144,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:127,column:57},end:{line:127,column:58}},loc:{start:{line:127,column:72},end:{line:132,column:11}},line:127},2:{name:"(anonymous_2)",decl:{start:{line:134,column:65},end:{line:134,column:66}},loc:{start:{line:134,column:80},end:{line:140,column:11}},line:134}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAea,SAwCA,UAxCA,KAwCA,YAxCA;AAfb,OAAO,WAAW;AAElB,OAAO,WAAW;AASlB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,aAAQ,WAAU,mDACjB;AAAA,+BAAC,OAAE;AAAA;AAAA,YACK,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAE,0EAA4D;AAAA,UAC/D,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b0bfc36615e0203d6d6ffbc1442ce511ac083109"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return kf=function(){return a},a}kf();class gIe extends Mn.Component{render(){kf().f[0]++;const t=(kf().s[0]++,[{key:W.jsx("kbd",{children:"?"}),text:"Shortcuts menu"},{key:W.jsx("kbd",{children:"o"}),text:"Open modal"},{key:W.jsx("kbd",{children:"e"}),text:"Export modal"},{key:W.jsx("kbd",{children:"d"}),text:"Data Sources modal"},{key:W.jsx("kbd",{children:"s"}),text:"Style Settings modal"},{key:W.jsx("kbd",{children:"i"}),text:"Toggle inspect"},{key:W.jsx("kbd",{children:"m"}),text:"Focus map"},{key:W.jsx("kbd",{children:"!"}),text:"Debug modal"}]),n=(kf().s[1]++,[{key:W.jsx("kbd",{children:"+"}),text:"Increase the zoom level by 1."},{key:W.jsxs(W.Fragment,{children:[W.jsx("kbd",{children:"Shift"})," + ",W.jsx("kbd",{children:"+"})]}),text:"Increase the zoom level by 2."},{key:W.jsx("kbd",{children:"-"}),text:"Decrease the zoom level by 1."},{key:W.jsxs(W.Fragment,{children:[W.jsx("kbd",{children:"Shift"})," + ",W.jsx("kbd",{children:"-"})]}),text:"Decrease the zoom level by 2."},{key:W.jsx("kbd",{children:"Up"}),text:"Pan up by 100 pixels."},{key:W.jsx("kbd",{children:"Down"}),text:"Pan down by 100 pixels."},{key:W.jsx("kbd",{children:"Left"}),text:"Pan left by 100 pixels."},{key:W.jsx("kbd",{children:"Right"}),text:"Pan right by 100 pixels."},{key:W.jsxs(W.Fragment,{children:[W.jsx("kbd",{children:"Shift"})," + ",W.jsx("kbd",{children:"Right"})]}),text:"Increase the rotation by 15 degrees."},{key:W.jsxs(W.Fragment,{children:[W.jsx("kbd",{children:"Shift"})," + ",W.jsx("kbd",{children:"Left"})]}),text:"Decrease the rotation by 15 degrees."},{key:W.jsxs(W.Fragment,{children:[W.jsx("kbd",{children:"Shift"})," + ",W.jsx("kbd",{children:"Up"})]}),text:"Increase the pitch by 10 degrees."},{key:W.jsxs(W.Fragment,{children:[W.jsx("kbd",{children:"Shift"})," + ",W.jsx("kbd",{children:"Down"})]}),text:"Decrease the pitch by 10 degrees."}]);return kf().s[2]++,W.jsx(Ad,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Shortcuts",children:W.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[W.jsxs("p",{children:["Press ",W.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]}),W.jsx("dl",{children:t.map((r,i)=>(kf().f[1]++,kf().s[3]++,W.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[W.jsx("dt",{children:r.key},"dt"+i),W.jsx("dd",{children:r.text},"dd"+i)]},i)))}),W.jsx("p",{children:"If the Map is in focused you can use the following shortcuts"}),W.jsx("ul",{children:n.map((r,i)=>(kf().f[2]++,kf().s[4]++,W.jsxs("li",{children:[W.jsx("span",{children:r.key})," ",r.text]},i)))})]})})}}const yIe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function zm(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSurvey.tsx",t="3d09b8f803aec453d092c75ff2bc9e27ea76b950",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSurvey.tsx",statementMap:{0:{start:{line:7,column:12},end:{line:10,column:3}},1:{start:{line:8,column:4},end:{line:8,column:76}},2:{start:{line:9,column:4},end:{line:9,column:30}},3:{start:{line:12,column:4},end:{line:27,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:12},end:{line:7,column:13}},loc:{start:{line:7,column:18},end:{line:10,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalSurvey.tsx"],names:[],mappings:"AA2BM,SACE,KADF;AA3BN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAGlB,OAAO,eAAe;AAOtB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,UAAU,MAAM;AACd,WAAO,KAAK,kDAAkD,QAAQ;AAEtE,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAM;AAAA,QAEN,+BAAC,SAAI,WAAU,yBACb;AAAA,8BAAC,SAAI,KAAK,WAAW,WAAU,+BAA8B;AAAA,UAC7D,oBAAC,QAAG,sDAAwC;AAAA,UAC5C,oBAAC,OAAE,WAAU,sCAAqC,uLAAyK;AAAA,UAC3N,oBAAC,eAAY,SAAS,KAAK,SAAS,WAAU,kEAAiE,sCAAwB;AAAA,UACvI,oBAAC,OAAE,WAAU,mCAAkC,mEAAqD;AAAA,WACtG;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3d09b8f803aec453d092c75ff2bc9e27ea76b950"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zm=function(){return a},a}zm();class vIe extends Mn.Component{constructor(){super(...arguments);on(this,"onClick",(zm().s[0]++,()=>{zm().f[0]++,zm().s[1]++,window.open("https://gregorywolanski.typeform.com/to/cPgaSY","_blank"),zm().s[2]++,this.props.onOpenToggle()}))}render(){return zm().f[1]++,zm().s[3]++,W.jsx(Ad,{"data-wd-key":"modal:survey",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Maputnik Survey",children:W.jsxs("div",{className:"maputnik-modal-survey",children:[W.jsx("img",{src:yIe,className:"maputnik-modal-survey__logo"}),W.jsx("h1",{children:"You + Maputnik = Maputnik better for you"}),W.jsx("p",{className:"maputnik-modal-survey__description",children:"We dont track you, so we dont know how you use Maputnik. Help us make Maputnik better for you by completing a 7minute survey carried out by our contributing designer."}),W.jsx(Ta,{onClick:this.onClick,className:"maputnik-big-button maputnik-white-button maputnik-wide-button",children:"Take the Maputnik Survey"}),W.jsx("p",{className:"maputnik-modal-survey__footnote",children:"It takes 7 minutes, tops! Every question is optional."})]})})}}function Dl(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalDebug.tsx",t="d85a76cd9d58fdf70184c2e0184187c3284e57f9",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:6,column:34}},1:{start:{line:7,column:20},end:{line:7,column:48}},2:{start:{line:8,column:19},end:{line:8,column:49}},3:{start:{line:9,column:19},end:{line:9,column:49}},4:{start:{line:10,column:4},end:{line:52,column:6}},5:{start:{line:21,column:14},end:{line:25,column:27}},6:{start:{line:22,column:96},end:{line:22,column:153}},7:{start:{line:28,column:14},end:{line:32,column:27}},8:{start:{line:29,column:96},end:{line:29,column:153}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:53,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:20,column:140},end:{line:20,column:141}},loc:{start:{line:20,column:156},end:{line:26,column:13}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:89},end:{line:22,column:90}},loc:{start:{line:22,column:96},end:{line:22,column:153}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:27,column:136},end:{line:27,column:137}},loc:{start:{line:27,column:152},end:{line:33,column:13}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:29,column:89},end:{line:29,column:90}},loc:{start:{line:29,column:96},end:{line:29,column:153}},line:29}},branchMap:{0:{loc:{start:{line:20,column:12},end:{line:26,column:17}},type:"binary-expr",locations:[{start:{line:20,column:12},end:{line:20,column:44}},{start:{line:20,column:64},end:{line:26,column:17}}],line:20},1:{loc:{start:{line:27,column:12},end:{line:33,column:17}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:40}},{start:{line:27,column:60},end:{line:33,column:17}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAsCQ,cAKQ,YALR;AAtCR,OAAO,WAAW;AAElB,OAAO,WAAW;AAqBlB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,UAAM,EAAC,QAAO,IAAI,KAAK;AAEvB,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAG,qBAAO;AAAA,YACV,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,qBAAC,OACC;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d85a76cd9d58fdf70184c2e0184187c3284e57f9"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Dl=function(){return a},a}Dl();class CIe extends Mn.Component{render(){Dl().f[0]++;const{mapView:t}=(Dl().s[0]++,this.props),n=(Dl().s[1]++,Math.round(t.zoom)+1),r=(Dl().s[2]++,+t.center.lng.toFixed(5)),i=(Dl().s[3]++,+t.center.lat.toFixed(5));return Dl().s[4]++,W.jsxs(Ad,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Debug",children:[W.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[W.jsx("h1",{children:"Options"}),(Dl().b[0][0]++,this.props.renderer==="mlgljs"&&(Dl().b[0][1]++,W.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([o,a])=>(Dl().f[1]++,Dl().s[5]++,W.jsx("li",{children:W.jsxs("label",{children:[W.jsx("input",{type:"checkbox",checked:a,onChange:s=>(Dl().f[2]++,Dl().s[6]++,this.props.onChangeMaplibreGlDebug(o,s.target.checked))})," ",o]})},o)))}))),(Dl().b[1][0]++,this.props.renderer==="ol"&&(Dl().b[1][1]++,W.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([o,a])=>(Dl().f[3]++,Dl().s[7]++,W.jsx("li",{children:W.jsxs("label",{children:[W.jsx("input",{type:"checkbox",checked:a,onChange:s=>(Dl().f[4]++,Dl().s[8]++,this.props.onChangeOpenlayersDebug(o,s.target.checked))})," ",o]})},o)))})))]}),W.jsxs("section",{className:"maputnik-modal-section",children:[W.jsx("h1",{children:"Links"}),W.jsxs("p",{children:[W.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${n}/${i}/${r}`,children:"Open in OSM"}),"  Opens the current view on openstreetmap.org"]})]})]})}}var $1={},_5={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */_5.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s=2147483647,h=36,m=1,C=26,E=38,O=700,P=72,D=128,$="-",ee=/^xn--/,H=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=h-m,ye=Math.floor,be=String.fromCharCode,X;function se(ze){throw new RangeError(Z[ze])}function we(ze,He){for(var Ve=ze.length,Vt=[];Ve--;)Vt[Ve]=He(ze[Ve]);return Vt}function xe(ze,He){var Ve=ze.split("@"),Vt="";Ve.length>1&&(Vt=Ve[0]+"@",ze=Ve[1]),ze=ze.replace(G,".");var Yt=ze.split("."),vt=we(Yt,He).join(".");return Vt+vt}function De(ze){for(var He=[],Ve=0,Vt=ze.length,Yt,vt;Ve<Vt;)Yt=ze.charCodeAt(Ve++),Yt>=55296&&Yt<=56319&&Ve<Vt?(vt=ze.charCodeAt(Ve++),(vt&64512)==56320?He.push(((Yt&1023)<<10)+(vt&1023)+65536):(He.push(Yt),Ve--)):He.push(Yt);return He}function Ue(ze){return we(ze,function(He){var Ve="";return He>65535&&(He-=65536,Ve+=be(He>>>10&1023|55296),He=56320|He&1023),Ve+=be(He),Ve}).join("")}function he(ze){return ze-48<10?ze-22:ze-65<26?ze-65:ze-97<26?ze-97:h}function $e(ze,He){return ze+22+75*(ze<26)-((He!=0)<<5)}function ge(ze,He,Ve){var Vt=0;for(ze=Ve?ye(ze/O):ze>>1,ze+=ye(ze/He);ze>ue*C>>1;Vt+=h)ze=ye(ze/ue);return ye(Vt+(ue+1)*ze/(ze+E))}function yt(ze){var He=[],Ve=ze.length,Vt,Yt=0,vt=D,Qt=P,$t,ke,pe,Se,Re,it,ot,St,Rt;for($t=ze.lastIndexOf($),$t<0&&($t=0),ke=0;ke<$t;++ke)ze.charCodeAt(ke)>=128&&se("not-basic"),He.push(ze.charCodeAt(ke));for(pe=$t>0?$t+1:0;pe<Ve;){for(Se=Yt,Re=1,it=h;pe>=Ve&&se("invalid-input"),ot=he(ze.charCodeAt(pe++)),(ot>=h||ot>ye((s-Yt)/Re))&&se("overflow"),Yt+=ot*Re,St=it<=Qt?m:it>=Qt+C?C:it-Qt,!(ot<St);it+=h)Rt=h-St,Re>ye(s/Rt)&&se("overflow"),Re*=Rt;Vt=He.length+1,Qt=ge(Yt-Se,Vt,Se==0),ye(Yt/Vt)>s-vt&&se("overflow"),vt+=ye(Yt/Vt),Yt%=Vt,He.splice(Yt++,0,vt)}return Ue(He)}function wt(ze){var He,Ve,Vt,Yt,vt,Qt,$t,ke,pe,Se,Re,it=[],ot,St,Rt,zt;for(ze=De(ze),ot=ze.length,He=D,Ve=0,vt=P,Qt=0;Qt<ot;++Qt)Re=ze[Qt],Re<128&&it.push(be(Re));for(Vt=Yt=it.length,Yt&&it.push($);Vt<ot;){for($t=s,Qt=0;Qt<ot;++Qt)Re=ze[Qt],Re>=He&&Re<$t&&($t=Re);for(St=Vt+1,$t-He>ye((s-Ve)/St)&&se("overflow"),Ve+=($t-He)*St,He=$t,Qt=0;Qt<ot;++Qt)if(Re=ze[Qt],Re<He&&++Ve>s&&se("overflow"),Re==He){for(ke=Ve,pe=h;Se=pe<=vt?m:pe>=vt+C?C:pe-vt,!(ke<Se);pe+=h)zt=ke-Se,Rt=h-Se,it.push(be($e(Se+zt%Rt,0))),ke=ye(zt/Rt);it.push(be($e(ke,0))),vt=ge(Ve,St,Vt==Yt),Ve=0,++Vt}++Ve,++He}return it.join("")}function st(ze){return xe(ze,function(He){return ee.test(He)?yt(He.slice(4).toLowerCase()):He})}function mt(ze){return xe(ze,function(He){return H.test(He)?"xn--"+wt(He):He})}if(a={version:"1.4.1",ucs2:{decode:De,encode:Ue},decode:yt,encode:wt,toASCII:mt,toUnicode:st},r&&i)if(e.exports==r)i.exports=a;else for(X in a)a.hasOwnProperty(X)&&(r[X]=a[X]);else n.punycode=a})(Rh)})(_5,_5.exports);var _Ie=_5.exports,bIe=Error,xIe=EvalError,wIe=RangeError,MIe=ReferenceError,S$=SyntaxError,f2=TypeError,SIe=URIError,EIe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},lU=typeof Symbol<"u"&&Symbol,OIe=EIe,BIe=function(){return typeof lU!="function"||typeof Symbol!="function"||typeof lU("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:OIe()},B6={__proto__:null,foo:{}},IIe=Object,kIe=function(){return{__proto__:B6}.foo===B6.foo&&!(B6 instanceof IIe)},TIe="Function.prototype.bind called on incompatible ",KIe=Object.prototype.toString,PIe=Math.max,DIe="[object Function]",uU=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},UIe=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},FIe=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},LIe=function(t){var n=this;if(typeof n!="function"||KIe.apply(n)!==DIe)throw new TypeError(TIe+n);for(var r=UIe(arguments,1),i,o=function(){if(this instanceof i){var C=n.apply(this,uU(r,arguments));return Object(C)===C?C:this}return n.apply(t,uU(r,arguments))},a=PIe(0,n.length-r.length),s=[],h=0;h<a;h++)s[h]="$"+h;if(i=Function("binder","return function ("+FIe(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var m=function(){};m.prototype=n.prototype,i.prototype=new m,m.prototype=null}return i},RIe=LIe,x9=Function.prototype.bind||RIe,zIe=Function.prototype.call,jIe=Object.prototype.hasOwnProperty,NIe=x9,GIe=NIe.call(zIe,jIe),Oo,WIe=bIe,QIe=xIe,$Ie=wIe,YIe=MIe,Cv=S$,nv=f2,qIe=SIe,E$=Function,I6=function(e){try{return E$('"use strict"; return ('+e+").constructor;")()}catch{}},I1=Object.getOwnPropertyDescriptor;if(I1)try{I1({},"")}catch{I1=null}var k6=function(){throw new nv},HIe=I1?function(){try{return arguments.callee,k6}catch{try{return I1(arguments,"callee").get}catch{return k6}}}():k6,Hg=BIe(),VIe=kIe(),Cu=Object.getPrototypeOf||(VIe?function(e){return e.__proto__}:null),sy={},ZIe=typeof Uint8Array>"u"||!Cu?Oo:Cu(Uint8Array),k1={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Oo:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Oo:ArrayBuffer,"%ArrayIteratorPrototype%":Hg&&Cu?Cu([][Symbol.iterator]()):Oo,"%AsyncFromSyncIteratorPrototype%":Oo,"%AsyncFunction%":sy,"%AsyncGenerator%":sy,"%AsyncGeneratorFunction%":sy,"%AsyncIteratorPrototype%":sy,"%Atomics%":typeof Atomics>"u"?Oo:Atomics,"%BigInt%":typeof BigInt>"u"?Oo:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Oo:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Oo:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Oo:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":WIe,"%eval%":eval,"%EvalError%":QIe,"%Float32Array%":typeof Float32Array>"u"?Oo:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Oo:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Oo:FinalizationRegistry,"%Function%":E$,"%GeneratorFunction%":sy,"%Int8Array%":typeof Int8Array>"u"?Oo:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Oo:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Oo:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Hg&&Cu?Cu(Cu([][Symbol.iterator]())):Oo,"%JSON%":typeof JSON=="object"?JSON:Oo,"%Map%":typeof Map>"u"?Oo:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Hg||!Cu?Oo:Cu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Oo:Promise,"%Proxy%":typeof Proxy>"u"?Oo:Proxy,"%RangeError%":$Ie,"%ReferenceError%":YIe,"%Reflect%":typeof Reflect>"u"?Oo:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Oo:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Hg||!Cu?Oo:Cu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Oo:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Hg&&Cu?Cu(""[Symbol.iterator]()):Oo,"%Symbol%":Hg?Symbol:Oo,"%SyntaxError%":Cv,"%ThrowTypeError%":HIe,"%TypedArray%":ZIe,"%TypeError%":nv,"%Uint8Array%":typeof Uint8Array>"u"?Oo:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Oo:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Oo:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Oo:Uint32Array,"%URIError%":qIe,"%WeakMap%":typeof WeakMap>"u"?Oo:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Oo:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Oo:WeakSet};if(Cu)try{null.error}catch(e){var XIe=Cu(Cu(e));k1["%Error.prototype%"]=XIe}var JIe=function e(t){var n;if(t==="%AsyncFunction%")n=I6("async function () {}");else if(t==="%GeneratorFunction%")n=I6("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=I6("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Cu&&(n=Cu(i.prototype))}return k1[t]=n,n},AU={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},p2=x9,b5=GIe,e9e=p2.call(Function.call,Array.prototype.concat),t9e=p2.call(Function.apply,Array.prototype.splice),cU=p2.call(Function.call,String.prototype.replace),x5=p2.call(Function.call,String.prototype.slice),n9e=p2.call(Function.call,RegExp.prototype.exec),r9e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,i9e=/\\(\\)?/g,o9e=function(t){var n=x5(t,0,1),r=x5(t,-1);if(n==="%"&&r!=="%")throw new Cv("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Cv("invalid intrinsic syntax, expected opening `%`");var i=[];return cU(t,r9e,function(o,a,s,h){i[i.length]=s?cU(h,i9e,"$1"):a||o}),i},a9e=function(t,n){var r=t,i;if(b5(AU,r)&&(i=AU[r],r="%"+i[0]+"%"),b5(k1,r)){var o=k1[r];if(o===sy&&(o=JIe(r)),typeof o>"u"&&!n)throw new nv("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Cv("intrinsic "+t+" does not exist!")},Wv=function(t,n){if(typeof t!="string"||t.length===0)throw new nv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new nv('"allowMissing" argument must be a boolean');if(n9e(/^%?[^%]*%?$/,t)===null)throw new Cv("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=o9e(t),i=r.length>0?r[0]:"",o=a9e("%"+i+"%",n),a=o.name,s=o.value,h=!1,m=o.alias;m&&(i=m[0],t9e(r,e9e([0,1],m)));for(var C=1,E=!0;C<r.length;C+=1){var O=r[C],P=x5(O,0,1),D=x5(O,-1);if((P==='"'||P==="'"||P==="`"||D==='"'||D==="'"||D==="`")&&P!==D)throw new Cv("property names with quotes must have matching quotes");if((O==="constructor"||!E)&&(h=!0),i+="."+O,a="%"+i+"%",b5(k1,a))s=k1[a];else if(s!=null){if(!(O in s)){if(!n)throw new nv("base intrinsic for "+t+" exists, but the property is not available.");return}if(I1&&C+1>=r.length){var $=I1(s,O);E=!!$,E&&"get"in $&&!("originalValue"in $.get)?s=$.get:s=s[O]}else E=b5(s,O),s=s[O];E&&!h&&(k1[a]=s)}}return s},O$={exports:{}},T6,dU;function w9(){if(dU)return T6;dU=1;var e=Wv,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return T6=t,T6}var s9e=Wv,x3=s9e("%Object.getOwnPropertyDescriptor%",!0);if(x3)try{x3([],"length")}catch{x3=null}var B$=x3,hU=w9(),l9e=S$,Vg=f2,fU=B$,u9e=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Vg("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Vg("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Vg("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Vg("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Vg("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Vg("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,h=!!fU&&fU(t,n);if(hU)hU(t,n,{configurable:a===null&&h?h.configurable:!a,enumerable:i===null&&h?h.enumerable:!i,value:r,writable:o===null&&h?h.writable:!o});else if(s||!i&&!o&&!a)t[n]=r;else throw new l9e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},BB=w9(),I$=function(){return!!BB};I$.hasArrayLengthDefineBug=function(){if(!BB)return null;try{return BB([],"length",{value:1}).length!==1}catch{return!0}};var A9e=I$,c9e=Wv,pU=u9e,d9e=A9e(),mU=B$,gU=f2,h9e=c9e("%Math.floor%"),f9e=function(t,n){if(typeof t!="function")throw new gU("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||h9e(n)!==n)throw new gU("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&mU){var a=mU(t,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!r)&&(d9e?pU(t,"length",n,!0,!0):pU(t,"length",n)),t};(function(e){var t=x9,n=Wv,r=f9e,i=f2,o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,o),h=w9(),m=n("%Math.max%");e.exports=function(O){if(typeof O!="function")throw new i("a function is required");var P=s(t,a,arguments);return r(P,1+m(0,O.length-(arguments.length-1)),!0)};var C=function(){return s(t,o,arguments)};h?h(e.exports,"apply",{value:C}):e.exports.apply=C})(O$);var p9e=O$.exports,k$=Wv,T$=p9e,m9e=T$(k$("String.prototype.indexOf")),g9e=function(t,n){var r=k$(t,!!n);return typeof r=="function"&&m9e(t,".prototype.")>-1?T$(r):r};const y9e={},v9e=Object.freeze(Object.defineProperty({__proto__:null,default:y9e},Symbol.toStringTag,{value:"Module"})),C9e=jB(v9e);var M9=typeof Map=="function"&&Map.prototype,K6=Object.getOwnPropertyDescriptor&&M9?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,w5=M9&&K6&&typeof K6.get=="function"?K6.get:null,yU=M9&&Map.prototype.forEach,S9=typeof Set=="function"&&Set.prototype,P6=Object.getOwnPropertyDescriptor&&S9?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,M5=S9&&P6&&typeof P6.get=="function"?P6.get:null,vU=S9&&Set.prototype.forEach,_9e=typeof WeakMap=="function"&&WeakMap.prototype,B_=_9e?WeakMap.prototype.has:null,b9e=typeof WeakSet=="function"&&WeakSet.prototype,I_=b9e?WeakSet.prototype.has:null,x9e=typeof WeakRef=="function"&&WeakRef.prototype,CU=x9e?WeakRef.prototype.deref:null,w9e=Boolean.prototype.valueOf,M9e=Object.prototype.toString,S9e=Function.prototype.toString,E9e=String.prototype.match,E9=String.prototype.slice,Jm=String.prototype.replace,O9e=String.prototype.toUpperCase,_U=String.prototype.toLowerCase,K$=RegExp.prototype.test,bU=Array.prototype.concat,Pf=Array.prototype.join,B9e=Array.prototype.slice,xU=Math.floor,IB=typeof BigInt=="function"?BigInt.prototype.valueOf:null,D6=Object.getOwnPropertySymbols,kB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_v=typeof Symbol=="function"&&typeof Symbol.iterator=="object",CA=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_v||!0)?Symbol.toStringTag:null,P$=Object.prototype.propertyIsEnumerable,wU=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function MU(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||K$.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-xU(-e):xU(e);if(r!==e){var i=String(r),o=E9.call(t,i.length+1);return Jm.call(i,n,"$&_")+"."+Jm.call(Jm.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jm.call(t,n,"$&_")}var TB=C9e,SU=TB.custom,EU=U$(SU)?SU:null,I9e=function e(t,n,r,i){var o=n||{};if(jm(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(jm(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=jm(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(jm(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(jm(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return L$(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var h=String(t);return s?MU(t,h):h}if(typeof t=="bigint"){var m=String(t)+"n";return s?MU(t,m):m}var C=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=C&&C>0&&typeof t=="object")return KB(t)?"[Array]":"[Object]";var E=q9e(o,r);if(typeof i>"u")i=[];else if(F$(i,t)>=0)return"[Circular]";function O(he,$e,ge){if($e&&(i=B9e.call(i),i.push($e)),ge){var yt={depth:o.depth};return jm(o,"quoteStyle")&&(yt.quoteStyle=o.quoteStyle),e(he,yt,r+1,i)}return e(he,o,r+1,i)}if(typeof t=="function"&&!OU(t)){var P=R9e(t),D=Hx(t,O);return"[Function"+(P?": "+P:" (anonymous)")+"]"+(D.length>0?" { "+Pf.call(D,", ")+" }":"")}if(U$(t)){var $=_v?Jm.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):kB.call(t);return typeof t=="object"&&!_v?NC($):$}if(Q9e(t)){for(var ee="<"+_U.call(String(t.nodeName)),H=t.attributes||[],G=0;G<H.length;G++)ee+=" "+H[G].name+"="+D$(k9e(H[G].value),"double",o);return ee+=">",t.childNodes&&t.childNodes.length&&(ee+="..."),ee+="</"+_U.call(String(t.nodeName))+">",ee}if(KB(t)){if(t.length===0)return"[]";var Z=Hx(t,O);return E&&!Y9e(Z)?"["+PB(Z,E)+"]":"[ "+Pf.call(Z,", ")+" ]"}if(K9e(t)){var ue=Hx(t,O);return!("cause"in Error.prototype)&&"cause"in t&&!P$.call(t,"cause")?"{ ["+String(t)+"] "+Pf.call(bU.call("[cause]: "+O(t.cause),ue),", ")+" }":ue.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Pf.call(ue,", ")+" }"}if(typeof t=="object"&&a){if(EU&&typeof t[EU]=="function"&&TB)return TB(t,{depth:C-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(z9e(t)){var ye=[];return yU&&yU.call(t,function(he,$e){ye.push(O($e,t,!0)+" => "+O(he,t))}),BU("Map",w5.call(t),ye,E)}if(G9e(t)){var be=[];return vU&&vU.call(t,function(he){be.push(O(he,t))}),BU("Set",M5.call(t),be,E)}if(j9e(t))return U6("WeakMap");if(W9e(t))return U6("WeakSet");if(N9e(t))return U6("WeakRef");if(D9e(t))return NC(O(Number(t)));if(F9e(t))return NC(O(IB.call(t)));if(U9e(t))return NC(w9e.call(t));if(P9e(t))return NC(O(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===window)return"{ [object globalThis] }";if(!T9e(t)&&!OU(t)){var X=Hx(t,O),se=wU?wU(t)===Object.prototype:t instanceof Object||t.constructor===Object,we=t instanceof Object?"":"null prototype",xe=!se&&CA&&Object(t)===t&&CA in t?E9.call(w0(t),8,-1):we?"Object":"",De=se||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",Ue=De+(xe||we?"["+Pf.call(bU.call([],xe||[],we||[]),": ")+"] ":"");return X.length===0?Ue+"{}":E?Ue+"{"+PB(X,E)+"}":Ue+"{ "+Pf.call(X,", ")+" }"}return String(t)};function D$(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function k9e(e){return Jm.call(String(e),/"/g,"&quot;")}function KB(e){return w0(e)==="[object Array]"&&(!CA||!(typeof e=="object"&&CA in e))}function T9e(e){return w0(e)==="[object Date]"&&(!CA||!(typeof e=="object"&&CA in e))}function OU(e){return w0(e)==="[object RegExp]"&&(!CA||!(typeof e=="object"&&CA in e))}function K9e(e){return w0(e)==="[object Error]"&&(!CA||!(typeof e=="object"&&CA in e))}function P9e(e){return w0(e)==="[object String]"&&(!CA||!(typeof e=="object"&&CA in e))}function D9e(e){return w0(e)==="[object Number]"&&(!CA||!(typeof e=="object"&&CA in e))}function U9e(e){return w0(e)==="[object Boolean]"&&(!CA||!(typeof e=="object"&&CA in e))}function U$(e){if(_v)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!kB)return!1;try{return kB.call(e),!0}catch{}return!1}function F9e(e){if(!e||typeof e!="object"||!IB)return!1;try{return IB.call(e),!0}catch{}return!1}var L9e=Object.prototype.hasOwnProperty||function(e){return e in this};function jm(e,t){return L9e.call(e,t)}function w0(e){return M9e.call(e)}function R9e(e){if(e.name)return e.name;var t=E9e.call(S9e.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function F$(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function z9e(e){if(!w5||!e||typeof e!="object")return!1;try{w5.call(e);try{M5.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function j9e(e){if(!B_||!e||typeof e!="object")return!1;try{B_.call(e,B_);try{I_.call(e,I_)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function N9e(e){if(!CU||!e||typeof e!="object")return!1;try{return CU.call(e),!0}catch{}return!1}function G9e(e){if(!M5||!e||typeof e!="object")return!1;try{M5.call(e);try{w5.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function W9e(e){if(!I_||!e||typeof e!="object")return!1;try{I_.call(e,I_);try{B_.call(e,B_)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Q9e(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function L$(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return L$(E9.call(e,0,t.maxStringLength),t)+r}var i=Jm.call(Jm.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$9e);return D$(i,"single",t)}function $9e(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+O9e.call(t.toString(16))}function NC(e){return"Object("+e+")"}function U6(e){return e+" { ? }"}function BU(e,t,n,r){var i=r?PB(n,r):Pf.call(n,", ");return e+" ("+t+") {"+i+"}"}function Y9e(e){for(var t=0;t<e.length;t++)if(F$(e[t],`
`)>=0)return!1;return!0}function q9e(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Pf.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Pf.call(Array(t+1),n)}}function PB(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Pf.call(e,","+n)+`
`+t.prev}function Hx(e,t){var n=KB(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=jm(e,i)?t(e[i],e):""}var o=typeof D6=="function"?D6(e):[],a;if(_v){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var h in e)jm(e,h)&&(n&&String(Number(h))===h&&h<e.length||_v&&a["$"+h]instanceof Symbol||(K$.call(/[^\w$]/,h)?r.push(t(h,e)+": "+t(e[h],e)):r.push(h+": "+t(e[h],e))));if(typeof D6=="function")for(var m=0;m<o.length;m++)P$.call(e,o[m])&&r.push("["+t(o[m])+"]: "+t(e[o[m]],e));return r}var R$=Wv,Qv=g9e,H9e=I9e,V9e=f2,Vx=R$("%WeakMap%",!0),Zx=R$("%Map%",!0),Z9e=Qv("WeakMap.prototype.get",!0),X9e=Qv("WeakMap.prototype.set",!0),J9e=Qv("WeakMap.prototype.has",!0),eke=Qv("Map.prototype.get",!0),tke=Qv("Map.prototype.set",!0),nke=Qv("Map.prototype.has",!0),O9=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},rke=function(e,t){var n=O9(e,t);return n&&n.value},ike=function(e,t,n){var r=O9(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},oke=function(e,t){return!!O9(e,t)},ake=function(){var t,n,r,i={assert:function(o){if(!i.has(o))throw new V9e("Side channel does not contain "+H9e(o))},get:function(o){if(Vx&&o&&(typeof o=="object"||typeof o=="function")){if(t)return Z9e(t,o)}else if(Zx){if(n)return eke(n,o)}else if(r)return rke(r,o)},has:function(o){if(Vx&&o&&(typeof o=="object"||typeof o=="function")){if(t)return J9e(t,o)}else if(Zx){if(n)return nke(n,o)}else if(r)return oke(r,o);return!1},set:function(o,a){Vx&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new Vx),X9e(t,o,a)):Zx?(n||(n=new Zx),tke(n,o,a)):(r||(r={key:{},next:null}),ike(r,o,a))}};return i},ske=String.prototype.replace,lke=/%20/g,F6={RFC1738:"RFC1738",RFC3986:"RFC3986"},B9={default:F6.RFC3986,formatters:{RFC1738:function(e){return ske.call(e,lke,"+")},RFC3986:function(e){return String(e)}},RFC1738:F6.RFC1738,RFC3986:F6.RFC3986},uke=B9,L6=Object.prototype.hasOwnProperty,h1=Array.isArray,Sf=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Ake=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(h1(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},z$=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},cke=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(h1(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!L6.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return h1(t)&&!h1(n)&&(i=z$(t,r)),h1(t)&&h1(n)?(n.forEach(function(o,a){if(L6.call(t,a)){var s=t[a];s&&typeof s=="object"&&o&&typeof o=="object"?t[a]=e(s,o,r):t.push(o)}else t[a]=o}),t):Object.keys(n).reduce(function(o,a){var s=n[a];return L6.call(o,a)?o[a]=e(o[a],s,r):o[a]=s,o},i)},dke=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},hke=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},fke=function(t,n,r,i,o){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(C){return"%26%23"+parseInt(C.slice(2),16)+"%3B"});for(var s="",h=0;h<a.length;++h){var m=a.charCodeAt(h);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||o===uke.RFC1738&&(m===40||m===41)){s+=a.charAt(h);continue}if(m<128){s=s+Sf[m];continue}if(m<2048){s=s+(Sf[192|m>>6]+Sf[128|m&63]);continue}if(m<55296||m>=57344){s=s+(Sf[224|m>>12]+Sf[128|m>>6&63]+Sf[128|m&63]);continue}h+=1,m=65536+((m&1023)<<10|a.charCodeAt(h)&1023),s+=Sf[240|m>>18]+Sf[128|m>>12&63]+Sf[128|m>>6&63]+Sf[128|m&63]}return s},pke=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],a=o.obj[o.prop],s=Object.keys(a),h=0;h<s.length;++h){var m=s[h],C=a[m];typeof C=="object"&&C!==null&&r.indexOf(C)===-1&&(n.push({obj:a,prop:m}),r.push(C))}return Ake(n),t},mke=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},gke=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},yke=function(t,n){return[].concat(t,n)},vke=function(t,n){if(h1(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},j$={arrayToObject:z$,assign:dke,combine:yke,compact:pke,decode:hke,encode:fke,isBuffer:gke,isRegExp:mke,maybeMap:vke,merge:cke},N$=ake,w3=j$,k_=B9,Cke=Object.prototype.hasOwnProperty,G$={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},Tf=Array.isArray,_ke=Array.prototype.push,W$=function(e,t){_ke.apply(e,Tf(t)?t:[t])},bke=Date.prototype.toISOString,IU=k_.default,Vl={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:w3.encode,encodeValuesOnly:!1,format:IU,formatter:k_.formatters[IU],indices:!1,serializeDate:function(t){return bke.call(t)},skipNulls:!1,strictNullHandling:!1},xke=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},R6={},wke=function e(t,n,r,i,o,a,s,h,m,C,E,O,P,D,$,ee,H,G){for(var Z=t,ue=G,ye=0,be=!1;(ue=ue.get(R6))!==void 0&&!be;){var X=ue.get(t);if(ye+=1,typeof X<"u"){if(X===ye)throw new RangeError("Cyclic object value");be=!0}typeof ue.get(R6)>"u"&&(ye=0)}if(typeof C=="function"?Z=C(n,Z):Z instanceof Date?Z=P(Z):r==="comma"&&Tf(Z)&&(Z=w3.maybeMap(Z,function(ze){return ze instanceof Date?P(ze):ze})),Z===null){if(a)return m&&!ee?m(n,Vl.encoder,H,"key",D):n;Z=""}if(xke(Z)||w3.isBuffer(Z)){if(m){var se=ee?n:m(n,Vl.encoder,H,"key",D);return[$(se)+"="+$(m(Z,Vl.encoder,H,"value",D))]}return[$(n)+"="+$(String(Z))]}var we=[];if(typeof Z>"u")return we;var xe;if(r==="comma"&&Tf(Z))ee&&m&&(Z=w3.maybeMap(Z,m)),xe=[{value:Z.length>0?Z.join(",")||null:void 0}];else if(Tf(C))xe=C;else{var De=Object.keys(Z);xe=E?De.sort(E):De}var Ue=h?n.replace(/\./g,"%2E"):n,he=i&&Tf(Z)&&Z.length===1?Ue+"[]":Ue;if(o&&Tf(Z)&&Z.length===0)return he+"[]";for(var $e=0;$e<xe.length;++$e){var ge=xe[$e],yt=typeof ge=="object"&&typeof ge.value<"u"?ge.value:Z[ge];if(!(s&&yt===null)){var wt=O&&h?ge.replace(/\./g,"%2E"):ge,st=Tf(Z)?typeof r=="function"?r(he,wt):he:he+(O?"."+wt:"["+wt+"]");G.set(t,ye);var mt=N$();mt.set(R6,G),W$(we,e(yt,st,r,i,o,a,s,h,r==="comma"&&ee&&Tf(Z)?null:m,C,E,O,P,D,$,ee,H,mt))}}return we},Mke=function(t){if(!t)return Vl;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Vl.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=k_.default;if(typeof t.format<"u"){if(!Cke.call(k_.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=k_.formatters[r],o=Vl.filter;(typeof t.filter=="function"||Tf(t.filter))&&(o=t.filter);var a;if(t.arrayFormat in G$?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Vl.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Vl.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Vl.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Vl.allowEmptyArrays,arrayFormat:a,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Vl.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Vl.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Vl.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Vl.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Vl.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Vl.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Vl.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Vl.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Vl.strictNullHandling}},Ske=function(e,t){var n=e,r=Mke(t),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):Tf(r.filter)&&(o=r.filter,i=o);var a=[];if(typeof n!="object"||n===null)return"";var s=G$[r.arrayFormat],h=s==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var m=N$(),C=0;C<i.length;++C){var E=i[C];r.skipNulls&&n[E]===null||W$(a,wke(n[E],E,s,h,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,m))}var O=a.join(r.delimiter),P=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),O.length>0?P+O:""},bv=j$,DB=Object.prototype.hasOwnProperty,Eke=Array.isArray,vl={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:bv.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Oke=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},Q$=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Bke="utf8=%26%2310003%3B",Ike="utf8=%E2%9C%93",kke=function(t,n){var r={__proto__:null},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,o),s=-1,h,m=n.charset;if(n.charsetSentinel)for(h=0;h<a.length;++h)a[h].indexOf("utf8=")===0&&(a[h]===Ike?m="utf-8":a[h]===Bke&&(m="iso-8859-1"),s=h,h=a.length);for(h=0;h<a.length;++h)if(h!==s){var C=a[h],E=C.indexOf("]="),O=E===-1?C.indexOf("="):E+1,P,D;O===-1?(P=n.decoder(C,vl.decoder,m,"key"),D=n.strictNullHandling?null:""):(P=n.decoder(C.slice(0,O),vl.decoder,m,"key"),D=bv.maybeMap(Q$(C.slice(O+1),n),function(ee){return n.decoder(ee,vl.decoder,m,"value")})),D&&n.interpretNumericEntities&&m==="iso-8859-1"&&(D=Oke(D)),C.indexOf("[]=")>-1&&(D=Eke(D)?[D]:D);var $=DB.call(r,P);$&&n.duplicates==="combine"?r[P]=bv.combine(r[P],D):(!$||n.duplicates==="last")&&(r[P]=D)}return r},Tke=function(e,t,n,r){for(var i=r?t:Q$(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if(s==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&i===""?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var h=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,m=n.decodeDotInKeys?h.replace(/%2E/g,"."):h,C=parseInt(m,10);!n.parseArrays&&m===""?a={0:i}:!isNaN(C)&&s!==m&&String(C)===m&&C>=0&&n.parseArrays&&C<=n.arrayLimit?(a=[],a[C]=i):m!=="__proto__"&&(a[m]=i)}i=a}return i},Kke=function(t,n,r,i){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,h=r.depth>0&&a.exec(o),m=h?o.slice(0,h.index):o,C=[];if(m){if(!r.plainObjects&&DB.call(Object.prototype,m)&&!r.allowPrototypes)return;C.push(m)}for(var E=0;r.depth>0&&(h=s.exec(o))!==null&&E<r.depth;){if(E+=1,!r.plainObjects&&DB.call(Object.prototype,h[1].slice(1,-1))&&!r.allowPrototypes)return;C.push(h[1])}return h&&C.push("["+o.slice(h.index)+"]"),Tke(C,n,r,i)}},Pke=function(t){if(!t)return vl;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?vl.charset:t.charset,r=typeof t.duplicates>"u"?vl.duplicates:t.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:vl.allowDots:!!t.allowDots;return{allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:vl.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:vl.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:vl.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:vl.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:vl.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:vl.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:vl.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:vl.decoder,delimiter:typeof t.delimiter=="string"||bv.isRegExp(t.delimiter)?t.delimiter:vl.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:vl.depth,duplicates:r,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:vl.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:vl.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:vl.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:vl.strictNullHandling}},Dke=function(e,t){var n=Pke(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?kke(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],h=Kke(s,r[s],n,typeof e=="string");i=bv.merge(i,h,n)}return n.allowSparse===!0?i:bv.compact(i)},Uke=Ske,Fke=Dke,Lke=B9,Rke={formats:Lke,parse:Fke,stringify:Uke},zke=_Ie;function $d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var jke=/^([a-z0-9.+-]+:)/i,Nke=/:[0-9]*$/,Gke=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Wke=["<",">",'"',"`"," ","\r",`
`,"	"],Qke=["{","}","|","\\","^","`"].concat(Wke),UB=["'"].concat(Qke),kU=["%","/","?",";","#"].concat(UB),TU=["/","?","#"],$ke=255,KU=/^[+a-z0-9A-Z_-]{0,63}$/,Yke=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qke={javascript:!0,"javascript:":!0},FB={javascript:!0,"javascript:":!0},rv={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},LB=Rke;function m2(e,t,n){if(e&&typeof e=="object"&&e instanceof $d)return e;var r=new $d;return r.parse(e,t,n),r}$d.prototype.parse=function(e,t,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var h=Gke.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=LB.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var m=jke.exec(s);if(m){m=m[0];var C=m.toLowerCase();this.protocol=C,s=s.substr(m.length)}if(n||m||s.match(/^\/\/[^@/]+@[^@/]+/)){var E=s.substr(0,2)==="//";E&&!(m&&FB[m])&&(s=s.substr(2),this.slashes=!0)}if(!FB[m]&&(E||m&&!rv[m])){for(var O=-1,P=0;P<TU.length;P++){var D=s.indexOf(TU[P]);D!==-1&&(O===-1||D<O)&&(O=D)}var $,ee;O===-1?ee=s.lastIndexOf("@"):ee=s.lastIndexOf("@",O),ee!==-1&&($=s.slice(0,ee),s=s.slice(ee+1),this.auth=decodeURIComponent($)),O=-1;for(var P=0;P<kU.length;P++){var D=s.indexOf(kU[P]);D!==-1&&(O===-1||D<O)&&(O=D)}O===-1&&(O=s.length),this.host=s.slice(0,O),s=s.slice(O),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var G=this.hostname.split(/\./),P=0,Z=G.length;P<Z;P++){var ue=G[P];if(ue&&!ue.match(KU)){for(var ye="",be=0,X=ue.length;be<X;be++)ue.charCodeAt(be)>127?ye+="x":ye+=ue[be];if(!ye.match(KU)){var se=G.slice(0,P),we=G.slice(P+1),xe=ue.match(Yke);xe&&(se.push(xe[1]),we.unshift(xe[2])),we.length&&(s="/"+we.join(".")+s),this.hostname=se.join(".");break}}}this.hostname.length>$ke?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=zke.toASCII(this.hostname));var De=this.port?":"+this.port:"",Ue=this.hostname||"";this.host=Ue+De,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!qke[C])for(var P=0,Z=UB.length;P<Z;P++){var he=UB[P];if(s.indexOf(he)!==-1){var $e=encodeURIComponent(he);$e===he&&($e=escape(he)),s=s.split(he).join($e)}}var ge=s.indexOf("#");ge!==-1&&(this.hash=s.substr(ge),s=s.slice(0,ge));var yt=s.indexOf("?");if(yt!==-1?(this.search=s.substr(yt),this.query=s.substr(yt+1),t&&(this.query=LB.parse(this.query)),s=s.slice(0,yt)):t&&(this.search="",this.query={}),s&&(this.pathname=s),rv[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var De=this.pathname||"",wt=this.search||"";this.path=De+wt}return this.href=this.format(),this};function Hke(e){return typeof e=="string"&&(e=m2(e)),e instanceof $d?e.format():$d.prototype.format.call(e)}$d.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=LB.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||rv[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+n+a+r};function Vke(e,t){return m2(e,!1,!0).resolve(t)}$d.prototype.resolve=function(e){return this.resolveObject(m2(e,!1,!0)).format()};function Zke(e,t){return e?m2(e,!1,!0).resolveObject(t):t}$d.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new $d;t.parse(e,!1,!0),e=t}for(var n=new $d,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var h=a[s];h!=="protocol"&&(n[h]=e[h])}return rv[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!rv[e.protocol]){for(var m=Object.keys(e),C=0;C<m.length;C++){var E=m[C];n[E]=e[E]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!FB[e.protocol]){for(var Z=(e.pathname||"").split("/");Z.length&&!(e.host=Z.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),n.pathname=Z.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var O=n.pathname||"",P=n.search||"";n.path=O+P}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var D=n.pathname&&n.pathname.charAt(0)==="/",$=e.host||e.pathname&&e.pathname.charAt(0)==="/",ee=$||D||n.host&&e.pathname,H=ee,G=n.pathname&&n.pathname.split("/")||[],Z=e.pathname&&e.pathname.split("/")||[],ue=n.protocol&&!rv[n.protocol];if(ue&&(n.hostname="",n.port=null,n.host&&(G[0]===""?G[0]=n.host:G.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(Z[0]===""?Z[0]=e.host:Z.unshift(e.host)),e.host=null),ee=ee&&(Z[0]===""||G[0]==="")),$)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,G=Z;else if(Z.length)G||(G=[]),G.pop(),G=G.concat(Z),n.search=e.search,n.query=e.query;else if(e.search!=null){if(ue){n.host=G.shift(),n.hostname=n.host;var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.hostname=ye.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!G.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var be=G.slice(-1)[0],X=(n.host||e.host||G.length>1)&&(be==="."||be==="..")||be==="",se=0,we=G.length;we>=0;we--)be=G[we],be==="."?G.splice(we,1):be===".."?(G.splice(we,1),se++):se&&(G.splice(we,1),se--);if(!ee&&!H)for(;se--;se)G.unshift("..");ee&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),X&&G.join("/").substr(-1)!=="/"&&G.push("");var xe=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(ue){n.hostname=xe?"":G.length?G.shift():"",n.host=n.hostname;var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.hostname=ye.shift(),n.host=n.hostname)}return ee=ee||n.host&&G.length,ee&&!xe&&G.unshift(""),G.length>0?n.pathname=G.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};$d.prototype.parseHost=function(){var e=this.host,t=Nke.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};$1.parse=m2;$1.resolve=Vke;$1.resolveObject=Zke;$1.format=Hke;$1.Url=$d;function No(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/metadata.ts",t="51d155cfe3ebdc6a89f870afc250352bed967ea6",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:17,column:18}},6:{start:{line:17,column:4},end:{line:17,column:18}},7:{start:{line:18,column:17},end:{line:18,column:42}},8:{start:{line:19,column:23},end:{line:19,column:57}},9:{start:{line:20,column:2},end:{line:24,column:3}},10:{start:{line:21,column:4},end:{line:21,column:41}},11:{start:{line:23,column:4},end:{line:23,column:69}},12:{start:{line:25,column:14},end:{line:25,column:35}},13:{start:{line:26,column:2},end:{line:26,column:24}},14:{start:{line:29,column:2},end:{line:30,column:18}},15:{start:{line:30,column:4},end:{line:30,column:18}},16:{start:{line:31,column:14},end:{line:31,column:31}},17:{start:{line:32,column:2},end:{line:32,column:57}},18:{start:{line:32,column:32},end:{line:32,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:27,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:28,column:16},end:{line:28,column:38}},loc:{start:{line:28,column:52},end:{line:33,column:1}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:20},end:{line:32,column:21}},loc:{start:{line:32,column:32},end:{line:32,column:55}},line:32}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:17,column:18}},type:"if",locations:[{start:{line:16,column:2},end:{line:17,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:20,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:24,column:3}},{start:{line:22,column:9},end:{line:24,column:3}}],line:20},2:{loc:{start:{line:29,column:2},end:{line:30,column:18}},type:"if",locations:[{start:{line:29,column:2},end:{line:30,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC;AAAa,WAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC;AAAS,WAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"51d155cfe3ebdc6a89f870afc250352bed967ea6"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return No=function(){return a},a}No();function $$(e,t,n){No().f[0]++,No().s[0]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(r){return No().f[1]++,No().s[1]++,r.json()}).then(function(r){No().f[2]++,No().s[2]++,n(r)}).catch(function(){No().f[3]++,No().s[3]++,console.warn("Can not metadata for "+e),No().s[4]++,n(t)})}function Xke(e,t){if(No().f[4]++,No().s[5]++,e)No().b[0][1]++;else return No().b[0][0]++,No().s[6]++,t([]);const n=(No().s[7]++,$1.parse(e)),r=(No().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");No().s[9]++,n.pathname===r?(No().b[1][0]++,No().s[10]++,n.pathname="/fontstacks.json"):(No().b[1][1]++,No().s[11]++,n.pathname=n.pathname.replace(r,".json"));const i=(No().s[12]++,$1.format(n));No().s[13]++,$$(i,[],t)}function Jke(e,t){if(No().f[5]++,No().s[14]++,e)No().b[2][1]++;else return No().b[2][0]++,No().s[15]++,t([]);const n=(No().s[16]++,e+".json");No().s[17]++,$$(n,{},r=>(No().f[6]++,No().s[18]++,t(Object.keys(r))))}function Zl(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/urlopen.ts",t="c4006687198cb2c08bed7c462ed7814d9839cc4a",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4006687198cb2c08bed7c462ed7814d9839cc4a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Zl=function(){return a},a}Zl();function eTe(){Zl().f[0]++;const e=(Zl().s[0]++,new URL(window.location.href));return Zl().s[1]++,e.searchParams.get("style")}function Y$(e,t){Zl().f[1]++,Zl().s[2]++,console.log("Loading style",e),Zl().s[3]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(n){return Zl().f[2]++,Zl().s[4]++,n.json()}).then(function(n){Zl().f[3]++,Zl().s[5]++,t(wu.ensureStyleValidity(n))}).catch(function(){Zl().f[4]++,Zl().s[6]++,console.warn("Could not fetch default style",e),Zl().s[7]++,t(wu.emptyStyle)})}function PU(){Zl().f[5]++;const e=(Zl().s[8]++,new URL(window.location.href));Zl().s[9]++,e.searchParams.delete("style"),Zl().s[10]++,window.history.replaceState({},document.title,e.toString())}function GA(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/diffmessage.ts",t="8cd7a3bb99b83cf6c66d0a86713325f890dbb68b",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8cd7a3bb99b83cf6c66d0a86713325f890dbb68b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return GA=function(){return a},a}GA();function q$(e,t){GA().f[0]++;const n=(GA().s[0]++,vJ(e,t));return GA().s[1]++,n.map(r=>(GA().f[1]++,GA().s[2]++,r.command+" "+r.args.join(" ")))}function tTe(e,t){return GA().f[2]++,GA().s[3]++,q$(e,t).map(n=>(GA().f[3]++,GA().s[4]++,"Undo "+n))}function nTe(e,t){return GA().f[4]++,GA().s[5]++,q$(e,t).map(n=>(GA().f[5]++,GA().s[6]++,"Redo "+n))}function zr(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/stylestore.ts",t="98de233785d84c6eecb0ba7dc0877d6ec11f6cce",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:64,column:34}},28:{start:{line:64,column:6},end:{line:64,column:34}},29:{start:{line:65,column:20},end:{line:65,column:67}},30:{start:{line:66,column:22},end:{line:66,column:68}},31:{start:{line:67,column:4},end:{line:68,column:39}},32:{start:{line:68,column:6},end:{line:68,column:39}},33:{start:{line:69,column:4},end:{line:69,column:25}},34:{start:{line:73,column:4},end:{line:73,column:51}},35:{start:{line:74,column:16},end:{line:74,column:37}},36:{start:{line:75,column:4},end:{line:75,column:63}},37:{start:{line:76,column:4},end:{line:76,column:65}},38:{start:{line:77,column:4},end:{line:77,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:70,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:17},end:{line:78,column:3}},line:72}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:64,column:34}},type:"if",locations:[{start:{line:63,column:4},end:{line:64,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:67,column:4},end:{line:68,column:39}},type:"if",locations:[{start:{line:67,column:4},end:{line:68,column:39}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW;AAAG,aAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG;AAAW,aAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"98de233785d84c6eecb0ba7dc0877d6ec11f6cce"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zr=function(){return a},a}zr();const wb=(zr().s[0]++,"maputnik"),H$=(zr().s[1]++,"style"),DU=(zr().s[2]++,{latest:[wb,"latest_style"].join(":"),accessToken:[wb,"access_token"].join(":")}),rTe=(zr().s[3]++,M$[0].url);function UU(e){zr().f[0]++,zr().s[4]++,Y$(rTe,e)}function iTe(){zr().f[1]++;const e=(zr().s[5]++,[]);zr().s[6]++;for(let t=(zr().s[7]++,0);t<window.localStorage.length;t++){const n=(zr().s[8]++,window.localStorage.key(t));zr().s[9]++,V$(n)?(zr().b[0][0]++,zr().s[10]++,e.push(oTe(n))):zr().b[0][1]++}return zr().s[11]++,e}function V$(e){zr().f[2]++;const t=(zr().s[12]++,e.split(":"));return zr().s[13]++,zr().b[1][0]++,t.length===3&&(zr().b[1][1]++,t[0]===wb)&&(zr().b[1][2]++,t[1]===H$)}function oTe(e){if(zr().f[3]++,zr().s[14]++,V$(e))zr().b[2][1]++;else throw zr().b[2][0]++,zr().s[15]++,"Key is not a valid style key";const t=(zr().s[16]++,e.split(":")),n=(zr().s[17]++,t[2]);return zr().s[18]++,n}function FU(e){return zr().f[4]++,zr().s[19]++,[wb,H$,e].join(":")}class LU{constructor(){on(this,"mapStyles");zr().f[5]++,zr().s[20]++,this.mapStyles=iTe()}init(t){zr().f[6]++,zr().s[21]++,t(null)}purge(){zr().f[7]++,zr().s[22]++;for(let t=(zr().s[23]++,0);t<window.localStorage.length;t++){const n=(zr().s[24]++,window.localStorage.key(t));zr().s[25]++,n.startsWith(wb)?(zr().b[3][0]++,zr().s[26]++,window.localStorage.removeItem(n)):zr().b[3][1]++}}latestStyle(t){if(zr().f[8]++,zr().s[27]++,this.mapStyles.length===0)return zr().b[4][0]++,zr().s[28]++,UU(t);zr().b[4][1]++;const n=(zr().s[29]++,window.localStorage.getItem(DU.latest)),r=(zr().s[30]++,window.localStorage.getItem(FU(n)));if(zr().s[31]++,r)return zr().b[5][0]++,zr().s[32]++,t(JSON.parse(r));zr().b[5][1]++,zr().s[33]++,UU(t)}save(t){zr().f[9]++,zr().s[34]++,t=wu.ensureStyleValidity(t);const n=(zr().s[35]++,FU(t.id));return zr().s[36]++,window.localStorage.setItem(n,JSON.stringify(t)),zr().s[37]++,window.localStorage.setItem(DU.latest,t.id),zr().s[38]++,t}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var RB=function(e,t){return RB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},RB(e,t)};function Z$(e,t){RB(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function aTe(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function sTe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function lTe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sTe(arguments[t]));return e}var X$=function(){function e(t,n){this.target=n,this.type=t}return e}(),uTe=function(e){Z$(t,e);function t(n,r){var i=e.call(this,"error",r)||this;return i.message=n.message,i.error=n,i}return t}(X$),ATe=function(e){Z$(t,e);function t(n,r,i){n===void 0&&(n=1e3),r===void 0&&(r="");var o=e.call(this,"close",i)||this;return o.wasClean=!0,o.code=n,o.reason=r,o}return t}(X$);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var cTe=function(){if(typeof WebSocket<"u")return WebSocket},dTe=function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},e1={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},hTe=function(){function e(t,n,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var a=i._options.minUptime,s=a===void 0?e1.minUptime:a;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},s),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(h){return i._ws.send(h)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(h){return i._callEventListener(o,h)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(a){return i._callEventListener(o,a)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(a){return i._callEventListener(o,a)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(a){return i._callEventListener(o,a)})},this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var t=this._messageQueue.reduce(function(n,r){return typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n},0);return t+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(t,n){if(t===void 0&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)},e.prototype.reconnect=function(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())},e.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var n=this._options.maxEnqueuedMessages,r=n===void 0?e1.maxEnqueuedMessages:n;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}},e.prototype.addEventListener=function(t,n){this._listeners[t]&&this._listeners[t].push(n)},e.prototype.dispatchEvent=function(t){var n,r,i=this._listeners[t.type];if(i)try{for(var o=aTe(i),a=o.next();!a.done;a=o.next()){var s=a.value;this._callEventListener(t,s)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0},e.prototype.removeEventListener=function(t,n){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(function(r){return r!==n}))},e.prototype._debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._options.debug&&console.log.apply(console,lTe(["RWS>"],t))},e.prototype._getNextDelay=function(){var t=this._options,n=t.reconnectionDelayGrowFactor,r=n===void 0?e1.reconnectionDelayGrowFactor:n,i=t.minReconnectionDelay,o=i===void 0?e1.minReconnectionDelay:i,a=t.maxReconnectionDelay,s=a===void 0?e1.maxReconnectionDelay:a,h=0;return this._retryCount>0&&(h=o*Math.pow(r,this._retryCount-1),h>s&&(h=s)),this._debug("next delay",h),h},e.prototype._wait=function(){var t=this;return new Promise(function(n){setTimeout(n,t._getNextDelay())})},e.prototype._getNextUrl=function(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){var n=t();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")},e.prototype._connect=function(){var t=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var n=this._options,r=n.maxRetries,i=r===void 0?e1.maxRetries:r,o=n.connectionTimeout,a=o===void 0?e1.connectionTimeout:o,s=n.WebSocket,h=s===void 0?cTe():s;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!dTe(h))throw Error("No valid WebSocket class provided");this._wait().then(function(){return t._getNextUrl(t._url)}).then(function(m){t._closeCalled||(t._debug("connect",{url:m,protocols:t._protocols}),t._ws=t._protocols?new h(m,t._protocols):new h(m),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout(function(){return t._handleTimeout()},a))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new uTe(Error("TIMEOUT"),this))},e.prototype._disconnect=function(t,n){if(t===void 0&&(t=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,n),this._handleClose(new ATe(t,n,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(t,n){"handleEvent"in n?n.handleEvent(t):n(t)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();function Nr(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/apistore.ts",t="35ad52edef167284ea1713e4f58ba96d3eb6c85e",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:46,column:6}},16:{start:{line:35,column:6},end:{line:36,column:15}},17:{start:{line:36,column:8},end:{line:36,column:15}},18:{start:{line:37,column:6},end:{line:37,column:52}},19:{start:{line:38,column:24},end:{line:38,column:40}},20:{start:{line:39,column:6},end:{line:43,column:7}},21:{start:{line:40,column:8},end:{line:40,column:41}},22:{start:{line:42,column:8},end:{line:42,column:27}},23:{start:{line:44,column:27},end:{line:44,column:65}},24:{start:{line:45,column:6},end:{line:45,column:44}},25:{start:{line:49,column:4},end:{line:59,column:5}},26:{start:{line:50,column:6},end:{line:56,column:9}},27:{start:{line:53,column:8},end:{line:53,column:31}},28:{start:{line:55,column:8},end:{line:55,column:44}},29:{start:{line:58,column:6},end:{line:58,column:92}},30:{start:{line:63,column:22},end:{line:67,column:5}},31:{start:{line:68,column:15},end:{line:68,column:26}},32:{start:{line:69,column:4},end:{line:79,column:7}},33:{start:{line:77,column:6},end:{line:78,column:29}},34:{start:{line:78,column:8},end:{line:78,column:29}},35:{start:{line:80,column:4},end:{line:80,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:47,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:46,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:18},end:{line:60,column:3}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:52,column:14},end:{line:52,column:15}},loc:{start:{line:52,column:33},end:{line:54,column:7}},line:52},10:{name:"(anonymous_10)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:29},end:{line:56,column:7}},line:54},11:{name:"(anonymous_11)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:17},end:{line:81,column:3}},line:62},12:{name:"(anonymous_12)",decl:{start:{line:76,column:13},end:{line:76,column:14}},loc:{start:{line:76,column:29},end:{line:79,column:5}},line:76}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:36,column:15}},type:"if",locations:[{start:{line:35,column:6},end:{line:36,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:49,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:59,column:5}},{start:{line:57,column:11},end:{line:59,column:5}}],line:49},5:{loc:{start:{line:77,column:6},end:{line:78,column:29}},type:"if",locations:[{start:{line:77,column:6},end:{line:78,column:29}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE;AAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG;AAAO,gBAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"35ad52edef167284ea1713e4f58ba96d3eb6c85e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Nr=function(){return a},a}Nr();class fTe{constructor(t){on(this,"localUrl");on(this,"websocketUrl");on(this,"latestStyleId",(Nr().s[0]++,void 0));on(this,"onLocalStyleChange");Nr().f[0]++,Nr().s[1]++,this.onLocalStyleChange=(Nr().b[0][0]++,t.onLocalStyleChange||(Nr().b[0][1]++,()=>{Nr().f[1]++}));const n=(Nr().s[2]++,Nr().b[1][0]++,t.port||(Nr().b[1][1]++,"8000")),r=(Nr().s[3]++,Nr().b[2][0]++,t.host||(Nr().b[2][1]++,"localhost"));Nr().s[4]++,this.localUrl=`http://${r}:${n}`,Nr().s[5]++,this.websocketUrl=`ws://${r}:${n}/ws`,Nr().s[6]++,this.init=this.init.bind(this)}init(t){Nr().f[2]++,Nr().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(n=>(Nr().f[3]++,Nr().s[8]++,n.json())).then(n=>{Nr().f[4]++;const r=(Nr().s[9]++,n);Nr().s[10]++,this.latestStyleId=r[0],Nr().s[11]++,this.notifyLocalChanges(),Nr().s[12]++,t(null)}).catch(()=>{Nr().f[5]++,Nr().s[13]++,t(new Error("Can not connect to style API"))})}notifyLocalChanges(){Nr().f[6]++;const t=(Nr().s[14]++,new hTe(this.websocketUrl));Nr().s[15]++,t.onmessage=n=>{if(Nr().f[7]++,Nr().s[16]++,n.data)Nr().b[3][1]++;else{Nr().b[3][0]++,Nr().s[17]++;return}Nr().s[18]++,console.log("Received style update from API");let r=(Nr().s[19]++,wu.emptyStyle);Nr().s[20]++;try{Nr().s[21]++,r=JSON.parse(n.data)}catch(o){Nr().s[22]++,console.error(o)}const i=(Nr().s[23]++,wu.ensureStyleValidity(r));Nr().s[24]++,this.onLocalStyleChange(i)}}latestStyle(t){if(Nr().f[8]++,Nr().s[25]++,this.latestStyleId)Nr().b[4][0]++,Nr().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(n){return Nr().f[9]++,Nr().s[27]++,n.json()}).then(function(n){Nr().f[10]++,Nr().s[28]++,t(wu.ensureStyleValidity(n))});else throw Nr().b[4][1]++,Nr().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(t){Nr().f[11]++;const n=(Nr().s[30]++,bz(wu.stripAccessTokens(wu.replaceAccessTokens(t)))),r=(Nr().s[31]++,t.id);return Nr().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:n}).catch(function(i){Nr().f[12]++,Nr().s[33]++,i?(Nr().b[5][0]++,Nr().s[34]++,console.error(i)):Nr().b[5][1]++}),Nr().s[35]++,t}}function rs(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/revisions.ts",t="f31809493e3614099723d3fe05c955ed7ad980d1",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f31809493e3614099723d3fe05c955ed7ad980d1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return rs=function(){return a},a}rs();class pTe{constructor(t=(rs().b[0][0]++,[])){on(this,"revisions");on(this,"currentIdx");rs().f[0]++,rs().s[0]++,this.revisions=t,rs().s[1]++,this.currentIdx=t.length-1}get latest(){return rs().f[1]++,rs().s[2]++,this.revisions[this.revisions.length-1]}get current(){return rs().f[2]++,rs().s[3]++,this.revisions[this.currentIdx]}addRevision(t){rs().f[3]++,rs().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),rs().s[5]++,this.revisions.push(t),rs().s[6]++,this.currentIdx++}undo(){return rs().f[4]++,rs().s[7]++,this.currentIdx>0?(rs().b[1][0]++,rs().s[8]++,this.currentIdx--):rs().b[1][1]++,rs().s[9]++,this.current}redo(){return rs().f[5]++,rs().s[10]++,this.currentIdx<this.revisions.length-1?(rs().b[2][0]++,rs().s[11]++,this.currentIdx++):rs().b[2][1]++,rs().s[12]++,this.current}}var J$="Expected a function",RU=NaN,mTe="[object Symbol]",gTe=/^\s+|\s+$/g,yTe=/^[-+]0x[0-9a-f]+$/i,vTe=/^0b[01]+$/i,CTe=/^0o[0-7]+$/i,_Te=parseInt,bTe=typeof window=="object"&&window&&window.Object===Object&&window,xTe=typeof self=="object"&&self&&self.Object===Object&&self,wTe=bTe||xTe||Function("return this")(),MTe=Object.prototype,STe=MTe.toString,ETe=Math.max,OTe=Math.min,z6=function(){return wTe.Date.now()};function BTe(e,t,n){var r,i,o,a,s,h,m=0,C=!1,E=!1,O=!0;if(typeof e!="function")throw new TypeError(J$);t=zU(t)||0,S5(n)&&(C=!!n.leading,E="maxWait"in n,o=E?ETe(zU(n.maxWait)||0,t):o,O="trailing"in n?!!n.trailing:O);function P(be){var X=r,se=i;return r=i=void 0,m=be,a=e.apply(se,X),a}function D(be){return m=be,s=setTimeout(H,t),C?P(be):a}function $(be){var X=be-h,se=be-m,we=t-X;return E?OTe(we,o-se):we}function ee(be){var X=be-h,se=be-m;return h===void 0||X>=t||X<0||E&&se>=o}function H(){var be=z6();if(ee(be))return G(be);s=setTimeout(H,$(be))}function G(be){return s=void 0,O&&r?P(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),m=0,r=h=i=s=void 0}function ue(){return s===void 0?a:G(z6())}function ye(){var be=z6(),X=ee(be);if(r=arguments,i=this,h=be,X){if(s===void 0)return D(h);if(E)return s=setTimeout(H,t),P(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}function ITe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(J$);return S5(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),BTe(e,t,{leading:r,maxWait:t,trailing:i})}function S5(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function kTe(e){return!!e&&typeof e=="object"}function TTe(e){return typeof e=="symbol"||kTe(e)&&STe.call(e)==mTe}function zU(e){if(typeof e=="number")return e;if(TTe(e))return RU;if(S5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=S5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(gTe,"");var n=vTe.test(e);return n||CTe.test(e)?_Te(e.slice(2),n?2:8):yTe.test(e)?RU:+e}var KTe=ITe;const PTe=Ka(KTe);var E5={exports:{}};E5.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",h="[object Array]",m="[object AsyncFunction]",C="[object Boolean]",E="[object Date]",O="[object Error]",P="[object Function]",D="[object GeneratorFunction]",$="[object Map]",ee="[object Number]",H="[object Null]",G="[object Object]",Z="[object Promise]",ue="[object Proxy]",ye="[object RegExp]",be="[object Set]",X="[object String]",se="[object Symbol]",we="[object Undefined]",xe="[object WeakMap]",De="[object ArrayBuffer]",Ue="[object DataView]",he="[object Float32Array]",$e="[object Float64Array]",ge="[object Int8Array]",yt="[object Int16Array]",wt="[object Int32Array]",st="[object Uint8Array]",mt="[object Uint8ClampedArray]",ze="[object Uint16Array]",He="[object Uint32Array]",Ve=/[\\^$.*+?()[\]{}|]/g,Vt=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,vt={};vt[he]=vt[$e]=vt[ge]=vt[yt]=vt[wt]=vt[st]=vt[mt]=vt[ze]=vt[He]=!0,vt[s]=vt[h]=vt[De]=vt[C]=vt[Ue]=vt[E]=vt[O]=vt[P]=vt[$]=vt[ee]=vt[G]=vt[ye]=vt[be]=vt[X]=vt[xe]=!1;var Qt=typeof window=="object"&&window&&window.Object===Object&&window,$t=typeof self=="object"&&self&&self.Object===Object&&self,ke=Qt||$t||Function("return this")(),pe=t&&!t.nodeType&&t,Se=pe&&!0&&e&&!e.nodeType&&e,Re=Se&&Se.exports===pe,it=Re&&Qt.process,ot=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),St=ot&&ot.isTypedArray;function Rt(z,ae){for(var Le=-1,gt=z==null?0:z.length,Gn=0,vn=[];++Le<gt;){var Kn=z[Le];ae(Kn,Le,z)&&(vn[Gn++]=Kn)}return vn}function zt(z,ae){for(var Le=-1,gt=ae.length,Gn=z.length;++Le<gt;)z[Gn+Le]=ae[Le];return z}function pt(z,ae){for(var Le=-1,gt=z==null?0:z.length;++Le<gt;)if(ae(z[Le],Le,z))return!0;return!1}function ir(z,ae){for(var Le=-1,gt=Array(z);++Le<z;)gt[Le]=ae(Le);return gt}function gn(z){return function(ae){return z(ae)}}function yn(z,ae){return z.has(ae)}function er(z,ae){return z==null?void 0:z[ae]}function cr(z){var ae=-1,Le=Array(z.size);return z.forEach(function(gt,Gn){Le[++ae]=[Gn,gt]}),Le}function Sr(z,ae){return function(Le){return z(ae(Le))}}function Gr(z){var ae=-1,Le=Array(z.size);return z.forEach(function(gt){Le[++ae]=gt}),Le}var yr=Array.prototype,_i=Function.prototype,Ee=Object.prototype,J=ke["__core-js_shared__"],q=_i.toString,Te=Ee.hasOwnProperty,At=function(){var z=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Bt=Ee.toString,kt=RegExp("^"+q.call(Te).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Re?ke.Buffer:void 0,fn=ke.Symbol,Pn=ke.Uint8Array,On=Ee.propertyIsEnumerable,g=yr.splice,Kt=fn?fn.toStringTag:void 0,Pr=Object.getOwnPropertySymbols,nr=Ut?Ut.isBuffer:void 0,Pe=Sr(Object.keys,Object),ce=ra(ke,"DataView"),_e=ra(ke,"Map"),Ie=ra(ke,"Promise"),je=ra(ke,"Set"),rt=ra(ke,"WeakMap"),lt=ra(Object,"create"),ft=Wo(ce),et=Wo(_e),Mt=Wo(Ie),tn=Wo(je),Ht=Wo(rt),en=fn?fn.prototype:void 0,Dn=en?en.valueOf:void 0;function Bn(z){var ae=-1,Le=z==null?0:z.length;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function qn(){this.__data__=lt?lt(null):{},this.size=0}function Er(z){var ae=this.has(z)&&delete this.__data__[z];return this.size-=ae?1:0,ae}function ur(z){var ae=this.__data__;if(lt){var Le=ae[z];return Le===r?void 0:Le}return Te.call(ae,z)?ae[z]:void 0}function Yr(z){var ae=this.__data__;return lt?ae[z]!==void 0:Te.call(ae,z)}function Br(z,ae){var Le=this.__data__;return this.size+=this.has(z)?0:1,Le[z]=lt&&ae===void 0?r:ae,this}Bn.prototype.clear=qn,Bn.prototype.delete=Er,Bn.prototype.get=ur,Bn.prototype.has=Yr,Bn.prototype.set=Br;function Fr(z){var ae=-1,Le=z==null?0:z.length;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function or(){this.__data__=[],this.size=0}function di(z){var ae=this.__data__,Le=wn(ae,z);if(Le<0)return!1;var gt=ae.length-1;return Le==gt?ae.pop():g.call(ae,Le,1),--this.size,!0}function Ri(z){var ae=this.__data__,Le=wn(ae,z);return Le<0?void 0:ae[Le][1]}function ro(z){return wn(this.__data__,z)>-1}function po(z,ae){var Le=this.__data__,gt=wn(Le,z);return gt<0?(++this.size,Le.push([z,ae])):Le[gt][1]=ae,this}Fr.prototype.clear=or,Fr.prototype.delete=di,Fr.prototype.get=Ri,Fr.prototype.has=ro,Fr.prototype.set=po;function si(z){var ae=-1,Le=z==null?0:z.length;for(this.clear();++ae<Le;){var gt=z[ae];this.set(gt[0],gt[1])}}function mo(){this.size=0,this.__data__={hash:new Bn,map:new(_e||Fr),string:new Bn}}function Qa(z){var ae=na(this,z).delete(z);return this.size-=ae?1:0,ae}function Pa(z){return na(this,z).get(z)}function Ei(z){return na(this,z).has(z)}function ls(z,ae){var Le=na(this,z),gt=Le.size;return Le.set(z,ae),this.size+=Le.size==gt?0:1,this}si.prototype.clear=mo,si.prototype.delete=Qa,si.prototype.get=Pa,si.prototype.has=Ei,si.prototype.set=ls;function yi(z){var ae=-1,Le=z==null?0:z.length;for(this.__data__=new si;++ae<Le;)this.add(z[ae])}function Nn(z){return this.__data__.set(z,r),this}function oo(z){return this.__data__.has(z)}yi.prototype.add=yi.prototype.push=Nn,yi.prototype.has=oo;function bo(z){var ae=this.__data__=new Fr(z);this.size=ae.size}function zi(){this.__data__=new Fr,this.size=0}function ve(z){var ae=this.__data__,Le=ae.delete(z);return this.size=ae.size,Le}function Je(z){return this.__data__.get(z)}function Zt(z){return this.__data__.has(z)}function sn(z,ae){var Le=this.__data__;if(Le instanceof Fr){var gt=Le.__data__;if(!_e||gt.length<n-1)return gt.push([z,ae]),this.size=++Le.size,this;Le=this.__data__=new si(gt)}return Le.set(z,ae),this.size=Le.size,this}bo.prototype.clear=zi,bo.prototype.delete=ve,bo.prototype.get=Je,bo.prototype.has=Zt,bo.prototype.set=sn;function Ft(z,ae){var Le=As(z),gt=!Le&&ru(z),Gn=!Le&&!gt&&Qo(z),vn=!Le&&!gt&&!Gn&&dl(z),Kn=Le||gt||Gn||vn,Lr=Kn?ir(z.length,String):[],vr=Lr.length;for(var kr in z)(ae||Te.call(z,kr))&&!(Kn&&(kr=="length"||Gn&&(kr=="offset"||kr=="parent")||vn&&(kr=="buffer"||kr=="byteLength"||kr=="byteOffset")||bA(kr,vr)))&&Lr.push(kr);return Lr}function wn(z,ae){for(var Le=z.length;Le--;)if(Ss(z[Le][0],ae))return Le;return-1}function hr(z,ae,Le){var gt=ae(z);return As(z)?gt:zt(gt,Le(z))}function ii(z){return z==null?z===void 0?we:H:Kt&&Kt in Object(z)?Ms(z):Yu(z)}function li(z){return Aa(z)&&ii(z)==s}function ea(z,ae,Le,gt,Gn){return z===ae?!0:z==null||ae==null||!Aa(z)&&!Aa(ae)?z!==z&&ae!==ae:Fa(z,ae,Le,gt,ea,Gn)}function Fa(z,ae,Le,gt,Gn,vn){var Kn=As(z),Lr=As(ae),vr=Kn?h:ya(z),kr=Lr?h:ya(ae);vr=vr==s?G:vr,kr=kr==s?G:kr;var Ti=vr==G,go=kr==G,Oi=vr==kr;if(Oi&&Qo(z)){if(!Qo(ae))return!1;Kn=!0,Ti=!1}if(Oi&&!Ti)return vn||(vn=new bo),Kn||dl(z)?Ya(z,ae,Le,gt,Gn,vn):ta(z,ae,vr,Le,gt,Gn,vn);if(!(Le&i)){var Xr=Ti&&Te.call(z,"__wrapped__"),Zi=go&&Te.call(ae,"__wrapped__");if(Xr||Zi){var ko=Xr?z.value():z,Mo=Zi?ae.value():ae;return vn||(vn=new bo),Gn(ko,Mo,Le,gt,vn)}}return Oi?(vn||(vn=new bo),Su(z,ae,Le,gt,Gn,vn)):!1}function Dr(z){if(!iu(z)||xA(z))return!1;var ae=cl(z)?kt:Vt;return ae.test(Wo(z))}function $a(z){return Aa(z)&&Sl(z.length)&&!!vt[ii(z)]}function vi(z){if(!Ou(z))return Pe(z);var ae=[];for(var Le in Object(z))Te.call(z,Le)&&Le!="constructor"&&ae.push(Le);return ae}function Ya(z,ae,Le,gt,Gn,vn){var Kn=Le&i,Lr=z.length,vr=ae.length;if(Lr!=vr&&!(Kn&&vr>Lr))return!1;var kr=vn.get(z);if(kr&&vn.get(ae))return kr==ae;var Ti=-1,go=!0,Oi=Le&o?new yi:void 0;for(vn.set(z,ae),vn.set(ae,z);++Ti<Lr;){var Xr=z[Ti],Zi=ae[Ti];if(gt)var ko=Kn?gt(Zi,Xr,Ti,ae,z,vn):gt(Xr,Zi,Ti,z,ae,vn);if(ko!==void 0){if(ko)continue;go=!1;break}if(Oi){if(!pt(ae,function(Mo,qa){if(!yn(Oi,qa)&&(Xr===Mo||Gn(Xr,Mo,Le,gt,vn)))return Oi.push(qa)})){go=!1;break}}else if(!(Xr===Zi||Gn(Xr,Zi,Le,gt,vn))){go=!1;break}}return vn.delete(z),vn.delete(ae),go}function ta(z,ae,Le,gt,Gn,vn,Kn){switch(Le){case Ue:if(z.byteLength!=ae.byteLength||z.byteOffset!=ae.byteOffset)return!1;z=z.buffer,ae=ae.buffer;case De:return!(z.byteLength!=ae.byteLength||!vn(new Pn(z),new Pn(ae)));case C:case E:case ee:return Ss(+z,+ae);case O:return z.name==ae.name&&z.message==ae.message;case ye:case X:return z==ae+"";case $:var Lr=cr;case be:var vr=gt&i;if(Lr||(Lr=Gr),z.size!=ae.size&&!vr)return!1;var kr=Kn.get(z);if(kr)return kr==ae;gt|=o,Kn.set(z,ae);var Ti=Ya(Lr(z),Lr(ae),gt,Gn,vn,Kn);return Kn.delete(z),Ti;case se:if(Dn)return Dn.call(z)==Dn.call(ae)}return!1}function Su(z,ae,Le,gt,Gn,vn){var Kn=Le&i,Lr=us(z),vr=Lr.length,kr=us(ae),Ti=kr.length;if(vr!=Ti&&!Kn)return!1;for(var go=vr;go--;){var Oi=Lr[go];if(!(Kn?Oi in ae:Te.call(ae,Oi)))return!1}var Xr=vn.get(z);if(Xr&&vn.get(ae))return Xr==ae;var Zi=!0;vn.set(z,ae),vn.set(ae,z);for(var ko=Kn;++go<vr;){Oi=Lr[go];var Mo=z[Oi],qa=ae[Oi];if(gt)var Ll=Kn?gt(qa,Mo,Oi,ae,z,vn):gt(Mo,qa,Oi,z,ae,vn);if(!(Ll===void 0?Mo===qa||Gn(Mo,qa,Le,gt,vn):Ll)){Zi=!1;break}ko||(ko=Oi=="constructor")}if(Zi&&!ko){var ou=z.constructor,va=ae.constructor;ou!=va&&"constructor"in z&&"constructor"in ae&&!(typeof ou=="function"&&ou instanceof ou&&typeof va=="function"&&va instanceof va)&&(Zi=!1)}return vn.delete(z),vn.delete(ae),Zi}function us(z){return hr(z,wA,Eu)}function na(z,ae){var Le=z.__data__;return $u(ae)?Le[typeof ae=="string"?"string":"hash"]:Le.map}function ra(z,ae){var Le=er(z,ae);return Dr(Le)?Le:void 0}function Ms(z){var ae=Te.call(z,Kt),Le=z[Kt];try{z[Kt]=void 0;var gt=!0}catch{}var Gn=Bt.call(z);return gt&&(ae?z[Kt]=Le:delete z[Kt]),Gn}var Eu=Pr?function(z){return z==null?[]:(z=Object(z),Rt(Pr(z),function(ae){return On.call(z,ae)}))}:_o,ya=ii;(ce&&ya(new ce(new ArrayBuffer(1)))!=Ue||_e&&ya(new _e)!=$||Ie&&ya(Ie.resolve())!=Z||je&&ya(new je)!=be||rt&&ya(new rt)!=xe)&&(ya=function(z){var ae=ii(z),Le=ae==G?z.constructor:void 0,gt=Le?Wo(Le):"";if(gt)switch(gt){case ft:return Ue;case et:return $;case Mt:return Z;case tn:return be;case Ht:return xe}return ae});function bA(z,ae){return ae=ae??a,!!ae&&(typeof z=="number"||Yt.test(z))&&z>-1&&z%1==0&&z<ae}function $u(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function xA(z){return!!At&&At in z}function Ou(z){var ae=z&&z.constructor,Le=typeof ae=="function"&&ae.prototype||Ee;return z===Le}function Yu(z){return Bt.call(z)}function Wo(z){if(z!=null){try{return q.call(z)}catch{}try{return z+""}catch{}}return""}function Ss(z,ae){return z===ae||z!==z&&ae!==ae}var ru=li(function(){return arguments}())?li:function(z){return Aa(z)&&Te.call(z,"callee")&&!On.call(z,"callee")},As=Array.isArray;function Al(z){return z!=null&&Sl(z.length)&&!cl(z)}var Qo=nr||ao;function Bu(z,ae){return ea(z,ae)}function cl(z){if(!iu(z))return!1;var ae=ii(z);return ae==P||ae==D||ae==m||ae==ue}function Sl(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=a}function iu(z){var ae=typeof z;return z!=null&&(ae=="object"||ae=="function")}function Aa(z){return z!=null&&typeof z=="object"}var dl=St?gn(St):$a;function wA(z){return Al(z)?Ft(z):vi(z)}function _o(){return[]}function ao(){return!1}e.exports=Bu})(E5,E5.exports);var DTe=E5.exports;const zB=Ka(DTe);function ri(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/layerwatcher.ts",t="d11eb252eb1633df02412bf0953569c5e410e211",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d11eb252eb1633df02412bf0953569c5e410e211"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ri=function(){return a},a}ri();class UTe{constructor(t=(ri().b[0][0]++,{})){on(this,"onSourcesChange");on(this,"onVectorLayersChange");on(this,"throttledAnalyzeVectorLayerFields");on(this,"_sources");on(this,"_vectorLayers");ri().f[0]++,ri().s[0]++,this.onSourcesChange=(ri().b[1][0]++,t.onSourcesChange||(ri().b[1][1]++,()=>{ri().f[1]++})),ri().s[1]++,this.onVectorLayersChange=(ri().b[2][0]++,t.onVectorLayersChange||(ri().b[2][1]++,()=>{ri().f[2]++})),ri().s[2]++,this._sources={},ri().s[3]++,this._vectorLayers={},ri().s[4]++,this.throttledAnalyzeVectorLayerFields=PTe(this.analyzeVectorLayerFields,5e3)}analyzeMap(t){ri().f[3]++;const n=(ri().s[5]++,{...this._sources});ri().s[6]++,Object.keys(t.style.sourceCaches).forEach(r=>{ri().f[4]++,ri().s[7]++,this._sources[r]=t.style.sourceCaches[r]._source.vectorLayerIds}),ri().s[8]++,zB(n,this._sources)?ri().b[3][1]++:(ri().b[3][0]++,ri().s[9]++,this.onSourcesChange(this._sources)),ri().s[10]++,this.throttledAnalyzeVectorLayerFields(t)}analyzeVectorLayerFields(t){ri().f[5]++;const n=(ri().s[11]++,{...this._vectorLayers});ri().s[12]++,Object.keys(this._sources).forEach(r=>{ri().f[6]++,ri().s[13]++,(ri().b[4][0]++,this._sources[r]||(ri().b[4][1]++,[])).forEach(i=>{ri().f[7]++;const o=(ri().s[14]++,ri().b[5][0]++,this._vectorLayers[i]||(ri().b[5][1]++,{})),a=(ri().s[15]++,{sourceLayer:i});ri().s[16]++,t.querySourceFeatures(r,a).forEach(s=>{ri().f[8]++,ri().s[17]++,Object.keys(s.properties).forEach(h=>{ri().f[9]++;const m=(ri().s[18]++,ri().b[6][0]++,o[h]||(ri().b[6][1]++,{}));ri().s[19]++,m[s.properties[h]]={},ri().s[20]++,o[h]=m})}),ri().s[21]++,this._vectorLayers[i]=o})}),ri().s[22]++,zB(n,this._vectorLayers)?ri().b[7][1]++:(ri().b[7][0]++,ri().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return ri().f[10]++,ri().s[24]++,this._sources}get vectorLayers(){return ri().f[11]++,ri().s[25]++,this._vectorLayers}}function Ho(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/debug.ts",t="a38361684826086025107f8fdbe01c9c6e5ba3bc",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a38361684826086025107f8fdbe01c9c6e5ba3bc"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ho=function(){return a},a}Ho();const T_=(Ho().s[0]++,{});function I9(){Ho().f[0]++;const e=(Ho().s[1]++,new URL(window.location.href).searchParams),t=(Ho().s[2]++,e.get("debug"));return Ho().s[3]++,t?(Ho().b[0][0]++,Ho().s[4]++,!!t.match(/^(|1|true)$/)):(Ho().b[0][1]++,Ho().s[5]++,!1)}function eY(){return Ho().f[1]++,Ho().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function FTe(e,t,n){if(Ho().f[2]++,Ho().s[7]++,I9())Ho().b[1][1]++;else throw Ho().b[1][0]++,Ho().s[8]++,eY();Ho().s[9]++,T_[e]=(Ho().b[2][0]++,T_[e]||(Ho().b[2][1]++,{})),Ho().s[10]++,T_[e][t]=n}function LTe(e,t){if(Ho().f[3]++,Ho().s[11]++,I9())Ho().b[3][1]++;else throw Ho().b[3][0]++,Ho().s[12]++,eY();if(Ho().s[13]++,Object.prototype.hasOwnProperty.call(T_,e))return Ho().b[4][0]++,Ho().s[14]++,T_[e][t];Ho().b[4][1]++}const s1=(Ho().s[15]++,{enabled:I9,get:LTe,set:FTe});Ho().s[16]++;window.debug=s1;function oe(){var e="/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/App.tsx",t="21f6d24fe72e2e04227d00aefc998187b1df8879",n=globalThis,r="__coverage__",i={path:"/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:37,column:0},end:{line:37,column:30}},1:{start:{line:39,column:29},end:{line:39,column:60}},2:{start:{line:40,column:26},end:{line:40,column:54}},3:{start:{line:41,column:31},end:{line:41,column:64}},4:{start:{line:42,column:2},end:{line:54,column:3}},5:{start:{line:43,column:24},end:{line:43,column:95}},6:{start:{line:44,column:4},end:{line:46,column:5}},7:{start:{line:45,column:6},end:{line:45,column:47}},8:{start:{line:47,column:9},end:{line:54,column:3}},9:{start:{line:48,column:24},end:{line:48,column:96}},10:{start:{line:49,column:4},end:{line:51,column:5}},11:{start:{line:50,column:6},end:{line:50,column:47}},12:{start:{line:53,column:4},end:{line:53,column:15}},13:{start:{line:57,column:2},end:{line:66,column:4}},14:{start:{line:72,column:15},end:{line:72,column:19}},15:{start:{line:74,column:4},end:{line:74,column:17}},16:{start:{line:75,column:4},end:{line:75,column:19}},17:{start:{line:76,column:4},end:{line:76,column:45}},18:{start:{line:77,column:19},end:{line:77,column:75}},19:{start:{line:78,column:15},end:{line:78,column:38}},20:{start:{line:79,column:4},end:{line:81,column:5}},21:{start:{line:80,column:6},end:{line:80,column:34}},22:{start:{line:82,column:4},end:{line:86,column:7}},23:{start:{line:83,column:40},end:{line:83,column:86}},24:{start:{line:87,column:22},end:{line:138,column:5}},25:{start:{line:91,column:10},end:{line:91,column:40}},26:{start:{line:97,column:10},end:{line:97,column:35}},27:{start:{line:103,column:10},end:{line:103,column:37}},28:{start:{line:109,column:10},end:{line:109,column:38}},29:{start:{line:115,column:10},end:{line:115,column:39}},30:{start:{line:121,column:10},end:{line:123,column:12}},31:{start:{line:129,column:10},end:{line:129,column:63}},32:{start:{line:135,column:10},end:{line:135,column:36}},33:{start:{line:139,column:4},end:{line:152,column:7}},34:{start:{line:140,column:6},end:{line:151,column:7}},35:{start:{line:141,column:8},end:{line:141,column:24}},36:{start:{line:142,column:8},end:{line:142,column:30}},37:{start:{line:143,column:13},end:{line:151,column:7}},38:{start:{line:144,column:25},end:{line:146,column:10}},39:{start:{line:145,column:10},end:{line:145,column:41}},40:{start:{line:147,column:8},end:{line:150,column:9}},41:{start:{line:148,column:10},end:{line:148,column:44}},42:{start:{line:149,column:10},end:{line:149,column:29}},43:{start:{line:153,column:21},end:{line:153,column:38}},44:{start:{line:154,column:4},end:{line:172,column:5}},45:{start:{line:155,column:6},end:{line:155,column:41}},46:{start:{line:156,column:6},end:{line:156,column:74}},47:{start:{line:156,column:43},end:{line:156,column:72}},48:{start:{line:157,column:6},end:{line:157,column:31}},49:{start:{line:159,column:6},end:{line:161,column:7}},50:{start:{line:160,column:8},end:{line:160,column:33}},51:{start:{line:162,column:6},end:{line:171,column:9}},52:{start:{line:163,column:8},end:{line:166,column:9}},53:{start:{line:164,column:10},end:{line:164,column:74}},54:{start:{line:165,column:10},end:{line:165,column:45}},55:{start:{line:167,column:8},end:{line:170,column:9}},56:{start:{line:168,column:10},end:{line:168,column:63}},57:{start:{line:169,column:10},end:{line:169,column:69}},58:{start:{line:173,column:4},end:{line:176,column:5}},59:{start:{line:174,column:6},end:{line:174,column:65}},60:{start:{line:175,column:6},end:{line:175,column:59}},61:{start:{line:177,column:4},end:{line:211,column:6}},62:{start:{line:212,column:4},end:{line:214,column:7}},63:{start:{line:213,column:35},end:{line:213,column:69}},64:{start:{line:216,column:19},end:{line:234,column:3}},65:{start:{line:217,column:4},end:{line:233,column:5}},66:{start:{line:218,column:6},end:{line:224,column:7}},67:{start:{line:219,column:8},end:{line:219,column:27}},68:{start:{line:220,column:8},end:{line:220,column:22}},69:{start:{line:221,column:13},end:{line:224,column:7}},70:{start:{line:222,column:8},end:{line:222,column:27}},71:{start:{line:223,column:8},end:{line:223,column:22}},72:{start:{line:226,column:6},end:{line:232,column:7}},73:{start:{line:227,column:8},end:{line:227,column:27}},74:{start:{line:228,column:8},end:{line:228,column:22}},75:{start:{line:229,column:13},end:{line:232,column:7}},76:{start:{line:230,column:8},end:{line:230,column:27}},77:{start:{line:231,column:8},end:{line:231,column:22}},78:{start:{line:236,column:4},end:{line:236,column:60}},79:{start:{line:239,column:4},end:{line:239,column:63}},80:{start:{line:242,column:4},end:{line:242,column:40}},81:{start:{line:245,column:21},end:{line:245,column:55}},82:{start:{line:246,column:24},end:{line:246,column:93}},83:{start:{line:247,column:21},end:{line:247,column:110}},84:{start:{line:248,column:4},end:{line:250,column:7}},85:{start:{line:249,column:6},end:{line:249,column:80}},86:{start:{line:253,column:4},end:{line:255,column:7}},87:{start:{line:254,column:6},end:{line:254,column:80}},88:{start:{line:257,column:29},end:{line:271,column:3}},89:{start:{line:258,column:4},end:{line:262,column:5}},90:{start:{line:259,column:6},end:{line:261,column:9}},91:{start:{line:263,column:25},end:{line:269,column:5}},92:{start:{line:270,column:4},end:{line:270,column:38}},93:{start:{line:272,column:19},end:{line:384,column:3}},94:{start:{line:273,column:4},end:{line:278,column:6}},95:{start:{line:279,column:4},end:{line:281,column:5}},96:{start:{line:280,column:6},end:{line:280,column:44}},97:{start:{line:282,column:19},end:{line:282,column:51}},98:{start:{line:283,column:24},end:{line:283,column:26}},99:{start:{line:284,column:4},end:{line:295,column:5}},100:{start:{line:285,column:26},end:{line:285,column:42}},101:{start:{line:286,column:6},end:{line:294,column:9}},102:{start:{line:287,column:8},end:{line:292,column:9}},103:{start:{line:288,column:24},end:{line:290,column:11}},104:{start:{line:291,column:10},end:{line:291,column:34}},105:{start:{line:293,column:8},end:{line:293,column:40}},106:{start:{line:296,column:25},end:{line:347,column:6}},107:{start:{line:297,column:23},end:{line:297,column:109}},108:{start:{line:298,column:6},end:{line:311,column:7}},109:{start:{line:299,column:35},end:{line:299,column:43}},110:{start:{line:300,column:8},end:{line:310,column:10}},111:{start:{line:312,column:33},end:{line:312,column:100}},112:{start:{line:313,column:6},end:{line:326,column:7}},113:{start:{line:314,column:35},end:{line:314,column:53}},114:{start:{line:315,column:8},end:{line:325,column:10}},115:{start:{line:327,column:25},end:{line:327,column:88}},116:{start:{line:328,column:6},end:{line:346,column:7}},117:{start:{line:329,column:52},end:{line:329,column:62}},118:{start:{line:330,column:20},end:{line:330,column:78}},119:{start:{line:331,column:8},end:{line:341,column:10}},120:{start:{line:343,column:8},end:{line:345,column:10}},121:{start:{line:348,column:24},end:{line:348,column:30}},122:{start:{line:349,column:4},end:{line:363,column:5}},123:{start:{line:350,column:6},end:{line:350,column:42}},124:{start:{line:351,column:6},end:{line:362,column:9}},125:{start:{line:352,column:28},end:{line:352,column:33}},126:{start:{line:353,column:8},end:{line:361,column:9}},127:{start:{line:354,column:10},end:{line:360,column:11}},128:{start:{line:355,column:28},end:{line:355,column:49}},129:{start:{line:356,column:30},end:{line:356,column:69}},130:{start:{line:357,column:12},end:{line:357,column:44}},131:{start:{line:359,column:12},end:{line:359,column:30}},132:{start:{line:364,column:4},end:{line:366,column:5}},133:{start:{line:365,column:6},end:{line:365,column:40}},134:{start:{line:367,column:4},end:{line:369,column:5}},135:{start:{line:368,column:6},end:{line:368,column:40}},136:{start:{line:370,column:4},end:{line:372,column:5}},137:{start:{line:371,column:6},end:{line:371,column:47}},138:{start:{line:373,column:4},end:{line:375,column:5}},139:{start:{line:374,column:6},end:{line:374,column:31}},140:{start:{line:376,column:4},end:{line:383,column:7}},141:{start:{line:381,column:6},end:{line:381,column:26}},142:{start:{line:382,column:6},end:{line:382,column:27}},143:{start:{line:385,column:11},end:{line:392,column:3}},144:{start:{line:386,column:24},end:{line:386,column:49}},145:{start:{line:387,column:21},end:{line:387,column:67}},146:{start:{line:388,column:4},end:{line:388,column:61}},147:{start:{line:389,column:4},end:{line:391,column:7}},148:{start:{line:393,column:11},end:{line:400,column:3}},149:{start:{line:394,column:24},end:{line:394,column:49}},150:{start:{line:395,column:21},end:{line:395,column:67}},151:{start:{line:396,column:4},end:{line:396,column:61}},152:{start:{line:397,column:4},end:{line:399,column:7}},153:{start:{line:401,column:16},end:{line:416,column:3}},154:{start:{line:402,column:33},end:{line:402,column:37}},155:{start:{line:403,column:17},end:{line:403,column:43}},156:{start:{line:404,column:4},end:{line:404,column:53}},157:{start:{line:405,column:4},end:{line:405,column:53}},158:{start:{line:406,column:4},end:{line:407,column:13}},159:{start:{line:407,column:6},end:{line:407,column:13}},160:{start:{line:408,column:4},end:{line:412,column:5}},161:{start:{line:409,column:6},end:{line:411,column:9}},162:{start:{line:413,column:4},end:{line:413,column:29}},163:{start:{line:414,column:4},end:{line:414,column:49}},164:{start:{line:415,column:4},end:{line:415,column:32}},165:{start:{line:417,column:19},end:{line:423,column:3}},166:{start:{line:418,column:25},end:{line:421,column:5}},167:{start:{line:422,column:4},end:{line:422,column:38}},168:{start:{line:424,column:19},end:{line:429,column:3}},169:{start:{line:425,column:19},end:{line:425,column:45}},170:{start:{line:426,column:28},end:{line:426,column:43}},171:{start:{line:427,column:4},end:{line:427,column:37}},172:{start:{line:428,column:4},end:{line:428,column:41}},173:{start:{line:430,column:16},end:{line:437,column:3}},174:{start:{line:431,column:19},end:{line:431,column:45}},175:{start:{line:432,column:26},end:{line:432,column:41}},176:{start:{line:433,column:24},end:{line:433,column:55}},177:{start:{line:434,column:4},end:{line:434,column:46}},178:{start:{line:435,column:4},end:{line:435,column:48}},179:{start:{line:436,column:4},end:{line:436,column:39}},180:{start:{line:438,column:28},end:{line:447,column:3}},181:{start:{line:439,column:19},end:{line:439,column:45}},182:{start:{line:440,column:26},end:{line:440,column:41}},183:{start:{line:441,column:18},end:{line:441,column:45}},184:{start:{line:442,column:26},end:{line:442,column:70}},185:{start:{line:443,column:4},end:{line:443,column:88}},186:{start:{line:444,column:4},end:{line:444,column:33}},187:{start:{line:445,column:4},end:{line:445,column:33}},188:{start:{line:446,column:4},end:{line:446,column:39}},189:{start:{line:448,column:20},end:{line:455,column:3}},190:{start:{line:449,column:26},end:{line:449,column:61}},191:{start:{line:450,column:4},end:{line:453,column:6}},192:{start:{line:454,column:4},end:{line:454,column:39}},193:{start:{line:456,column:19},end:{line:460,column:3}},194:{start:{line:457,column:26},end:{line:457,column:61}},195:{start:{line:458,column:4},end:{line:458,column:33}},196:{start:{line:459,column:4},end:{line:459,column:39}},197:{start:{line:461,column:16},end:{line:465,column:3}},198:{start:{line:462,column:4},end:{line:464,column:27}},199:{start:{line:466,column:21},end:{line:480,column:3}},200:{start:{line:467,column:21},end:{line:467,column:44}},201:{start:{line:468,column:4},end:{line:479,column:5}},202:{start:{line:469,column:27},end:{line:475,column:7}},203:{start:{line:476,column:6},end:{line:476,column:26}},204:{start:{line:478,column:6},end:{line:478,column:22}},205:{start:{line:481,column:14},end:{line:484,column:3}},206:{start:{line:482,column:4},end:{line:482,column:47}},207:{start:{line:483,column:4},end:{line:483,column:34}},208:{start:{line:486,column:23},end:{line:486,column:25}},209:{start:{line:487,column:4},end:{line:521,column:5}},210:{start:{line:488,column:6},end:{line:520,column:7}},211:{start:{line:489,column:8},end:{line:492,column:10}},212:{start:{line:493,column:18},end:{line:493,column:25}},213:{start:{line:494,column:8},end:{line:498,column:9}},214:{start:{line:495,column:10},end:{line:495,column:62}},215:{start:{line:497,column:10},end:{line:497,column:63}},216:{start:{line:499,column:8},end:{line:517,column:11}},217:{start:{line:501,column:30},end:{line:501,column:45}},218:{start:{line:502,column:10},end:{line:504,column:11}},219:{start:{line:503,column:12},end:{line:503,column:19}},220:{start:{line:505,column:26},end:{line:507,column:12}},221:{start:{line:508,column:10},end:{line:510,column:11}},222:{start:{line:509,column:12},end:{line:509,column:47}},223:{start:{line:511,column:10},end:{line:511,column:51}},224:{start:{line:512,column:10},end:{line:514,column:13}},225:{start:{line:516,column:10},end:{line:516,column:72}},226:{start:{line:519,column:8},end:{line:519,column:86}},227:{start:{line:522,column:4},end:{line:527,column:5}},228:{start:{line:523,column:6},end:{line:523,column:39}},229:{start:{line:524,column:6},end:{line:526,column:9}},230:{start:{line:530,column:21},end:{line:530,column:55}},231:{start:{line:531,column:4},end:{line:531,column:53}},232:{start:{line:533,column:16},end:{line:537,column:3}},233:{start:{line:534,column:4},end:{line:536,column:7}},234:{start:{line:539,column:40},end:{line:539,column:50}},235:{start:{line:540,column:21},end:{line:551,column:5}},236:{start:{line:543,column:8},end:{line:545,column:11}},237:{start:{line:548,column:8},end:{line:548,column:44}},238:{start:{line:549,column:8},end:{line:549,column:28}},239:{start:{line:552,column:21},end:{line:552,column:40}},240:{start:{line:554,column:4},end:{line:576,column:5}},241:{start:{line:555,column:6},end:{line:563,column:8}},242:{start:{line:565,column:6},end:{line:575,column:8}},243:{start:{line:578,column:4},end:{line:580,column:5}},244:{start:{line:579,column:6},end:{line:579,column:63}},245:{start:{line:581,column:25},end:{line:581,column:27}},246:{start:{line:582,column:4},end:{line:584,column:5}},247:{start:{line:583,column:6},end:{line:583,column:52}},248:{start:{line:585,column:4},end:{line:585,column:160}},249:{start:{line:587,column:18},end:{line:605,column:3}},250:{start:{line:588,column:43},end:{line:588,column:53}},251:{start:{line:589,column:35},end:{line:589,column:45}},252:{start:{line:590,column:16},end:{line:590,column:38}},253:{start:{line:591,column:20},end:{line:591,column:50}},254:{start:{line:592,column:4},end:{line:592,column:70}},255:{start:{line:593,column:23},end:{line:593,column:122}},256:{start:{line:593,column:66},end:{line:593,column:91}},257:{start:{line:593,column:109},end:{line:593,column:121}},258:{start:{line:594,column:4},end:{line:598,column:5}},259:{start:{line:595,column:6},end:{line:595,column:58}},260:{start:{line:597,column:6},end:{line:597,column:39}},261:{start:{line:599,column:4},end:{line:603,column:5}},262:{start:{line:600,column:6},end:{line:600,column:38}},263:{start:{line:601,column:11},end:{line:603,column:5}},264:{start:{line:602,column:6},end:{line:602,column:46}},265:{start:{line:604,column:4},end:{line:604,column:71}},266:{start:{line:606,column:27},end:{line:651,column:3}},267:{start:{line:607,column:16},end:{line:607,column:38}},268:{start:{line:608,column:23},end:{line:608,column:52}},269:{start:{line:609,column:4},end:{line:621,column:5}},270:{start:{line:610,column:21},end:{line:610,column:42}},271:{start:{line:611,column:23},end:{line:611,column:25}},272:{start:{line:612,column:6},end:{line:614,column:9}},273:{start:{line:613,column:8},end:{line:613,column:35}},274:{start:{line:615,column:6},end:{line:620,column:9}},275:{start:{line:622,column:17},end:{line:622,column:45}},276:{start:{line:623,column:4},end:{line:625,column:5}},277:{start:{line:624,column:6},end:{line:624,column:29}},278:{start:{line:626,column:17},end:{line:626,column:46}},279:{start:{line:627,column:4},end:{line:650,column:5}},280:{start:{line:628,column:6},end:{line:649,column:7}},281:{start:{line:629,column:22},end:{line:629,column:37}},282:{start:{line:630,column:46},end:{line:633,column:9}},283:{start:{line:634,column:20},end:{line:634,column:24}},284:{start:{line:635,column:8},end:{line:640,column:9}},285:{start:{line:636,column:33},end:{line:636,column:63}},286:{start:{line:637,column:10},end:{line:639,column:11}},287:{start:{line:638,column:12},end:{line:638,column:26}},288:{start:{line:641,column:8},end:{line:646,column:9}},289:{start:{line:642,column:10},end:{line:645,column:13}},290:{start:{line:648,column:8},end:{line:648,column:26}},291:{start:{line:652,column:18},end:{line:657,column:3}},292:{start:{line:653,column:4},end:{line:656,column:27}},293:{start:{line:659,column:4},end:{line:661,column:5}},294:{start:{line:660,column:6},end:{line:660,column:41}},295:{start:{line:662,column:4},end:{line:667,column:27}},296:{start:{line:670,column:4},end:{line:670,column:60}},297:{start:{line:672,column:28},end:{line:679,column:3}},298:{start:{line:673,column:4},end:{line:678,column:7}},299:{start:{line:680,column:28},end:{line:687,column:3}},300:{start:{line:681,column:4},end:{line:686,column:7}},301:{start:{line:689,column:19},end:{line:689,column:51}},302:{start:{line:690,column:26},end:{line:690,column:92}},303:{start:{line:691,column:36},end:{line:704,column:5}},304:{start:{line:705,column:38},end:{line:719,column:5}},305:{start:{line:720,column:24},end:{line:739,column:14}},306:{start:{line:740,column:24},end:{line:750,column:14}},307:{start:{line:751,column:35},end:{line:816,column:8}},308:{start:{line:768,column:23},end:{line:768,column:43}},309:{start:{line:817,column:4},end:{line:827,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:38,column:9},end:{line:38,column:28}},loc:{start:{line:38,column:44},end:{line:55,column:1}},line:38},1:{name:"updateRootSpec",decl:{start:{line:56,column:9},end:{line:56,column:23}},loc:{start:{line:56,column:52},end:{line:67,column:1}},line:56},2:{name:"(anonymous_2)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:21},end:{line:215,column:3}},line:73},3:{name:"(anonymous_3)",decl:{start:{line:83,column:26},end:{line:83,column:27}},loc:{start:{line:83,column:40},end:{line:83,column:86}},line:83},4:{name:"(anonymous_4)",decl:{start:{line:90,column:17},end:{line:90,column:18}},loc:{start:{line:90,column:23},end:{line:92,column:9}},line:90},5:{name:"(anonymous_5)",decl:{start:{line:96,column:17},end:{line:96,column:18}},loc:{start:{line:96,column:23},end:{line:98,column:9}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:102,column:17},end:{line:102,column:18}},loc:{start:{line:102,column:23},end:{line:104,column:9}},line:102},7:{name:"(anonymous_7)",decl:{start:{line:108,column:17},end:{line:108,column:18}},loc:{start:{line:108,column:23},end:{line:110,column:9}},line:108},8:{name:"(anonymous_8)",decl:{start:{line:114,column:17},end:{line:114,column:18}},loc:{start:{line:114,column:23},end:{line:116,column:9}},line:114},9:{name:"(anonymous_9)",decl:{start:{line:120,column:17},end:{line:120,column:18}},loc:{start:{line:120,column:23},end:{line:124,column:9}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:128,column:17},end:{line:128,column:18}},loc:{start:{line:128,column:23},end:{line:130,column:9}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:134,column:17},end:{line:134,column:18}},loc:{start:{line:134,column:23},end:{line:136,column:9}},line:134},12:{name:"(anonymous_12)",decl:{start:{line:139,column:44},end:{line:139,column:45}},loc:{start:{line:139,column:51},end:{line:152,column:5}},line:139},13:{name:"(anonymous_13)",decl:{start:{line:144,column:40},end:{line:144,column:41}},loc:{start:{line:144,column:55},end:{line:146,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:156,column:29},end:{line:156,column:30}},loc:{start:{line:156,column:43},end:{line:156,column:72}},line:156},15:{name:"(anonymous_15)",decl:{start:{line:162,column:27},end:{line:162,column:28}},loc:{start:{line:162,column:36},end:{line:171,column:7}},line:162},16:{name:"(anonymous_16)",decl:{start:{line:213,column:28},end:{line:213,column:29}},loc:{start:{line:213,column:35},end:{line:213,column:69}},line:213},17:{name:"(anonymous_17)",decl:{start:{line:216,column:19},end:{line:216,column:20}},loc:{start:{line:216,column:26},end:{line:234,column:3}},line:216},18:{name:"(anonymous_18)",decl:{start:{line:235,column:2},end:{line:235,column:3}},loc:{start:{line:235,column:22},end:{line:237,column:3}},line:235},19:{name:"(anonymous_19)",decl:{start:{line:238,column:2},end:{line:238,column:3}},loc:{start:{line:238,column:25},end:{line:240,column:3}},line:238},20:{name:"(anonymous_20)",decl:{start:{line:241,column:2},end:{line:241,column:3}},loc:{start:{line:241,column:27},end:{line:243,column:3}},line:241},21:{name:"(anonymous_21)",decl:{start:{line:244,column:2},end:{line:244,column:3}},loc:{start:{line:244,column:27},end:{line:251,column:3}},line:244},22:{name:"(anonymous_22)",decl:{start:{line:248,column:37},end:{line:248,column:38}},loc:{start:{line:248,column:48},end:{line:250,column:5}},line:248},23:{name:"(anonymous_23)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:23},end:{line:256,column:3}},line:252},24:{name:"(anonymous_24)",decl:{start:{line:253,column:36},end:{line:253,column:37}},loc:{start:{line:253,column:47},end:{line:255,column:5}},line:253},25:{name:"(anonymous_25)",decl:{start:{line:257,column:29},end:{line:257,column:30}},loc:{start:{line:257,column:50},end:{line:271,column:3}},line:257},26:{name:"(anonymous_26)",decl:{start:{line:272,column:19},end:{line:272,column:20}},loc:{start:{line:272,column:44},end:{line:384,column:3}},line:272},27:{name:"(anonymous_27)",decl:{start:{line:286,column:30},end:{line:286,column:31}},loc:{start:{line:286,column:48},end:{line:294,column:7}},line:286},28:{name:"(anonymous_28)",decl:{start:{line:296,column:56},end:{line:296,column:57}},loc:{start:{line:296,column:67},end:{line:347,column:5}},line:296},29:{name:"(anonymous_29)",decl:{start:{line:351,column:21},end:{line:351,column:22}},loc:{start:{line:351,column:32},end:{line:362,column:7}},line:351},30:{name:"(anonymous_30)",decl:{start:{line:380,column:7},end:{line:380,column:8}},loc:{start:{line:380,column:13},end:{line:383,column:5}},line:380},31:{name:"(anonymous_31)",decl:{start:{line:385,column:11},end:{line:385,column:12}},loc:{start:{line:385,column:17},end:{line:392,column:3}},line:385},32:{name:"(anonymous_32)",decl:{start:{line:393,column:11},end:{line:393,column:12}},loc:{start:{line:393,column:17},end:{line:400,column:3}},line:393},33:{name:"(anonymous_33)",decl:{start:{line:401,column:16},end:{line:401,column:17}},loc:{start:{line:401,column:26},end:{line:416,column:3}},line:401},34:{name:"(anonymous_34)",decl:{start:{line:417,column:19},end:{line:417,column:20}},loc:{start:{line:417,column:38},end:{line:423,column:3}},line:417},35:{name:"(anonymous_35)",decl:{start:{line:424,column:19},end:{line:424,column:20}},loc:{start:{line:424,column:30},end:{line:429,column:3}},line:424},36:{name:"(anonymous_36)",decl:{start:{line:430,column:16},end:{line:430,column:17}},loc:{start:{line:430,column:27},end:{line:437,column:3}},line:430},37:{name:"(anonymous_37)",decl:{start:{line:438,column:28},end:{line:438,column:29}},loc:{start:{line:438,column:39},end:{line:447,column:3}},line:438},38:{name:"(anonymous_38)",decl:{start:{line:448,column:20},end:{line:448,column:21}},loc:{start:{line:448,column:46},end:{line:455,column:3}},line:448},39:{name:"(anonymous_39)",decl:{start:{line:456,column:19},end:{line:456,column:20}},loc:{start:{line:456,column:37},end:{line:460,column:3}},line:456},40:{name:"(anonymous_40)",decl:{start:{line:461,column:16},end:{line:461,column:17}},loc:{start:{line:461,column:30},end:{line:465,column:3}},line:461},41:{name:"(anonymous_41)",decl:{start:{line:466,column:21},end:{line:466,column:22}},loc:{start:{line:466,column:35},end:{line:480,column:3}},line:466},42:{name:"(anonymous_42)",decl:{start:{line:481,column:14},end:{line:481,column:15}},loc:{start:{line:481,column:28},end:{line:484,column:3}},line:481},43:{name:"(anonymous_43)",decl:{start:{line:485,column:2},end:{line:485,column:3}},loc:{start:{line:485,column:17},end:{line:528,column:3}},line:485},44:{name:"(anonymous_44)",decl:{start:{line:501,column:16},end:{line:501,column:17}},loc:{start:{line:501,column:30},end:{line:501,column:45}},line:501},45:{name:"(anonymous_45)",decl:{start:{line:501,column:52},end:{line:501,column:53}},loc:{start:{line:501,column:62},end:{line:515,column:9}},line:501},46:{name:"(anonymous_46)",decl:{start:{line:515,column:17},end:{line:515,column:18}},loc:{start:{line:515,column:26},end:{line:517,column:9}},line:515},47:{name:"(anonymous_47)",decl:{start:{line:529,column:2},end:{line:529,column:3}},loc:{start:{line:529,column:17},end:{line:532,column:3}},line:529},48:{name:"(anonymous_48)",decl:{start:{line:533,column:16},end:{line:533,column:17}},loc:{start:{line:533,column:29},end:{line:537,column:3}},line:533},49:{name:"(anonymous_49)",decl:{start:{line:538,column:2},end:{line:538,column:3}},loc:{start:{line:538,column:16},end:{line:586,column:3}},line:538},50:{name:"(anonymous_50)",decl:{start:{line:542,column:27},end:{line:542,column:28}},loc:{start:{line:542,column:42},end:{line:546,column:7}},line:542},51:{name:"(anonymous_51)",decl:{start:{line:547,column:20},end:{line:547,column:21}},loc:{start:{line:547,column:27},end:{line:550,column:7}},line:547},52:{name:"(anonymous_52)",decl:{start:{line:587,column:18},end:{line:587,column:19}},loc:{start:{line:587,column:24},end:{line:605,column:3}},line:587},53:{name:"(anonymous_53)",decl:{start:{line:593,column:50},end:{line:593,column:51}},loc:{start:{line:593,column:66},end:{line:593,column:91}},line:593},54:{name:"(anonymous_54)",decl:{start:{line:593,column:100},end:{line:593,column:101}},loc:{start:{line:593,column:109},end:{line:593,column:121}},line:593},55:{name:"(anonymous_55)",decl:{start:{line:606,column:27},end:{line:606,column:28}},loc:{start:{line:606,column:41},end:{line:651,column:3}},line:606},56:{name:"(anonymous_56)",decl:{start:{line:612,column:21},end:{line:612,column:22}},loc:{start:{line:612,column:36},end:{line:614,column:7}},line:612},57:{name:"(anonymous_57)",decl:{start:{line:652,column:18},end:{line:652,column:19}},loc:{start:{line:652,column:29},end:{line:657,column:3}},line:652},58:{name:"(anonymous_58)",decl:{start:{line:658,column:2},end:{line:658,column:3}},loc:{start:{line:658,column:29},end:{line:668,column:3}},line:658},59:{name:"(anonymous_59)",decl:{start:{line:669,column:2},end:{line:669,column:3}},loc:{start:{line:669,column:25},end:{line:671,column:3}},line:669},60:{name:"(anonymous_60)",decl:{start:{line:672,column:28},end:{line:672,column:29}},loc:{start:{line:672,column:44},end:{line:679,column:3}},line:672},61:{name:"(anonymous_61)",decl:{start:{line:680,column:28},end:{line:680,column:29}},loc:{start:{line:680,column:44},end:{line:687,column:3}},line:680},62:{name:"(anonymous_62)",decl:{start:{line:688,column:2},end:{line:688,column:3}},loc:{start:{line:688,column:11},end:{line:828,column:3}},line:688},63:{name:"(anonymous_63)",decl:{start:{line:768,column:15},end:{line:768,column:16}},loc:{start:{line:768,column:23},end:{line:768,column:43}},line:768}},branchMap:{0:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:47,column:9},end:{line:54,column:3}}],line:42},1:{loc:{start:{line:42,column:6},end:{line:42,column:43}},type:"binary-expr",locations:[{start:{line:42,column:6},end:{line:42,column:24}},{start:{line:42,column:28},end:{line:42,column:43}}],line:42},2:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},3:{loc:{start:{line:47,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:47,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:47},4:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},5:{loc:{start:{line:79,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:81,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},6:{loc:{start:{line:79,column:8},end:{line:79,column:89}},type:"binary-expr",locations:[{start:{line:79,column:8},end:{line:79,column:20}},{start:{line:79,column:25},end:{line:79,column:54}},{start:{line:79,column:58},end:{line:79,column:88}}],line:79},7:{loc:{start:{line:122,column:12},end:{line:122,column:61}},type:"cond-expr",locations:[{start:{line:122,column:44},end:{line:122,column:53}},{start:{line:122,column:56},end:{line:122,column:61}}],line:122},8:{loc:{start:{line:140,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:140,column:6},end:{line:151,column:7}},{start:{line:143,column:13},end:{line:151,column:7}}],line:140},9:{loc:{start:{line:143,column:13},end:{line:151,column:7}},type:"if",locations:[{start:{line:143,column:13},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:143},10:{loc:{start:{line:143,column:17},end:{line:143,column:88}},type:"binary-expr",locations:[{start:{line:143,column:17},end:{line:143,column:44}},{start:{line:143,column:48},end:{line:143,column:88}}],line:143},11:{loc:{start:{line:147,column:8},end:{line:150,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:150,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},12:{loc:{start:{line:154,column:4},end:{line:172,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:172,column:5}},{start:{line:158,column:11},end:{line:172,column:5}}],line:154},13:{loc:{start:{line:154,column:8},end:{line:154,column:104}},type:"binary-expr",locations:[{start:{line:154,column:8},end:{line:154,column:16}},{start:{line:154,column:20},end:{line:154,column:104}}],line:154},14:{loc:{start:{line:159,column:6},end:{line:161,column:7}},type:"if",locations:[{start:{line:159,column:6},end:{line:161,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},15:{loc:{start:{line:163,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:166,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:163},16:{loc:{start:{line:167,column:8},end:{line:170,column:9}},type:"if",locations:[{start:{line:167,column:8},end:{line:170,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:167},17:{loc:{start:{line:173,column:4},end:{line:176,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:176,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:173},18:{loc:{start:{line:217,column:4},end:{line:233,column:5}},type:"if",locations:[{start:{line:217,column:4},end:{line:233,column:5}},{start:{line:225,column:11},end:{line:233,column:5}}],line:217},19:{loc:{start:{line:218,column:6},end:{line:224,column:7}},type:"if",locations:[{start:{line:218,column:6},end:{line:224,column:7}},{start:{line:221,column:13},end:{line:224,column:7}}],line:218},20:{loc:{start:{line:218,column:10},end:{line:218,column:53}},type:"binary-expr",locations:[{start:{line:218,column:10},end:{line:218,column:19}},{start:{line:218,column:23},end:{line:218,column:33}},{start:{line:218,column:37},end:{line:218,column:53}}],line:218},21:{loc:{start:{line:221,column:13},end:{line:224,column:7}},type:"if",locations:[{start:{line:221,column:13},end:{line:224,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:221},22:{loc:{start:{line:221,column:17},end:{line:221,column:46}},type:"binary-expr",locations:[{start:{line:221,column:17},end:{line:221,column:26}},{start:{line:221,column:30},end:{line:221,column:46}}],line:221},23:{loc:{start:{line:226,column:6},end:{line:232,column:7}},type:"if",locations:[{start:{line:226,column:6},end:{line:232,column:7}},{start:{line:229,column:13},end:{line:232,column:7}}],line:226},24:{loc:{start:{line:226,column:10},end:{line:226,column:39}},type:"binary-expr",locations:[{start:{line:226,column:10},end:{line:226,column:19}},{start:{line:226,column:23},end:{line:226,column:39}}],line:226},25:{loc:{start:{line:229,column:13},end:{line:232,column:7}},type:"if",locations:[{start:{line:229,column:13},end:{line:232,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:229},26:{loc:{start:{line:229,column:17},end:{line:229,column:46}},type:"binary-expr",locations:[{start:{line:229,column:17},end:{line:229,column:26}},{start:{line:229,column:30},end:{line:229,column:46}}],line:229},27:{loc:{start:{line:245,column:21},end:{line:245,column:55}},type:"binary-expr",locations:[{start:{line:245,column:21},end:{line:245,column:49}},{start:{line:245,column:53},end:{line:245,column:55}}],line:245},28:{loc:{start:{line:246,column:24},end:{line:246,column:93}},type:"binary-expr",locations:[{start:{line:246,column:24},end:{line:246,column:70}},{start:{line:246,column:74},end:{line:246,column:93}}],line:246},29:{loc:{start:{line:247,column:21},end:{line:247,column:110}},type:"cond-expr",locations:[{start:{line:247,column:55},end:{line:247,column:96}},{start:{line:247,column:99},end:{line:247,column:110}}],line:247},30:{loc:{start:{line:258,column:4},end:{line:262,column:5}},type:"if",locations:[{start:{line:258,column:4},end:{line:262,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:258},31:{loc:{start:{line:258,column:8},end:{line:258,column:123}},type:"binary-expr",locations:[{start:{line:258,column:8},end:{line:258,column:40}},{start:{line:258,column:44},end:{line:258,column:123}}],line:258},32:{loc:{start:{line:272,column:30},end:{line:272,column:39}},type:"default-arg",locations:[{start:{line:272,column:37},end:{line:272,column:39}}],line:272},33:{loc:{start:{line:279,column:4},end:{line:281,column:5}},type:"if",locations:[{start:{line:279,column:4},end:{line:281,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:279},34:{loc:{start:{line:282,column:19},end:{line:282,column:51}},type:"binary-expr",locations:[{start:{line:282,column:19},end:{line:282,column:45}},{start:{line:282,column:49},end:{line:282,column:51}}],line:282},35:{loc:{start:{line:284,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:284,column:4},end:{line:295,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:284},36:{loc:{start:{line:284,column:8},end:{line:284,column:35}},type:"binary-expr",locations:[{start:{line:284,column:8},end:{line:284,column:16}},{start:{line:284,column:20},end:{line:284,column:35}}],line:284},37:{loc:{start:{line:287,column:8},end:{line:292,column:9}},type:"if",locations:[{start:{line:287,column:8},end:{line:292,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:287},38:{loc:{start:{line:287,column:12},end:{line:287,column:56}},type:"binary-expr",locations:[{start:{line:287,column:12},end:{line:287,column:27}},{start:{line:287,column:31},end:{line:287,column:56}}],line:287},39:{loc:{start:{line:298,column:6},end:{line:311,column:7}},type:"if",locations:[{start:{line:298,column:6},end:{line:311,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:298},40:{loc:{start:{line:313,column:6},end:{line:326,column:7}},type:"if",locations:[{start:{line:313,column:6},end:{line:326,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:313},41:{loc:{start:{line:328,column:6},end:{line:346,column:7}},type:"if",locations:[{start:{line:328,column:6},end:{line:346,column:7}},{start:{line:342,column:13},end:{line:346,column:7}}],line:328},42:{loc:{start:{line:330,column:20},end:{line:330,column:78}},type:"cond-expr",locations:[{start:{line:330,column:40},end:{line:330,column:67}},{start:{line:330,column:70},end:{line:330,column:78}}],line:330},43:{loc:{start:{line:330,column:20},end:{line:330,column:37}},type:"binary-expr",locations:[{start:{line:330,column:20},end:{line:330,column:25}},{start:{line:330,column:29},end:{line:330,column:37}}],line:330},44:{loc:{start:{line:349,column:4},end:{line:363,column:5}},type:"if",locations:[{start:{line:349,column:4},end:{line:363,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:349},45:{loc:{start:{line:353,column:8},end:{line:361,column:9}},type:"if",locations:[{start:{line:353,column:8},end:{line:361,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:353},46:{loc:{start:{line:364,column:4},end:{line:366,column:5}},type:"if",locations:[{start:{line:364,column:4},end:{line:366,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:364},47:{loc:{start:{line:367,column:4},end:{line:369,column:5}},type:"if",locations:[{start:{line:367,column:4},end:{line:369,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:367},48:{loc:{start:{line:370,column:4},end:{line:372,column:5}},type:"if",locations:[{start:{line:370,column:4},end:{line:372,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:370},49:{loc:{start:{line:373,column:4},end:{line:375,column:5}},type:"if",locations:[{start:{line:373,column:4},end:{line:375,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:373},50:{loc:{start:{line:406,column:4},end:{line:407,column:13}},type:"if",locations:[{start:{line:406,column:4},end:{line:407,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:406},51:{loc:{start:{line:408,column:4},end:{line:412,column:5}},type:"if",locations:[{start:{line:408,column:4},end:{line:412,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:408},52:{loc:{start:{line:442,column:26},end:{line:442,column:70}},type:"cond-expr",locations:[{start:{line:442,column:46},end:{line:442,column:65}},{start:{line:442,column:68},end:{line:442,column:70}}],line:442},53:{loc:{start:{line:443,column:31},end:{line:443,column:87}},type:"cond-expr",locations:[{start:{line:443,column:69},end:{line:443,column:78}},{start:{line:443,column:81},end:{line:443,column:87}}],line:443},54:{loc:{start:{line:467,column:21},end:{line:467,column:44}},type:"binary-expr",locations:[{start:{line:467,column:21},end:{line:467,column:38}},{start:{line:467,column:42},end:{line:467,column:44}}],line:467},55:{loc:{start:{line:468,column:4},end:{line:479,column:5}},type:"if",locations:[{start:{line:468,column:4},end:{line:479,column:5}},{start:{line:477,column:11},end:{line:479,column:5}}],line:468},56:{loc:{start:{line:488,column:6},end:{line:520,column:7}},type:"if",locations:[{start:{line:488,column:6},end:{line:520,column:7}},{start:{line:518,column:13},end:{line:520,column:7}}],line:488},57:{loc:{start:{line:488,column:10},end:{line:488,column:149}},type:"binary-expr",locations:[{start:{line:488,column:10},end:{line:488,column:72}},{start:{line:488,column:76},end:{line:488,column:97}},{start:{line:488,column:101},end:{line:488,column:149}}],line:488},58:{loc:{start:{line:502,column:10},end:{line:504,column:11}},type:"if",locations:[{start:{line:502,column:10},end:{line:504,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:502},59:{loc:{start:{line:519,column:26},end:{line:519,column:85}},type:"binary-expr",locations:[{start:{line:519,column:26},end:{line:519,column:49}},{start:{line:519,column:53},end:{line:519,column:85}}],line:519},60:{loc:{start:{line:522,column:4},end:{line:527,column:5}},type:"if",locations:[{start:{line:522,column:4},end:{line:527,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:522},61:{loc:{start:{line:530,column:21},end:{line:530,column:55}},type:"binary-expr",locations:[{start:{line:530,column:21},end:{line:530,column:49}},{start:{line:530,column:53},end:{line:530,column:55}}],line:530},62:{loc:{start:{line:531,column:11},end:{line:531,column:52}},type:"binary-expr",locations:[{start:{line:531,column:11},end:{line:531,column:40}},{start:{line:531,column:44},end:{line:531,column:52}}],line:531},63:{loc:{start:{line:541,column:16},end:{line:541,column:41}},type:"binary-expr",locations:[{start:{line:541,column:16},end:{line:541,column:29}},{start:{line:541,column:33},end:{line:541,column:41}}],line:541},64:{loc:{start:{line:554,column:4},end:{line:576,column:5}},type:"if",locations:[{start:{line:554,column:4},end:{line:576,column:5}},{start:{line:564,column:11},end:{line:576,column:5}}],line:554},65:{loc:{start:{line:578,column:4},end:{line:580,column:5}},type:"if",locations:[{start:{line:578,column:4},end:{line:580,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:578},66:{loc:{start:{line:582,column:4},end:{line:584,column:5}},type:"if",locations:[{start:{line:582,column:4},end:{line:584,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:582},67:{loc:{start:{line:593,column:66},end:{line:593,column:91}},type:"cond-expr",locations:[{start:{line:593,column:81},end:{line:593,column:84}},{start:{line:593,column:87},end:{line:593,column:91}}],line:593},68:{loc:{start:{line:594,column:4},end:{line:598,column:5}},type:"if",locations:[{start:{line:594,column:4},end:{line:598,column:5}},{start:{line:596,column:11},end:{line:598,column:5}}],line:594},69:{loc:{start:{line:599,column:4},end:{line:603,column:5}},type:"if",locations:[{start:{line:599,column:4},end:{line:603,column:5}},{start:{line:601,column:11},end:{line:603,column:5}}],line:599},70:{loc:{start:{line:601,column:11},end:{line:603,column:5}},type:"if",locations:[{start:{line:601,column:11},end:{line:603,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:601},71:{loc:{start:{line:609,column:4},end:{line:621,column:5}},type:"if",locations:[{start:{line:609,column:4},end:{line:621,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:609},72:{loc:{start:{line:609,column:8},end:{line:609,column:39}},type:"binary-expr",locations:[{start:{line:609,column:8},end:{line:609,column:18}},{start:{line:609,column:22},end:{line:609,column:39}}],line:609},73:{loc:{start:{line:623,column:4},end:{line:625,column:5}},type:"if",locations:[{start:{line:623,column:4},end:{line:625,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:623},74:{loc:{start:{line:623,column:8},end:{line:623,column:27}},type:"binary-expr",locations:[{start:{line:623,column:8},end:{line:623,column:12}},{start:{line:623,column:16},end:{line:623,column:27}}],line:623},75:{loc:{start:{line:627,column:4},end:{line:650,column:5}},type:"if",locations:[{start:{line:627,column:4},end:{line:650,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:627},76:{loc:{start:{line:635,column:8},end:{line:640,column:9}},type:"if",locations:[{start:{line:635,column:8},end:{line:640,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:635},77:{loc:{start:{line:637,column:10},end:{line:639,column:11}},type:"if",locations:[{start:{line:637,column:10},end:{line:639,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:637},78:{loc:{start:{line:641,column:8},end:{line:646,column:9}},type:"if",locations:[{start:{line:641,column:8},end:{line:646,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:641},79:{loc:{start:{line:659,column:4},end:{line:661,column:5}},type:"if",locations:[{start:{line:659,column:4},end:{line:661,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:659},80:{loc:{start:{line:659,column:8},end:{line:659,column:49}},type:"binary-expr",locations:[{start:{line:659,column:8},end:{line:659,column:30}},{start:{line:659,column:34},end:{line:659,column:49}}],line:659},81:{loc:{start:{line:689,column:19},end:{line:689,column:51}},type:"binary-expr",locations:[{start:{line:689,column:19},end:{line:689,column:45}},{start:{line:689,column:49},end:{line:689,column:51}}],line:689},82:{loc:{start:{line:690,column:26},end:{line:690,column:92}},type:"cond-expr",locations:[{start:{line:690,column:46},end:{line:690,column:83}},{start:{line:690,column:86},end:{line:690,column:92}}],line:690},83:{loc:{start:{line:720,column:24},end:{line:739,column:14}},type:"cond-expr",locations:[{start:{line:720,column:56},end:{line:739,column:5}},{start:{line:739,column:8},end:{line:739,column:14}}],line:720},84:{loc:{start:{line:740,column:24},end:{line:750,column:14}},type:"cond-expr",locations:[{start:{line:740,column:97},end:{line:750,column:5}},{start:{line:750,column:8},end:{line:750,column:14}}],line:740}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/dimas/Documents/projects/Kartoza/CloudNativeGIS/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAstBmB,SAAA,KAiNA,YAjNA;AArtBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,wBAAuB;AAEvC,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,qBAAqB,IAAI,MAAM,oBAAoB;AACnD,QAAA,kBAAkB,IAAI,MAAM,iBAAiB;AAC7C,QAAA,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,MAAI,sBAAsB,iBAAiB;AACnC,UAAA,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AACvB,UAAA,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAyDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EACA,aAAoC;AAAA,EAEpC,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AAKG,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,IACF;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAEvE,UAAA,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAIjE,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa;AAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,aAAgD;AAChD,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AACzD,QAAA,cAAc,YAAY,UAAU,OAAO;AAC/B,mBAAA,QAAQ,UAAU,EAAE;AAAA,IACnC;AAEA,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAIC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK,CAAC,OAAO,KAAK,aAAa;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"21f6d24fe72e2e04227d00aefc998187b1df8879"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return oe=function(){return a},a}oe();oe().s[0]++;window.Buffer=MZ.Buffer;function RTe(e,t){oe().f[0]++;const n=(oe().s[1]++,e.match(/\.tilehosting\.com/)),r=(oe().s[2]++,e.match(/\.maptiler\.com/)),i=(oe().s[3]++,e.match(/\.thunderforest\.com/));if(oe().s[4]++,oe().b[1][0]++,n||(oe().b[1][1]++,r)){oe().b[0][0]++;const o=(oe().s[5]++,wu.getAccessToken("openmaptiles",t,{allowFallback:!0}));if(oe().s[6]++,o)return oe().b[2][0]++,oe().s[7]++,e.replace("{key}",o);oe().b[2][1]++}else if(oe().b[0][1]++,oe().s[8]++,i){oe().b[3][0]++;const o=(oe().s[9]++,wu.getAccessToken("thunderforest",t,{allowFallback:!0}));if(oe().s[10]++,o)return oe().b[4][0]++,oe().s[11]++,e.replace("{key}",o);oe().b[4][1]++}else return oe().b[3][1]++,oe().s[12]++,e}function jU(e,t,n){return oe().f[1]++,oe().s[13]++,{...e,$root:{...e.$root,[t]:{...e.$root[t],values:n}}}}class zTe extends Mn.Component{constructor(n){oe().f[2]++,oe().s[15]++;super(n);on(this,"revisionStore");on(this,"styleStore");on(this,"layerWatcher");on(this,"shortcutEl",(oe().s[14]++,null));on(this,"handleKeyPress",(oe().s[64]++,n=>{oe().f[17]++,oe().s[65]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(oe().b[18][0]++,oe().s[66]++,oe().b[20][0]++,n.metaKey&&(oe().b[20][1]++,n.shiftKey)&&(oe().b[20][2]++,n.keyCode===90)?(oe().b[19][0]++,oe().s[67]++,n.preventDefault(),oe().s[68]++,this.onRedo()):(oe().b[19][1]++,oe().s[69]++,oe().b[22][0]++,n.metaKey&&(oe().b[22][1]++,n.keyCode===90)?(oe().b[21][0]++,oe().s[70]++,n.preventDefault(),oe().s[71]++,this.onUndo()):oe().b[21][1]++)):(oe().b[18][1]++,oe().s[72]++,oe().b[24][0]++,n.ctrlKey&&(oe().b[24][1]++,n.keyCode===90)?(oe().b[23][0]++,oe().s[73]++,n.preventDefault(),oe().s[74]++,this.onUndo()):(oe().b[23][1]++,oe().s[75]++,oe().b[26][0]++,n.ctrlKey&&(oe().b[26][1]++,n.keyCode===89)?(oe().b[25][0]++,oe().s[76]++,n.preventDefault(),oe().s[77]++,this.onRedo()):oe().b[25][1]++))}));on(this,"onChangeMetadataProperty",(oe().s[88]++,(n,r)=>{oe().f[25]++,oe().s[89]++,oe().b[31][0]++,n==="maputnik:renderer"&&(oe().b[31][1]++,r!==xX(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(oe().b[30][0]++,oe().s[90]++,this.setState({mapState:"map"})):oe().b[30][1]++;const i=(oe().s[91]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[n]:r}});oe().s[92]++,this.onStyleChanged(i)}));on(this,"onStyleChanged",(oe().s[93]++,(n,r=(oe().b[32][0]++,{}))=>{oe().f[26]++,oe().s[94]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},oe().s[95]++,r.initialLoad?(oe().b[33][0]++,oe().s[96]++,this.getInitialStateFromUrl(n)):oe().b[33][1]++;const i=(oe().s[97]++,oe().b[34][0]++,Vd(n)||(oe().b[34][1]++,[])),o=(oe().s[98]++,[]);if(oe().s[99]++,oe().b[36][0]++,n&&(oe().b[36][1]++,n.layers)){oe().b[35][0]++;const h=(oe().s[100]++,new window.Map);oe().s[101]++,n.layers.forEach((m,C)=>{if(oe().f[27]++,oe().s[102]++,oe().b[38][0]++,m.id===""&&(oe().b[38][1]++,h.has(m.id))){oe().b[37][0]++;const E=(oe().s[103]++,new Error(`layers[${C}]: duplicate layer id [empty_string], previously used`));oe().s[104]++,o.push(E)}else oe().b[37][1]++;oe().s[105]++,h.set(m.id,!0)})}else oe().b[35][1]++;const a=(oe().s[106]++,o.concat(i).map(h=>{oe().f[28]++;const m=(oe().s[107]++,h.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(oe().s[108]++,m){oe().b[39][0]++;const[,O,P]=(oe().s[109]++,m);return oe().s[110]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:"id",message:P}}}}else oe().b[39][1]++;const C=(oe().s[111]++,h.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(oe().s[112]++,C){oe().b[40][0]++;const[,O,P]=(oe().s[113]++,C);return oe().s[114]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:"source",message:P}}}}else oe().b[40][1]++;const E=(oe().s[115]++,h.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(oe().s[116]++,E){oe().b[41][0]++;const[,O,P,D,$]=(oe().s[117]++,E),ee=(oe().s[118]++,oe().b[43][0]++,P&&(oe().b[43][1]++,D)?(oe().b[42][0]++,[P,D].join(".")):(oe().b[42][1]++,D));return oe().s[119]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:ee,message:$}}}}else return oe().b[41][1]++,oe().s[120]++,{message:h.message}}));let s=(oe().s[121]++,void 0);oe().s[122]++,i.length>0?(oe().b[44][0]++,oe().s[123]++,s=Hk(n),oe().s[124]++,i.forEach(h=>{oe().f[29]++;const{message:m}=(oe().s[125]++,h);if(oe().s[126]++,m){oe().b[45][0]++,oe().s[127]++;try{const C=(oe().s[128]++,m.split(":")[0]),E=(oe().s[129]++,C.match(/^\S+?\[\d+\]\.[^[]+/)[0]);oe().s[130]++,q5.unset(s,E)}catch(C){oe().s[131]++,console.warn(C)}}else oe().b[45][1]++})):oe().b[44][1]++,oe().s[132]++,n.glyphs!==this.state.mapStyle.glyphs?(oe().b[46][0]++,oe().s[133]++,this.updateFonts(n.glyphs)):oe().b[46][1]++,oe().s[134]++,n.sprite!==this.state.mapStyle.sprite?(oe().b[47][0]++,oe().s[135]++,this.updateIcons(n.sprite)):oe().b[47][1]++,oe().s[136]++,r.addRevision?(oe().b[48][0]++,oe().s[137]++,this.revisionStore.addRevision(n)):oe().b[48][1]++,oe().s[138]++,r.save?(oe().b[49][0]++,oe().s[139]++,this.saveStyle(n)):oe().b[49][1]++,oe().s[140]++,this.setState({mapStyle:n,dirtyMapStyle:s,errors:a},()=>{oe().f[30]++,oe().s[141]++,this.fetchSources(),oe().s[142]++,this.setStateInUrl()})}));on(this,"onUndo",(oe().s[143]++,()=>{oe().f[31]++;const n=(oe().s[144]++,this.revisionStore.undo()),r=(oe().s[145]++,tTe(this.state.mapStyle,n));oe().s[146]++,this.onStyleChanged(n,{addRevision:!1}),oe().s[147]++,this.setState({infos:r})}));on(this,"onRedo",(oe().s[148]++,()=>{oe().f[32]++;const n=(oe().s[149]++,this.revisionStore.redo()),r=(oe().s[150]++,nTe(this.state.mapStyle,n));oe().s[151]++,this.onStyleChanged(n,{addRevision:!1}),oe().s[152]++,this.setState({infos:r})}));on(this,"onMoveLayer",(oe().s[153]++,n=>{oe().f[33]++;let{oldIndex:r,newIndex:i}=(oe().s[154]++,n),o=(oe().s[155]++,this.state.mapStyle.layers);if(oe().s[156]++,r=Xk(r,0,o.length-1),oe().s[157]++,i=Xk(i,0,o.length-1),oe().s[158]++,r===i){oe().b[50][0]++,oe().s[159]++;return}else oe().b[50][1]++;oe().s[160]++,r===this.state.selectedLayerIndex?(oe().b[51][0]++,oe().s[161]++,this.setState({selectedLayerIndex:i})):oe().b[51][1]++,oe().s[162]++,o=o.slice(0),oe().s[163]++,wX(o,r,i),oe().s[164]++,this.onLayersChange(o)}));on(this,"onLayersChange",(oe().s[165]++,n=>{oe().f[34]++;const r=(oe().s[166]++,{...this.state.mapStyle,layers:n});oe().s[167]++,this.onStyleChanged(r)}));on(this,"onLayerDestroy",(oe().s[168]++,n=>{oe().f[35]++;const r=(oe().s[169]++,this.state.mapStyle.layers),i=(oe().s[170]++,r.slice(0));oe().s[171]++,i.splice(n,1),oe().s[172]++,this.onLayersChange(i)}));on(this,"onLayerCopy",(oe().s[173]++,n=>{oe().f[36]++;const r=(oe().s[174]++,this.state.mapStyle.layers),i=(oe().s[175]++,r.slice(0)),o=(oe().s[176]++,Hk(i[n]));oe().s[177]++,o.id=o.id+"-copy",oe().s[178]++,i.splice(n,0,o),oe().s[179]++,this.onLayersChange(i)}));on(this,"onLayerVisibilityToggle",(oe().s[180]++,n=>{oe().f[37]++;const r=(oe().s[181]++,this.state.mapStyle.layers),i=(oe().s[182]++,r.slice(0)),o=(oe().s[183]++,{...i[n]}),a=(oe().s[184]++,"layout"in o?(oe().b[52][0]++,{...o.layout}):(oe().b[52][1]++,{}));oe().s[185]++,a.visibility=a.visibility==="none"?(oe().b[53][0]++,"visible"):(oe().b[53][1]++,"none"),oe().s[186]++,o.layout=a,oe().s[187]++,i[n]=o,oe().s[188]++,this.onLayersChange(i)}));on(this,"onLayerIdChange",(oe().s[189]++,(n,r,i)=>{oe().f[38]++;const o=(oe().s[190]++,this.state.mapStyle.layers.slice(0));oe().s[191]++,o[n]={...o[n],id:i},oe().s[192]++,this.onLayersChange(o)}));on(this,"onLayerChanged",(oe().s[193]++,(n,r)=>{oe().f[39]++;const i=(oe().s[194]++,this.state.mapStyle.layers.slice(0));oe().s[195]++,i[n]=r,oe().s[196]++,this.onLayersChange(i)}));on(this,"setMapState",(oe().s[197]++,n=>{oe().f[40]++,oe().s[198]++,this.setState({mapState:n},this.setStateInUrl)}));on(this,"setDefaultValues",(oe().s[199]++,n=>{oe().f[41]++;const r=(oe().s[200]++,oe().b[54][0]++,n.metadata||(oe().b[54][1]++,{}));if(oe().s[201]++,r["maputnik:renderer"]===void 0){oe().b[55][0]++;const i=(oe().s[202]++,{...n,metadata:{...n.metadata,"maputnik:renderer":"mlgljs"}});return oe().s[203]++,i}else return oe().b[55][1]++,oe().s[204]++,n}));on(this,"openStyle",(oe().s[205]++,n=>{oe().f[42]++,oe().s[206]++,n=this.setDefaultValues(n),oe().s[207]++,this.onStyleChanged(n)}));on(this,"onMapChange",(oe().s[232]++,n=>{oe().f[48]++,oe().s[233]++,this.setState({mapView:n})}));on(this,"setStateInUrl",(oe().s[249]++,()=>{oe().f[52]++;const{mapState:n,mapStyle:r,isOpen:i}=(oe().s[250]++,this.state),{selectedLayerIndex:o}=(oe().s[251]++,this.state),a=(oe().s[252]++,new URL(location.href)),s=(oe().s[253]++,rT(JSON.stringify(r)));oe().s[254]++,a.searchParams.set("layer",`${s}~${o}`);const h=(oe().s[255]++,Object.entries(i).map(([m,C])=>(oe().f[53]++,oe().s[256]++,C===!0?(oe().b[67][0]++,m):(oe().b[67][1]++,null))).filter(m=>(oe().f[54]++,oe().s[257]++,m!==null)));oe().s[258]++,h.length>0?(oe().b[68][0]++,oe().s[259]++,a.searchParams.set("modal",h.join(","))):(oe().b[68][1]++,oe().s[260]++,a.searchParams.delete("modal")),oe().s[261]++,n==="map"?(oe().b[69][0]++,oe().s[262]++,a.searchParams.delete("view")):(oe().b[69][1]++,oe().s[263]++,n==="inspect"?(oe().b[70][0]++,oe().s[264]++,a.searchParams.set("view","inspect")):oe().b[70][1]++),oe().s[265]++,history.replaceState({selectedLayerIndex:o},"Maputnik",a.href)}));on(this,"getInitialStateFromUrl",(oe().s[266]++,n=>{oe().f[55]++;const r=(oe().s[267]++,new URL(location.href)),i=(oe().s[268]++,r.searchParams.get("modal"));if(oe().s[269]++,oe().b[72][0]++,i&&(oe().b[72][1]++,i!=="")){oe().b[71][0]++;const s=(oe().s[270]++,i.split(",")),h=(oe().s[271]++,{});oe().s[272]++,s.forEach(m=>{oe().f[56]++,oe().s[273]++,h[m]=!0}),oe().s[274]++,this.setState({isOpen:{...this.state.isOpen,...h}})}else oe().b[71][1]++;const o=(oe().s[275]++,r.searchParams.get("view"));oe().s[276]++,oe().b[74][0]++,o&&(oe().b[74][1]++,o!=="")?(oe().b[73][0]++,oe().s[277]++,this.setMapState(o)):oe().b[73][1]++;const a=(oe().s[278]++,r.searchParams.get("layer"));if(oe().s[279]++,a){oe().b[75][0]++,oe().s[280]++;try{const s=(oe().s[281]++,a.split("~")),[h,m]=(oe().s[282]++,[s[0],parseInt(s[1],10)]);let C=(oe().s[283]++,!0);if(oe().s[284]++,h!=="-"){oe().b[76][0]++;const E=(oe().s[285]++,rT(JSON.stringify(n)));oe().s[286]++,E!==parseInt(h,10)?(oe().b[77][0]++,oe().s[287]++,C=!1):oe().b[77][1]++}else oe().b[76][1]++;oe().s[288]++,C?(oe().b[78][0]++,oe().s[289]++,this.setState({selectedLayerIndex:m,selectedLayerOriginalId:n.layers[m].id})):oe().b[78][1]++}catch(s){oe().s[290]++,console.warn(s)}}else oe().b[75][1]++}));on(this,"onLayerSelect",(oe().s[291]++,n=>{oe().f[57]++,oe().s[292]++,this.setState({selectedLayerIndex:n,selectedLayerOriginalId:this.state.mapStyle.layers[n].id},this.setStateInUrl)}));on(this,"onChangeOpenlayersDebug",(oe().s[297]++,(n,r)=>{oe().f[60]++,oe().s[298]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[n]:r}})}));on(this,"onChangeMaplibreGlDebug",(oe().s[299]++,(n,r)=>{oe().f[61]++,oe().s[300]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[n]:r}})}));oe().s[16]++,nZ(this),oe().s[17]++,this.revisionStore=new pTe;const r=(oe().s[18]++,new URLSearchParams(window.location.search.substring(1)));let i=(oe().s[19]++,r.get("localport"));oe().s[20]++,oe().b[6][0]++,i==null&&(oe().b[6][1]++,window.location.port!=="80")&&(oe().b[6][2]++,window.location.port!=="443")?(oe().b[5][0]++,oe().s[21]++,i=window.location.port):oe().b[5][1]++,oe().s[22]++,this.styleStore=new fTe({onLocalStyleChange:s=>(oe().f[3]++,oe().s[23]++,this.onStyleChanged(s,{save:!1})),port:i,host:r.get("localhost")});const o=(oe().s[24]++,[{key:"?",handler:()=>{oe().f[4]++,oe().s[25]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{oe().f[5]++,oe().s[26]++,this.toggleModal("open")}},{key:"e",handler:()=>{oe().f[6]++,oe().s[27]++,this.toggleModal("export")}},{key:"d",handler:()=>{oe().f[7]++,oe().s[28]++,this.toggleModal("sources")}},{key:"s",handler:()=>{oe().f[8]++,oe().s[29]++,this.toggleModal("settings")}},{key:"i",handler:()=>{oe().f[9]++,oe().s[30]++,this.setMapState(this.state.mapState==="map"?(oe().b[7][0]++,"inspect"):(oe().b[7][1]++,"map"))}},{key:"m",handler:()=>{oe().f[10]++,oe().s[31]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{oe().f[11]++,oe().s[32]++,this.toggleModal("debug")}}]);oe().s[33]++,document.body.addEventListener("keyup",s=>{if(oe().f[12]++,oe().s[34]++,s.key==="Escape")oe().b[8][0]++,oe().s[35]++,s.target.blur(),oe().s[36]++,document.body.focus();else if(oe().b[8][1]++,oe().s[37]++,oe().b[10][0]++,this.state.isOpen.shortcuts||(oe().b[10][1]++,document.activeElement===document.body)){oe().b[9][0]++;const h=(oe().s[38]++,o.find(m=>(oe().f[13]++,oe().s[39]++,m.key===s.key)));oe().s[40]++,h?(oe().b[11][0]++,oe().s[41]++,this.setModal("shortcuts",!1),oe().s[42]++,h.handler()):oe().b[11][1]++}else oe().b[9][1]++});const a=(oe().s[43]++,eTe());oe().s[44]++,oe().b[13][0]++,a&&(oe().b[13][1]++,window.confirm("Load style from URL: "+a+" and discard current changes?"))?(oe().b[12][0]++,oe().s[45]++,this.styleStore=new LU,oe().s[46]++,Y$(a,s=>(oe().f[14]++,oe().s[47]++,this.onStyleChanged(s))),oe().s[48]++,PU()):(oe().b[12][1]++,oe().s[49]++,a?(oe().b[14][0]++,oe().s[50]++,PU()):oe().b[14][1]++,oe().s[51]++,this.styleStore.init(s=>{oe().f[15]++,oe().s[52]++,s?(oe().b[15][0]++,oe().s[53]++,console.log("Falling back to local storage for storing styles"),oe().s[54]++,this.styleStore=new LU):oe().b[15][1]++,oe().s[55]++,s1.enabled()?(oe().b[16][0]++,oe().s[56]++,s1.set("maputnik","styleStore",this.styleStore),oe().s[57]++,s1.set("maputnik","revisionStore",this.revisionStore)):oe().b[16][1]++})),oe().s[58]++,s1.enabled()?(oe().b[17][0]++,oe().s[59]++,s1.set("maputnik","revisionStore",this.revisionStore),oe().s[60]++,s1.set("maputnik","styleStore",this.styleStore)):oe().b[17][1]++,oe().s[61]++,this.state={errors:[],infos:[],mapStyle:wu.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:Ia,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,survey:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1}},oe().s[62]++,this.layerWatcher=new UTe({onVectorLayersChange:s=>(oe().f[16]++,oe().s[63]++,this.setState({vectorLayers:s}))})}componentDidMount(){oe().f[18]++,oe().s[78]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){oe().f[19]++,oe().s[79]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(n){oe().f[20]++,oe().s[80]++,this.styleStore.save(n)}updateFonts(n){oe().f[21]++;const r=(oe().s[81]++,oe().b[27][0]++,this.state.mapStyle.metadata||(oe().b[27][1]++,{})),i=(oe().s[82]++,oe().b[28][0]++,r["maputnik:openmaptiles_access_token"]||(oe().b[28][1]++,h$.openmaptiles)),o=(oe().s[83]++,typeof n=="string"?(oe().b[29][0]++,n.replace("{key}",i)):(oe().b[29][1]++,n));oe().s[84]++,Xke(o,a=>{oe().f[22]++,oe().s[85]++,this.setState({spec:jU(this.state.spec,"glyphs",a)})})}updateIcons(n){oe().f[23]++,oe().s[86]++,Jke(n,r=>{oe().f[24]++,oe().s[87]++,this.setState({spec:jU(this.state.spec,"sprite",r)})})}fetchSources(){oe().f[43]++;const n=(oe().s[208]++,{});oe().s[209]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(oe().s[210]++,oe().b[57][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(oe().b[57][1]++,i.type==="vector")&&(oe().b[57][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){oe().b[56][0]++,oe().s[211]++,n[r]={type:i.type,layers:[]};let o=(oe().s[212]++,i.url);oe().s[213]++;try{oe().s[214]++,o=RTe(o,this.state.mapStyle)}catch(a){oe().s[215]++,console.warn("Failed to setFetchAccessToken: ",a)}oe().s[216]++,fetch(o,{mode:"cors"}).then(a=>(oe().f[44]++,oe().s[217]++,a.json())).then(a=>{if(oe().f[45]++,oe().s[218]++,Object.prototype.hasOwnProperty.call(a,"vector_layers"))oe().b[58][1]++;else{oe().b[58][0]++,oe().s[219]++;return}const s=(oe().s[220]++,Object.assign({},{[r]:this.state.sources[r]}));oe().s[221]++;for(const h of a.vector_layers)oe().s[222]++,s[r].layers.push(h.id);oe().s[223]++,console.debug("Updating source: "+r),oe().s[224]++,this.setState({sources:s})}).catch(a=>{oe().f[46]++,oe().s[225]++,console.error("Failed to process sources for '%s'",o,a)})}else oe().b[56][1]++,oe().s[226]++,n[r]=(oe().b[59][0]++,this.state.sources[r]||(oe().b[59][1]++,this.state.mapStyle.sources[r]));oe().s[227]++,zB(this.state.sources,n)?oe().b[60][1]++:(oe().b[60][0]++,oe().s[228]++,console.debug("Setting sources"),oe().s[229]++,this.setState({sources:n}))}_getRenderer(){oe().f[47]++;const n=(oe().s[230]++,oe().b[61][0]++,this.state.mapStyle.metadata||(oe().b[61][1]++,{}));return oe().s[231]++,oe().b[62][0]++,n["maputnik:renderer"]||(oe().b[62][1]++,"mlgljs")}mapRenderer(){oe().f[49]++;const{mapStyle:n,dirtyMapStyle:r}=(oe().s[234]++,this.state),i=(oe().s[235]++,{mapStyle:(oe().b[63][0]++,r||(oe().b[63][1]++,n)),replaceAccessTokens:m=>(oe().f[50]++,oe().s[236]++,wu.replaceAccessTokens(m,{allowFallback:!0})),onDataChange:m=>{oe().f[51]++,oe().s[237]++,this.layerWatcher.analyzeMap(m.map),oe().s[238]++,this.fetchSources()}}),o=(oe().s[239]++,this._getRenderer());let a;oe().s[240]++,o==="ol"?(oe().b[64][0]++,oe().s[241]++,a=W.jsx(LG,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(oe().b[64][1]++,oe().s[242]++,a=W.jsx(hj,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let s;oe().s[243]++,this.state.mapState.match(/^filter-/)?(oe().b[65][0]++,oe().s[244]++,s=this.state.mapState.replace(/^filter-/,"")):oe().b[65][1]++;const h=(oe().s[245]++,{});return oe().s[246]++,s?(oe().b[66][0]++,oe().s[247]++,h.filter=`url('#${s}')`):oe().b[66][1]++,oe().s[248]++,W.jsx("div",{style:h,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:a})}setModal(n,r){oe().f[58]++,oe().s[293]++,oe().b[80][0]++,n==="survey"&&(oe().b[80][1]++,r===!1)?(oe().b[79][0]++,oe().s[294]++,localStorage.setItem("survey","")):oe().b[79][1]++,oe().s[295]++,this.setState({isOpen:{...this.state.isOpen,[n]:r}},this.setStateInUrl)}toggleModal(n){oe().f[59]++,oe().s[296]++,this.setModal(n,!this.state.isOpen[n])}render(){oe().f[62]++;const n=(oe().s[301]++,oe().b[81][0]++,this.state.mapStyle.layers||(oe().b[81][1]++,[])),r=(oe().s[302]++,n.length>0?(oe().b[82][0]++,n[this.state.selectedLayerIndex]):(oe().b[82][1]++,void 0)),i=(oe().s[303]++,W.jsx(I7e,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(oe().s[304]++,W.jsx(R0e,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:n,sources:this.state.sources,errors:this.state.errors})),a=(oe().s[305]++,r?(oe().b[83][0]++,W.jsx(EB,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(oe().b[83][1]++,void 0)),s=(oe().s[306]++,this.state.errors.length+this.state.infos.length>0?(oe().b[84][0]++,W.jsx(y$,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(oe().b[84][1]++,void 0)),h=(oe().s[307]++,W.jsxs("div",{children:[W.jsx(CIe,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),W.jsx(gIe,{ref:m=>(oe().f[63]++,oe().s[308]++,this.shortcutEl=m),isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),W.jsx(P7e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),W.jsx(L7e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export")}),W.jsx(mIe,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open")}),W.jsx(J7e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")}),W.jsx(vIe,{isOpen:this.state.isOpen.survey,onOpenToggle:this.toggleModal.bind(this,"survey")})]}));return oe().s[309]++,W.jsx(g$,{toolbar:i,layerList:o,layerEditor:a,map:this.mapRenderer(),bottom:s,modals:h})}}const jTe=rR(document.querySelector("#app"));jTe.render(W.jsx(G6.Provider,{value:{className:"react-icons"},children:W.jsx(zTe,{})}));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-yKDiDp5s.js.map
